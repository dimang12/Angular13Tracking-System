var B1e=Object.defineProperty,V1e=Object.defineProperties,U1e=Object.getOwnPropertyDescriptors,MR=Object.getOwnPropertySymbols,aK=Object.prototype.hasOwnProperty,lK=Object.prototype.propertyIsEnumerable,sU=(st,Ie,G)=>Ie in st?B1e(st,Ie,{enumerable:!0,configurable:!0,writable:!0,value:G}):st[Ie]=G,Kr=(st,Ie)=>{for(var G in Ie||(Ie={}))aK.call(Ie,G)&&sU(st,G,Ie[G]);if(MR)for(var G of MR(Ie))lK.call(Ie,G)&&sU(st,G,Ie[G]);return st},lm=(st,Ie)=>V1e(st,U1e(Ie)),oU=(st,Ie)=>{var G={};for(var V in st)aK.call(st,V)&&Ie.indexOf(V)<0&&(G[V]=st[V]);if(null!=st&&MR)for(var V of MR(st))Ie.indexOf(V)<0&&lK.call(st,V)&&(G[V]=st[V]);return G},Ot=(st,Ie,G)=>(sU(st,"symbol"!=typeof Ie?Ie+"":Ie,G),G);(self.webpackChunkTrackingSystem13=self.webpackChunkTrackingSystem13||[]).push([[179],{2011:(st,Ie,G)=>{"use strict";G.d(Ie,{hO:()=>Ne,xv:()=>fe,Dh:()=>ue,GT:()=>Se,cc:()=>ye,on:()=>xe,pX:()=>Re});var V=G(5e3),o=G(9260),pe=G(5103);st=G.hmd(st);const De=["ngOnDestroy"],Re=(Me,je,Ke,et={})=>new Proxy(Me,{get:(_t,Qe)=>Ke.runOutsideAngular(()=>{var pt;if(Me[Qe])return(null===(pt=null==et?void 0:et.spy)||void 0===pt?void 0:pt.get)&&et.spy.get(Qe,Me[Qe]),Me[Qe];if(De.indexOf(Qe)>-1)return()=>{};const Lt=je.toPromise().then(ne=>{const oe=ne&&ne[Qe];return"function"==typeof oe?oe.bind(ne):oe&&oe.then?oe.then(Q=>Ke.run(()=>Q)):Ke.run(()=>oe)});return new Proxy(()=>{},{get:(ne,oe)=>Lt[oe],apply:(ne,oe,Q)=>Lt.then(ge=>{var Ae;const me=ge&&ge(...Q);return(null===(Ae=null==et?void 0:et.spy)||void 0===Ae?void 0:Ae.apply)&&et.spy.apply(Qe,Q,me),me})})})}),Se=(Me,je)=>{je.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(et=>{Object.defineProperty(Me.prototype,et,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,et))})})};class Oe{constructor(je){return je}}const ue=new V.OlP("angularfire2.app.options"),fe=new V.OlP("angularfire2.app.name");function xe(Me,je,Ke){const _t="object"==typeof Ke&&Ke||{};_t.name=_t.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const pt=o.Z.apps.filter(Lt=>Lt&&Lt.name===_t.name)[0]||je.runOutsideAngular(()=>o.Z.initializeApp(Me,_t));try{JSON.stringify(Me)!==JSON.stringify(pt.options)&&J("error",`${pt.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Lt){}return new Oe(pt)}const J=(Me,...je)=>{(0,V.X6Q)()&&"undefined"!=typeof console&&console[Me](...je)},te={provide:Oe,useFactory:xe,deps:[ue,V.R0b,[new V.FiY,fe]]};let Ne=(()=>{class Me{constructor(Ke){o.Z.registerVersion("angularfire",pe.q4.full,"core"),o.Z.registerVersion("angularfire",pe.q4.full,"app-compat"),o.Z.registerVersion("angular",V.q4F.full,Ke.toString())}static initializeApp(Ke,et){return{ngModule:Me,providers:[{provide:ue,useValue:Ke},{provide:fe,useValue:et}]}}}return Me.\u0275fac=function(Ke){return new(Ke||Me)(V.LFG(V.Lbi))},Me.\u0275mod=V.oAB({type:Me}),Me.\u0275inj=V.cJS({providers:[te]}),Me})();function ye(Me,je,Ke,et,_t){const[,Qe,pt]=globalThis.\u0275AngularfireInstanceCache.find(Lt=>Lt[0]===Me)||[];if(Qe)return function(Me,je){try{return Me.toString()===je.toString()}catch(Ke){return Me===je}}(_t,pt)||(Ge("error",`${je} was already initialized on the ${Ke} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:_t,was:pt})),Qe;{const Lt=et();return globalThis.\u0275AngularfireInstanceCache.push([Me,Lt,_t]),Lt}}const nt=!!st.hot,Ge=(Me,...je)=>{(0,V.X6Q)()&&"undefined"!=typeof console&&console[Me](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5103:(st,Ie,G)=>{"use strict";G.d(Ie,{q4:()=>Dp,iC:()=>Bh,fc:()=>Hw,HU:()=>jw,vb:()=>gb,JM:()=>fg});var V=G(5e3),o=G(259),pe=G(5861),De=G(3035);Error;function Tt(){try{return"object"==typeof indexedDB}catch(_){return!1}}function Dn(){return new Promise((_,p)=>{try{let w=!0;const T="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(T);S.onsuccess=()=>{S.result.close(),w||self.indexedDB.deleteDatabase(T),_(!0)},S.onupgradeneeded=()=>{w=!1},S.onerror=()=>{var F;p((null===(F=S.error)||void 0===F?void 0:F.message)||"")}}catch(w){p(w)}})}class mn extends Error{constructor(p,w,T){super(w),this.code=p,this.customData=T,this.name="FirebaseError",Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor(p,w,T){this.service=p,this.serviceName=w,this.errors=T}create(p,...w){const T=w[0]||{},S=`${this.service}/${p}`,F=this.errors[p],W=F?function(_,p){return _.replace(Hn,(w,T)=>{const S=p[T];return null!=S?String(S):`<${T}?>`})}(F,T):"Error";return new mn(S,`${this.serviceName}: ${W} (${S}).`,T)}}const Hn=/\{\$([^}]+)}/g;function Qr(_,p=1e3,w=2){const T=p*Math.pow(w,_),S=Math.round(.5*T*(Math.random()-.5)*2);return Math.min(144e5,T+S)}const Jr=[];var dn=(()=>{return(_=dn||(dn={}))[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT",dn;var _})();const kr={debug:dn.DEBUG,verbose:dn.VERBOSE,info:dn.INFO,warn:dn.WARN,error:dn.ERROR,silent:dn.SILENT},Aa=dn.INFO,wi={[dn.DEBUG]:"log",[dn.VERBOSE]:"log",[dn.INFO]:"info",[dn.WARN]:"warn",[dn.ERROR]:"error"},ao=(_,p,...w)=>{if(p<_.logLevel)return;const T=(new Date).toISOString(),S=wi[p];if(!S)throw new Error(`Attempted to log a message with an invalid logType (value: ${p})`);console[S](`[${T}]  ${_.name}:`,...w)};class Rs{constructor(p){this.name=p,this._logLevel=Aa,this._logHandler=ao,this._userLogHandler=null,Jr.push(this)}get logLevel(){return this._logLevel}set logLevel(p){if(!(p in dn))throw new TypeError(`Invalid value "${p}" assigned to \`logLevel\``);this._logLevel=p}setLogLevel(p){this._logLevel="string"==typeof p?kr[p]:p}get logHandler(){return this._logHandler}set logHandler(p){if("function"!=typeof p)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=p}get userLogHandler(){return this._userLogHandler}set userLogHandler(p){this._userLogHandler=p}debug(...p){this._userLogHandler&&this._userLogHandler(this,dn.DEBUG,...p),this._logHandler(this,dn.DEBUG,...p)}log(...p){this._userLogHandler&&this._userLogHandler(this,dn.VERBOSE,...p),this._logHandler(this,dn.VERBOSE,...p)}info(...p){this._userLogHandler&&this._userLogHandler(this,dn.INFO,...p),this._logHandler(this,dn.INFO,...p)}warn(...p){this._userLogHandler&&this._userLogHandler(this,dn.WARN,...p),this._logHandler(this,dn.WARN,...p)}error(...p){this._userLogHandler&&this._userLogHandler(this,dn.ERROR,...p),this._logHandler(this,dn.ERROR,...p)}}Error;class _i extends Error{constructor(p,w,T){super(w),this.code=p,this.customData=T,this.name="FirebaseError",Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gn.prototype.create)}}class Gn{constructor(p,w,T){this.service=p,this.serviceName=w,this.errors=T}create(p,...w){const T=w[0]||{},S=`${this.service}/${p}`,F=this.errors[p],W=F?function(_,p){return _.replace(Mo,(w,T)=>{const S=p[T];return null!=S?String(S):`<${T}?>`})}(F,T):"Error";return new _i(S,`${this.serviceName}: ${W} (${S}).`,T)}}const Mo=/\{\$([^}]+)}/g;class Hu{constructor(p,w,T){this.name=p,this.instanceFactory=w,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(p){return this.instantiationMode=p,this}setMultipleInstances(p){return this.multipleInstances=p,this}setServiceProps(p){return this.serviceProps=p,this}setInstanceCreatedCallback(p){return this.onInstanceCreated=p,this}}let Xl,Bd;const Z=new WeakMap,ce=new WeakMap,le=new WeakMap,de=new WeakMap,$e=new WeakMap;let Yn={get(_,p,w){if(_ instanceof IDBTransaction){if("done"===p)return ce.get(_);if("objectStoreNames"===p)return _.objectStoreNames||le.get(_);if("store"===p)return w.objectStoreNames[1]?void 0:w.objectStore(w.objectStoreNames[0])}return ts(_[p])},set:(_,p,w)=>(_[p]=w,!0),has:(_,p)=>_ instanceof IDBTransaction&&("done"===p||"store"===p)||p in _};function Cs(_){return"function"==typeof _?function(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Bd||(Bd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(_)?function(...p){return _.apply(qu(this),p),ts(Z.get(this))}:function(...p){return ts(_.apply(qu(this),p))}:function(p,...w){const T=_.call(qu(this),p,...w);return le.set(T,p.sort?p.sort():[p]),ts(T)}}(_):(_ instanceof IDBTransaction&&function(_){if(ce.has(_))return;const p=new Promise((w,T)=>{const S=()=>{_.removeEventListener("complete",F),_.removeEventListener("error",W),_.removeEventListener("abort",W)},F=()=>{w(),S()},W=()=>{T(_.error||new DOMException("AbortError","AbortError")),S()};_.addEventListener("complete",F),_.addEventListener("error",W),_.addEventListener("abort",W)});ce.set(_,p)}(_),((_,p)=>p.some(w=>_ instanceof w))(_,Xl||(Xl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(_,Yn):_)}function ts(_){if(_ instanceof IDBRequest)return function(_){const p=new Promise((w,T)=>{const S=()=>{_.removeEventListener("success",F),_.removeEventListener("error",W)},F=()=>{w(ts(_.result)),S()},W=()=>{T(_.error),S()};_.addEventListener("success",F),_.addEventListener("error",W)});return p.then(w=>{w instanceof IDBCursor&&Z.set(w,_)}).catch(()=>{}),$e.set(p,_),p}(_);if(de.has(_))return de.get(_);const p=Cs(_);return p!==_&&(de.set(_,p),$e.set(p,_)),p}const qu=_=>$e.get(_),Vd=["get","getKey","getAll","getAllKeys","count"],ns=["put","add","delete","clear"],Es=new Map;function cm(_,p){if(!(_ instanceof IDBDatabase)||p in _||"string"!=typeof p)return;if(Es.get(p))return Es.get(p);const w=p.replace(/FromIndex$/,""),T=p!==w,S=ns.includes(w);if(!(w in(T?IDBIndex:IDBObjectStore).prototype)||!S&&!Vd.includes(w))return;const F=function(){var W=(0,pe.Z)(function*(ve,...Fe){const Ze=this.transaction(ve,S?"readwrite":"readonly");let ht=Ze.store;return T&&(ht=ht.index(Fe.shift())),(yield Promise.all([ht[w](...Fe),S&&Ze.done]))[0]});return function(Fe){return W.apply(this,arguments)}}();return Es.set(p,F),F}var _;Yn=lm(Kr({},_=Yn),{get:(p,w,T)=>cm(p,w)||_.get(p,w,T),has:(p,w)=>!!cm(p,w)||_.has(p,w)});const ec="@firebase/installations",dm="w:0.6.4",hm="FIS_v2",da=new Gn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fm(_){return _ instanceof _i&&_.code.includes("request-failed")}function zu({projectId:_}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_}/installations`}function af(_){return{token:_.token,requestStatus:2,expiresIn:Br(_.expiresIn),creationTime:Date.now()}}function lf(_,p){return cf.apply(this,arguments)}function cf(){return cf=(0,pe.Z)(function*(_,p){const T=(yield p.json()).error;return da.create("request-failed",{requestName:_,serverCode:T.code,serverMessage:T.message,serverStatus:T.status})}),cf.apply(this,arguments)}function pm({apiKey:_}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_})}function jd(_,{refreshToken:p}){const w=pm(_);return w.append("Authorization",function(_){return`${hm} ${_}`}(p)),w}function mm(_){return hl.apply(this,arguments)}function hl(){return hl=(0,pe.Z)(function*(_){const p=yield _();return p.status>=500&&p.status<600?_():p}),hl.apply(this,arguments)}function Br(_){return Number(_.replace("s","000"))}function Zi(_,p){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,pe.Z)(function*({appConfig:_,heartbeatServiceProvider:p},{fid:w}){const T=zu(_),S=pm(_),F=p.getImmediate({optional:!0});if(F){const Ze=yield F.getHeartbeatsHeader();Ze&&S.append("x-firebase-client",Ze)}const ve={method:"POST",headers:S,body:JSON.stringify({fid:w,authVersion:hm,appId:_.appId,sdkVersion:dm})},Fe=yield mm(()=>fetch(T,ve));if(Fe.ok){const Ze=yield Fe.json();return{fid:Ze.fid||w,registrationStatus:2,refreshToken:Ze.refreshToken,authToken:af(Ze.authToken)}}throw yield lf("Create Installation",Fe)}),Ai.apply(this,arguments)}function Hd(_){return new Promise(p=>{setTimeout(p,_)})}const cw=/^[cdef][\w-]{21}$/;function Pv(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const w=function(_){return function(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_).substr(0,22)}(_);return cw.test(w)?w:""}catch(_){return""}}function fl(_){return`${_.appName}!${_.appId}`}const pl=new Map;function tc(_,p){const w=fl(_);Ta(w,p),function(_,p){const w=(!$u&&"BroadcastChannel"in self&&($u=new BroadcastChannel("[Firebase] FID Change"),$u.onmessage=_=>{Ta(_.data.key,_.data.fid)}),$u);w&&w.postMessage({key:_,fid:p}),0===pl.size&&$u&&($u.close(),$u=null)}(w,p)}function Ta(_,p){const w=pl.get(_);if(w)for(const T of w)T(p)}let $u=null;const Ro="firebase-installations-store";let u_=null;function qd(){return u_||(u_=function(_,p,{blocked:w,upgrade:T,blocking:S,terminated:F}={}){const W=indexedDB.open(_,p),ve=ts(W);return T&&W.addEventListener("upgradeneeded",Fe=>{T(ts(W.result),Fe.oldVersion,Fe.newVersion,ts(W.transaction))}),w&&W.addEventListener("blocked",()=>w()),ve.then(Fe=>{F&&Fe.addEventListener("close",()=>F()),S&&Fe.addEventListener("versionchange",()=>S())}).catch(()=>{}),ve}("firebase-installations-database",1,{upgrade:(_,p)=>{0===p&&_.createObjectStore(Ro)}})),u_}function nc(_,p){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,pe.Z)(function*(_,p){const w=fl(_),S=(yield qd()).transaction(Ro,"readwrite"),F=S.objectStore(Ro),W=yield F.get(w);return yield F.put(p,w),yield S.done,(!W||W.fid!==p.fid)&&tc(_,p.fid),p}),Rc.apply(this,arguments)}function Nc(_){return xs.apply(this,arguments)}function xs(){return xs=(0,pe.Z)(function*(_){const p=fl(_),T=(yield qd()).transaction(Ro,"readwrite");yield T.objectStore(Ro).delete(p),yield T.done}),xs.apply(this,arguments)}function Wi(_,p){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,pe.Z)(function*(_,p){const w=fl(_),S=(yield qd()).transaction(Ro,"readwrite"),F=S.objectStore(Ro),W=yield F.get(w),ve=p(W);return void 0===ve?yield F.delete(w):yield F.put(ve,w),yield S.done,ve&&(!W||W.fid!==ve.fid)&&tc(_,ve.fid),ve}),Kn.apply(this,arguments)}function Pc(_){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,pe.Z)(function*(_){let p;const w=yield Wi(_.appConfig,T=>{const S=Pt(T),F=Qn(_,S);return p=F.registrationPromise,F.installationEntry});return""===w.fid?{installationEntry:yield p}:{installationEntry:w,registrationPromise:p}}),Zu.apply(this,arguments)}function Pt(_){return wm(_||{fid:Pv(),registrationStatus:0})}function Qn(_,p){if(0===p.registrationStatus){if(!navigator.onLine)return{installationEntry:p,registrationPromise:Promise.reject(da.create("app-offline"))};const w={fid:p.fid,registrationStatus:1,registrationTime:Date.now()},T=function(_,p){return kn.apply(this,arguments)}(_,w);return{installationEntry:w,registrationPromise:T}}return 1===p.registrationStatus?{installationEntry:p,registrationPromise:bm(_)}:{installationEntry:p}}function kn(){return kn=(0,pe.Z)(function*(_,p){try{const w=yield Zi(_,p);return nc(_.appConfig,w)}catch(w){throw fm(w)&&409===w.customData.serverCode?yield Nc(_.appConfig):yield nc(_.appConfig,{fid:p.fid,registrationStatus:0}),w}}),kn.apply(this,arguments)}function bm(_){return zd.apply(this,arguments)}function zd(){return zd=(0,pe.Z)(function*(_){let p=yield Ia(_.appConfig);for(;1===p.registrationStatus;)yield Hd(100),p=yield Ia(_.appConfig);if(0===p.registrationStatus){const{installationEntry:w,registrationPromise:T}=yield Pc(_);return T||w}return p}),zd.apply(this,arguments)}function Ia(_){return Wi(_,p=>{if(!p)throw da.create("installation-not-found");return wm(p)})}function wm(_){return function(_){return 1===_.registrationStatus&&_.registrationTime+1e4<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}function hf(_,p){return No.apply(this,arguments)}function No(){return No=(0,pe.Z)(function*({appConfig:_,heartbeatServiceProvider:p},w){const T=Gd(_,w),S=jd(_,w),F=p.getImmediate({optional:!0});if(F){const Ze=yield F.getHeartbeatsHeader();Ze&&S.append("x-firebase-client",Ze)}const ve={method:"POST",headers:S,body:JSON.stringify({installation:{sdkVersion:dm,appId:_.appId}})},Fe=yield mm(()=>fetch(T,ve));if(Fe.ok)return af(yield Fe.json());throw yield lf("Generate Auth Token",Fe)}),No.apply(this,arguments)}function Gd(_,{fid:p}){return`${zu(_)}/${p}/authTokens:generate`}function Ma(_){return ff.apply(this,arguments)}function ff(){return ff=(0,pe.Z)(function*(_,p=!1){let w;const T=yield Wi(_.appConfig,F=>{if(!ic(F))throw da.create("not-registered");const W=F.authToken;if(!p&&Vs(W))return F;if(1===W.requestStatus)return w=pf(_,p),F;{if(!navigator.onLine)throw da.create("app-offline");const ve=ha(F);return w=mf(_,ve),ve}});return w?yield w:T.authToken}),ff.apply(this,arguments)}function pf(_,p){return mo.apply(this,arguments)}function mo(){return mo=(0,pe.Z)(function*(_,p){let w=yield ka(_.appConfig);for(;1===w.authToken.requestStatus;)yield Hd(100),w=yield ka(_.appConfig);const T=w.authToken;return 0===T.requestStatus?Ma(_,p):T}),mo.apply(this,arguments)}function ka(_){return Wi(_,p=>{if(!ic(p))throw da.create("not-registered");return function(_){return 1===_.requestStatus&&_.requestTime+1e4<Date.now()}(p.authToken)?Object.assign(Object.assign({},p),{authToken:{requestStatus:0}}):p})}function mf(_,p){return $d.apply(this,arguments)}function $d(){return $d=(0,pe.Z)(function*(_,p){try{const w=yield hf(_,p),T=Object.assign(Object.assign({},p),{authToken:w});return yield nc(_.appConfig,T),w}catch(w){if(!fm(w)||401!==w.customData.serverCode&&404!==w.customData.serverCode){const T=Object.assign(Object.assign({},p),{authToken:{requestStatus:0}});yield nc(_.appConfig,T)}else yield Nc(_.appConfig);throw w}}),$d.apply(this,arguments)}function ic(_){return void 0!==_&&2===_.registrationStatus}function Vs(_){return 2===_.requestStatus&&!function(_){const p=Date.now();return p<_.creationTime||_.creationTime+_.expiresIn<p+36e5}(_)}function ha(_){const p={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:p})}function ml(){return ml=(0,pe.Z)(function*(_){const p=_,{installationEntry:w,registrationPromise:T}=yield Pc(p);return T?T.catch(console.error):Ma(p).catch(console.error),w.fid}),ml.apply(this,arguments)}function Fc(){return Fc=(0,pe.Z)(function*(_,p=!1){const w=_;return yield Zd(w),(yield Ma(w,p)).token}),Fc.apply(this,arguments)}function Zd(_){return go.apply(this,arguments)}function go(){return go=(0,pe.Z)(function*(_){const{registrationPromise:p}=yield Pc(_);p&&(yield p)}),go.apply(this,arguments)}function Lc(_){return da.create("missing-app-config-values",{valueName:_})}const Bc="installations";(0,De._registerComponent)(new Hu(Bc,_=>{const p=_.getProvider("app").getImmediate(),w=function(_){if(!_||!_.options)throw Lc("App Configuration");if(!_.name)throw Lc("App Name");const p=["projectId","apiKey","appId"];for(const w of p)if(!_.options[w])throw Lc(w);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}(p);return{app:p,appConfig:w,heartbeatServiceProvider:(0,De._getProvider)(p,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,De._registerComponent)(new Hu("installations-internal",_=>{const p=_.getProvider("app").getImmediate(),w=(0,De._getProvider)(p,Bc).getImmediate();return{getId:()=>function(_){return ml.apply(this,arguments)}(w),getToken:S=>function(_){return Fc.apply(this,arguments)}(w,S)}},"PRIVATE")),(0,De.registerVersion)(ec,"0.6.4"),(0,De.registerVersion)(ec,"0.6.4","esm2017");const Ra="@firebase/remote-config",or=new on("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Em{constructor(p,w,T,S){this.client=p,this.storage=w,this.storageCache=T,this.logger=S}isCachedDataFresh(p,w){if(!w)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const T=Date.now()-w,S=T<=p;return this.logger.debug(`Config fetch cache check. Cache age millis: ${T}. Cache max age millis (minimumFetchIntervalMillis setting): ${p}. Is cache hit: ${S}.`),S}fetch(p){var w=this;return(0,pe.Z)(function*(){const[T,S]=yield Promise.all([w.storage.getLastSuccessfulFetchTimestampMillis(),w.storage.getLastSuccessfulFetchResponse()]);if(S&&w.isCachedDataFresh(p.cacheMaxAgeMillis,T))return S;p.eTag=S&&S.eTag;const F=yield w.client.fetch(p),W=[w.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===F.status&&W.push(w.storage.setLastSuccessfulFetchResponse(F)),yield Promise.all(W),F})()}}function Lv(_=navigator){return _.languages&&_.languages[0]||_.language}class xm{constructor(p,w,T,S,F,W){this.firebaseInstallations=p,this.sdkVersion=w,this.namespace=T,this.projectId=S,this.apiKey=F,this.appId=W}fetch(p){var w=this;return(0,pe.Z)(function*(){const[T,S]=yield Promise.all([w.firebaseInstallations.getId(),w.firebaseInstallations.getToken()]),W=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${w.projectId}/namespaces/${w.namespace}:fetch?key=${w.apiKey}`,ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":p.eTag||"*"},Fe={sdk_version:w.sdkVersion,app_instance_id:T,app_instance_id_token:S,app_id:w.appId,language_code:Lv()},Ze={method:"POST",headers:ve,body:JSON.stringify(Fe)},ht=fetch(W,Ze),ke=new Promise((Hs,Au)=>{p.signal.addEventListener(()=>{const mg=new Error("The operation was aborted.");mg.name="AbortError",Au(mg)})});let be;try{yield Promise.race([ht,ke]),be=yield ht}catch(Hs){let Au="fetch-client-network";throw"AbortError"===(null==Hs?void 0:Hs.name)&&(Au="fetch-timeout"),or.create(Au,{originalErrorMessage:null==Hs?void 0:Hs.message})}let Yt=be.status;const os=be.headers.get("ETag")||void 0;let gd,vc;if(200===be.status){let Hs;try{Hs=yield be.json()}catch(Au){throw or.create("fetch-client-parse",{originalErrorMessage:null==Au?void 0:Au.message})}gd=Hs.entries,vc=Hs.state}if("INSTANCE_STATE_UNSPECIFIED"===vc?Yt=500:"NO_CHANGE"===vc?Yt=304:("NO_TEMPLATE"===vc||"EMPTY_CONFIG"===vc)&&(gd={}),304!==Yt&&200!==Yt)throw or.create("fetch-status",{httpStatus:Yt});return{status:Yt,eTag:os,config:gd}})()}}class xf{constructor(p,w){this.client=p,this.storage=w}fetch(p){var w=this;return(0,pe.Z)(function*(){const T=(yield w.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return w.attemptFetch(p,T)})()}attemptFetch(p,{throttleEndTimeMillis:w,backoffCount:T}){var S=this;return(0,pe.Z)(function*(){yield function(_,p){return new Promise((w,T)=>{const S=Math.max(p-Date.now(),0),F=setTimeout(w,S);_.addEventListener(()=>{clearTimeout(F),T(or.create("fetch-throttle",{throttleEndTimeMillis:p}))})})}(p.signal,w);try{const F=yield S.client.fetch(p);return yield S.storage.deleteThrottleMetadata(),F}catch(F){if(!function(_){if(!(_ instanceof mn&&_.customData))return!1;const p=Number(_.customData.httpStatus);return 429===p||500===p||503===p||504===p}(F))throw F;const W={throttleEndTimeMillis:Date.now()+Qr(T),backoffCount:T+1};return yield S.storage.setThrottleMetadata(W),S.attemptFetch(p,W)}})()}}class vl{constructor(p,w,T,S,F){this.app=p,this._client=w,this._storageCache=T,this._storage=S,this._logger=F,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hc(_,p){const w=_.target.error||void 0;return or.create(p,{originalErrorMessage:w&&(null==w?void 0:w.message)})}const Pa="app_namespace_store";class Af{constructor(p,w,T,S=function(){return new Promise((_,p)=>{try{const w=indexedDB.open("firebase_remote_config",1);w.onerror=T=>{p(Hc(T,"storage-open"))},w.onsuccess=T=>{_(T.target.result)},w.onupgradeneeded=T=>{0===T.oldVersion&&T.target.result.createObjectStore(Pa,{keyPath:"compositeKey"})}}catch(w){p(or.create("storage-open",{originalErrorMessage:null==w?void 0:w.message}))}})}()){this.appId=p,this.appName=w,this.namespace=T,this.openDbPromise=S}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(p){return this.set("last_fetch_status",p)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(p){return this.set("last_successful_fetch_timestamp_millis",p)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(p){return this.set("last_successful_fetch_response",p)}getActiveConfig(){return this.get("active_config")}setActiveConfig(p){return this.set("active_config",p)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(p){return this.set("active_config_etag",p)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(p){return this.set("throttle_metadata",p)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(p){var w=this;return(0,pe.Z)(function*(){const T=yield w.openDbPromise;return new Promise((S,F)=>{const ve=T.transaction([Pa],"readonly").objectStore(Pa),Fe=w.createCompositeKey(p);try{const Ze=ve.get(Fe);Ze.onerror=ht=>{F(Hc(ht,"storage-get"))},Ze.onsuccess=ht=>{const ke=ht.target.result;S(ke?ke.value:void 0)}}catch(Ze){F(or.create("storage-get",{originalErrorMessage:null==Ze?void 0:Ze.message}))}})})()}set(p,w){var T=this;return(0,pe.Z)(function*(){const S=yield T.openDbPromise;return new Promise((F,W)=>{const Fe=S.transaction([Pa],"readwrite").objectStore(Pa),Ze=T.createCompositeKey(p);try{const ht=Fe.put({compositeKey:Ze,value:w});ht.onerror=ke=>{W(Hc(ke,"storage-set"))},ht.onsuccess=()=>{F()}}catch(ht){W(or.create("storage-set",{originalErrorMessage:null==ht?void 0:ht.message}))}})})()}delete(p){var w=this;return(0,pe.Z)(function*(){const T=yield w.openDbPromise;return new Promise((S,F)=>{const ve=T.transaction([Pa],"readwrite").objectStore(Pa),Fe=w.createCompositeKey(p);try{const Ze=ve.delete(Fe);Ze.onerror=ht=>{F(Hc(ht,"storage-delete"))},Ze.onsuccess=()=>{S()}}catch(Ze){F(or.create("storage-delete",{originalErrorMessage:null==Ze?void 0:Ze.message}))}})})()}createCompositeKey(p){return[this.appId,this.appName,this.namespace,p].join()}}class Df{constructor(p){this.storage=p}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var p=this;return(0,pe.Z)(function*(){const w=p.storage.getLastFetchStatus(),T=p.storage.getLastSuccessfulFetchTimestampMillis(),S=p.storage.getActiveConfig(),F=yield w;F&&(p.lastFetchStatus=F);const W=yield T;W&&(p.lastSuccessfulFetchTimestampMillis=W);const ve=yield S;ve&&(p.activeConfig=ve)})()}setLastFetchStatus(p){return this.lastFetchStatus=p,this.storage.setLastFetchStatus(p)}setLastSuccessfulFetchTimestampMillis(p){return this.lastSuccessfulFetchTimestampMillis=p,this.storage.setLastSuccessfulFetchTimestampMillis(p)}setActiveConfig(p){return this.activeConfig=p,this.storage.setActiveConfig(p)}}function cr(){return bl.apply(this,arguments)}function bl(){return(bl=(0,pe.Z)(function*(){if(!Tt())return!1;try{return yield Dn()}catch(_){return!1}})).apply(this,arguments)}(0,De._registerComponent)(new class{constructor(p,w,T){this.name=p,this.instanceFactory=w,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(p){return this.instantiationMode=p,this}setMultipleInstances(p){return this.multipleInstances=p,this}setServiceProps(p){return this.serviceProps=p,this}setInstanceCreatedCallback(p){return this.onInstanceCreated=p,this}}("remote-config",function(p,{instanceIdentifier:w}){const T=p.getProvider("app").getImmediate(),S=p.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw or.create("registration-window");if(!Tt())throw or.create("indexed-db-unavailable");const{projectId:F,apiKey:W,appId:ve}=T.options;if(!F)throw or.create("registration-project-id");if(!W)throw or.create("registration-api-key");if(!ve)throw or.create("registration-app-id");const Fe=new Af(ve,T.name,w=w||"firebase"),Ze=new Df(Fe),ht=new Rs(Ra);ht.logLevel=dn.ERROR;const ke=new xm(S,De.SDK_VERSION,w,F,W,ve),be=new xf(ke,Fe),Yt=new Em(be,Fe,Ze,ht),os=new vl(T,Yt,Ze,Fe,ht);return function(_){const p=function(_){return _&&_._delegate?_._delegate:_}(_);p._initializePromise||(p._initializePromise=p._storageCache.loadFromStorage().then(()=>{p._isInitializationComplete=!0}))}(os),os},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(Ra,"0.4.4"),(0,De.registerVersion)(Ra,"0.4.4","esm2017");Error;function m_(){try{return"object"==typeof indexedDB}catch(_){return!1}}function kf(){return new Promise((_,p)=>{try{let w=!0;const T="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(T);S.onsuccess=()=>{S.result.close(),w||self.indexedDB.deleteDatabase(T),_(!0)},S.onupgradeneeded=()=>{w=!1},S.onerror=()=>{var F;p((null===(F=S.error)||void 0===F?void 0:F.message)||"")}}catch(w){p(w)}})}function th(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class is extends Error{constructor(p,w,T){super(w),this.code=p,this.customData=T,this.name="FirebaseError",Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nh.prototype.create)}}class nh{constructor(p,w,T){this.service=p,this.serviceName=w,this.errors=T}create(p,...w){const T=w[0]||{},S=`${this.service}/${p}`,F=this.errors[p],W=F?function(_,p){return _.replace(Im,(w,T)=>{const S=p[T];return null!=S?String(S):`<${T}?>`})}(F,T):"Error";return new is(S,`${this.serviceName}: ${W} (${S}).`,T)}}const Im=/\{\$([^}]+)}/g;class Lf{constructor(p,w,T){this.name=p,this.instanceFactory=w,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(p){return this.instantiationMode=p,this}setMultipleInstances(p){return this.multipleInstances=p,this}setServiceProps(p){return this.serviceProps=p,this}setInstanceCreatedCallback(p){return this.onInstanceCreated=p,this}}let Nm,Yv;const E_=new WeakMap,Fm=new WeakMap,Lm=new WeakMap,Xc=new WeakMap,vr=new WeakMap;let ch={get(_,p,w){if(_ instanceof IDBTransaction){if("done"===p)return Fm.get(_);if("objectStoreNames"===p)return _.objectStoreNames||Lm.get(_);if("store"===p)return w.objectStoreNames[1]?void 0:w.objectStore(w.objectStoreNames[0])}return xl(_[p])},set:(_,p,w)=>(_[p]=w,!0),has:(_,p)=>_ instanceof IDBTransaction&&("done"===p||"store"===p)||p in _};function uh(_){return"function"==typeof _?function(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(_)?function(...p){return _.apply(dh(this),p),xl(E_.get(this))}:function(...p){return xl(_.apply(dh(this),p))}:function(p,...w){const T=_.call(dh(this),p,...w);return Lm.set(T,p.sort?p.sort():[p]),xl(T)}}(_):(_ instanceof IDBTransaction&&function(_){if(Fm.has(_))return;const p=new Promise((w,T)=>{const S=()=>{_.removeEventListener("complete",F),_.removeEventListener("error",W),_.removeEventListener("abort",W)},F=()=>{w(),S()},W=()=>{T(_.error||new DOMException("AbortError","AbortError")),S()};_.addEventListener("complete",F),_.addEventListener("error",W),_.addEventListener("abort",W)});Fm.set(_,p)}(_),((_,p)=>p.some(w=>_ instanceof w))(_,Nm||(Nm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(_,ch):_)}function xl(_){if(_ instanceof IDBRequest)return function(_){const p=new Promise((w,T)=>{const S=()=>{_.removeEventListener("success",F),_.removeEventListener("error",W)},F=()=>{w(xl(_.result)),S()},W=()=>{T(_.error),S()};_.addEventListener("success",F),_.addEventListener("error",W)});return p.then(w=>{w instanceof IDBCursor&&E_.set(w,_)}).catch(()=>{}),vr.set(p,_),p}(_);if(Xc.has(_))return Xc.get(_);const p=uh(_);return p!==_&&(Xc.set(_,p),vr.set(p,_)),p}const dh=_=>vr.get(_);function tu(_,p,{blocked:w,upgrade:T,blocking:S,terminated:F}={}){const W=indexedDB.open(_,p),ve=xl(W);return T&&W.addEventListener("upgradeneeded",Fe=>{T(xl(W.result),Fe.oldVersion,Fe.newVersion,xl(W.transaction))}),w&&W.addEventListener("blocked",()=>w()),ve.then(Fe=>{F&&Fe.addEventListener("close",()=>F()),S&&Fe.addEventListener("versionchange",()=>S())}).catch(()=>{}),ve}function Al(_,{blocked:p}={}){const w=indexedDB.deleteDatabase(_);return p&&w.addEventListener("blocked",()=>p()),xl(w).then(()=>{})}const Vf=["get","getKey","getAll","getAllKeys","count"],Qv=["put","add","delete","clear"],ur=new Map;function Bm(_,p){if(!(_ instanceof IDBDatabase)||p in _||"string"!=typeof p)return;if(ur.get(p))return ur.get(p);const w=p.replace(/FromIndex$/,""),T=p!==w,S=Qv.includes(w);if(!(w in(T?IDBIndex:IDBObjectStore).prototype)||!S&&!Vf.includes(w))return;const F=function(){var W=(0,pe.Z)(function*(ve,...Fe){const Ze=this.transaction(ve,S?"readwrite":"readonly");let ht=Ze.store;return T&&(ht=ht.index(Fe.shift())),(yield Promise.all([ht[w](...Fe),S&&Ze.done]))[0]});return function(Fe){return W.apply(this,arguments)}}();return ur.set(p,F),F}ch=(_=>lm(Kr({},_),{get:(p,w,T)=>Bm(p,w)||_.get(p,w,T),has:(p,w)=>!!Bm(p,w)||_.has(p,w)}))(ch);const Uf="/firebase-messaging-sw.js",x_="/firebase-cloud-messaging-push-scope",jf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$n="google.c.a.c_id",sd="google.c.a.c_l",Ct="google.c.a.ts",kt="google.c.a.e";var Wn=(()=>(function(_){_.PUSH_RECEIVED="push-received",_.NOTIFICATION_CLICKED="notification-clicked"}(Wn||(Wn={})),Wn))();function Dl(_){const p=new Uint8Array(_);return btoa(String.fromCharCode(...p)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hh(_){const w=(_+"=".repeat((4-_.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),T=atob(w),S=new Uint8Array(T.length);for(let F=0;F<T.length;++F)S[F]=T.charCodeAt(F);return S}const Vm="fcm_token_details_db",fh="fcm_token_object_Store";function Hf(_){return La.apply(this,arguments)}function La(){return La=(0,pe.Z)(function*(_){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(F=>F.name).includes(Vm))return null;let p=null;return(yield tu(Vm,5,{upgrade:(T=(0,pe.Z)(function*(S,F,W,ve){var Fe;if(F<2||!S.objectStoreNames.contains(fh))return;const Ze=ve.objectStore(fh),ht=yield Ze.index("fcmSenderId").get(_);if(yield Ze.clear(),ht)if(2===F){const ke=ht;if(!ke.auth||!ke.p256dh||!ke.endpoint)return;p={token:ke.fcmToken,createTime:null!==(Fe=ke.createTime)&&void 0!==Fe?Fe:Date.now(),subscriptionOptions:{auth:ke.auth,p256dh:ke.p256dh,endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:"string"==typeof ke.vapidKey?ke.vapidKey:Dl(ke.vapidKey)}}}else if(3===F){const ke=ht;p={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:Dl(ke.auth),p256dh:Dl(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:Dl(ke.vapidKey)}}}else if(4===F){const ke=ht;p={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:Dl(ke.auth),p256dh:Dl(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:Dl(ke.vapidKey)}}}}),function(F,W,ve,Fe){return T.apply(this,arguments)})})).close(),yield Al(Vm),yield Al("fcm_vapid_details_db"),yield Al("undefined"),It(p)?p:null;var T}),La.apply(this,arguments)}function It(_){if(!_||!_.subscriptionOptions)return!1;const{subscriptionOptions:p}=_;return"number"==typeof _.createTime&&_.createTime>0&&"string"==typeof _.token&&_.token.length>0&&"string"==typeof p.auth&&p.auth.length>0&&"string"==typeof p.p256dh&&p.p256dh.length>0&&"string"==typeof p.endpoint&&p.endpoint.length>0&&"string"==typeof p.swScope&&p.swScope.length>0&&"string"==typeof p.vapidKey&&p.vapidKey.length>0}const ma="firebase-messaging-store";let qf=null;function Di(){return qf||(qf=tu("firebase-messaging-database",1,{upgrade:(_,p)=>{0===p&&_.createObjectStore(ma)}})),qf}function zf(_){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,pe.Z)(function*(_){const p=iu(_),T=yield(yield Di()).transaction(ma).objectStore(ma).get(p);if(T)return T;{const S=yield Hf(_.appConfig.senderId);if(S)return yield Bo(_,S),S}}),Lo.apply(this,arguments)}function Bo(_,p){return ph.apply(this,arguments)}function ph(){return ph=(0,pe.Z)(function*(_,p){const w=iu(_),S=(yield Di()).transaction(ma,"readwrite");return yield S.objectStore(ma).put(p,w),yield S.done,p}),ph.apply(this,arguments)}function xw(_){return nu.apply(this,arguments)}function nu(){return nu=(0,pe.Z)(function*(_){const p=iu(_),T=(yield Di()).transaction(ma,"readwrite");yield T.objectStore(ma).delete(p),yield T.done}),nu.apply(this,arguments)}function iu({appConfig:_}){return _.appId}const Si=new nh("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bo(_,p){return uc.apply(this,arguments)}function uc(){return uc=(0,pe.Z)(function*(_,p){const w=yield yi(_),T=Bi(p),S={method:"POST",headers:w,body:JSON.stringify(T)};let F;try{F=yield(yield fetch(ad(_.appConfig),S)).json()}catch(W){throw Si.create("token-subscribe-failed",{errorInfo:null==W?void 0:W.toString()})}if(F.error)throw Si.create("token-subscribe-failed",{errorInfo:F.error.message});if(!F.token)throw Si.create("token-subscribe-no-token");return F.token}),uc.apply(this,arguments)}function Sl(_,p){return On.apply(this,arguments)}function On(){return On=(0,pe.Z)(function*(_,p){const w=yield yi(_),T=Bi(p.subscriptionOptions),S={method:"PATCH",headers:w,body:JSON.stringify(T)};let F;try{F=yield(yield fetch(`${ad(_.appConfig)}/${p.token}`,S)).json()}catch(W){throw Si.create("token-update-failed",{errorInfo:null==W?void 0:W.toString()})}if(F.error)throw Si.create("token-update-failed",{errorInfo:F.error.message});if(!F.token)throw Si.create("token-update-no-token");return F.token}),On.apply(this,arguments)}function Xi(_,p){return od.apply(this,arguments)}function od(){return od=(0,pe.Z)(function*(_,p){const T={method:"DELETE",headers:yield yi(_)};try{const F=yield(yield fetch(`${ad(_.appConfig)}/${p}`,T)).json();if(F.error)throw Si.create("token-unsubscribe-failed",{errorInfo:F.error.message})}catch(S){throw Si.create("token-unsubscribe-failed",{errorInfo:null==S?void 0:S.toString()})}}),od.apply(this,arguments)}function ad({projectId:_}){return`https://fcmregistrations.googleapis.com/v1/projects/${_}/registrations`}function yi(_){return hi.apply(this,arguments)}function hi(){return hi=(0,pe.Z)(function*({appConfig:_,installations:p}){const w=yield p.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_.apiKey,"x-goog-firebase-installations-auth":`FIS ${w}`})}),hi.apply(this,arguments)}function Bi({p256dh:_,auth:p,endpoint:w,vapidKey:T}){const S={web:{endpoint:w,auth:p,p256dh:_}};return T!==jf&&(S.web.applicationPubKey=T),S}const dc=6048e5;function Tl(_){return ii.apply(this,arguments)}function ii(){return ii=(0,pe.Z)(function*(_){const p=yield $f(_.swRegistration,_.vapidKey),w={vapidKey:_.vapidKey,swScope:_.swRegistration.scope,endpoint:p.endpoint,auth:Dl(p.getKey("auth")),p256dh:Dl(p.getKey("p256dh"))},T=yield zf(_.firebaseDependencies);if(T){if(D_(T.subscriptionOptions,w))return Date.now()>=T.createTime+dc?Vo(_,{token:T.token,createTime:Date.now(),subscriptionOptions:w}):T.token;try{yield Xi(_.firebaseDependencies,T.token)}catch(S){console.warn(S)}return mh(_.firebaseDependencies,w)}return mh(_.firebaseDependencies,w)}),ii.apply(this,arguments)}function Va(_){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,pe.Z)(function*(_){const p=yield zf(_.firebaseDependencies);p&&(yield Xi(_.firebaseDependencies,p.token),yield xw(_.firebaseDependencies));const w=yield _.swRegistration.pushManager.getSubscription();return!w||w.unsubscribe()}),Ii.apply(this,arguments)}function Vo(_,p){return hc.apply(this,arguments)}function hc(){return hc=(0,pe.Z)(function*(_,p){try{const w=yield Sl(_.firebaseDependencies,p),T=Object.assign(Object.assign({},p),{token:w,createTime:Date.now()});return yield Bo(_.firebaseDependencies,T),w}catch(w){throw yield Va(_),w}}),hc.apply(this,arguments)}function mh(_,p){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,pe.Z)(function*(_,p){const T={token:yield bo(_,p),createTime:Date.now(),subscriptionOptions:p};return yield Bo(_,T),T.token}),Gf.apply(this,arguments)}function $f(_,p){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,pe.Z)(function*(_,p){return(yield _.pushManager.getSubscription())||_.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hh(p)})}),Zf.apply(this,arguments)}function D_(_,p){return p.vapidKey===_.vapidKey&&p.endpoint===_.endpoint&&p.auth===_.auth&&p.p256dh===_.p256dh}function Ua(_){const p={from:_.from,collapseKey:_.collapse_key,messageId:_.fcmMessageId};return function(_,p){if(!p.notification)return;_.notification={};const w=p.notification.title;w&&(_.notification.title=w);const T=p.notification.body;T&&(_.notification.body=T);const S=p.notification.image;S&&(_.notification.image=S);const F=p.notification.icon;F&&(_.notification.icon=F)}(p,_),function(_,p){!p.data||(_.data=p.data)}(p,_),function(_,p){var w,T,S,F,W;if(!p.fcmOptions&&!(null===(w=p.notification)||void 0===w?void 0:w.click_action))return;_.fcmOptions={};const ve=null!==(S=null===(T=p.fcmOptions)||void 0===T?void 0:T.link)&&void 0!==S?S:null===(F=p.notification)||void 0===F?void 0:F.click_action;ve&&(_.fcmOptions.link=ve);const Fe=null===(W=p.fcmOptions)||void 0===W?void 0:W.analytics_label;Fe&&(_.fcmOptions.analyticsLabel=Fe)}(p,_),p}function jm(_){return"object"==typeof _&&!!_&&$n in _}function ru(_,p){const w=[];for(let T=0;T<_.length;T++)w.push(_.charAt(T)),T<p.length&&w.push(p.charAt(T));return w.join("")}function Ml(_){return Si.create("missing-app-config-values",{valueName:_})}ru("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ru("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class S_{constructor(p,w,T){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const S=function(_){if(!_||!_.options)throw Ml("App Configuration Object");if(!_.name)throw Ml("App Name");const p=["projectId","apiKey","appId","messagingSenderId"],{options:w}=_;for(const T of p)if(!w[T])throw Ml(T);return{appName:_.name,projectId:w.projectId,apiKey:w.apiKey,appId:w.appId,senderId:w.messagingSenderId}}(p);this.firebaseDependencies={app:p,appConfig:S,installations:w,analyticsProvider:T}}_delete(){return Promise.resolve()}}function Hm(_){return qm.apply(this,arguments)}function qm(){return qm=(0,pe.Z)(function*(_){try{_.swRegistration=yield navigator.serviceWorker.register(Uf,{scope:x_}),_.swRegistration.update().catch(()=>{})}catch(p){throw Si.create("failed-service-worker-registration",{browserErrorMessage:null==p?void 0:p.message})}}),qm.apply(this,arguments)}function Wf(_,p){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,pe.Z)(function*(_,p){if(!p&&!_.swRegistration&&(yield Hm(_)),p||!_.swRegistration){if(!(p instanceof ServiceWorkerRegistration))throw Si.create("invalid-sw-registration");_.swRegistration=p}}),Yf.apply(this,arguments)}function zm(_,p){return _h.apply(this,arguments)}function _h(){return _h=(0,pe.Z)(function*(_,p){p?_.vapidKey=p:_.vapidKey||(_.vapidKey=jf)}),_h.apply(this,arguments)}function yh(){return yh=(0,pe.Z)(function*(_,p){if(!navigator)throw Si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Si.create("permission-blocked");return yield zm(_,null==p?void 0:p.vapidKey),yield Wf(_,null==p?void 0:p.serviceWorkerRegistration),Tl(_)}),yh.apply(this,arguments)}function T_(_,p,w){return fc.apply(this,arguments)}function fc(){return fc=(0,pe.Z)(function*(_,p,w){const T=su(p);(yield _.firebaseDependencies.analyticsProvider.get()).logEvent(T,{message_id:w[$n],message_name:w[sd],message_time:w[Ct],message_device_time:Math.floor(Date.now()/1e3)})}),fc.apply(this,arguments)}function su(_){switch(_){case Wn.NOTIFICATION_CLICKED:return"notification_open";case Wn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ou(){return ou=(0,pe.Z)(function*(_,p){const w=p.data;if(!w.isFirebaseMessaging)return;_.onMessageHandler&&w.messageType===Wn.PUSH_RECEIVED&&("function"==typeof _.onMessageHandler?_.onMessageHandler(Ua(w)):_.onMessageHandler.next(Ua(w)));const T=w.data;jm(T)&&"1"===T[kt]&&(yield T_(_,w.messageType,T))}),ou.apply(this,arguments)}const pc="@firebase/messaging";function Xv(){return eo.apply(this,arguments)}function eo(){return(eo=(0,pe.Z)(function*(){try{yield kf()}catch(_){return!1}return"undefined"!=typeof window&&m_()&&th()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,De._registerComponent)(new Lf("messaging",_=>{const p=new S_(_.getProvider("app").getImmediate(),_.getProvider("installations-internal").getImmediate(),_.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",w=>function(_,p){return ou.apply(this,arguments)}(p,w)),p},"PUBLIC")),(0,De._registerComponent)(new Lf("messaging-internal",_=>{const p=_.getProvider("messaging").getImmediate();return{getToken:T=>function(_,p){return yh.apply(this,arguments)}(p,T)}},"PRIVATE")),(0,De.registerVersion)(pc,"0.12.4"),(0,De.registerVersion)(pc,"0.12.4","esm2017");const Jf=[];var Nn=(()=>(function(_){_[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT"}(Nn||(Nn={})),Nn))();const M_={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},k_=Nn.INFO,lu={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},O_=(_,p,...w)=>{if(p<_.logLevel)return;const T=(new Date).toISOString(),S=lu[p];if(!S)throw new Error(`Attempted to log a message with an invalid logType (value: ${p})`);console[S](`[${T}]  ${_.name}:`,...w)};Error;function rp(){const _="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _&&void 0!==_.id}function Eh(){try{return"object"==typeof indexedDB}catch(_){return!1}}function Km(){return new Promise((_,p)=>{try{let w=!0;const T="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(T);S.onsuccess=()=>{S.result.close(),w||self.indexedDB.deleteDatabase(T),_(!0)},S.onupgradeneeded=()=>{w=!1},S.onerror=()=>{var F;p((null===(F=S.error)||void 0===F?void 0:F.message)||"")}}catch(w){p(w)}})}function xh(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ah extends Error{constructor(p,w,T){super(w),this.code=p,this.customData=T,this.name="FirebaseError",Object.setPrototypeOf(this,Ah.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V_.prototype.create)}}class V_{constructor(p,w,T){this.service=p,this.serviceName=w,this.errors=T}create(p,...w){const T=w[0]||{},S=`${this.service}/${p}`,F=this.errors[p],W=F?function(_,p){return _.replace(j_,(w,T)=>{const S=p[T];return null!=S?String(S):`<${T}?>`})}(F,T):"Error";return new Ah(S,`${this.serviceName}: ${W} (${S}).`,T)}}const j_=/\{\$([^}]+)}/g;function Nw(_,p=1e3,w=2){const T=p*Math.pow(w,_),S=Math.round(.5*T*(Math.random()-.5)*2);return Math.min(144e5,T+S)}class tg{constructor(p,w,T){this.name=p,this.instanceFactory=w,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(p){return this.instantiationMode=p,this}setMultipleInstances(p){return this.multipleInstances=p,this}setServiceProps(p){return this.serviceProps=p,this}setInstanceCreatedCallback(p){return this.onInstanceCreated=p,this}}const fp="analytics",Fw="firebase_id",Lw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_u="https://www.googletagmanager.com/gtag/js",jr=new class{constructor(p){this.name=p,this._logLevel=k_,this._logHandler=O_,this._userLogHandler=null,Jf.push(this)}get logLevel(){return this._logLevel}set logLevel(p){if(!(p in Nn))throw new TypeError(`Invalid value "${p}" assigned to \`logLevel\``);this._logLevel=p}setLogLevel(p){this._logLevel="string"==typeof p?M_[p]:p}get logHandler(){return this._logHandler}set logHandler(p){if("function"!=typeof p)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=p}get userLogHandler(){return this._userLogHandler}set userLogHandler(p){this._userLogHandler=p}debug(...p){this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...p),this._logHandler(this,Nn.DEBUG,...p)}log(...p){this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...p),this._logHandler(this,Nn.VERBOSE,...p)}info(...p){this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...p),this._logHandler(this,Nn.INFO,...p)}warn(...p){this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...p),this._logHandler(this,Nn.WARN,...p)}error(...p){this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...p),this._logHandler(this,Nn.ERROR,...p)}}("@firebase/analytics"),ss=new V_("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cb(_){if(!_.startsWith(_u)){const p=ss.create("invalid-gtag-resource",{gtagURL:_});return jr.warn(p.message),""}return _}function ng(_){return Promise.all(_.map(p=>p.catch(w=>w)))}function ig(_,p){const w=function(_,p){let w;return window.trustedTypes&&(w=window.trustedTypes.createPolicy("firebase-js-sdk-policy",p)),w}(0,{createScriptURL:cb}),T=document.createElement("script"),S=`${_u}?l=${_}&id=${p}`;T.src=w?null==w?void 0:w.createScriptURL(S):S,T.async=!0,document.head.appendChild(T)}function W_(_,p,w,T,S,F){return gp.apply(this,arguments)}function gp(){return gp=(0,pe.Z)(function*(_,p,w,T,S,F){const W=T[S];try{if(W)yield p[W];else{const Fe=(yield ng(w)).find(Ze=>Ze.measurementId===S);Fe&&(yield p[Fe.appId])}}catch(ve){jr.error(ve)}_("config",S,F)}),gp.apply(this,arguments)}function ub(_,p,w,T,S){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,pe.Z)(function*(_,p,w,T,S){try{let F=[];if(S&&S.send_to){let W=S.send_to;Array.isArray(W)||(W=[W]);const ve=yield ng(w);for(const Fe of W){const Ze=ve.find(ke=>ke.measurementId===Fe),ht=Ze&&p[Ze.appId];if(!ht){F=[];break}F.push(ht)}}0===F.length&&(F=Object.values(p)),yield Promise.all(F),_("event",T,S||{})}catch(F){jr.error(F)}}),Y_.apply(this,arguments)}function rg(_){const p=window.document.getElementsByTagName("script");for(const w of Object.values(p))if(w.src&&w.src.includes(_u)&&w.src.includes(_))return w;return null}const Q_=new class{constructor(p={},w=1e3){this.throttleMetadata=p,this.intervalMillis=w}getThrottleMetadata(p){return this.throttleMetadata[p]}setThrottleMetadata(p,w){this.throttleMetadata[p]=w}deleteThrottleMetadata(p){delete this.throttleMetadata[p]}};function Vw(_){return new Headers({Accept:"application/json","x-goog-api-key":_})}function _p(_){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,pe.Z)(function*(_){var p;const{appId:w,apiKey:T}=_,S={method:"GET",headers:Vw(T)},F=Lw.replace("{app-id}",w),W=yield fetch(F,S);if(200!==W.status&&304!==W.status){let ve="";try{const Fe=yield W.json();(null===(p=Fe.error)||void 0===p?void 0:p.message)&&(ve=Fe.error.message)}catch(Fe){}throw ss.create("config-fetch-failed",{httpStatus:W.status,responseMessage:ve})}return W.json()}),Oh.apply(this,arguments)}function Rh(_){return vu.apply(this,arguments)}function vu(){return vu=(0,pe.Z)(function*(_,p=Q_,w){const{appId:T,apiKey:S,measurementId:F}=_.options;if(!T)throw ss.create("no-app-id");if(!S){if(F)return{measurementId:F,appId:T};throw ss.create("no-api-key")}const W=p.getThrottleMetadata(T)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ve=new og;return setTimeout((0,pe.Z)(function*(){ve.abort()}),void 0!==w?w:6e4),Nh({appId:T,apiKey:S,measurementId:F},W,ve,p)}),vu.apply(this,arguments)}function Nh(_,p,w){return Za.apply(this,arguments)}function Za(){return Za=(0,pe.Z)(function*(_,{throttleEndTimeMillis:p,backoffCount:w},T,S=Q_){var F;const{appId:W,measurementId:ve}=_;try{yield hb(T,p)}catch(Fe){if(ve)return jr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ve} provided in the "measurementId" field in the local Firebase config. [${null==Fe?void 0:Fe.message}]`),{appId:W,measurementId:ve};throw Fe}try{const Fe=yield _p(_);return S.deleteThrottleMetadata(W),Fe}catch(Fe){const Ze=Fe;if(!sg(Ze)){if(S.deleteThrottleMetadata(W),ve)return jr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ve} provided in the "measurementId" field in the local Firebase config. [${null==Ze?void 0:Ze.message}]`),{appId:W,measurementId:ve};throw Fe}const ht=503===Number(null===(F=null==Ze?void 0:Ze.customData)||void 0===F?void 0:F.httpStatus)?Nw(w,S.intervalMillis,30):Nw(w,S.intervalMillis),ke={throttleEndTimeMillis:Date.now()+ht,backoffCount:w+1};return S.setThrottleMetadata(W,ke),jr.debug(`Calling attemptFetch again in ${ht} millis`),Nh(_,ke,T,S)}}),Za.apply(this,arguments)}function hb(_,p){return new Promise((w,T)=>{const S=Math.max(p-Date.now(),0),F=setTimeout(w,S);_.addEventListener(()=>{clearTimeout(F),T(ss.create("fetch-throttle",{throttleEndTimeMillis:p}))})})}function sg(_){if(!(_ instanceof Ah&&_.customData))return!1;const p=Number(_.customData.httpStatus);return 429===p||500===p||503===p||504===p}class og{constructor(){this.listeners=[]}addEventListener(p){this.listeners.push(p)}abort(){this.listeners.forEach(p=>p())}}let yp,vp;function Ph(){return Ph=(0,pe.Z)(function*(_,p,w,T,S){if(S&&S.global)_("event",w,T);else{const F=yield p;_("event",w,Object.assign(Object.assign({},T),{send_to:F}))}}),Ph.apply(this,arguments)}function lg(_){vp=_}function cg(_){yp=_}function bp(){return qo.apply(this,arguments)}function qo(){return qo=(0,pe.Z)(function*(){if(!Eh())return jr.warn(ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Km()}catch(_){return jr.warn(ss.create("indexeddb-unavailable",{errorInfo:null==_?void 0:_.toString()}).message),!1}return!0}),qo.apply(this,arguments)}function wu(){return wu=(0,pe.Z)(function*(_,p,w,T,S,F,W){var ve;const Fe=Rh(_);Fe.then(Yt=>{w[Yt.measurementId]=Yt.appId,_.options.measurementId&&Yt.measurementId!==_.options.measurementId&&jr.warn(`The measurement ID in the local Firebase config (${_.options.measurementId}) does not match the measurement ID fetched from the server (${Yt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yt=>jr.error(Yt)),p.push(Fe);const Ze=bp().then(Yt=>{if(Yt)return T.getId()}),[ht,ke]=yield Promise.all([Fe,Ze]);rg(F)||ig(F,ht.measurementId),vp&&(S("consent","default",vp),lg(void 0)),S("js",new Date);const be=null!==(ve=null==W?void 0:W.config)&&void 0!==ve?ve:{};return be.origin="firebase",be.update=!0,null!=ke&&(be[Fw]=ke),S("config",ht.measurementId,be),yp&&(S("set",yp),cg(void 0)),ht.measurementId}),wu.apply(this,arguments)}class pb{constructor(p){this.app=p}_delete(){return delete zo[this.app.options.appId],Promise.resolve()}}let zo={},Cp=[];const Hr={};let xp,dr,Cu="dataLayer",yc=!1;function ty(_,p,w){!function(){const _=[];if(rp()&&_.push("This is a browser extension environment."),xh()||_.push("Cookies are not available."),_.length>0){const p=_.map((T,S)=>`(${S+1}) ${T}`).join(" "),w=ss.create("invalid-analytics-context",{errorInfo:p});jr.warn(w.message)}}();const T=_.options.appId;if(!T)throw ss.create("no-app-id");if(!_.options.apiKey){if(!_.options.measurementId)throw ss.create("no-api-key");jr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zo[T])throw ss.create("already-exists",{id:T});if(!yc){!function(_){let p=[];Array.isArray(window[_])?p=window[_]:window[_]=p}(Cu);const{wrappedGtag:F,gtagCore:W}=function(_,p,w,T,S){let F=function(...W){window[T].push(arguments)};return window[S]&&"function"==typeof window[S]&&(F=window[S]),window[S]=function(_,p,w,T){function F(){return(F=(0,pe.Z)(function*(W,...ve){try{if("event"===W){const[Fe,Ze]=ve;yield ub(_,p,w,Fe,Ze)}else if("config"===W){const[Fe,Ze]=ve;yield W_(_,p,w,T,Fe,Ze)}else if("consent"===W){const[Fe]=ve;_("consent","update",Fe)}else if("get"===W){const[Fe,Ze,ht]=ve;_("get",Fe,Ze,ht)}else if("set"===W){const[Fe]=ve;_("set",Fe)}else _(W,...ve)}catch(Fe){jr.error(Fe)}})).apply(this,arguments)}return function(W){return F.apply(this,arguments)}}(F,_,p,w),{gtagCore:F,wrappedGtag:window[S]}}(zo,Cp,Hr,Cu,"gtag");dr=F,xp=W,yc=!0}return zo[T]=function(_,p,w,T,S,F,W){return wu.apply(this,arguments)}(_,Cp,Hr,p,xp,Cu,w),new pb(_)}function hd(){return ug.apply(this,arguments)}function ug(){return(ug=(0,pe.Z)(function*(){if(rp()||!xh()||!Eh())return!1;try{return yield Km()}catch(_){return!1}})).apply(this,arguments)}const Le="@firebase/analytics";(0,De._registerComponent)(new tg(fp,(p,{options:w})=>ty(p.getProvider("app").getImmediate(),p.getProvider("installations-internal").getImmediate(),w),"PUBLIC")),(0,De._registerComponent)(new tg("analytics-internal",function(p){try{const w=p.getProvider(fp).getImmediate();return{logEvent:(T,S,F)=>function(_,p,w,T){_=function(_){return _&&_._delegate?_._delegate:_}(_),function(_,p,w,T,S){return Ph.apply(this,arguments)}(dr,zo[_.app.options.appId],p,w,T).catch(S=>jr.error(S))}(w,T,S,F)}}catch(w){throw ss.create("interop-component-reg-failed",{reason:w})}},"PRIVATE")),(0,De.registerVersion)(Le,"0.10.0"),(0,De.registerVersion)(Le,"0.10.0","esm2017");var He=G(4408),Jn=G(7565);const Ap=new class extends Jn.v{}(class extends He.o{constructor(p,w){super(p,w),this.scheduler=p,this.work=w}schedule(p,w=0){return w>0?super.schedule(p,w):(this.delay=w,this.state=p,this.scheduler.flush(this),this)}execute(p,w){return w>0||this.closed?super.execute(p,w):this._execute(p,w)}requestAsyncId(p,w,T=0){return null!=T&&T>0||null==T&&this.delay>0?super.requestAsyncId(p,w,T):p.flush(this)}});var sy=G(4986),mb=G(8505),fd=G(5363),oy=G(9468);const Dp=new V.GfV("7.6.1"),pd="__angularfire_symbol__analyticsIsSupportedValue",dg="__angularfire_symbol__analyticsIsSupported",wo="__angularfire_symbol__remoteConfigIsSupportedValue",md="__angularfire_symbol__remoteConfigIsSupported",ay="__angularfire_symbol__messagingIsSupportedValue",ly="__angularfire_symbol__messagingIsSupported";function fg(_,p,w){if(p){if(1===p.length)return p[0];const F=p.filter(W=>W.app===w);if(1===F.length)return F[0]}return w.container.getProvider(_).getImmediate({optional:!0})}globalThis[dg]||(globalThis[dg]=hd().then(_=>globalThis[pd]=_).catch(()=>globalThis[pd]=!1)),globalThis[ly]||(globalThis[ly]=Xv().then(_=>globalThis[ay]=_).catch(()=>globalThis[ay]=!1)),globalThis[md]||(globalThis[md]=cr().then(_=>globalThis[wo]=_).catch(()=>globalThis[wo]=!1));const gb=(_,p)=>{const w=p?[p]:(0,o.C6)(),T=[];return w.forEach(S=>{S.container.getProvider(_).instances.forEach(W=>{T.includes(W)||T.push(W)})}),T};function Sp(){}class Tp{constructor(p,w=Ap){this.zone=p,this.delegate=w}now(){return this.delegate.now()}schedule(p,w,T){const S=this.zone;return this.delegate.schedule(function(W){S.runGuarded(()=>{p.apply(this,[W])})},w,T)}}class Uw{constructor(p){this.zone=p,this.task=null}call(p,w){const T=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sp,{},Sp,Sp)),w.pipe((0,mb.b)({next:T,complete:T,error:T})).subscribe(p).add(T)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jw=(()=>{class _{constructor(w){this.ngZone=w,this.outsideAngular=w.runOutsideAngular(()=>new Tp(Zone.current)),this.insideAngular=w.run(()=>new Tp(Zone.current,sy.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _.\u0275fac=function(w){return new(w||_)(V.LFG(V.R0b))},_.\u0275prov=V.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function xu(){const _=globalThis.\u0275AngularFireScheduler;if(!_)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _}function Hw(_){return _.pipe((0,fd.Q)(xu().outsideAngular))}function Bh(_){return xu(),function(_){return function(w){return(w=w.lift(new Uw(_.ngZone))).pipe((0,oy.R)(_.outsideAngular),(0,fd.Q)(_.insideAngular))}}(xu())(_)}},3111:(st,Ie,G)=>{"use strict";var V={};G.r(V),G.d(V,{Attributor:()=>tm,AttributorStore:()=>vO,BlockBlot:()=>TS,ClassAttributor:()=>Gh,ContainerBlot:()=>bO,EmbedBlot:()=>Nu,InlineBlot:()=>q3,LeafBlot:()=>rl,ParentBlot:()=>$h,Registry:()=>JE,Scope:()=>Qt,ScrollBlot:()=>G3,StyleAttributor:()=>mv,TextBlot:()=>wO});var o=G(5e3);let pe=null;function De(){return pe}const ue=new o.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.LFG)(te)},providedIn:"platform"}),n})();const J=new o.OlP("Location Initialized");let te=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return De().getBaseHref(this._doc)}onPopState(e){const i=De().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=De().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Ne()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Ne()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:function(){return new te((0,o.LFG)(ue))},providedIn:"platform"}),n})();function Ne(){return!!window.history.pushState}function We(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function nt(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let Me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function(n){const t=(0,o.LFG)(ue).location;return new et((0,o.LFG)(fe),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ke=new o.OlP("appBaseHref");let et=(()=>{class n extends Me{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return We(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+Ge(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+Ge(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fe),o.LFG(Ke,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_t=(()=>{class n extends Me{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=We(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+Ge(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+Ge(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fe),o.LFG(Ke,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=nt(ne(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ge(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=We,n.stripTrailingSlash=nt,n.\u0275fac=function(e){return new(e||n)(o.LFG(Me),o.LFG(fe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return new Qe((0,o.LFG)(Me),(0,o.LFG)(fe))},providedIn:"root"}),n})();function ne(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))(),Ae=(()=>((Ae=Ae||{})[Ae.Format=0]="Format",Ae[Ae.Standalone=1]="Standalone",Ae))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),Ce=(()=>((Ce=Ce||{})[Ce.Short=0]="Short",Ce[Ce.Medium=1]="Medium",Ce[Ce.Long=2]="Long",Ce[Ce.Full=3]="Full",Ce))(),Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Group=1]="Group",Ve[Ve.List=2]="List",Ve[Ve.PercentSign=3]="PercentSign",Ve[Ve.PlusSign=4]="PlusSign",Ve[Ve.MinusSign=5]="MinusSign",Ve[Ve.Exponential=6]="Exponential",Ve[Ve.SuperscriptingExponent=7]="SuperscriptingExponent",Ve[Ve.PerMille=8]="PerMille",Ve[Ve.Infinity=9]="Infinity",Ve[Ve.NaN=10]="NaN",Ve[Ve.TimeSeparator=11]="TimeSeparator",Ve[Ve.CurrencyDecimal=12]="CurrencyDecimal",Ve[Ve.CurrencyGroup=13]="CurrencyGroup",Ve))();function $t(n,t){return Oi((0,o.cg1)(n)[o.wAp.DateFormat],t)}function sn(n,t){return Oi((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function mn(n,t){return Oi((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function on(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(void 0===i){if(t===Ve.CurrencyDecimal)return e[o.wAp.NumberSymbols][Ve.Decimal];if(t===Ve.CurrencyGroup)return e[o.wAp.NumberSymbols][Ve.Group]}return i}const ia=o.kL8;function Zl(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Oi(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function Tr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const nr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ir={},Wl=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=(()=>((zn=zn||{})[zn.Short=0]="Short",zn[zn.ShortGMT=1]="ShortGMT",zn[zn.Long=2]="Long",zn[zn.Extended=3]="Extended",zn))(),Rt=(()=>((Rt=Rt||{})[Rt.FullYear=0]="FullYear",Rt[Rt.Month=1]="Month",Rt[Rt.Date=2]="Date",Rt[Rt.Hours=3]="Hours",Rt[Rt.Minutes=4]="Minutes",Rt[Rt.Seconds=5]="Seconds",Rt[Rt.FractionalSeconds=6]="FractionalSeconds",Rt[Rt.Day=7]="Day",Rt))(),un=(()=>((un=un||{})[un.DayPeriods=0]="DayPeriods",un[un.Days=1]="Days",un[un.Months=2]="Months",un[un.Eras=3]="Eras",un))();function sa(n,t,e,i){let r=function(n){if(ut(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(u=>+u);return oo(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(nr))return function(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,u=Number(n[5]||0)-i,f=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,u,f,b),t}(i)}const t=new Date(n);if(!ut(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Sn(e,t)||t;let u,a=[];for(;t;){if(u=Wl.exec(t),!u){a.push(t);break}{a=a.concat(u.slice(1));const x=a.pop();if(!x)break;t=x}}let f=r.getTimezoneOffset();i&&(f=Zs(i,f),r=function(n,t,e){const r=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(Zs(t,r)-r))}(r,i));let b="";return a.forEach(x=>{const D=function(n){if(rn[n])return rn[n];let t;switch(n){case"G":case"GG":case"GGG":t=Un(un.Eras,me.Abbreviated);break;case"GGGG":t=Un(un.Eras,me.Wide);break;case"GGGGG":t=Un(un.Eras,me.Narrow);break;case"y":t=Zt(Rt.FullYear,1,0,!1,!0);break;case"yy":t=Zt(Rt.FullYear,2,0,!0,!0);break;case"yyy":t=Zt(Rt.FullYear,3,0,!1,!0);break;case"yyyy":t=Zt(Rt.FullYear,4,0,!1,!0);break;case"Y":t=Qr(1);break;case"YY":t=Qr(2,!0);break;case"YYY":t=Qr(3);break;case"YYYY":t=Qr(4);break;case"M":case"L":t=Zt(Rt.Month,1,1);break;case"MM":case"LL":t=Zt(Rt.Month,2,1);break;case"MMM":t=Un(un.Months,me.Abbreviated);break;case"MMMM":t=Un(un.Months,me.Wide);break;case"MMMMM":t=Un(un.Months,me.Narrow);break;case"LLL":t=Un(un.Months,me.Abbreviated,Ae.Standalone);break;case"LLLL":t=Un(un.Months,me.Wide,Ae.Standalone);break;case"LLLLL":t=Un(un.Months,me.Narrow,Ae.Standalone);break;case"w":t=aa(1);break;case"ww":t=aa(2);break;case"W":t=aa(1,!0);break;case"d":t=Zt(Rt.Date,1);break;case"dd":t=Zt(Rt.Date,2);break;case"c":case"cc":t=Zt(Rt.Day,1);break;case"ccc":t=Un(un.Days,me.Abbreviated,Ae.Standalone);break;case"cccc":t=Un(un.Days,me.Wide,Ae.Standalone);break;case"ccccc":t=Un(un.Days,me.Narrow,Ae.Standalone);break;case"cccccc":t=Un(un.Days,me.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":t=Un(un.Days,me.Abbreviated);break;case"EEEE":t=Un(un.Days,me.Wide);break;case"EEEEE":t=Un(un.Days,me.Narrow);break;case"EEEEEE":t=Un(un.Days,me.Short);break;case"a":case"aa":case"aaa":t=Un(un.DayPeriods,me.Abbreviated);break;case"aaaa":t=Un(un.DayPeriods,me.Wide);break;case"aaaaa":t=Un(un.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":t=Un(un.DayPeriods,me.Abbreviated,Ae.Standalone,!0);break;case"bbbb":t=Un(un.DayPeriods,me.Wide,Ae.Standalone,!0);break;case"bbbbb":t=Un(un.DayPeriods,me.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":t=Un(un.DayPeriods,me.Abbreviated,Ae.Format,!0);break;case"BBBB":t=Un(un.DayPeriods,me.Wide,Ae.Format,!0);break;case"BBBBB":t=Un(un.DayPeriods,me.Narrow,Ae.Format,!0);break;case"h":t=Zt(Rt.Hours,1,-12);break;case"hh":t=Zt(Rt.Hours,2,-12);break;case"H":t=Zt(Rt.Hours,1);break;case"HH":t=Zt(Rt.Hours,2);break;case"m":t=Zt(Rt.Minutes,1);break;case"mm":t=Zt(Rt.Minutes,2);break;case"s":t=Zt(Rt.Seconds,1);break;case"ss":t=Zt(Rt.Seconds,2);break;case"S":t=Zt(Rt.FractionalSeconds,1);break;case"SS":t=Zt(Rt.FractionalSeconds,2);break;case"SSS":t=Zt(Rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ys(zn.Short);break;case"ZZZZZ":t=ys(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ys(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ys(zn.Long);break;default:return null}return rn[n]=t,t}(x);b+=D?D(r,e,f):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function oo(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Sn(n,t){const e=function(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(Ir[e]=Ir[e]||{},Ir[e][t])return Ir[e][t];let i="";switch(t){case"shortDate":i=$t(n,Ce.Short);break;case"mediumDate":i=$t(n,Ce.Medium);break;case"longDate":i=$t(n,Ce.Long);break;case"fullDate":i=$t(n,Ce.Full);break;case"shortTime":i=sn(n,Ce.Short);break;case"mediumTime":i=sn(n,Ce.Medium);break;case"longTime":i=sn(n,Ce.Long);break;case"fullTime":i=sn(n,Ce.Full);break;case"short":const r=Sn(n,"shortTime"),s=Sn(n,"shortDate");i=ms(mn(n,Ce.Short),[r,s]);break;case"medium":const a=Sn(n,"mediumTime"),u=Sn(n,"mediumDate");i=ms(mn(n,Ce.Medium),[a,u]);break;case"long":const f=Sn(n,"longTime"),b=Sn(n,"longDate");i=ms(mn(n,Ce.Long),[f,b]);break;case"full":const x=Sn(n,"fullTime"),D=Sn(n,"fullDate");i=ms(mn(n,Ce.Full),[x,D])}return i&&(Ir[e][t]=i),i}function ms(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ks(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),s+a}function Zt(n,t,e=0,i=!1,r=!1){return function(s,a){let u=function(n,t){switch(n){case Rt.FullYear:return t.getFullYear();case Rt.Month:return t.getMonth();case Rt.Date:return t.getDate();case Rt.Hours:return t.getHours();case Rt.Minutes:return t.getMinutes();case Rt.Seconds:return t.getSeconds();case Rt.FractionalSeconds:return t.getMilliseconds();case Rt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||u>-e)&&(u+=e),n===Rt.Hours)0===u&&-12===e&&(u=12);else if(n===Rt.FractionalSeconds)return function(n,t){return ks(n,3).substr(0,t)}(u,t);const f=on(a,Ve.MinusSign);return ks(u,t,f,i,r)}}function Un(n,t,e=Ae.Format,i=!1){return function(r,s){return function(n,t,e,i,r,s){switch(e){case un.Months:return function(n,t,e){const i=(0,o.cg1)(n),s=Oi([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return Oi(s,e)}(t,r,i)[n.getMonth()];case un.Days:return function(n,t,e){const i=(0,o.cg1)(n),s=Oi([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return Oi(s,e)}(t,r,i)[n.getDay()];case un.DayPeriods:const a=n.getHours(),u=n.getMinutes();if(s){const b=function(n){const t=(0,o.cg1)(n);return Zl(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Tr(i):[Tr(i[0]),Tr(i[1])])}(t),x=function(n,t,e){const i=(0,o.cg1)(n);Zl(i);const s=Oi([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return Oi(s,e)||[]}(t,r,i),D=b.findIndex(R=>{if(Array.isArray(R)){const[B,z]=R,ee=a>=B.hours&&u>=B.minutes,ae=a<z.hours||a===z.hours&&u<z.minutes;if(B.hours<z.hours){if(ee&&ae)return!0}else if(ee||ae)return!0}else if(R.hours===a&&R.minutes===u)return!0;return!1});if(-1!==D)return x[D]}return function(n,t,e){const i=(0,o.cg1)(n),s=Oi([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return Oi(s,e)}(t,r,i)[a<12?0:1];case un.Eras:return function(n,t){return Oi((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function ys(n){return function(t,e,i){const r=-1*i,s=on(e,Ve.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case zn.Short:return(r>=0?"+":"")+ks(a,2,s)+ks(Math.abs(r%60),2,s);case zn.ShortGMT:return"GMT"+(r>=0?"+":"")+ks(a,1,s);case zn.Long:return"GMT"+(r>=0?"+":"")+ks(a,2,s)+":"+ks(Math.abs(r%60),2,s);case zn.Extended:return 0===i?"Z":(r>=0?"+":"")+ks(a,2,s)+":"+ks(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function So(n){return oo(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function aa(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=So(e),a=function(n){const t=oo(n,0,1).getDay();return oo(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),u=s.getTime()-a.getTime();r=1+Math.round(u/6048e5)}return ks(r,n,on(i,Ve.MinusSign))}}function Qr(n,t=!1){return function(e,i){return ks(So(e).getFullYear(),n,on(i,Ve.MinusSign),t)}}const rn={};function Zs(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ut(n){return n instanceof Date&&!isNaN(n.valueOf())}class Y{}let X=(()=>{class n extends Y{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(ia(i||this.locale)(e)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),it=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Tn{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wt=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Tn(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const u=i.get(s);i.move(u,a),Xt(u,r)}});for(let r=0,s=i.length;r<s;r++){const u=i.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Xt(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Xt(n,t){n.context.$implicit=t.item}let vt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Rr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Rr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Gt{constructor(){this.$implicit=null,this.ngIf=null}}function Rr(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class To{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let qi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Pi=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new To(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(qi,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ws=(()=>{class n{constructor(e,i,r){r._addDefault(new To(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(qi,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Nr=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function zi(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,o.AaK)(n)}'`)}class Fd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class co{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const ef=new co,Kl=new Fd;let Uu=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return ef;if((0,o.F4k)(e))return Kl;throw zi(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1}),n})();const Mo=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ys=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var a;if(null==e||""===e||e!=e)return null;try{return sa(e,i,s||this.locale,null!==(a=null!=r?r:this.defaultTimezone)&&void 0!==a?a:void 0)}catch(u){throw zi(n,u.message)}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(Mo,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),Te=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Y,useClass:X}]}),n})();const an="browser";function xn(n){return n===an}function yn(n){return"server"===n}let Li=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new sr((0,o.LFG)(ue),window)}),n})();class sr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ln(this.window.history)||Ln(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ln(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new fo,pe||(pe=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Ks=Ks||document.querySelector("base"),Ks?Ks.getAttribute("href"):null);return null==e?null:function(n){Jl=Jl||document.createElement("a"),Jl.setAttribute("href",n);const t=Jl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ks=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Jl,Ks=null;const Fr=new o.OlP("TRANSITION_ID"),Hu=[{provide:o.ip1,useFactory:function(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=De(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Fr,ue,o.zs3],multi:!0}];class po{static init(){(0,o.VLi)(new po)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const u=function(f){a=a||f,s--,0==s&&i(a)};r.forEach(function(f){f.whenStable(u)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?De().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let tf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const es=new o.OlP("EventManagerPlugins");let Sa=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(es),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ld{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=De().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let ln=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Xl=(()=>{class n extends ln{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Bd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Bd))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Bd(n){De().remove(n)}const H={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},P=/%COMP%/g;function Dt(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Dt(n,r,e):(r=r.replace(P,n),e.push(r))}return e}function Yn(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let vn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Cs(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new a_(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new kc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Dt(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sa),o.LFG(Xl),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Cs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(H[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=H[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=H[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yn(i)):this.eventManager.addEventListener(t,e,Yn(i))}}class a_ extends Cs{constructor(t,e,i,r){super(t),this.component=i;const s=Dt(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(P,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(P,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class kc extends Cs{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Dt(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const u=document.createElement("style");u.textContent=s[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vd=(()=>{class n extends Ld{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ns=["alt","control","meta","shift"],cm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ec={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ua={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let um=(()=>{class n extends Ld{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>De().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="";if(ns.forEach(f=>{const b=i.indexOf(f);b>-1&&(i.splice(b,1),a+=f+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=a,u}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ec.hasOwnProperty(t)&&(t=ec[t]))}return cm[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ns.forEach(s=>{s!=r&&ua[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const rf=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:an},{provide:o.g9A,useValue:function(){fo.makeCurrent(),po.init()},multi:!0},{provide:ue,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),sf=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:es,useClass:Vd,multi:!0,deps:[ue,o.R0b,o.Lbi]},{provide:es,useClass:um,multi:!0,deps:[ue]},{provide:vn,useClass:vn,deps:[Sa,Xl,o.AFp]},{provide:o.FYo,useExisting:vn},{provide:ln,useExisting:Xl},{provide:Xl,useClass:Xl,deps:[ue]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:Sa,useClass:Sa,deps:[es,o.R0b]},{provide:class{},useClass:tf,deps:[]}];let da=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Fr,useExisting:o.AFp},Hu]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:sf,imports:[Te,o.hGG]}),n})();"undefined"!=typeof window&&window;let Ro=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(qd),i},providedIn:"root"}),n})(),qd=(()=>{class n extends Ro{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function(n){return new qd(n.get(ue))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();class Rc{}const xs="*";function Wi(n,t){return{type:7,name:n,definitions:t,options:{}}}function Kn(n,t=null){return{type:4,styles:t,timings:n}}function Zu(n,t=null){return{type:2,steps:n,options:t}}function Pt(n){return{type:6,styles:n,offset:null}}function Qn(n,t,e){return{type:0,name:n,styles:t,options:e}}function Qs(n){return{type:5,steps:n}}function kn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function zd(n=null){return{type:9,options:n}}function wm(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function hf(n){Promise.resolve(null).then(n)}class No{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Gd{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?hf(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function ff(){return"undefined"!=typeof window&&void 0!==window.document}function pf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function mo(n){switch(n.length){case 0:return new No;case 1:return n[0];default:return new Gd(n)}}function ka(n,t,e,i,r={},s={}){const a=[],u=[];let f=-1,b=null;if(i.forEach(x=>{const D=x.offset,R=D==f,B=R&&b||{};Object.keys(x).forEach(z=>{let ee=z,ae=x[z];if("offset"!==z)switch(ee=t.normalizePropertyName(ee,a),ae){case"!":ae=r[z];break;case xs:ae=s[z];break;default:ae=t.normalizeStyleValue(z,ee,ae,a)}B[ee]=ae}),R||u.push(B),b=B,f=D}),a.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${a.join(x)}`)}return u}function mf(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&$d(e,"start",n)));break;case"done":n.onDone(()=>i(e&&$d(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&$d(e,"destroy",n)))}}function $d(n,t,e){const i=e.totalTime,s=ic(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function ic(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Vs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function rc(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let ha=(n,t)=>!1,sc=(n,t,e)=>[];(pf()||"undefined"!=typeof Element)&&(ha=ff()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),sc=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let gl=null,Fc=!1;function Zd(n){gl||(gl=("undefined"!=typeof document?document.body:null)||{},Fc=!!gl.style&&"WebkitAppearance"in gl.style);let t=!0;return gl.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in gl.style,!t&&Fc&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in gl.style)),t}const oc=ha,_o=sc;function gf(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Ku=(()=>{class n{validateStyleProperty(e){return Zd(e)}matchesElement(e,i){return!1}containsElement(e,i){return oc(e,i)}query(e,i,r){return _o(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,u=[],f){return new No(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Po=(()=>{class n{}return n.NOOP=new Ku,n})();const Lc="ng-enter",Bc="ng-leave",_f="ng-trigger",yf=".ng-trigger",Fv="ng-animating",vf=".ng-animating";function Ra(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Na(parseFloat(t[1]),t[2])}function Na(n,t){return"s"===t?1e3*n:n}function Qu(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,s=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=Na(parseFloat(u[1]),u[2]);const f=u[3];null!=f&&(s=Na(parseFloat(f),u[4]));const b=u[5];b&&(a=b)}else r=n;if(!e){let u=!1,f=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(f,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:a}}(n,t,e)}function _l(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ac(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else _l(n,e);return e}function bf(n,t,e){return e?t+":"+e+";":""}function As(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=bf(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=bf(0,Js(e),n.style[e]));n.setAttribute("style",t)}function Qi(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Vc(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),pf()&&As(n))}function yl(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Vc(e);n.style[i]=""}),pf()&&As(n))}function Fo(n){return Array.isArray(n)?1==n.length?n[0]:Zu(n):n}const Ju=new RegExp("{{\\s*(.+?)\\s*}}","g");function wf(n){let t=[];if("string"==typeof n){let e;for(;e=Ju.exec(n);)t.push(e[1]);Ju.lastIndex=0}return t}function Xu(n,t,e){const i=n.toString(),r=i.replace(Ju,(s,a)=>{let u=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),u=""),u.toString()});return r==i?n:r}function Cm(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Cf=/-+([a-z0-9])/g;function Vc(n){return n.replace(Cf,(...t)=>t[1].toUpperCase())}function Js(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yd(n,t){return 0===n||0===t}function fa(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],a=[];if(i.forEach(u=>{s.hasOwnProperty(u)||a.push(u),s[u]=e[u]}),a.length)for(var r=1;r<t.length;r++){let u=t[r];a.forEach(function(f){u[f]=Kd(n,f)})}}return t}function Us(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Kd(n,t){return window.getComputedStyle(n)[t]}function Em(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const f=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],a=i[3];t.push(xf(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(xf(a,r))}(i,e,t)):e.push(n),e}const Qd=new Set(["true","1"]),Uc=new Set(["false","0"]);function xf(n,t){const e=Qd.has(n)||Uc.has(n),i=Qd.has(t)||Uc.has(t);return(r,s)=>{let a="*"==n||n==r,u="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?Qd.has(n):Uc.has(n)),!u&&i&&"boolean"==typeof s&&(u=s?Qd.has(t):Uc.has(t)),a&&u}}const uw=new RegExp("s*:selfs*,?","g");function vl(n,t,e){return new Pa(n).build(t,e)}class Pa{constructor(t){this._driver=t}build(t,e){const i=new Vv(e);return this._resetContextStyleTimingState(i),Us(this,Fo(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const f=u,b=f.name;b.toString().split(/\s*,\s*/).forEach(x=>{f.name=x,s.push(this.visitState(f,e))}),f.name=b}else if(1==u.type){const f=this.visitTransition(u,e);i+=f.queryCount,r+=f.depCount,a.push(f)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};if(i.styles.forEach(u=>{if(Df(u)){const f=u;Object.keys(f).forEach(b=>{wf(f[b]).forEach(x=>{a.hasOwnProperty(x)||s.add(x)})})}}),s.size){const u=Cm(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${u.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Us(this,Fo(t.animation),e);return{type:1,matchers:Em(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:zc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Us(this,i,e)),options:zc(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const u=Us(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:s,options:zc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Gc(Qu(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Gc(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||Qu(i,t),Gc(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Pt({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,u=!1;if(!a){u=!0;const b={};i.easing&&(b.easing=i.easing),a=Pt(b)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,e);f.isEmptyStep=u,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==xs?i.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let r=!1,s=null;return i.forEach(a=>{if(Df(a)){const u=a,f=u.easing;if(f&&(s=f,delete u.easing),!r)for(let b in u)if(u[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(u=>{if(!this._driver.validateStyleProperty(u))return void e.errors.push(`The provided animation property "${u}" is not a supported CSS property for animations`);const f=e.collectedStyles[e.currentQuerySelector],b=f[u];let x=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(`The CSS property "${u}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),x=!1),s=b.startTime),x&&(f[u]={startTime:s,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=wf(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(a[u],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const a=[];let u=!1,f=!1,b=0;const x=t.steps.map(we=>{const qe=this._makeStyleAst(we,e);let Ye=null!=qe.offset?qe.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Df(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Df(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(qe.styles),at=0;return null!=Ye&&(s++,at=qe.offset=Ye),f=f||at<0||at>1,u=u||at<b,b=at,a.push(at),qe});f&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),u&&e.errors.push("Please ensure that all keyframe offsets are in order");const D=t.steps.length;let R=0;s>0&&s<D?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(R=1/(D-1));const B=D-1,z=e.currentTime,ee=e.currentAnimateTimings,ae=ee.duration;return x.forEach((we,qe)=>{const Ye=R>0?qe==B?1:R*qe:a[qe],at=Ye*ae;e.currentTime=z+ee.delay+at,ee.duration=at,this._validateStyleAst(we,e),we.offset=Ye,i.styles.push(we)}),i}visitReference(t,e){return{type:8,animation:Us(this,Fo(t.animation),e),options:zc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:zc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:zc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(uw,"")),n=n.replace(/@\*/g,yf).replace(/@\w+/g,e=>yf+"-"+e.substr(1)).replace(/:animating/g,vf),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Vs(e.collectedStyles,e.currentQuerySelector,{});const u=Us(this,Fo(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:zc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Qu(t.timings,e.errors,!0);return{type:12,animation:Us(this,Fo(t.animation),e),timings:i,options:null}}}class Vv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Df(n){return!Array.isArray(n)&&"object"==typeof n}function zc(n){return n?(n=_l(n)).params&&(n.params=function(n){return n?_l(n):null}(n.params)):n={},n}function Gc(n,t,e){return{duration:n,delay:t,easing:e}}function cr(n,t,e,i,r,s,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:u}}class bl{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Xd=new RegExp(":enter","g"),Uv=new RegExp(":leave","g");function ed(n,t,e,i,r,s={},a={},u,f,b=[]){return(new eh).buildKeyframes(n,t,e,i,r,s,a,u,f,b)}class eh{buildKeyframes(t,e,i,r,s,a,u,f,b,x=[]){b=b||new bl;const D=new td(t,e,b,r,s,x,[]);D.options=f,D.currentTimeline.setStyles([a],null,D.errors,f),Us(this,i,D);const R=D.timelines.filter(B=>B.containsAnimation());if(R.length&&Object.keys(u).length){const B=R[R.length-1];B.allowOnlyTimelineStyles()||B.setStyles([u],null,D.errors,f)}return R.length?R.map(B=>B.buildKeyframes()):[cr(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Ra(i.duration):null,u=null!=i.delay?Ra(i.delay):null;return 0!==a&&t.forEach(f=>{const b=e.appendInstructionToTimeline(f,a,u);s=Math.max(s,b.duration+b.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Us(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Fa);const a=Ra(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Us(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ra(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),Us(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Qu(e.params?Xu(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(f=>{u.forwardTime((f.offset||0)*s),u.setStyles(f.styles,f.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ra(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Fa);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let f=null;u.forEach((b,x)=>{e.currentQueryIndex=x;const D=e.createSubContext(t.options,b);s&&D.delayNextStep(s),b===e.element&&(f=D.currentTimeline),Us(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),u=a*(e.currentQueryTotal-1);let f=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=u-f;break;case"full":f=i.currentStaggerTime}const x=e.currentTimeline;f&&x.delayNextStep(f);const D=x.currentTime;Us(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const Fa={};class td{constructor(t,e,i,r,s,a,u,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new yo(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ra(i.duration)),null!=i.delay&&(r.delay=Ra(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=Xu(s[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new td(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Fa,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new dw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(Xd,"."+this._enterClassName)).replace(Uv,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),u.push(...b)}return!s&&0==u.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),u}}class yo{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new yo(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||xs,this._currentKeyframe[e]=xs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},a=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=xs})):ac(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(u=>{const f=Xu(a[u],s,i);this._pendingStyles[u]=f,this._localTimelineStyles.hasOwnProperty(u)||(this._backFill[u]=this._globalTimelineStyles.hasOwnProperty(u)?this._globalTimelineStyles[u]:xs),this._updateStyle(u,f)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,f)=>{const b=ac(u,!0);Object.keys(b).forEach(x=>{const D=b[x];"!"==D?t.add(x):D==xs&&e.add(x)}),i||(b.offset=f/this.duration),r.push(b)});const s=t.size?Cm(t.values()):[],a=e.size?Cm(e.values()):[];if(i){const u=r[0],f=_l(u);u.offset=0,f.offset=1,r=[u,f]}return cr(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class dw extends yo{constructor(t,e,i,r,s,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,u=e/a,f=ac(t[0],!1);f.offset=0,s.push(f);const b=ac(t[0],!1);b.offset=wl(u),s.push(b);const x=t.length-1;for(let D=1;D<=x;D++){let R=ac(t[D],!1);R.offset=wl((e+R.offset*i)/a),s.push(R)}i=a,e=0,r="",t=s}return cr(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function wl(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class If{}class jv extends If{normalizePropertyName(t,e){return Vc(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(Cl[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+s}}const Cl=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function fw(n,t,e,i,r,s,a,u,f,b,x,D,R){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:u,queriedElements:f,preStyleProps:b,postStyleProps:x,totalTime:D,errors:R}}const Hv={};class h_{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],a=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):a}build(t,e,i,r,s,a,u,f,b,x){const D=[],R=this.ast.options&&this.ast.options.params||Hv,z=this.buildStyles(i,u&&u.params||Hv,D),ee=f&&f.params||Hv,ae=this.buildStyles(r,ee,D),we=new Set,qe=new Map,Ye=new Map,at="void"===r,Jt={params:Object.assign(Object.assign({},R),ee)},fn=x?[]:ed(t,e,this.ast.animation,s,a,z,ae,Jt,b,D);let li=0;if(fn.forEach(al=>{li=Math.max(al.duration+al.delay,li)}),D.length)return fw(e,this._triggerName,i,r,at,z,ae,[],[],qe,Ye,li,D);fn.forEach(al=>{const o_=al.element,iK=Vs(qe,o_,{});al.preStyleProps.forEach(aw=>iK[aw]=!0);const pT=Vs(Ye,o_,{});al.postStyleProps.forEach(aw=>pT[aw]=!0),o_!==e&&we.add(o_)});const fs=Cm(we.values());return fw(e,this._triggerName,i,r,at,z,ae,fn,fs,qe,Ye,li)}}class gT{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=_l(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!=a&&(r[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(u=>{let f=a[u];f.length>1&&(f=Xu(f,r,e));const b=this.normalizer.normalizePropertyName(u,e);f=this.normalizer.normalizeStyleValue(u,b,f,e),i[b]=f})}}),i}}class Cx{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new gT(r.style,r.options&&r.options.params||{},i)}),nd(this.states,"true","1"),nd(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new h_(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new h_(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function nd(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const lc=new bl;class $c{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=vl(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=ka(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let a;const u=new Map;if(s?(a=ed(this._driver,e,s,Lc,Bc,{},{},i,lc,r),a.forEach(x=>{const D=Vs(u,x.element,{});x.postStyleProps.forEach(R=>D[R]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),a=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);u.forEach((x,D)=>{Object.keys(x).forEach(R=>{x[R]=this._driver.computeStyle(D,R,xs)})});const b=mo(a.map(x=>{const D=u.get(x.element);return this._buildPlayer(x,{},D)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=ic(e,"","","");return mf(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const qv="ng-animate-queued",zv="ng-animate-disabled",kf=[],th={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},is="__ng_removed";class nh{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const s=_l(t);delete s.value,this.options=s}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ih="void",Im=new nh(ih);class g_{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,pa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const s=Vs(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const u=Vs(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(pa(t,_f),pa(t,_f+"-"+e),u[e]=Im),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(a);f>=0&&s.splice(f,1),this._triggers[e]||delete u[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new Xs(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(pa(t,_f),pa(t,_f+"-"+e),this._engine.statesByElement.set(t,u={}));let f=u[e];const b=new nh(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&b.absorbOptions(f.options),u[e]=b,f||(f=Im),b.value!==ih&&f.value===b.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(f.params,b.params)){const ee=[],ae=s.matchStyles(f.value,f.params,ee),we=s.matchStyles(b.value,b.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{yl(t,ae),Qi(t,we)})}return}const R=Vs(this._engine.playersByElement,t,[]);R.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==e&&ee.queued&&ee.destroy()});let B=s.matchTransition(f.value,b.value,t,b.params),z=!1;if(!B){if(!r)return;B=s.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:f,toState:b,player:a,isFallbackTransition:z}),z||(pa(t,qv),a.onStart(()=>{cc(t,qv)})),a.onDone(()=>{let ee=this.players.indexOf(a);ee>=0&&this.players.splice(ee,1);const ae=this._engine.playersByElement.get(t);if(ae){let we=ae.indexOf(a);we>=0&&ae.splice(we,1)}}),this.players.push(a),R.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,yf,!0);i.forEach(r=>{if(r[is])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t);if(s){const a=[];if(Object.keys(s).forEach(u=>{if(this._triggers[u]){const f=this.trigger(t,u,ih,r);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&mo(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const f=this._triggers[a].fallbackTransition,b=i[a]||Im,x=new nh(ih),D=new Xs(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:f,fromState:b,toState:x,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[is];(!s||s===th)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){pa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==i.triggerName){const f=ic(s,i.triggerName,i.fromState.value,i.toState.value);f._data=t,mf(i.player,u.phase,f,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Wc{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new g_(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const a=i[r[s]].namespaceId;if(a){const u=this._fetchNamespace(a);u&&e.add(u)}}}return e}trigger(t,e,i,r){if(Mm(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Mm(e))return;const s=e[is];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pa(t,zv)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cc(t,zv))}removeNode(t,e,i,r){if(Mm(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[is]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,s){return Mm(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,yf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,vf,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mo(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[is];if(i&&i.setForRemoval){if(t[is]=th,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(zv))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)pa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?mo(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new bl,r=[],s=new Map,a=[],u=new Map,f=new Map,b=new Map,x=new Set;this.disabledNodes.forEach(qt=>{x.add(qt);const pn=this.driver.query(qt,".ng-animate-queued",!0);for(let Fn=0;Fn<pn.length;Fn++)x.add(pn[Fn])});const D=this.bodyNode,R=Array.from(this.statesByElement.keys()),B=ar(R,this.collectedEnterElements),z=new Map;let ee=0;B.forEach((qt,pn)=>{const Fn=Lc+ee++;z.set(pn,Fn),qt.forEach(bi=>pa(bi,Fn))});const ae=[],we=new Set,qe=new Set;for(let qt=0;qt<this.collectedLeaveElements.length;qt++){const pn=this.collectedLeaveElements[qt],Fn=pn[is];Fn&&Fn.setForRemoval&&(ae.push(pn),we.add(pn),Fn.hasAnimation?this.driver.query(pn,".ng-star-inserted",!0).forEach(bi=>we.add(bi)):qe.add(pn))}const Ye=new Map,at=ar(R,Array.from(we));at.forEach((qt,pn)=>{const Fn=Bc+ee++;Ye.set(pn,Fn),qt.forEach(bi=>pa(bi,Fn))}),t.push(()=>{B.forEach((qt,pn)=>{const Fn=z.get(pn);qt.forEach(bi=>cc(bi,Fn))}),at.forEach((qt,pn)=>{const Fn=Ye.get(pn);qt.forEach(bi=>cc(bi,Fn))}),ae.forEach(qt=>{this.processLeaveNode(qt)})});const Jt=[],fn=[];for(let qt=this._namespaceList.length-1;qt>=0;qt--)this._namespaceList[qt].drainQueuedTransitions(e).forEach(Fn=>{const bi=Fn.player,na=Fn.element;if(Jt.push(bi),this.collectedEnterElements.length){const Nd=na[is];if(Nd&&Nd.setForMove)return void bi.destroy()}const am=!D||!this.driver.containsElement(D,na),Vu=Ye.get(na),Ov=z.get(na),ps=this._buildInstruction(Fn,i,Ov,Vu,am);if(ps.errors&&ps.errors.length)return void fn.push(ps);if(am)return bi.onStart(()=>yl(na,ps.fromStyles)),bi.onDestroy(()=>Qi(na,ps.toStyles)),void r.push(bi);if(Fn.isFallbackTransition)return bi.onStart(()=>yl(na,ps.fromStyles)),bi.onDestroy(()=>Qi(na,ps.toStyles)),void r.push(bi);const oK=[];ps.timelines.forEach(Nd=>{Nd.stretchStartingKeyframe=!0,this.disabledNodes.has(Nd.element)||oK.push(Nd)}),ps.timelines=oK,i.append(na,ps.timelines),a.push({instruction:ps,player:bi,element:na}),ps.queriedElements.forEach(Nd=>Vs(u,Nd,[]).push(bi)),ps.preStyleProps.forEach((Nd,mT)=>{const IR=Object.keys(Nd);if(IR.length){let lw=f.get(mT);lw||f.set(mT,lw=new Set),IR.forEach(rU=>lw.add(rU))}}),ps.postStyleProps.forEach((Nd,mT)=>{const IR=Object.keys(Nd);let lw=b.get(mT);lw||b.set(mT,lw=new Set),IR.forEach(rU=>lw.add(rU))})});if(fn.length){const qt=[];fn.forEach(pn=>{qt.push(`@${pn.triggerName} has failed due to:\n`),pn.errors.forEach(Fn=>qt.push(`- ${Fn}\n`))}),Jt.forEach(pn=>pn.destroy()),this.reportError(qt)}const li=new Map,fs=new Map;a.forEach(qt=>{const pn=qt.element;i.has(pn)&&(fs.set(pn,pn),this._beforeAnimationBuild(qt.player.namespaceId,qt.instruction,li))}),r.forEach(qt=>{const pn=qt.element;this._getPreviousPlayers(pn,!1,qt.namespaceId,qt.triggerName,null).forEach(bi=>{Vs(li,pn,[]).push(bi),bi.destroy()})});const al=ae.filter(qt=>id(qt,f,b)),o_=new Map;Gv(o_,this.driver,qe,b,xs).forEach(qt=>{id(qt,f,b)&&al.push(qt)});const pT=new Map;B.forEach((qt,pn)=>{Gv(pT,this.driver,new Set(qt),f,"!")}),al.forEach(qt=>{const pn=o_.get(qt),Fn=pT.get(qt);o_.set(qt,Object.assign(Object.assign({},pn),Fn))});const aw=[],rK=[],sK={};a.forEach(qt=>{const{element:pn,player:Fn,instruction:bi}=qt;if(i.has(pn)){if(x.has(pn))return Fn.onDestroy(()=>Qi(pn,bi.toStyles)),Fn.disabled=!0,Fn.overrideTotalTime(bi.totalTime),void r.push(Fn);let na=sK;if(fs.size>1){let Vu=pn;const Ov=[];for(;Vu=Vu.parentNode;){const ps=fs.get(Vu);if(ps){na=ps;break}Ov.push(Vu)}Ov.forEach(ps=>fs.set(ps,na))}const am=this._buildAnimation(Fn.namespaceId,bi,li,s,pT,o_);if(Fn.setRealPlayer(am),na===sK)aw.push(Fn);else{const Vu=this.playersByElement.get(na);Vu&&Vu.length&&(Fn.parentPlayer=mo(Vu)),r.push(Fn)}}else yl(pn,bi.fromStyles),Fn.onDestroy(()=>Qi(pn,bi.toStyles)),rK.push(Fn),x.has(pn)&&r.push(Fn)}),rK.forEach(qt=>{const pn=s.get(qt.element);if(pn&&pn.length){const Fn=mo(pn);qt.setRealPlayer(Fn)}}),r.forEach(qt=>{qt.parentPlayer?qt.syncPlayerEvents(qt.parentPlayer):qt.destroy()});for(let qt=0;qt<ae.length;qt++){const pn=ae[qt],Fn=pn[is];if(cc(pn,Bc),Fn&&Fn.hasAnimation)continue;let bi=[];if(u.size){let am=u.get(pn);am&&am.length&&bi.push(...am);let Vu=this.driver.query(pn,vf,!0);for(let Ov=0;Ov<Vu.length;Ov++){let ps=u.get(Vu[Ov]);ps&&ps.length&&bi.push(...ps)}}const na=bi.filter(am=>!am.destroyed);na.length?__(this,pn,na):this.processLeaveNode(pn)}return ae.length=0,aw.forEach(qt=>{this.players.push(qt),qt.onDone(()=>{qt.destroy();const pn=this.players.indexOf(qt);this.players.splice(pn,1)}),qt.play()}),aw}elementContainsData(t,e){let i=!1;const r=e[is];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const f=!s||s==ih;u.forEach(b=>{b.queued||!f&&b.triggerName!=r||a.push(b)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const b=f.element,x=b!==s,D=Vs(i,b,[]);this._getPreviousPlayers(b,x,a,u,e.toState).forEach(B=>{const z=B.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),B.destroy(),D.push(B)})}yl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const u=e.triggerName,f=e.element,b=[],x=new Set,D=new Set,R=e.timelines.map(z=>{const ee=z.element;x.add(ee);const ae=ee[is];if(ae&&ae.removedBeforeQueried)return new No(z.duration,z.delay);const we=ee!==f,qe=function(n){const t=[];return vw(n,t),t}((i.get(ee)||kf).map(li=>li.getRealPlayer())).filter(li=>!!li.element&&li.element===ee),Ye=s.get(ee),at=a.get(ee),Jt=ka(0,this._normalizer,0,z.keyframes,Ye,at),fn=this._buildPlayer(z,Jt,qe);if(z.subTimeline&&r&&D.add(ee),we){const li=new Xs(t,u,ee);li.setRealPlayer(fn),b.push(li)}return fn});b.forEach(z=>{Vs(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,z.element,z))}),x.forEach(z=>pa(z,Fv));const B=mo(R);return B.onDestroy(()=>{x.forEach(z=>cc(z,Fv)),Qi(f,e.toStyles)}),D.forEach(z=>{Vs(r,z,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new No(t.duration,t.delay)}}class Xs{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new No,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>mf(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Vs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Mm(n){return n&&1===n.nodeType}function rh(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Gv(n,t,e,i,r){const s=[];e.forEach(f=>s.push(rh(f)));const a=[];i.forEach((f,b)=>{const x={};f.forEach(D=>{const R=x[D]=t.computeStyle(b,D,r);(!R||0==R.length)&&(b[is]=Zc,a.push(b))}),n.set(b,x)});let u=0;return e.forEach(f=>rh(f,s[u++])),a}function ar(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(u){if(!u)return 1;let f=s.get(u);if(f)return f;const b=u.parentNode;return f=e.has(b)?b:r.has(b)?1:a(b),s.set(u,f),f}return t.forEach(u=>{const f=a(u);1!==f&&e.get(f).push(u)}),e}function pa(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function cc(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function __(n,t,e){mo(e).onDone(()=>n.processLeaveNode(t))}function vw(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Gd?vw(i.players,t):t.push(i)}}function id(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Of{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Wc(t,e,i),this._timelineEngine=new $c(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const f=[],b=vl(this._driver,s,f);if(f.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${f.join("\n - ")}`);u=function(n,t,e){return new Cx(n,t,e)}(r,b,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=rc(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,u]=rc(i);return this._timelineEngine.listen(a,e,u,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function vo(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Kc(t[0]),t.length>1&&(i=Kc(t[t.length-1]))):t&&(e=Kc(t)),e||i?new rd(n,e,i):null}let rd=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Qi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qi(this._element,this._initialStyles),this._endStyles&&(Qi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yl(this._element,this._endStyles),this._endStyles=null),Qi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Kc(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];sh(r)&&(t=t||{},t[r]=n[r])}return t}function sh(n){return"display"===n||"position"===n}const v_="animation",Nf="animationend";class b_{constructor(t,e,i,r,s,a,u){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=a,this._onDoneFn=u,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=f=>this._handleCallback(f)}apply(){(function(n,t){const e=Rm(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Pf(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Qc(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){oh(this._element,this._name,"paused")}resume(){oh(this._element,this._name,"running")}setPosition(t){const e=ww(this._element,this._name);this._position=t*this._duration,Pf(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Qc(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=Rm(n,"").split(","),r=Om(i,t);r>=0&&(i.splice(r,1),Pf(n,"",i.join(",")))}(this._element,this._name))}}function oh(n,t,e){Pf(n,"PlayState",e,ww(n,t))}function ww(n,t){const e=Rm(n,"");return e.indexOf(",")>0?Om(e.split(","),t):Om([e],t)}function Om(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function Qc(n,t,e){e?n.removeEventListener(Nf,t):n.addEventListener(Nf,t)}function Pf(n,t,e,i){const r=v_+t;if(null!=i){const s=n.style[r];if(s.length){const a=s.split(",");a[i]=e,e=a.join(",")}}n.style[r]=e}function Rm(n,t){return n.style[v_+t]||""}class ah{constructor(t,e,i,r,s,a,u,f){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=u,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new b_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Kd(this.element,i))})}this.currentSnapshot=t}}class Lf extends No{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=gf(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class lh{constructor(){this._count=0}validateStyleProperty(t){return Zd(t)}matchesElement(t,e){return!1}containsElement(t,e){return oc(t,e)}query(t,e,i){return _o(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(u=>gf(u));let r=`@keyframes ${e} {\n`,s="";i.forEach(u=>{s=" ";const f=parseFloat(u.offset);r+=`${s}${100*f}% {\n`,s+=" ",Object.keys(u).forEach(b=>{const x=u[b];switch(b){case"offset":return;case"easing":return void(x&&(r+=`${s}animation-timing-function: ${x};\n`));default:return void(r+=`${s}${b}: ${x};\n`)}}),r+=`${s}}\n`}),r+="}\n";const a=document.createElement("style");return a.textContent=r,a}animate(t,e,i,r,s,a=[],u){const f=a.filter(ae=>ae instanceof ah),b={};Yd(i,r)&&f.forEach(ae=>{let we=ae.currentSnapshot;Object.keys(we).forEach(qe=>b[qe]=we[qe])});const x=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=fa(t,e,b));if(0==i)return new Lf(t,x);const D="gen_css_kf_"+this._count++,R=this.buildKeyframeElement(t,D,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(R);const z=vo(t,e),ee=new ah(t,e,D,i,r,s,x,z);return ee.onDestroy(()=>{var n;(n=R).parentNode.removeChild(n)}),ee}}class Pm{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Kd(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Kv{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Fm().toString()),this._cssKeyframesDriver=new lh}validateStyleProperty(t){return Zd(t)}matchesElement(t,e){return!1}containsElement(t,e){return oc(t,e)}query(t,e,i){return _o(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,a=[],u){if(!u&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,a);const x={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(x.easing=s);const D={},R=a.filter(z=>z instanceof Pm);Yd(i,r)&&R.forEach(z=>{let ee=z.currentSnapshot;Object.keys(ee).forEach(ae=>D[ae]=ee[ae])});const B=vo(t,e=fa(t,e=e.map(z=>ac(z,!1)),D));return new Pm(t,e,x,B)}}function Fm(){return ff()&&Element.prototype.animate||{}}let Lm=(()=>{class n extends Rc{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Zu(e):e;return Bf(this._renderer,null,i,"register",[r]),new Xc(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Xc extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new vr(this._id,t,e||{},this._renderer)}}class vr{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Bf(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Bf(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const ch="@.disabled";let Vr=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const u=null==a?void 0:a.parentNode(s);u&&a.removeChild(u,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(s);return x||(x=new El("",s,this.engine),this._rendererCache.set(s,x)),x}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const f=x=>{Array.isArray(x)?x.forEach(f):this.engine.registerTrigger(a,u,e,x.name,x)};return i.data.animation.forEach(f),new uh(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Of),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class El{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==ch?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class uh extends El{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ch?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let tu=(()=>{class n extends Of{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue),o.LFG(Po),o.LFG(If))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ur=new o.OlP("AnimationModuleType"),Bm=[{provide:Rc,useClass:Lm},{provide:If,useFactory:function(){return new jv}},{provide:Of,useClass:tu},{provide:o.FYo,useFactory:function(n,t,e){return new Vr(n,t,e)},deps:[vn,Of,o.R0b]}],Uf=[{provide:Po,useFactory:function(){return"function"==typeof Fm()?new Kv:new lh}},{provide:ur,useValue:"BrowserAnimations"},...Bm],x_=[{provide:Po,useClass:Ku},{provide:ur,useValue:"NoopAnimations"},...Bm];let jf=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?x_:Uf}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Uf,imports:[da]}),n})();var $n=G(8996),sd=G(3269);function Ct(...n){const t=(0,sd.yG)(n);return(0,$n.D)(n,t)}var kt=G(7579);class Ur extends kt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Wn=G(8306);const{isArray:Dl}=Array,{getPrototypeOf:hh,prototype:Vm,keys:Jv}=Object;function fh(n){if(1===n.length){const t=n[0];if(Dl(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&hh(n)===Vm}(t)){const e=Jv(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var La=G(4671),It=G(4004);const{isArray:Um}=Array;function ma(n){return(0,It.U)(t=>function(n,t){return Um(t)?n(...t):n(t)}(n,t))}function qf(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Di=G(5403),zf=G(9672);function Lo(...n){const t=(0,sd.yG)(n),e=(0,sd.jO)(n),{args:i,keys:r}=fh(n);if(0===i.length)return(0,$n.D)([],t);const s=new Wn.y(function(n,t,e=La.y){return i=>{ph(t,()=>{const{length:r}=n,s=new Array(r);let a=r,u=r;for(let f=0;f<r;f++)ph(t,()=>{const b=(0,$n.D)(n[f],t);let x=!1;b.subscribe(new Di.Q(i,D=>{s[f]=D,x||(x=!0,u--),u||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>qf(r,a):La.y));return e?s.pipe(ma(e)):s}function ph(n,t,e){n?(0,zf.f)(e,n,t):t()}const nu=(0,G(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var iu=G(8189);function Si(...n){return(0,iu.J)(1)((0,$n.D)(n,(0,sd.yG)(n)))}var bo=G(8421);function uc(n){return new Wn.y(t=>{(0,bo.Xf)(n()).subscribe(t)})}var Sl=G(515),On=G(727),Xi=G(4482);function od(){return(0,Xi.e)((n,t)=>{let e=null;n._refCount++;const i=new Di.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ad extends Wn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Xi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new On.w0;const e=this.getSubject();t.add(this.source.subscribe(new Di.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=On.w0.EMPTY)}return t}refCount(){return od()(this)}}function yi(n,t){return(0,Xi.e)((e,i)=>{let r=null,s=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe(new Di.Q(i,f=>{null==r||r.unsubscribe();let b=0;const x=s++;(0,bo.Xf)(n(f,x)).subscribe(r=new Di.Q(i,D=>i.next(t?t(f,D,x,b++):D),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var hi=G(5698);function Bi(...n){const t=(0,sd.yG)(n);return(0,Xi.e)((e,i)=>{(t?Si(n,e,t):Si(n,e)).subscribe(i)})}function dc(n,t,e,i,r){return(s,a)=>{let u=e,f=t,b=0;s.subscribe(new Di.Q(a,x=>{const D=b++;f=u?n(f,x,D):(u=!0,x),i&&a.next(f)},r&&(()=>{u&&a.next(f),a.complete()})))}}function Tl(n,t){return(0,Xi.e)(dc(n,t,arguments.length>=2,!0))}function ii(n,t){return(0,Xi.e)((e,i)=>{let r=0;e.subscribe(new Di.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Va(n){return(0,Xi.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new Di.Q(e,void 0,void 0,a=>{s=(0,bo.Xf)(n(a,Va(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var Ii=G(5577),Vo=G(576);function hc(n,t){return(0,Vo.m)(t)?(0,Ii.z)(n,t,1):(0,Ii.z)(n,1)}function mh(n){return n<=0?()=>Sl.E:(0,Xi.e)((t,e)=>{let i=[];t.subscribe(new Di.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Gf(n=$f){return(0,Xi.e)((t,e)=>{let i=!1;t.subscribe(new Di.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function $f(){return new nu}function Zf(n){return(0,Xi.e)((t,e)=>{let i=!1;t.subscribe(new Di.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ua(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ii((r,s)=>n(r,s,i)):La.y,(0,hi.q)(1),e?Zf(t):Gf(()=>new nu))}var br=G(8505);function ld(n){return(0,Xi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Il{constructor(t,e){this.id=t,this.url=e}}class jm extends Il{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ru extends Il{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gh extends Il{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ml extends Il{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class S_ extends Il{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hm extends Il{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qm extends Il{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wf extends Il{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yf extends Il{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zm{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _h{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gm{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T_{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class su{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rn="primary";class ou{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pc(n){return new ou(n)}const cd="ngNavigationCancelingError";function au(n){const t=Error("NavigationCancelingError: "+n);return t[cd]=!0,t}function I_(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],u=n[s];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function eo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Kf(n[r],t[r]))return!1;return!0}function Kf(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function kl(n){return Array.prototype.concat.apply([],n)}function Qf(n){return n.length>0?n[n.length-1]:null}function rs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Uo(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,$n.D)(Promise.resolve(n)):Ct(n)}const Aw={exact:function k_(n,t,e){if(!tn(n.segments,t.segments)||!vh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!k_(n.children[i],t.children[i],e))return!1;return!0},subset:O_},Jf={exact:function(n,t){return eo(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Kf(n[e],t[e]))},ignored:()=>!0};function Nn(n,t,e){return Aw[e.paths](n.root,t.root,e.matrixParams)&&Jf[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function O_(n,t,e){return R_(n,t,t.segments,e)}function R_(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!tn(r,e)||t.hasChildren()||!vh(r,e,i))}if(n.segments.length===e.length){if(!tn(n.segments,e)||!vh(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!O_(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(tn(n.segments,r)&&vh(n.segments,r,i)&&n.children[Rn])&&R_(n.children[Rn],t,s,i)}}function vh(n,t,e){return t.every((i,r)=>Jf[e](n[r].parameters,i.parameters))}class cu{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pc(this.queryParams)),this._queryParamMap}toString(){return ep.serialize(this)}}class In{constructor(t,e){this.segments=t,this.children=e,this.parent=null,rs(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return js(this)}}class bh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pc(this.parameters)),this._parameterMap}toString(){return Zm(this)}}function tn(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Xf{}class wh{parse(t){const e=new Sw(t);return new cu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${mc(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${uu(e)}=${uu(r)}`).join("&"):`${uu(e)}=${uu(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${i}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const ep=new wh;function js(n){return n.segments.map(t=>Zm(t)).join("/")}function mc(n,t){if(!n.hasChildren())return js(n);if(t){const e=n.children[Rn]?mc(n.children[Rn],!1):"",i=[];return rs(n.children,(r,s)=>{s!==Rn&&i.push(`${s}:${mc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return rs(n.children,(i,r)=>{r===Rn&&(e=e.concat(t(i,r)))}),rs(n.children,(i,r)=>{r!==Rn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Rn?[mc(n.children[Rn],!1)]:[`${r}:${mc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rn]?`${js(n)}/${e[0]}`:`${js(n)}/(${e.join("//")})`}}function nb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uu(n){return nb(n).replace(/%3B/gi,";")}function du(n){return nb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ch(n){return decodeURIComponent(n)}function tp(n){return Ch(n.replace(/\+/g,"%20"))}function Zm(n){return`${du(n.path)}${function(n){return Object.keys(n).map(t=>`;${du(t)}=${du(n[t])}`).join("")}(n.parameters)}`}const Wm=/^[^\/()?;=#]+/;function Ol(n){const t=n.match(Wm);return t?t[0]:""}const P_=/^[^=?&#]+/,F_=/^[^&#]+/;class Sw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Rn]=new In(t,e)),i}parseSegment(){const t=Ol(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new bh(Ch(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ol(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ol(this.remaining);r&&(i=r,this.capture(i))}t[Ch(e)]=Ch(i)}parseQueryParam(t){const e=function(n){const t=n.match(P_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function(n){const t=n.match(F_);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=tp(e),s=tp(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ol(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Rn);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[Rn]:new In([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ip{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=L_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=L_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return rp(t,this._root).map(e=>e.value)}}function L_(n,t){if(n===t.value)return t;for(const e of t.children){const i=L_(n,e);if(i)return i}return null}function rp(n,t){if(n===t.value)return[t];for(const e of t.children){const i=rp(n,e);if(i.length)return i.unshift(t),i}return[]}class Ha{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class B_ extends ip{constructor(t,e){super(t),this.snapshot=e,Ah(this,t)}toString(){return this.snapshot.toString()}}function Tw(n,t){const e=function(n,t){const a=new xh([],{},{},"",{},Rn,t,null,n.root,-1,{});return new rb("",new Ha(a,[]))}(n,t),i=new Ur([new bh("",{})]),r=new Ur({}),s=new Ur({}),a=new Ur({}),u=new Ur(""),f=new gc(i,r,a,u,s,Rn,t,e.root);return f.snapshot=e.root,new B_(new Ha(f,[]),e)}class gc{constructor(t,e,i,r,s,a,u,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(t=>pc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(t=>pc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class xh{constructor(t,e,i,r,s,a,u,f,b,x,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this.routeConfig=f,this._urlSegment=b,this._lastPathIndex=x,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rb extends ip{constructor(t,e){super(e),this.url=t,Ah(this,e)}toString(){return V_(this._root)}}function Ah(n,t){t.value._routerState=n,t.children.forEach(e=>Ah(n,e))}function V_(n){const t=n.children.length>0?` { ${n.children.map(V_).join(", ")} } `:"";return`${n.value}${t}`}function U_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,eo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),eo(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!eo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),eo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function j_(n,t){const e=eo(n.params,t.params)&&function(n,t){return tn(n,t)&&n.every((e,i)=>eo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||j_(n.parent,t.parent))}function Qm(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Qm(n,i,r);return Qm(n,i)})}(n,t,e);return new Ha(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>Qm(n,u)),a}}const i=function(n){return new gc(new Ur(n.url),new Ur(n.params),new Ur(n.queryParams),new Ur(n.fragment),new Ur(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Qm(n,s));return new Ha(i,r)}}function Dh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jm(n){return"object"==typeof n&&null!=n&&n.outlets}function Rl(n,t,e,i,r){let s={};return i&&rs(i,(a,u)=>{s[u]=Array.isArray(a)?a.map(f=>`${f}`):`${a}`}),new cu(e.root===n?t:q_(e.root,n,t),s,r)}function q_(n,t,e){const i={};return rs(n.children,(r,s)=>{i[s]=r===t?e:q_(r,t,e)}),new In(n.segments,i)}class ap{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Dh(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Jm);if(r&&r!==Qf(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xm{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function z_(n,t,e){if(n||(n=new In([],{})),0===n.segments.length&&n.hasChildren())return G_(n,t,e);const i=function(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],u=e[i];if(Jm(u))break;const f=`${u}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&b&&"object"==typeof b&&void 0===b.outlets){if(!fu(f,b,a))return s;i+=2}else{if(!fu(f,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new In(n.segments.slice(0,i.pathIndex),{});return s.children[Rn]=new In(n.segments.slice(i.pathIndex),n.children),G_(s,0,r)}return i.match&&0===r.length?new In(n.segments,{}):i.match&&!n.hasChildren()?lp(n,t,e):i.match?G_(n,0,r):lp(n,t,e)}function G_(n,t,e){if(0===e.length)return new In(n.segments,{});{const i=function(n){return Jm(n[0])?n[0].outlets:{[Rn]:n}}(e),r={};return rs(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=z_(n.children[a],t,s))}),rs(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new In(n.segments,r)}}function lp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Jm(s)){const f=Ow(s.outlets);return new In(i,f)}if(0===r&&Dh(e[0])){i.push(new bh(n.segments[t].path,cp(e[0]))),r++;continue}const a=Jm(s)?s.outlets[Rn]:`${s}`,u=r<e.length-1?e[r+1]:null;a&&u&&Dh(u)?(i.push(new bh(a,cp(u))),r+=2):(i.push(new bh(a,{})),r++)}return new In(i,{})}function Ow(n){const t={};return rs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=lp(new In([],{}),0,e))}),t}function cp(n){const t={};return rs(n,(e,i)=>t[i]=`${e}`),t}function fu(n,t,e){return n==e.path&&eo(t,e.parameters)}class Sh{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),U_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=sp(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),rs(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=sp(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=sp(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=sp(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new fc(s.value.snapshot))}),t.children.length&&this.forwardEvent(new yh(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(U_(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),U_(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),f=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=f,a.outlet&&a.outlet.activateWith(r,f),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class mu{constructor(t,e){this.routes=t,this.module=e}}function _c(n){return"function"==typeof n}function za(n){return n instanceof cu}const up=Symbol("INITIAL_VALUE");function Th(){return yi(n=>Lo(n.map(t=>t.pipe((0,hi.q)(1),Bi(up)))).pipe(Tl((t,e)=>{let i=!1;return e.reduce((r,s,a)=>r!==up?r:(s===up&&(i=!0),i||!1!==s&&a!==e.length-1&&!za(s)?r:s),t)},up),ii(t=>t!==up),(0,It.U)(t=>za(t)?t:!0===t),(0,hi.q)(1)))}class Nw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dp,this.attachRef=null}}class dp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Nw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let hp=(()=>{class n{constructor(e,i,r,s,a){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||Rn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,f=new $_(e,u,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(dp),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class $_{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===gc?this.route:t===dp?this.childContexts:this.parent.get(t,e)}}let tg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[hp],encapsulation:2}),n})();function gu(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Pw(i,Ho(t,i))}}function Pw(n,t){n.children&&gu(n.children,t)}function Ho(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Z_(n){const t=n.children&&n.children.map(Z_),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rn&&(e.component=tg),e}function Ga(n){return n.outlet||Rn}function fp(n,t){const e=n.filter(i=>Ga(i)===t);return e.push(...n.filter(i=>Ga(i)!==t)),e}const Fw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ih(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Fw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||I_)(e,n,t);if(!s)return Object.assign({},Fw);const a={};rs(s.posParams,(f,b)=>{a[b]=f.path});const u=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:u,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Mh(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>ss(n,t,i)&&Ga(i)!==Rn)}(n,e,i)){const a=new In(t,function(n,t,e,i){const r={};r[Rn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Ga(s)!==Rn){const a=new In([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[Ga(s)]=a}return r}(n,t,i,new In(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>ss(n,t,i))}(n,e,i)){const a=new In(n.segments,function(n,t,e,i,r,s){const a={};for(const u of i)if(ss(n,e,u)&&!r[Ga(u)]){const f=new In([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[Ga(u)]=f}return Object.assign(Object.assign({},r),a)}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new In(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function ss(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function cb(n,t,e,i){return!!(Ga(n)===i||i!==Rn&&ss(t,e,n))&&("**"===n.path||Ih(t,n,e).matched)}function ng(n,t,e){return 0===t.length&&!n.children[e]}class pp{constructor(t){this.segmentGroup=t||null}}class ig{constructor(t){this.urlTree=t}}function mp(n){return new Wn.y(t=>t.error(new pp(n)))}function W_(n){return new Wn.y(t=>t.error(new ig(n)))}function gp(n){return new Wn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class $a{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=Mh(this.urlTree.root,[],[],this.config).segmentGroup,e=new In(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Rn).pipe((0,It.U)(s=>this.createUrlTree(rg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Va(s=>{if(s instanceof ig)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof pp?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rn).pipe((0,It.U)(r=>this.createUrlTree(rg(r),t.queryParams,t.fragment))).pipe(Va(r=>{throw r instanceof pp?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new In([],{[Rn]:t}):t;return new cu(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,It.U)(s=>new In([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,$n.D)(r).pipe(hc(s=>{const a=i.children[s],u=fp(e,s);return this.expandSegmentGroup(t,u,a,s).pipe((0,It.U)(f=>({segment:f,outlet:s})))}),Tl((s,a)=>(s[a.outlet]=a.segment,s),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ii((r,s)=>n(r,s,i)):La.y,mh(1),e?Zf(t):Gf(()=>new nu))}())}expandSegment(t,e,i,r,s,a){return(0,$n.D)(i).pipe(hc(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,s,a).pipe(Va(b=>{if(b instanceof pp)return Ct(null);throw b}))),Ua(u=>!!u),Va((u,f)=>{if(u instanceof nu||"EmptyError"===u.name){if(ng(e,r,s))return Ct(new In([],{}));throw new pp(e)}throw u}))}expandSegmentAgainstRoute(t,e,i,r,s,a,u){return cb(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):mp(e):mp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?W_(s):this.lineralizeSegments(i,s).pipe((0,Ii.z)(a=>{const u=new In(a,{});return this.expandSegment(t,u,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:u,consumedSegments:f,lastChild:b,positionalParamSegments:x}=Ih(e,r,s);if(!u)return mp(e);const D=this.applyRedirectCommands(f,r.redirectTo,x);return r.redirectTo.startsWith("/")?W_(D):this.lineralizeSegments(r,D).pipe((0,Ii.z)(R=>this.expandSegment(t,e,i,R.concat(s.slice(b)),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ct(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,It.U)(R=>(i._loadedConfig=R,new In(r,{})))):Ct(new In(r,{}));const{matched:a,consumedSegments:u,lastChild:f}=Ih(e,i,r);if(!a)return mp(e);const b=r.slice(f);return this.getChildConfig(t,i,r).pipe((0,Ii.z)(D=>{const R=D.module,B=D.routes,{segmentGroup:z,slicedSegments:ee}=Mh(e,u,b,B),ae=new In(z.segments,z.children);if(0===ee.length&&ae.hasChildren())return this.expandChildren(R,B,ae).pipe((0,It.U)(at=>new In(u,at)));if(0===B.length&&0===ee.length)return Ct(new In(u,{}));const we=Ga(i)===s;return this.expandSegment(R,ae,B,ee,we?Rn:s,!0).pipe((0,It.U)(Ye=>new In(u.concat(Ye.segments),Ye.children)))}))}getChildConfig(t,e,i){return e.children?Ct(new mu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ct(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Ii.z)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,It.U)(s=>(e._loadedConfig=s,s))):(n=e,new Wn.y(t=>t.error(au(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Ct(new mu([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?Ct(r.map(a=>{const u=t.get(a);let f;if((n=u)&&_c(n.canLoad))f=u.canLoad(e,i);else{if(!_c(u))throw new Error("Invalid CanLoad guard");f=u(e,i)}var n;return Uo(f)})).pipe(Th(),(0,br.b)(a=>{if(!za(a))return;const u=au(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw u.url=a,u}),(0,It.U)(a=>!0===a)):Ct(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ct(i);if(r.numberOfChildren>1||!r.children[Rn])return gp(t.redirectTo);r=r.children[Rn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new cu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return rs(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[s]=e[u]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return rs(e.children,(u,f)=>{a[f]=this.createSegmentGroup(t,u,i,r)}),new In(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function rg(n){const t={};for(const i of Object.keys(n.children)){const s=rg(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Rn]){const t=n.children[Rn];return new In(n.segments.concat(t.segments),t.children)}return n}(new In(n.segments,t))}class db{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kh{constructor(t,e){this.component=t,this.route=e}}function Q_(n,t,e){const i=n._root;return Rh(i,t?t._root:null,e,[i.value])}function _p(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Rh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=sp(t);return n.children.forEach(a=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const f=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!tn(n.url,t.url);case"pathParamsOrQueryParamsChange":return!tn(n.url,t.url)||!eo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!j_(n,t)||!eo(n.queryParams,t.queryParams);default:return!j_(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new db(i)):(s.data=a.data,s._resolvedData=a._resolvedData),Rh(n,t,s.component?u?u.children:null:e,i,r),f&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new kh(u.outlet.component,a))}else a&&Za(t,u,r),r.canActivateChecks.push(new db(i)),Rh(n,null,s.component?u?u.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),rs(s,(a,u)=>Za(a,e.getContext(u),r)),r}function Za(n,t,e){const i=sp(n),r=n.value;rs(i,(s,a)=>{Za(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new kh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class fb{}function bu(n){return new Wn.y(t=>t.error(n))}class Ds{constructor(t,e,i,r,s,a){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const t=Mh(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Rn);if(null===e)return null;const i=new xh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ha(i,e),s=new rb(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=Eh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const a=e.children[s],u=fp(t,s),f=this.processSegmentGroup(u,a,s);if(null===f)return null;i.push(...f)}const r=Pl(i);return r.sort((t,e)=>t.value.outlet===Rn?-1:e.value.outlet===Rn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const s of t){const a=this.processSegmentAgainstRoute(s,e,i,r);if(null!==a)return a}return ng(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!cb(t,e,i,r))return null;let s,a=[],u=[];if("**"===t.path){const B=i.length>0?Qf(i).parameters:{};s=new xh(i,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bp(t),Ga(t),t.component,t,lg(e),cg(e)+i.length,qo(t))}else{const B=Ih(e,t,i);if(!B.matched)return null;a=B.consumedSegments,u=i.slice(B.lastChild),s=new xh(a,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bp(t),Ga(t),t.component,t,lg(e),cg(e)+a.length,qo(t))}const f=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:b,slicedSegments:x}=Mh(e,a,u,f.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);var n;if(0===x.length&&b.hasChildren()){const B=this.processChildren(f,b);return null===B?null:[new Ha(s,B)]}if(0===f.length&&0===x.length)return[new Ha(s,[])];const D=Ga(t)===r,R=this.processSegment(f,b,x,D?Rn:r);return null===R?null:[new Ha(s,R)]}}function Nl(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Pl(n){const t=[],e=new Set;for(const i of n){if(!Nl(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Pl(i.children);t.push(new Ha(i.value,r))}return t.filter(i=>!e.has(i))}function lg(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cg(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function bp(n){return n.data||{}}function qo(n){return n.resolve||{}}function Hr(n){return yi(t=>{const e=n(t);return e?(0,$n.D)(e).pipe((0,It.U)(()=>t)):Ct(t)})}class xp extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const dr=new o.OlP("ROUTES");class yc{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,It.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=s.create(t);return new mu(kl(a.injector.get(dr,void 0,o.XFs.Self|o.XFs.Optional)).map(Z_),a)}),Va(s=>{throw e._loader$=void 0,s}));return e._loader$=new ad(r,()=>new kt.x).pipe(od()),e._loader$}loadModuleFactory(t){return Uo(t()).pipe((0,Ii.z)(e=>e instanceof o.YKP?Ct(e):(0,$n.D)(this.compiler.compileModuleAsync(e))))}}class Eu{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ty(n){throw n}function ny(n,t,e){return t.parse("/")}function iy(n,t){return Ct(null)}const hd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ug={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let to=(()=>{class n{constructor(e,i,r,s,a,u,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kt.x,this.errorHandler=ty,this.malformedUriErrorHandler=ny,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:iy,afterPreactivation:iy},this.urlHandlingStrategy=new Eu,this.routeReuseStrategy=new xp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(o.h0i),this.console=a.get(o.c2e);const D=a.get(o.R0b);this.isNgZoneEnabled=D instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=new cu(new In([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yc(a,u,R=>this.triggerEvent(new zm(R)),R=>this.triggerEvent(new _h(R))),this.routerState=Tw(this.currentUrlTree,this.rootComponentType),this.transitions=new Ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ii(r=>0!==r.id),(0,It.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),yi(r=>{let s=!1,a=!1;return Ct(r).pipe((0,br.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.currentRawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yi(u=>{const f=this.browserUrlTree.toString(),b=!this.navigated||u.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return h(u.source)&&(this.browserUrlTree=u.extractedUrl),Ct(u).pipe(yi(D=>{const R=this.transitions.getValue();return i.next(new jm(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),R!==this.transitions.getValue()?Sl.E:Promise.resolve(D)}),function(n,t,e,i){return yi(r=>function(n,t,e,i,r){return new $a(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,It.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,br.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function(n,t,e,i,r){return(0,Ii.z)(s=>function(n,t,e,i,r="emptyOnly",s="legacy"){try{const a=new Ds(n,t,e,i,r,s).recognize();return null===a?bu(new fb):Ct(a)}catch(a){return bu(a)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,It.U)(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,br.b)(D=>{if("eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(B,D)}this.browserUrlTree=D.urlAfterRedirects}const R=new S_(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(R)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:B,source:z,restoredState:ee,extras:ae}=u,we=new jm(R,this.serializeUrl(B),z,ee);i.next(we);const qe=Tw(B,this.rootComponentType).snapshot;return Ct(Object.assign(Object.assign({},u),{targetSnapshot:qe,urlAfterRedirects:B,extras:Object.assign(Object.assign({},ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=u.rawUrl,u.resolve(null),Sl.E}),Hr(u=>{const{targetSnapshot:f,id:b,extractedUrl:x,rawUrl:D,extras:{skipLocationChange:R,replaceUrl:B}}=u;return this.hooks.beforePreactivation(f,{navigationId:b,appliedUrlTree:x,rawUrlTree:D,skipLocationChange:!!R,replaceUrl:!!B})}),(0,br.b)(u=>{const f=new Hm(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}),(0,It.U)(u=>Object.assign(Object.assign({},u),{guards:Q_(u.targetSnapshot,u.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Ii.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?Ct(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,$n.D)(n).pipe((0,Ii.z)(r=>function(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ct(s.map(u=>{const f=_p(u,t,r);let b;if(function(n){return n&&_c(n.canDeactivate)}(f))b=Uo(f.canDeactivate(n,t,e,i));else{if(!_c(f))throw new Error("Invalid CanDeactivate guard");b=Uo(f(n,t,e,i))}return b.pipe(Ua())})).pipe(Th()):Ct(!0)}(r.component,r.route,e,t,i)),Ua(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Ii.z)(u=>u&&function(n){return"boolean"==typeof n}(u)?function(n,t,e,i){return(0,$n.D)(t).pipe(hc(r=>Si(function(n,t){return null!==n&&t&&t(new Gm(n)),Ct(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new T_(n)),Ct(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>uc(()=>Ct(a.guards.map(f=>{const b=_p(f,a.node,e);let x;if(function(n){return n&&_c(n.canActivateChild)}(b))x=Uo(b.canActivateChild(i,n));else{if(!_c(b))throw new Error("Invalid CanActivateChild guard");x=Uo(b(i,n))}return x.pipe(Ua())})).pipe(Th())));return Ct(s).pipe(Th())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ct(!0);const r=i.map(s=>uc(()=>{const a=_p(s,t,e);let u;if(function(n){return n&&_c(n.canActivate)}(a))u=Uo(a.canActivate(t,n));else{if(!_c(a))throw new Error("Invalid CanActivate guard");u=Uo(a(t,n))}return u.pipe(Ua())}));return Ct(r).pipe(Th())}(n,r.route,e))),Ua(r=>!0!==r,!0))}(i,s,n,t):Ct(u)),(0,It.U)(u=>Object.assign(Object.assign({},e),{guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),(0,br.b)(u=>{if(za(u.guardsResult)){const b=au(`Redirecting to "${this.serializeUrl(u.guardsResult)}"`);throw b.url=u.guardsResult,b}const f=new qm(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(f)}),ii(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,""),!1)),Hr(u=>{if(u.guards.canActivateChecks.length)return Ct(u).pipe((0,br.b)(f=>{const b=new Wf(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(b)}),yi(f=>{let b=!1;return Ct(f).pipe(function(n,t){return(0,Ii.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ct(e);let s=0;return(0,$n.D)(r).pipe(hc(a=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return Ct({});const s={};return(0,$n.D)(r).pipe((0,Ii.z)(a=>function(n,t,e,i){const r=_p(n,t,i);return Uo(r.resolve?r.resolve(t,e):r(t,e))}(n[a],t,e,i).pipe((0,br.b)(u=>{s[a]=u}))),mh(1),(0,Ii.z)(()=>Object.keys(s).length===r.length?Ct(s):Sl.E))}(n._resolve,n,t,i).pipe((0,It.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Eh(n,e).resolve),null)))}(a.route,i,n,t)),(0,br.b)(()=>s++),mh(1),(0,Ii.z)(a=>s===r.length?Ct(e):Sl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,br.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,br.b)(f=>{const b=new Yf(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(b)}))}),Hr(u=>{const{targetSnapshot:f,id:b,extractedUrl:x,rawUrl:D,extras:{skipLocationChange:R,replaceUrl:B}}=u;return this.hooks.afterPreactivation(f,{navigationId:b,appliedUrlTree:x,rawUrlTree:D,skipLocationChange:!!R,replaceUrl:!!B})}),(0,It.U)(u=>{const f=function(n,t,e){const i=Qm(n,t._root,e?e._root:void 0);return new B_(i,t)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return Object.assign(Object.assign({},u),{targetRouterState:f})}),(0,br.b)(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,It.U)(i=>(new Sh(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),(0,br.b)({next(){s=!0},complete(){s=!0}}),ld(()=>{var u;s||a||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(u=this.currentNavigation)||void 0===u?void 0:u.id)===r.id&&(this.currentNavigation=null)}),Va(u=>{if(a=!0,function(n){return n&&n[cd]}(u)){const f=za(u.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const b=new gh(r.id,this.serializeUrl(r.extractedUrl),u.message);i.next(b),f?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h(r.source)};this.scheduleNavigation(x,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new Ml(r.id,this.serializeUrl(r.extractedUrl),u);i.next(f);try{r.resolve(this.errorHandler(u))}catch(b){r.reject(b)}}return Sl.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},a=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(a){const f=Object.assign({},a);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){gu(e),this.config=e.map(Z_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:f}=i,b=r||this.routerState.root,x=f?this.currentUrlTree.fragment:a;let D=null;switch(u){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),function(n,t,e,i,r){if(0===e.length)return Rl(t.root,t.root,t,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ap(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return rs(s.outlets,(f,b)=>{u[b]="string"==typeof f?f.split("/"):f}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((u,f)=>{0==f&&"."===u||(0==f&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new ap(e,t,i)}(e);if(s.toRoot())return Rl(t.root,new In([],{}),t,i,r);const a=function(n,t,e){if(n.isAbsolute)return new Xm(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Xm(s,s===t.root,0)}const i=Dh(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Xm(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),u=a.processChildren?G_(a.segmentGroup,a.index,s.commands):z_(a.segmentGroup,a.index,s.commands);return Rl(a.segmentGroup,u,t,i,r)}(b,this.currentUrlTree,e,D,null!=x?x:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=za(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},hd):!1===i?Object.assign({},ug):i,za(e))return Nn(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Nn(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ru(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,a){var u,f,b;if(this.disposed)return Promise.resolve(!1);const x=this.transitions.value,D=h(i)&&x&&!h(x.source),R=x.rawUrl.toString()===e.toString(),B=x.id===(null===(u=this.currentNavigation)||void 0===u?void 0:u.id);if(D&&R&&B)return Promise.resolve(!0);let ee,ae,we;a?(ee=a.resolve,ae=a.reject,we=a.promise):we=new Promise((at,Jt)=>{ee=at,ae=Jt});const qe=++this.navigationId;let Ye;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),Ye=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Ye=0,this.setTransition({id:qe,targetPageId:Ye,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:ee,reject:ae,promise:we,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),we.catch(at=>Promise.reject(at))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new gh(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function h(n){return"imperative"!==n}let g=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.commands=null,this.onChanges=new kt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:A(this.skipLocationChange),replaceUrl:A(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:A(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(to),o.Y36(gc),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),C=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new kt.x,this.subscription=e.events.subscribe(s=>{s instanceof ru&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,a){if(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const u={skipLocationChange:A(this.skipLocationChange),replaceUrl:A(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,u),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:A(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(to),o.Y36(gc),o.Y36(Me))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function A(n){return""===n||!!n}let O=(()=>{class n{constructor(e,i,r,s,a,u){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.linkWithHref=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(f=>{f instanceof ru&&this.update()})}ngAfterContentInit(){Ct(this.links.changes,this.linksWithHrefs.changes,Ct(null)).pipe((0,iu.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,$n.D)(i).pipe((0,iu.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(to),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(g,8),o.Y36(C,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,g,5),o.Suo(r,C,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.TTD]}),n})();class re{}class Pe{preload(t,e){return Ct(null)}}let rt=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new yc(r,i,f=>e.triggerEvent(new zm(f)),f=>e.triggerEvent(new _h(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(ii(e=>e instanceof ru),hc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,$n.D)(r).pipe((0,iu.J)(),(0,It.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Ct(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ii.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(to),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(re))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof jm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ru&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof su&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new su(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Jn=new o.OlP("ROUTER_CONFIGURATION"),no=new o.OlP("ROUTER_FORROOT_GUARD"),Ap=[Qe,{provide:Xf,useClass:wh},{provide:to,useFactory:function(n,t,e,i,r,s,a={},u,f){const b=new to(null,n,t,e,i,r,kl(s));return u&&(b.urlHandlingStrategy=u),f&&(b.routeReuseStrategy=f),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,b),a.enableTracing&&b.events.subscribe(x=>{var D,R;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(R=console.groupEnd)||void 0===R||R.call(console)}),b},deps:[Xf,dp,Qe,o.zs3,o.Sil,dr,Jn,[class{},new o.FiY],[class{},new o.FiY]]},dp,{provide:gc,useFactory:function(n){return n.routerState.root},deps:[to]},rt,Pe,class{preload(t,e){return e().pipe(Va(()=>Ct(null)))}},{provide:Jn,useValue:{enableTracing:!1}}];function ry(){return new o.PXZ("Router",to)}let sy=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Ap,Dp(e),{provide:no,useFactory:oy,deps:[[to,new o.FiY,new o.tp0]]},{provide:Jn,useValue:i||{}},{provide:Me,useFactory:fd,deps:[fe,[new o.tBr(Ke),new o.FiY],Jn]},{provide:He,useFactory:mb,deps:[to,Li,Jn]},{provide:re,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Pe},{provide:o.PXZ,multi:!0,useFactory:ry},[md,{provide:o.ip1,multi:!0,useFactory:ay,deps:[md]},{provide:hg,useFactory:ly,deps:[md]},{provide:o.tb,multi:!0,useExisting:hg}]]}}static forChild(e){return{ngModule:n,providers:[Dp(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(no,8),o.LFG(to,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function mb(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new He(n,t,e)}function fd(n,t,e={}){return e.useHash?new _t(n,t):new et(n,t)}function oy(n){return"guarded"}function Dp(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:dr,multi:!0,useValue:n}]}let md=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new kt.x}appInitializer(){return this.injector.get(J,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(u=>i=u),s=this.injector.get(to),a=this.injector.get(Jn);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Ct(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Jn),r=this.injector.get(rt),s=this.injector.get(He),a=this.injector.get(to),u=this.injector.get(o.z2F);e===u.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),r.setUpPreloading(),s.init(),a.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function ay(n){return n.appInitializer.bind(n)}function ly(n){return n.bootstrapListener.bind(n)}const hg=new o.OlP("Router Initializer");var er=G(6451),fg=G(5363),gb=G(6063);class Sp extends kt.x{constructor(t=1/0,e=1/0,i=gb.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let u=0;for(let f=1;f<i.length&&i[f]<=a;f+=2)u=f;u&&i.splice(0,u+1)}}}var Tp=G(3099);function Uw(n,t,e){var i,r;let s,a=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,a=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,Tp.B)({connector:()=>new Sp(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function jw(n,t){return(0,Vo.m)(t)?yi(()=>n,t):yi(()=>n)}var xu=G(9468),ci=G(5103),Vi=G(2011);G(259);var be=G(5861),Yt=G(3035);const mg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,u=a?n[r+1]:0,f=r+2<n.length,b=f?n[r+2]:0;let R=(15&u)<<2|b>>6,B=63&b;f||(B=64,a||(R=64)),i.push(e[s>>2],e[(3&s)<<4|u>>4],e[R],e[B])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t}(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const f=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(1023&f))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const b=r<n.length?e[n.charAt(r)]:64;++r;const D=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==u||null==b||null==D)throw new vT;i.push(s<<2|u>>4),64!==b&&(i.push(u<<4&240|b>>2),64!==D&&i.push(b<<6&192|D))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}class Gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}class Zw extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Zw.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,DT.prototype.create)}}class DT{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?function(n,t){return n.replace(Ww,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new Zw(r,`${this.serviceName}: ${a} (${r}).`,i)}}const Ww=/\{\$([^}]+)}/g;class Rx{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Qw=[];var Mi=(()=>{return(n=Mi||(Mi={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Mi;var n})();const Px={debug:Mi.DEBUG,verbose:Mi.VERBOSE,info:Mi.INFO,warn:Mi.WARN,error:Mi.ERROR,silent:Mi.SILENT},HT=Mi.INFO,qT={[Mi.DEBUG]:"log",[Mi.VERBOSE]:"log",[Mi.INFO]:"info",[Mi.WARN]:"warn",[Mi.ERROR]:"error"},zT=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=qT[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)},Fx=new Map,$T={activated:!1,tokenObservers:[]},ZT={initialized:!1,enabled:!1};function qr(n){return Fx.get(n)||Object.assign({},$T)}function bb(){return ZT}class cy{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,be.Z)(function*(){e.stop();try{e.pending=new Gw,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new Gw,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const io=new DT("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xw(n){if(!qr(n).activated)throw io.create("use-before-activation",{appName:n.name})}function dy(n,t){return bc.apply(this,arguments)}function bc(){return(bc=(0,be.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(t),headers:i};let a,u;try{a=yield fetch(n,s)}catch(D){throw io.create("fetch-network-error",{originalErrorMessage:null==D?void 0:D.message})}if(200!==a.status)throw io.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(D){throw io.create("fetch-parse-error",{originalErrorMessage:null==D?void 0:D.message})}const f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw io.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const b=1e3*Number(f[1]),x=Date.now();return{token:u.token,expireTimeMillis:x+b,issuedAtTimeMillis:x}})).apply(this,arguments)}function Du(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const hy="firebase-app-check-store";let eC=null;function QT(){return eC||(eC=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(io.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(hy,{keyPath:"compositeKey"})}}catch(e){t(io.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}),eC)}function tC(){return(tC=(0,be.Z)(function*(n,t){const i=(yield QT()).transaction(hy,"readwrite"),s=i.objectStore(hy).put({compositeKey:n,value:t});return new Promise((a,u)=>{s.onsuccess=f=>{a()},i.onerror=f=>{var b;u(io.create("storage-set",{originalErrorMessage:null===(b=f.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Mp=new class{constructor(t){this.name=t,this._logLevel=HT,this._logHandler=zT,this._userLogHandler=null,Qw.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mi))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Px[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mi.DEBUG,...t),this._logHandler(this,Mi.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mi.VERBOSE,...t),this._logHandler(this,Mi.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mi.INFO,...t),this._logHandler(this,Mi.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mi.WARN,...t),this._logHandler(this,Mi.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mi.ERROR,...t),this._logHandler(this,Mi.ERROR,...t)}}("@firebase/app-check");function rC(n,t){return function(){try{return"object"==typeof indexedDB}catch(n){return!1}}()?function(n,t){return function(n,t){return tC.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Mp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function sC(){return bb().enabled}function oC(){return aC.apply(this,arguments)}function aC(){return(aC=(0,be.Z)(function*(){const n=bb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tI={error:"UNKNOWN_ERROR"};function nI(n){return mg.encodeString(JSON.stringify(n),!1)}function Cb(n){return lC.apply(this,arguments)}function lC(){return(lC=(0,be.Z)(function*(n,t=!1){const e=n.app;Xw(e);const i=qr(e);let s,r=i.token;if(r&&!py(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(py(f)?r=f:yield rC(e,void 0))}if(!t&&r&&py(r))return{token:r.token};let u,a=!1;if(sC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=dy(Du(e,yield oC()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const f=yield i.exchangeTokenPromise;return yield rC(e,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield qr(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Mp.warn(f.message):Mp.error(f),s=f}return r?s?u=py(r)?{token:r.token,internalError:s}:sI(s):(u={token:r.token},i.token=r,yield rC(e,r)):u=sI(s),a&&rI(e,u),u})).apply(this,arguments)}function zx(){return(zx=(0,be.Z)(function*(n){const t=n.app;Xw(t);const{provider:e}=qr(t);if(sC()){const i=yield oC(),{token:r}=yield dy(Du(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function $x(n,t){const e=qr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function iI(n){const{app:t}=n,e=qr(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new cy((0,be.Z)(function*(){let i;if(i=qr(t).token?yield Cb(n,!0):yield Cb(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=qr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function rI(n,t){const e=qr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function py(n){return n.expireTimeMillis-Date.now()>0}function sI(n){return{token:nI(tI),error:n}}class aN{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=qr(this.app);for(const e of t)$x(this.app,e.next);return Promise.resolve()}}const yN="app-check-internal";(0,Yt._registerComponent)(new Rx("app-check",n=>function(n,t){return new aN(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(yN).initialize()})),(0,Yt._registerComponent)(new Rx(yN,n=>function(n){return{getToken:t=>Cb(n,t),getLimitedUseToken:()=>function(n){return zx.apply(this,arguments)}(n),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,s=qr(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&py(s.token)){const u=s.token;Promise.resolve().then(()=>{e({token:u.token}),iI(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>iI(n))}(n,"INTERNAL",t),removeTokenListener:t=>$x(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yt.registerVersion)("@firebase/app-check","0.8.0");class Db{constructor(){return(0,ci.vb)("app-check")}}"undefined"!=typeof window&&window;var tA=G(9260);const nA=new o.OlP("angularfire2.auth.use-emulator"),iA=new o.OlP("angularfire2.auth.settings"),rA=new o.OlP("angularfire2.auth.tenant-id"),my=new o.OlP("angularfire2.auth.langugage-code"),fC=new o.OlP("angularfire2.auth.use-device-language"),pC=new o.OlP("angularfire.auth.persistence"),mC=(n,t,e,i,r,s,a,u)=>(0,Vi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),a)for(const[b,x]of Object.entries(a))f.settings[b]=x;return u&&f.setPersistence(u),f},[e,i,r,s,a,u]);let Tb=(()=>{class n{constructor(e,i,r,s,a,u,f,b,x,D,R,B){const z=new kt.x,ee=Ct(void 0).pipe((0,fg.Q)(a.outsideAngular),yi(()=>s.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,4844)))),(0,It.U)(()=>(0,Vi.on)(e,s,i)),(0,It.U)(ae=>mC(ae,s,u,b,x,D,f,R)),Uw({bufferSize:1,refCount:!1}));if(yn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{ee.pipe(Ua()).subscribe();const we=ee.pipe(yi(at=>at.getRedirectResult().then(Jt=>Jt,()=>null)),ci.iC,Uw({bufferSize:1,refCount:!1})),qe=ee.pipe(yi(at=>new Wn.y(Jt=>({unsubscribe:s.runOutsideAngular(()=>at.onAuthStateChanged(fn=>Jt.next(fn),fn=>Jt.error(fn),()=>Jt.complete()))})))),Ye=ee.pipe(yi(at=>new Wn.y(Jt=>({unsubscribe:s.runOutsideAngular(()=>at.onIdTokenChanged(fn=>Jt.next(fn),fn=>Jt.error(fn),()=>Jt.complete()))}))));this.authState=we.pipe(jw(qe),(0,xu.R)(a.outsideAngular),(0,fg.Q)(a.insideAngular)),this.user=we.pipe(jw(Ye),(0,xu.R)(a.outsideAngular),(0,fg.Q)(a.insideAngular)),this.idToken=this.user.pipe(yi(at=>at?(0,$n.D)(at.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(yi(at=>at?(0,$n.D)(at.getIdTokenResult()):Ct(null))),this.credential=(0,er.T)(we,z,this.authState.pipe(ii(at=>!at))).pipe((0,It.U)(at=>(null==at?void 0:at.user)?at:null),(0,xu.R)(a.outsideAngular),(0,fg.Q)(a.insideAngular))}return(0,Vi.pX)(this,ee,s,{spy:{apply:(ae,we,qe)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&qe.then(Ye=>z.next(Ye))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vi.Dh),o.LFG(Vi.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ci.HU),o.LFG(nA,8),o.LFG(iA,8),o.LFG(rA,8),o.LFG(my,8),o.LFG(fC,8),o.LFG(pC,8),o.LFG(Db,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ib=(()=>{class n{constructor(){tA.Z.registerVersion("angularfire",ci.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Tb]}),n})(),gy=(()=>{class n{constructor(e){this.afAuth=e,this.user$=e.authState}register(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i)}login(e,i){return this.afAuth.signInWithEmailAndPassword(e,i)}logout(){return this.afAuth.signOut()}getUser(){return this.user$}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Tb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fI(...n){const t=(0,sd.jO)(n),{args:e,keys:i}=fh(n),r=new Wn.y(s=>{const{length:a}=e;if(!a)return void s.complete();const u=new Array(a);let f=a,b=a;for(let x=0;x<a;x++){let D=!1;(0,bo.Xf)(e[x]).subscribe(new Di.Q(s,R=>{D||(D=!0,b--),u[x]=R},()=>f--,void 0,()=>{(!f||!D)&&(b||s.next(i?qf(i,u):u),s.complete())}))}});return t?r.pipe(ma(t)):r}let pI=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),_g=(()=>{class n extends pI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Wa=new o.OlP("NgValueAccessor"),CN={provide:Wa,useExisting:(0,o.Gpc)(()=>_d),multi:!0},EN=new o.OlP("CompositionEventMode");let _d=(()=>{class n extends pI{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=De()?De().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(EN,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([CN]),o.qOj]}),n})();function yg(n){return null==n||0===n.length}function xN(n){return null!=n&&"number"==typeof n.length}const Co=new o.OlP("NgValidators"),vg=new o.OlP("NgAsyncValidators"),_I=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ro{static min(t){return function(n){return t=>{if(yg(t.value)||yg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(yg(t.value)||yg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return oA(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return bI(t)}static minLength(t){return function(n){return t=>yg(t.value)||!xN(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>xN(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Mb;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(yg(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return DI(t)}static composeAsync(t){return SI(t)}}function oA(n){return yg(n.value)?{required:!0}:null}function bI(n){return yg(n.value)||_I.test(n.value)?null:{email:!0}}function Mb(n){return null}function aA(n){return null!=n}function xI(n){const t=(0,o.QGY)(n)?(0,$n.D)(n):n;return(0,o.CqO)(t),t}function AI(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function bg(n,t){return t.map(e=>e(n))}function lA(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function DI(n){if(!n)return null;const t=n.filter(aA);return 0==t.length?null:function(e){return AI(bg(e,t))}}function gC(n){return null!=n?DI(lA(n)):null}function SI(n){if(!n)return null;const t=n.filter(aA);return 0==t.length?null:function(e){return fI(bg(e,t).map(xI)).pipe((0,It.U)(AI))}}function _C(n){return null!=n?SI(lA(n)):null}function TI(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function yC(n){return n._rawValidators}function II(n){return n._rawAsyncValidators}function vC(n){return n?Array.isArray(n)?n:[n]:[]}function kb(n,t){return Array.isArray(n)?n.includes(t):n===t}function MI(n,t){const e=vC(t);return vC(n).forEach(r=>{kb(e,r)||e.push(r)}),e}function kI(n,t){return vC(t).filter(e=>!kb(n,e))}class OI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=gC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_C(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Fl extends OI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ga extends OI{get formDirective(){return null}get path(){return null}}class cA{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Op=(()=>{class n extends cA{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Fl,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),wg=(()=>{class n extends cA{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ga,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function yy(n,t){return[...t.path,n]}function Cg(n,t){hA(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&PI(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&PI(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ob(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),by(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vy(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function hA(n,t){const e=yC(n);null!==t.validator?n.setValidators(TI(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=II(n);null!==t.asyncValidator?n.setAsyncValidators(TI(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();vy(t._rawValidators,r),vy(t._rawAsyncValidators,r)}function by(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=yC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=II(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return vy(t._rawValidators,i),vy(t._rawAsyncValidators,i),e}function PI(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function LI(n,t){hA(n,t)}function Eg(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function xg(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ag(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===_d?e=s:function(n){return Object.getPrototypeOf(n.constructor)===_g}(s)?i=s:r=s}),r||i||e||null}function wC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const wy="VALID",CC="INVALID",Cy="PENDING",Rb="DISABLED";function EC(n){return(Dg(n)?n.validators:n)||null}function fA(n){return Array.isArray(n)?gC(n):n||null}function Nb(n,t){return(Dg(t)?t.asyncValidators:n)||null}function Pb(n){return Array.isArray(n)?_C(n):n||null}function Dg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class pA{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=fA(this._rawValidators),this._composedAsyncValidatorFn=Pb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===wy}get invalid(){return this.status===CC}get pending(){return this.status==Cy}get disabled(){return this.status===Rb}get enabled(){return this.status!==Rb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=fA(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Pb(t)}addValidators(t){this.setValidators(MI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(MI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(kI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(kI(t,this._rawAsyncValidators))}hasValidator(t){return kb(this._rawValidators,t)}hasAsyncValidator(t){return kb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rb,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wy,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wy||this.status===Cy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rb:wy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cy,this._hasOwnPendingAsyncValidator=!0;const e=xI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof Ey?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof mA&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Rb:this.errors?CC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cy)?Cy:this._anyControlsHaveStatus(CC)?CC:wy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Dg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rp extends pA{constructor(t=null,e,i){super(EC(e),Nb(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){wC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){wC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ey extends pA{constructor(t,e,i){super(EC(e),Nb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Rp?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class mA extends pA{constructor(t,e,i){super(EC(e),Nb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Rp?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const PN={provide:ga,useExisting:(0,o.Gpc)(()=>wc)},Fb=(()=>Promise.resolve(null))();let wc=(()=>{class n extends ga{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new Ey({},gC(e),_C(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Fb.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Cg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Fb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),wC(this._directives,e)})}addFormGroup(e){Fb.then(()=>{const i=this._findContainer(e.path),r=new Ey({});LI(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Fb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Fb.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,xg(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Co,10),o.Y36(vg,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([PN]),o.qOj]}),n})();const VU={provide:Fl,useExisting:(0,o.Gpc)(()=>Tg)},gA=(()=>Promise.resolve(null))();let Tg=(()=>{class n extends Fl{constructor(e,i,r,s){super(),this.control=new Rp,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ag(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Eg(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?yy(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){gA.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;gA.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ga,9),o.Y36(Co,10),o.Y36(vg,10),o.Y36(Wa,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([VU]),o.qOj,o.TTD]}),n})(),xy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),_A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const vA=new o.OlP("NgModelWithFormControlWarning"),VN={provide:ga,useExisting:(0,o.Gpc)(()=>Np)};let Np=(()=>{class n extends ga{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(by(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Cg(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ob(e.control||null,e,!1),wC(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,xg(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Ob(i||null,e),r instanceof Rp&&(Cg(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);LI(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return by(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hA(this.form,this),this._oldForm&&by(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Co,10),o.Y36(vg,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([VN]),o.qOj,o.TTD]}),n})();const WI={provide:Fl,useExisting:(0,o.Gpc)(()=>Vb)};let Vb=(()=>{class n extends Fl{constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ag(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Eg(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yy(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(ga,13),o.Y36(Co,10),o.Y36(vg,10),o.Y36(Wa,10),o.Y36(vA,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([WI]),o.qOj,o.TTD]}),n})();const ZN={provide:Co,useExisting:(0,o.Gpc)(()=>yd),multi:!0};let yd=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?oA(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[o._Bn([ZN])]}),n})();const EA={provide:Co,useExisting:(0,o.Gpc)(()=>Hb),multi:!0};let Hb=(()=>{class n{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?bI(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[o._Bn([EA])]}),n})(),e1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[_A]]}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[e1]}),n})(),t1=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:vA,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[e1]}),n})(),MC=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let u,s=null,a=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,a=null!=i.asyncValidators?i.asyncValidators:null,u=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,a=null!=i.asyncValidator?i.asyncValidator:null)),new Ey(r,{asyncValidators:a,updateOn:u,validators:s})}control(e,i,r){return new Rp(e,i,r)}array(e,i,r){const s=e.map(a=>this._createControl(a));return new mA(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Rp||e instanceof Ey||e instanceof mA?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:t1}),n})();function jt(n){return null!=n&&"false"!=`${n}`}function Ya(n,t=0){return DA(n)?Number(n):t}function DA(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function kC(n){return Array.isArray(n)?n:[n]}function ls(n){return null==n?"":"string"==typeof n?n:`${n}px`}function vd(n){return n instanceof o.SBq?n.nativeElement:n}var Ig=G(4986);function OC(n,t=Ig.z){return(0,Xi.e)((e,i)=>{let r=null,s=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const b=s;s=null,i.next(b)}};function f(){const b=a+n,x=t.now();if(x<b)return r=this.schedule(void 0,b-x),void i.add(r);u()}e.subscribe(new Di.Q(i,b=>{s=b,a=t.now(),r||(r=t.schedule(f,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{s=r=null}))})}let Go=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mg=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=vd(e);return new Wn.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new kt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Go))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SA=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=jt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ya(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(OC(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Mg),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),RC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Go]}),n})();const HU=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(ue)}}),XN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zb,cs=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?XN.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(HU,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{zb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){zb=!1}let Vh,zr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?xn(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const NC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tP(){if(Vh)return Vh;if("object"!=typeof document||!document)return Vh=new Set(NC),Vh;let n=document.createElement("input");return Vh=new Set(NC.filter(t=>(n.setAttribute("type",t),n.type===t))),Vh}let Ty,Fp,Gb;function Pp(n){return function(){if(null==Ty&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ty=!0}))}finally{Ty=Ty||!1}return Ty}()?n:!!n.capture}function iP(){if(null==Fp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fp=!1,Fp;if("scrollBehavior"in document.documentElement.style)Fp=!0;else{const n=Element.prototype.scrollTo;Fp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fp}function $b(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Lp(n){return n.composedPath?n.composedPath()[0]:n.target}function PC(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function $o(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function E1(n){return ii((t,e)=>n<=e)}function Yb(n,t=La.y){return n=null!=n?n:x1,(0,Xi.e)((e,i)=>{let r,s=!0;e.subscribe(new Di.Q(i,a=>{const u=t(a);(s||!n(r,u))&&(s=!1,r=u,i.next(a))}))})}function x1(n,t){return n===t}var VC=G(5032);function bn(n){return(0,Xi.e)((t,e)=>{(0,bo.Xf)(n).subscribe(new Di.Q(e,()=>e.complete(),VC.Z)),!e.closed&&t.subscribe(e)})}function Ng(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const S1="cdk-describedby-message-container",NA="cdk-describedby-message",Pg="cdk-describedby-host";let PP=0;const wd=new Map;let Ll=null,T1=(()=>{class n{constructor(e){this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=I1(i,r);"string"!=typeof i?(M1(i),wd.set(s,{messageElement:i,referenceCount:0})):wd.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=I1(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=wd.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}Ll&&0===Ll.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Pg}]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Pg);Ll&&this._deleteMessagesContainer(),wd.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");M1(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),Ll.appendChild(r),wd.set(I1(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i;const r=wd.get(e);null===(i=null==r?void 0:r.messageElement)||void 0===i||i.remove(),wd.delete(e)}_createMessagesContainer(){if(!Ll){const e=this._document.getElementById(S1);null==e||e.remove(),Ll=this._document.createElement("div"),Ll.id=S1,Ll.style.visibility="hidden",Ll.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Ll)}}_deleteMessagesContainer(){Ll&&(Ll.remove(),Ll=null)}_removeCdkDescribedByReferenceIds(e){const i=Ng(e,"aria-describedby").filter(r=>0!=r.indexOf(NA));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=wd.get(i);(function(n,t,e){const i=Ng(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Pg,""),r.referenceCount++}_removeMessageReference(e,i){const r=wd.get(i);r.referenceCount--,function(n,t,e){const r=Ng(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Pg)}_isElementDescribedByMessage(e,i){const r=Ng(e,"aria-describedby"),s=wd.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I1(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function M1(n){n.id||(n.id=`${NA}-${PP++}`)}class k1{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new kt.x,this._typeaheadSubscription=On.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new kt.x,this.change=new kt.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,br.b)(e=>this._pressedLetters.push(e)),OC(t),ii(()=>this._pressedLetters.length>0),(0,It.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||$o(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class FP extends k1{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class UC extends k1{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let O1=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===VP(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=VP(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||R1(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R1(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function VP(n){if(!R1(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class l{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,hi.q)(1)).subscribe(t)}}let c=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new l(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(O1),o.LFG(o.R0b),o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=jt(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=jt(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=$b(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(c),o.Y36(ue))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),n})();function k(n){return 0===n.offsetX&&0===n.offsetY}function L(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const U=new o.OlP("cdk-input-modality-detector-options"),K={ignoreKeys:[18,17,224,91,16]},Ee=Pp({passive:!0,capture:!0});let ze=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ur(null),this._lastTouchMs=0,this._onKeydown=a=>{var u,f;(null===(f=null===(u=this._options)||void 0===u?void 0:u.ignoreKeys)||void 0===f?void 0:f.some(b=>b===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Lp(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(k(a)?"keyboard":"mouse"),this._mostRecentTarget=Lp(a))},this._onTouchstart=a=>{L(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Lp(a))},this._options=Object.assign(Object.assign({},K),s),this.modalityDetected=this._modality.pipe(E1(1)),this.modalityChanged=this.modalityDetected.pipe(Yb()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ee),r.addEventListener("mousedown",this._onMousedown,Ee),r.addEventListener("touchstart",this._onTouchstart,Ee)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ee),document.removeEventListener("mousedown",this._onMousedown,Ee),document.removeEventListener("touchstart",this._onTouchstart,Ee))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zr),o.LFG(o.R0b),o.LFG(ue),o.LFG(U,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dt=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ft=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Je=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(u=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,u(),"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dt,8),o.LFG(o.R0b),o.LFG(ue),o.LFG(Ft,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cn=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._liveAnnouncer=i,this._contentObserver=r,this._ngZone=s,this._politeness="polite"}get politeness(){return this._politeness}set politeness(e){this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const i=this._elementRef.nativeElement.textContent;i!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(i,this._politeness),this._previousAnnouncedText=i)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Je),o.Y36(Mg),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),n})();const Xn=new o.OlP("cdk-focus-monitor-default-options"),ui=Pp({passive:!0,capture:!0});let Gr=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kt.x,this._rootNodeFocusAndBlurListener=u=>{const f=Lp(u),b="focus"===u.type?this._onFocus:this._onBlur;for(let x=f;x;x=x.parentElement)b.call(this,u,x)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,i=!1){const r=vd(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ct(null);const s=function(n){if(function(){if(null==Gb){const n="undefined"!=typeof document?document.head:null;Gb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Gb}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new kt.x,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=vd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=vd(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,f])=>this._originChanged(u,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Lp(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ui),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ui)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ui),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ui),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(zr),o.LFG(ze),o.LFG(ue,8),o.LFG(Xn,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Up=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Gr))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const jC="cdk-high-contrast-black-on-white",HC="cdk-high-contrast-white-on-black",Kb="cdk-high-contrast-active";let qC=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Kb),e.remove(jC),e.remove(HC),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Kb),e.add(jC)):2===i&&(e.add(Kb),e.add(HC))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zr),o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qb=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qC))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[kg,RC]]}),n})();function PA(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function FA(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const qK=["*"];let zK=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),GK=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const ZK=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Zn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!PC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qC),o.LFG(ZK,8),o.LFG(ue))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Sy],Sy]}),n})();function Fg(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=jt(t)}}}function Oy(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Ry(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=jt(t)}}}function UP(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ya(e):this.defaultTabIndex}}}function jP(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new kt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function kj(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Wn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const WK=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,o.f3M)(o.soG)}});class _a{constructor(){this._localeChanges=new kt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Jb=new o.OlP("mat-date-formats"),KK=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function HP(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let QK=(()=>{class n extends _a{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return HP(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return HP(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return HP(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(KK.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(WK,8),o.LFG(zr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const JK={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let XK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:_a,useClass:QK}],imports:[[kg]]}),n})(),eQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Jb,useValue:JK}],imports:[[XK]]}),n})(),LA=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn],Zn]}),n})();class nQ{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Nj={enterDuration:225,exitDuration:150},qP=Pp({passive:!0}),Pj=["mousedown","touchstart"],Fj=["mouseup","mouseleave","touchend","touchcancel"];class Lj{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=vd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},Nj),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,f=e-r.top,b=s.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=u-a+"px",x.style.top=f-a+"px",x.style.height=2*a+"px",x.style.width=2*a+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(x),window.getComputedStyle(x).getPropertyValue("opacity"),x.style.transform="scale(1)";const D=new nQ(this,x,i);return D.state=0,this._activeRipples.add(D),i.persistent||(this._mostRecentTransientRipple=D),this._runTimeoutOutsideZone(()=>{const R=D===this._mostRecentTransientRipple;D.state=1,!i.persistent&&(!R||!this._isPointerDown)&&D.fadeOut()},b),D}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},Nj),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=vd(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Pj))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Fj),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=k(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!L(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,qP)})})}_removeTriggerEvents(){this._triggerElement&&(Pj.forEach(t=>{this._triggerElement.removeEventListener(t,this,qP)}),this._pointerUpEventsRegistered&&Fj.forEach(t=>{this._triggerElement.removeEventListener(t,this,qP)}))}}const Bj=new o.OlP("mat-ripple-global-options");let jp=(()=>{class n{constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Lj(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(zr),o.Y36(Bj,8),o.Y36(ur,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),zC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn,kg],Zn]}),n})(),Vj=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ur,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),zP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn]]}),n})();const Uj=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),jj=new o.OlP("MatOptgroup");let oQ=0;class aQ{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let lQ=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+oQ++,this.onSelectionChange=new o.vpe,this._stateChanges=new kt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=jt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!$o(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new aQ(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Xb=(()=>{class n extends lQ{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Uj,8),o.Y36(jj,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:qK,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,PA,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,FA,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[vt,jp,Vj],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function Hj(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let GP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zC,Te,Zn,zP]]}),n})();var uQ=G(1144);const dQ=["addListener","removeListener"],hQ=["addEventListener","removeEventListener"],fQ=["on","off"];function Ny(n,t,e,i){if((0,Vo.m)(e)&&(i=e,e=void 0),i)return Ny(n,t,e).pipe(ma(i));const[r,s]=function(n){return(0,Vo.m)(n.addEventListener)&&(0,Vo.m)(n.removeEventListener)}(n)?hQ.map(a=>u=>n[a](t,u,e)):function(n){return(0,Vo.m)(n.addListener)&&(0,Vo.m)(n.removeListener)}(n)?dQ.map(qj(n,t)):function(n){return(0,Vo.m)(n.on)&&(0,Vo.m)(n.off)}(n)?fQ.map(qj(n,t)):[];if(!r&&(0,uQ.z)(n))return(0,Ii.z)(a=>Ny(a,t,e))((0,bo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Wn.y(a=>{const u=(...f)=>a.next(1<f.length?f:f[0]);return r(u),()=>s(u)})}function qj(n,t){return e=>i=>n[e](t,i)}const _Q=["connectionContainer"],yQ=["inputContainer"],vQ=["label"];function bQ(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function wQ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function CQ(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function EQ(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function xQ(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function AQ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,CQ,4,1,"ng-container",12),o.YNc(3,EQ,1,0,"ng-content",12),o.YNc(4,xQ,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function DQ(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function SQ(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function TQ(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function IQ(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function MQ(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,IQ,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const kQ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],OQ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],RQ=new o.OlP("MatError"),NQ={transitionMessages:Wi("transitionMessages",[Qn("enter",Pt({opacity:1,transform:"translateY(0%)"})),kn("void => enter",[Pt({opacity:0,transform:"translateY(-5px)"}),Kn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let VA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const PQ=new o.OlP("MatHint");let Py=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),FQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const LQ=new o.OlP("MatPrefix"),zj=new o.OlP("MatSuffix");let F1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:zj,useExisting:n}])]}),n})(),Gj=0;const VQ=Oy(class{constructor(n){this._elementRef=n}},"primary"),UQ=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),L1=new o.OlP("MatFormField");let e0=(()=>{class n extends VQ{constructor(e,i,r,s,a,u,f){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new kt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Gj++,this._labelId="mat-form-field-label-"+Gj++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=jt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Bi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(bn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,er.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Bi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Bi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(bn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ny(this._label.nativeElement,"transitionend").pipe((0,hi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,a=s.querySelectorAll(".mat-form-field-outline-start"),u=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const f=s.getBoundingClientRect();if(0===f.width&&0===f.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const b=this._getStartEnd(f),x=e.children,D=this._getStartEnd(x[0].getBoundingClientRect());let R=0;for(let B=0;B<x.length;B++)R+=x[B].offsetWidth;i=Math.abs(D-b)-5,r=R>0?.75*R+10:0}for(let f=0;f<a.length;f++)a[f].style.width=`${i}px`;for(let f=0;f<u.length;f++)u[f].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(cs,8),o.Y36(UQ,8),o.Y36(zr),o.Y36(o.R0b),o.Y36(ur,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,VA,5),o.Suo(r,VA,7),o.Suo(r,Py,5),o.Suo(r,Py,7),o.Suo(r,FQ,5),o.Suo(r,RQ,5),o.Suo(r,PQ,5),o.Suo(r,LQ,5),o.Suo(r,zj,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(_Q,7),o.Gf(yQ,5),o.Gf(vQ,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:L1,useExisting:n}]),o.qOj],ngContentSelectors:OQ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(kQ),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,bQ,9,0,"ng-container",3),o.YNc(4,wQ,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,AQ,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,DQ,2,0,"div",9),o.qZA(),o.YNc(11,SQ,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,TQ,2,1,"div",12),o.YNc(14,MQ,5,2,"div",13),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[vt,qi,Pi,SA],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[NQ.transitionMessages]},changeDetection:0}),n})(),B1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Te,Zn,RC],Zn]}),n})();const Zj=Pp({passive:!0});let jQ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Sl.E;const i=vd(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new kt.x,a="cdk-text-field-autofilled",u=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,Zj),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",u,Zj)}}),s}stopMonitoring(e){const i=vd(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[kg]]}),n})();const Yj=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),HQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let qQ=0;const zQ=jP(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let GC=(()=>{class n extends zQ{constructor(e,i,r,s,a,u,f,b,x,D){super(u,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=D,this._uid="mat-input-"+qQ++,this.focused=!1,this.stateChanges=new kt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>tP().has(z));const R=this._elementRef.nativeElement,B=R.nodeName.toLowerCase();this._inputValueAccessor=f||R,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&x.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",z=>{const ee=z.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=jt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(ro.required))&&void 0!==s&&s}set required(e){this._required=jt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&tP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=jt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){HQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(zr),o.Y36(Fl,10),o.Y36(wc,8),o.Y36(Np,8),o.Y36(LA),o.Y36(Yj,10),o.Y36(jQ),o.Y36(o.R0b),o.Y36(L1,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:VA,useExisting:n}]),o.qOj,o.TTD]}),n})(),GQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[LA],imports:[[Wj,B1,Zn],Wj,B1]}),n})();function $Q(n,t){1&n&&(o.TgZ(0,"div",17),o._uU(1," Error logging in. Please check your credentials and try again. "),o.qZA())}function ZQ(n,t){1&n&&(o.TgZ(0,"div",18),o.TgZ(1,"span",19),o._uU(2,"Loading..."),o.qZA(),o.qZA())}let Kj=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.isLoading=!1,this.isLoginError=!1}ngOnInit(){}onSubmit(e){this.isLoading=!0;const{loginEmail:i,loginPassword:r}=e.value;this.authService.login(i,r).then(s=>{console.log("User logged in",s),this.router.navigate(["/home"])}).catch(()=>{this.isLoading=!1,this.isLoginError=!0})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gy),o.Y36(to))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:2,consts:[[1,"row","h-100","m-0"],[1,"col-md-6","offset-md-3","col-sm-10","offset-sm-1","h-100","d-flex"],[1,"align-self-center","bg-white","border","rounded-lg","p-5","w-100",3,"ngSubmit"],["f","ngForm"],[1,"bl-header","pb-2","mb-2","d-flex"],[1,"flex-grow-0"],["appearance","fill",1,"w-100"],["type","email","name","loginEmail","placeholder","Ex. pat@example.com","matInput","","ngModel","","email","","required",""],[1,"w-100"],["type","password","name","loginPassword","matInput","","ngModel","","required",""],["class","text-red-600 text-sm mt-1",4,"ngIf"],[1,"w-100","d-flex","flex-row-reverse","pt-2","pb-2"],[1,"flex","justify-content-center","items-center","drop-shadow-md","shadow-fuchsia-950","bg-fuchsia-800","text-white","px-4","py-2","rounded-pill","border-b-4","border-fuchsia-950"],["class","spinner-border w-4 h-4 text-orange-300 mr-2","role","status",4,"ngIf"],[1,""],[1,"text-center"],["href","",1,""],[1,"text-red-600","text-sm","mt-1"],["role","status",1,"spinner-border","w-4","h-4","text-orange-300","mr-2"],[1,"visually-hidden"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2,3),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(3);return i.onSubmit(a)}),o.TgZ(4,"section",4),o.TgZ(5,"h2",5),o._uU(6," Login "),o.qZA(),o.qZA(),o.TgZ(7,"mat-form-field",6),o.TgZ(8,"mat-label"),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",7),o.qZA(),o.TgZ(11,"mat-form-field",8),o._UZ(12,"input",9),o.qZA(),o.YNc(13,$Q,2,0,"div",10),o.TgZ(14,"div",11),o.TgZ(15,"button",12),o.YNc(16,ZQ,3,0,"div",13),o.TgZ(17,"span",14),o._uU(18,"Login"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",15),o.TgZ(20,"a",16),o._uU(21,"Forgot your password?"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(13),o.Q6J("ngIf",!0===i.isLoginError),o.xp6(3),o.Q6J("ngIf",i.isLoading))},directives:[xy,wg,wc,e0,Py,GC,_d,Op,Tg,Hb,yd,vt],styles:["img[_ngcontent-%COMP%]{object-fit:cover;border:1px solid #ccc;margin-top:10px}"]}),n})();const Qj=["mat-button",""],Jj=["*"],KQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],QQ=Oy(Fg(Ry(class{constructor(n){this._elementRef=n}})));let Uh=(()=>{class n extends QQ{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of KQ)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Gr),o.Y36(ur,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(jp,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:Qj,ngContentSelectors:Jj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[jp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),JQ=(()=>{class n extends Uh{constructor(e,i,r){super(i,e,r)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Gr),o.Y36(o.SBq),o.Y36(ur,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._haltDisabledEvents(s)}),2&e&&(o.uIk("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:Qj,ngContentSelectors:Jj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[jp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),$P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zC,Zn],Zn]}),n})(),XQ=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.maxDate=new Date,this.emailFormControl=new Rp("",[ro.required,ro.email])}ngOnInit(){this.maxDate.setFullYear(this.maxDate.getUTCFullYear()-18)}onSubmit(e){const{registerEmail:i,registerPassword:r}=e.value;this.authService.register(i,r).then(s=>{console.log("User registered",s),this.router.navigate(["/home"])}).catch(s=>{console.error("Error registering user:",s)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gy),o.Y36(to))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-register"]],decls:19,vars:0,consts:[[1,"row","h-100","m-0"],[1,"col-md-6","offset-md-3","col-sm-10","offset-sm-1","h-100","d-flex"],[1,"align-self-center","block-02","p-3","w-100",3,"ngSubmit"],["f","ngForm"],[1,"bl-header","pb-2","mb-2","d-flex"],[1,"flex-grow-0"],[1,"action","flex-grow-1"],["appearance","fill",1,"w-100"],["type","email","name","registerEmail","placeholder","Ex. pat@example.com","matInput","","ngModel","","email","","required",""],[1,"w-100"],["type","password","name","registerPassword","matInput","","ngModel","","required","","placeholder","Password"],["type","password","name","conformRegisterPassword","placeholder","Confirm password","matInput","","ngModel","","required",""],[1,"w-100","d-flex","flex-row-reverse","pt-2","pb-2"],["mat-flat-button","","color","primary",1,"d-flex","justify-content-end"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2,3),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(3);return i.onSubmit(a)}),o.TgZ(4,"section",4),o.TgZ(5,"h2",5),o._uU(6," Register new user "),o.qZA(),o._UZ(7,"div",6),o.qZA(),o.TgZ(8,"mat-form-field",7),o.TgZ(9,"mat-label"),o._uU(10,"Email"),o.qZA(),o._UZ(11,"input",8),o.qZA(),o.TgZ(12,"mat-form-field",9),o._UZ(13,"input",10),o.qZA(),o.TgZ(14,"mat-form-field",9),o._UZ(15,"input",11),o.qZA(),o.TgZ(16,"div",12),o.TgZ(17,"button",13),o._uU(18,"Register"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}},directives:[xy,wg,wc,e0,Py,GC,_d,Op,Tg,Hb,yd,Uh],styles:[""]}),n})(),V1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-breadcrumb"]],decls:25,vars:0,consts:[["aria-label","Breadcrumb",1,"flex","bg-white","border","p-3","rounded-md","w-full"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["href","#",1,"text-gray-700","hover:text-gray-900","inline-flex","items-center"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","mr-2"],["d","M10 2a1 1 0 00-.707.293l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h10a1 1 0 001-1v-6.586l1.293 1.293a1 1 0 001.414-1.414l-7-7A1 1 0 0010 2z"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","text-gray-400"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],["href","#",1,"ml-1","text-gray-700","hover:text-gray-900","md:ml-2"],["aria-current","page"],[1,"ml-1","text-gray-500","md:ml-2"]],template:function(e,i){1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"ol",1),o.TgZ(2,"li",2),o.TgZ(3,"a",3),o.O4$(),o.TgZ(4,"svg",4),o._UZ(5,"path",5),o.qZA(),o._uU(6," Home "),o.qZA(),o.qZA(),o.kcU(),o.TgZ(7,"li"),o.TgZ(8,"div",6),o.O4$(),o.TgZ(9,"svg",7),o._UZ(10,"path",8),o.qZA(),o.kcU(),o.TgZ(11,"a",9),o._uU(12,"Category"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"li"),o.TgZ(14,"div",6),o.O4$(),o.TgZ(15,"svg",7),o._UZ(16,"path",8),o.qZA(),o.kcU(),o.TgZ(17,"a",9),o._uU(18,"Subcategory"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"li",10),o.TgZ(20,"div",6),o.O4$(),o.TgZ(21,"svg",7),o._UZ(22,"path",8),o.qZA(),o.kcU(),o.TgZ(23,"span",11),o._uU(24,"Current Page"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA())},styles:[""]}),n})();const eJ=["input"],tJ=function(n){return{enterDuration:n}},nJ=["*"],iJ=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Xj});function Xj(){return{color:"accent",clickAction:"check-indeterminate"}}let rJ=0;const e4=Xj(),sJ={provide:Wa,useExisting:(0,o.Gpc)(()=>t4),multi:!0};class oJ{}const aJ=UP(Oy(Ry(Fg(class{constructor(n){this._elementRef=n}}))));let t4=(()=>{class n extends aJ{constructor(e,i,r,s,a,u,f){super(e),this._changeDetectorRef=i,this._focusMonitor=r,this._ngZone=s,this._animationMode=u,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++rJ,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||e4,this.color=this.defaultColor=this._options.color||e4.color,this.tabIndex=parseInt(a)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=jt(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=jt(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=jt(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){const e=new oJ;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var i;const r=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===r?!this.disabled&&"noop"===r&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let r="";switch(e){case 0:if(1===i)r="unchecked-checked";else{if(3!=i)return"";r="unchecked-indeterminate"}break;case 2:r=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:r=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:r=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${r}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Gr),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(ur,8),o.Y36(iJ,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(o.Gf(eJ,5),o.Gf(jp,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._inputElement=r.first),o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null),o.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[o._Bn([sJ]),o.qOj],ngContentSelectors:nJ,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1),o.TgZ(2,"span",2),o.TgZ(3,"input",3,4),o.NdJ("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA(),o.qZA(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA(),o.qZA()),2&e){const r=o.MAs(1),s=o.MAs(13);o.uIk("for",i.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),o.xp6(1),o.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),o.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,tJ,"NoopAnimations"===i._animationMode?0:150))}},directives:[jp,SA],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),n4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),uJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[zC,Zn,RC,n4],Zn,n4]}),n})();class hJ{}class Fy{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Fy?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Fy;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fy?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===s.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class fJ{encodeKey(t){return r4(t)}encodeValue(t){return r4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const mJ=/%(\d[a-f0-9])/gi,gJ={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function r4(n){return encodeURIComponent(n).replace(mJ,(t,e)=>{var i;return null!==(i=gJ[e])&&void 0!==i?i:t})}function s4(n){return`${n}`}class Ly{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fJ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,u]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],f=e.get(a)||[];f.push(u),e.set(a,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ly({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(s4(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(s4(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class _J{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function o4(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function a4(n){return"undefined"!=typeof Blob&&n instanceof Blob}function l4(n){return"undefined"!=typeof FormData&&n instanceof FormData}class UA{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Fy),this.context||(this.context=new _J),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new Ly,this.urlWithParams=e}serializeBody(){return null===this.body?null:o4(this.body)||a4(this.body)||l4(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ly?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||l4(this.body)?null:a4(this.body)?this.body.type||null:o4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ly?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,x=t.params||this.params;const D=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((R,B)=>R.set(B,t.setHeaders[B]),b)),t.setParams&&(x=Object.keys(t.setParams).reduce((R,B)=>R.set(B,t.setParams[B]),x)),new UA(i,r,a,{params:x,headers:b,context:D,reportProgress:f,responseType:s,withCredentials:u})}}var ya=(()=>((ya=ya||{})[ya.Sent=0]="Sent",ya[ya.UploadProgress=1]="UploadProgress",ya[ya.ResponseHeader=2]="ResponseHeader",ya[ya.DownloadProgress=3]="DownloadProgress",ya[ya.Response=4]="Response",ya[ya.User=5]="User",ya))();class ZP extends class{constructor(t,e=200,i="OK"){this.headers=t.headers||new Fy,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ya.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ZP({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function WP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let u4=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof UA)s=e;else{let f,b;f=r.headers instanceof Fy?r.headers:new Fy(r.headers),r.params&&(b=r.params instanceof Ly?r.params:new Ly({fromObject:r.params})),s=new UA(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Ct(s).pipe(hc(f=>this.handler.handle(f)));if(e instanceof UA||"events"===r.observe)return a;const u=a.pipe(ii(f=>f instanceof ZP));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,It.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return u.pipe((0,It.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return u.pipe((0,It.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return u.pipe((0,It.U)(f=>f.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ly).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,WP(r,i))}post(e,i,r={}){return this.request("POST",e,WP(r,i))}put(e,i,r={}){return this.request("PUT",e,WP(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(hJ))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const CJ=["*"];let U1;function jA(n){var t;return(null===(t=function(){if(void 0===U1&&(U1=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(U1=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return U1}())||void 0===t?void 0:t.createHTML(n))||n}function d4(n){return Error(`Unable to find icon with the name "${n}"`)}function h4(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function f4(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class t0{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let j1=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new t0(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(o.q3G.HTML,r);if(!a)throw f4(r);const u=jA(a);return this._addSvgIconConfig(e,i,new t0("",u,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new t0(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw f4(i);const a=jA(s);return this._addSvgIconSetConfig(e,new t0("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw h4(e);const r=this._cachedIconsByUrl.get(i);return r?Ct(H1(r)):this._loadSvgIconFromConfig(new t0(e,null)).pipe((0,br.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,It.U)(s=>H1(s)))}getNamedSvgIcon(e,i=""){const r=p4(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):function(n,t){const e=(0,Vo.m)(n)?n:()=>n,i=r=>r.error(e());return new Wn.y(i)}(d4(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ct(H1(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,It.U)(i=>H1(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ct(r):fI(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Va(u=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(b)),Ct(null)})))).pipe((0,It.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw d4(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),u=this._extractSvgIconFromSet(a,e,s.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,br.b)(i=>e.svgText=i),(0,It.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ct(null):this._fetchIcon(e).pipe((0,br.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const u=this._svgElementFromString(jA("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(jA("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:u}=r[s];"id"!==a&&i.setAttribute(a,u)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,a=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!u)throw h4(r);const f=this._inProgressUrlFetches.get(u);if(f)return f;const b=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,It.U)(x=>jA(x)),ld(()=>this._inProgressUrlFetches.delete(u)),(0,Tp.B)());return this._inProgressUrlFetches.set(u,b),b}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(p4(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return DJ(s)?new t0(s.url,null,s.options):new t0(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(u4,8),o.LFG(Ro),o.LFG(ue,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function H1(n){return n.cloneNode(!0)}function p4(n,t){return n+":"+t}function DJ(n){return!(!n.url||!n.options)}const SJ=Oy(class{constructor(n){this._elementRef=n}}),TJ=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,o.f3M)(ue),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),m4=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],MJ=m4.map(n=>`[${n}]`).join(", "),kJ=/^url\(['"]?#(.*?)['"]?\)$/;let q1=(()=>{class n extends SJ{constructor(e,i,r,s,a){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._currentIconFetch=On.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=jt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(MJ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)m4.forEach(a=>{const u=i[s],f=u.getAttribute(a),b=f?f.match(kJ):null;if(b){let x=r.get(u);x||(x=[],r.set(u,x)),x.push({name:a,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,hi.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(j1),o.$8M("aria-hidden"),o.Y36(TJ),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:CJ,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),OJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn],Zn]}),n})();const RJ=["primaryValueBar"],NJ=Oy(class{constructor(n){this._elementRef=n}},"primary"),PJ=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=(0,o.f3M)(ue),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),LJ=new o.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let BJ=0,VJ=(()=>{class n extends NJ{constructor(e,i,r,s,a){super(e),this._ngZone=i,this._animationMode=r,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=On.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+BJ++;const u=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${u}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,a&&(a.color&&(this.color=this.defaultColor=a.color),this.mode=a.mode||this.mode)}get value(){return this._value}set value(e){this._value=g4(Ya(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=g4(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Ny(e,"transitionend").pipe(ii(i=>i.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(ur,8),o.Y36(PJ,8),o.Y36(LJ,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&o.Gf(RJ,5),2&e){let r;o.iGM(r=o.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),o.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",i.progressbarId),o.xp6(2),o.uIk("fill",i._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",i._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",i._primaryTransform()))},directives:[Nr],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function g4(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let UJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Te,Zn],Zn]}),n})(),jJ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:87,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-7","col-sm-12"],[1,"block-02"],[1,"bl-header"],[1,"p-3","m-0"],[1,"p-3"],[1,"todo-list","m-t","ui-sortable"],["value","","color","primary"],[1,"m-l-xs"],[1,"label","label-primary"],[1,"fa","fa-clock-o"],[1,"label","label-info"],[1,"label","label-warning"],[1,"label","label-danger"],[1,"bl-footer","p-3"],[1,"col-md-5"],[1,"bl-body"],[1,"list-group"],["routerLink","/project-detail/1","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","border-0","border-bottom"],[1,"flex-grow-0","p-3"],["mat-mini-fab","","color","primary"],[1,"f-large"],[1,"flex-grow-1","ps-1"],[1,"row","m-0"],[1,"col-9"],["mat-line","",1,"fw-bold"],["mat-line",""],["mat-line","",1,"pt-3","pb-3"],["type","button",1,"btn","rounded","rounded-pill","btn-sm","btn-secondary","position-relative"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"visually-hidden"],["src","","alt",".",1,"img-thumbnail","rounded-circle"],[1,"col-3"],["mode","determinate","value","40"],["href","#",1,"list-group-item","list-group-item-action"],[1,"list-group-item","list-group-item-action","disabled"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"app-breadcrumb"),o.qZA(),o.TgZ(3,"div",1),o.TgZ(4,"div",2),o.TgZ(5,"div",3),o.TgZ(6,"header",4),o.TgZ(7,"h2",5),o._uU(8,"Urgent Tasks"),o.qZA(),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"ul",7),o.TgZ(11,"li"),o.TgZ(12,"mat-checkbox",8),o._uU(13,"Checkbox label "),o.qZA(),o.TgZ(14,"span",9),o._uU(15,"Buy a milk"),o.qZA(),o.TgZ(16,"small",10),o._UZ(17,"i",11),o._uU(18," 1 mins"),o.qZA(),o.qZA(),o.TgZ(19,"li"),o.TgZ(20,"mat-checkbox",8),o._uU(21,"Checkbox label "),o.qZA(),o.TgZ(22,"span",9),o._uU(23,"Go to shop and find some products."),o.qZA(),o.TgZ(24,"small",12),o._UZ(25,"i",11),o._uU(26," 3 mins"),o.qZA(),o.qZA(),o.TgZ(27,"li"),o.TgZ(28,"mat-checkbox",8),o._uU(29,"Checkbox label "),o.qZA(),o.TgZ(30,"span",9),o._uU(31,"Send documents to Mike"),o.qZA(),o.TgZ(32,"small",13),o._UZ(33,"i",11),o._uU(34," 2 mins"),o.qZA(),o.qZA(),o.TgZ(35,"li"),o.TgZ(36,"mat-checkbox",8),o._uU(37,"Checkbox label "),o.qZA(),o.TgZ(38,"span",9),o._uU(39,"Go to the doctor dr Smith"),o.qZA(),o.TgZ(40,"small",14),o._UZ(41,"i",11),o._uU(42," 42 mins"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(43,"footer",15),o._uU(44," footer "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(45,"div",16),o.TgZ(46,"div",3),o.TgZ(47,"header",4),o.TgZ(48,"h2",5),o._uU(49,"Projects"),o.qZA(),o.qZA(),o.TgZ(50,"div",17),o.TgZ(51,"div",18),o.TgZ(52,"a",19),o.TgZ(53,"div",20),o.TgZ(54,"button",21),o.TgZ(55,"mat-icon",22),o._uU(56,"folder"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"div",23),o.TgZ(58,"div",24),o.TgZ(59,"div",25),o.TgZ(60,"div",26),o._uU(61,"Learning Photoshop - Essential"),o.qZA(),o.TgZ(62,"small",27),o._uU(63," This space will be placed some "),o._UZ(64,"br"),o._uU(65," detail about the project. "),o.qZA(),o.TgZ(66,"div",28),o.TgZ(67,"button",29),o._uU(68," Tasks "),o.TgZ(69,"span",30),o._uU(70," 99+ "),o.TgZ(71,"span",31),o._uU(72,"unread messages"),o.qZA(),o.qZA(),o.qZA(),o._UZ(73,"img",32),o.qZA(),o.qZA(),o.TgZ(74,"div",33),o.TgZ(75,"small"),o._uU(76,"40% completed"),o.qZA(),o._UZ(77,"mat-progress-bar",34),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(78,"a",35),o._uU(79,"A second link item"),o.qZA(),o.TgZ(80,"a",35),o._uU(81,"A third link item"),o.qZA(),o.TgZ(82,"a",35),o._uU(83,"A fourth link item"),o.qZA(),o.TgZ(84,"a",36),o._uU(85,"A disabled link item"),o.qZA(),o.qZA(),o.qZA(),o._UZ(86,"footer"),o.qZA(),o.qZA(),o.qZA(),o.qZA())},directives:[V1,t4,C,Uh,q1,Oj,VJ],styles:[""]}),n})();const HJ=["mat-sort-header",""];function qJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!1}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6),o._UZ(4,"div",7),o._UZ(5,"div",8),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const zJ=["*"],By=GK.ENTERING+" "+zK.STANDARD_CURVE,$C={indicator:Wi("indicator",[Qn("active-asc, asc",Pt({transform:"translateY(0px)"})),Qn("active-desc, desc",Pt({transform:"translateY(10px)"})),kn("active-asc <=> active-desc",Kn(By))]),leftPointer:Wi("leftPointer",[Qn("active-asc, asc",Pt({transform:"rotate(-45deg)"})),Qn("active-desc, desc",Pt({transform:"rotate(45deg)"})),kn("active-asc <=> active-desc",Kn(By))]),rightPointer:Wi("rightPointer",[Qn("active-asc, asc",Pt({transform:"rotate(45deg)"})),Qn("active-desc, desc",Pt({transform:"rotate(-45deg)"})),kn("active-asc <=> active-desc",Kn(By))]),arrowOpacity:Wi("arrowOpacity",[Qn("desc-to-active, asc-to-active, active",Pt({opacity:1})),Qn("desc-to-hint, asc-to-hint, hint",Pt({opacity:.54})),Qn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Pt({opacity:0})),kn("* => asc, * => desc, * => active, * => hint, * => void",Kn("0ms")),kn("* <=> *",Kn(By))]),arrowPosition:Wi("arrowPosition",[kn("* => desc-to-hint, * => desc-to-active",Kn(By,Qs([Pt({transform:"translateY(-25%)"}),Pt({transform:"translateY(0)"})]))),kn("* => hint-to-desc, * => active-to-desc",Kn(By,Qs([Pt({transform:"translateY(0)"}),Pt({transform:"translateY(25%)"})]))),kn("* => asc-to-hint, * => asc-to-active",Kn(By,Qs([Pt({transform:"translateY(25%)"}),Pt({transform:"translateY(0)"})]))),kn("* => hint-to-asc, * => active-to-asc",Kn(By,Qs([Pt({transform:"translateY(0)"}),Pt({transform:"translateY(-25%)"})]))),Qn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Pt({transform:"translateY(0)"})),Qn("hint-to-desc, active-to-desc, desc",Pt({transform:"translateY(-25%)"})),Qn("hint-to-asc, active-to-asc, asc",Pt({transform:"translateY(25%)"}))]),allowChildren:Wi("allowChildren",[kn("* <=> *",[wm("@*",zd(),{optional:!0})])])};let z1=(()=>{class n{constructor(){this.changes=new kt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $J={provide:z1,deps:[[new o.FiY,new o.tp0,z1]],useFactory:function(n){return n||new z1}},ZJ=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),WJ=kj(Fg(class{}));let HA=(()=>{class n extends WJ{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new kt.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=jt(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var i,r,s;if(!e)return"";const a=null!==(r=null!==(i=null==e?void 0:e.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==r?r:!!(null===(s=this._defaultOptions)||void 0===s?void 0:s.disableClear);let u=function(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,a),f=u.indexOf(this.direction)+1;return f>=u.length&&(f=0),u[f]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ZJ,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),n})();const KJ=Fg(class{});let _4=(()=>{class n extends KJ{constructor(e,i,r,s,a,u,f){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=s,this._focusMonitor=a,this._elementRef=u,this._ariaDescriber=f,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=jt(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector('[role="button"]'),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){var i,r;this._sortButton&&(null===(i=this._ariaDescriber)||void 0===i||i.removeDescription(this._sortButton,this._sortActionDescription),null===(r=this._ariaDescriber)||void 0===r||r.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,er.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(z1),o.Y36(o.sBO),o.Y36(HA,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(Gr),o.Y36(o.SBq),o.Y36(T1,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",i._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[o.qOj],attrs:HJ,ngContentSelectors:zJ,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,qJ,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"==i.arrowPosition),o.uIk("tabindex",i._isDisabled()?null:0),o.xp6(3),o.Q6J("ngIf",i._renderArrow()))},directives:[vt],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[$C.indicator,$C.leftPointer,$C.rightPointer,$C.arrowOpacity,$C.arrowPosition,$C.allowChildren]},changeDetection:0}),n})(),QJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$J],imports:[[Te,Zn]]}),n})();var y4=G(4408);const qA={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=qA;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new On.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=qA;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=qA;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var v4=G(7565);new class extends v4.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends y4.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=qA.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(qA.cancelAnimationFrame(e),t._scheduled=void 0)}});let YP,tX=1;const G1={};function b4(n){return n in G1&&(delete G1[n],!0)}const nX={setImmediate(n){const t=tX++;return G1[t]=!0,YP||(YP=Promise.resolve()),YP.then(()=>b4(t)&&n()),t},clearImmediate(n){b4(n)}},{setImmediate:iX,clearImmediate:rX}=nX,$1={setImmediate(...n){const{delegate:t}=$1;return((null==t?void 0:t.setImmediate)||iX)(...n)},clearImmediate(n){const{delegate:t}=$1;return((null==t?void 0:t.clearImmediate)||rX)(n)},delegate:void 0},KP=new class extends v4.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends y4.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=$1.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&($1.clearImmediate(e),t._scheduled=void 0)}});var lX=G(3532);function QP(n=0,t,e=Ig.P){let i=-1;return null!=t&&((0,lX.K)(t)?e=t:i=t),new Wn.y(r=>{let s=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function w4(n,t=Ig.P){return function(n){return(0,Xi.e)((t,e)=>{let i=!1,r=null,s=null,a=!1;const u=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const b=r;r=null,e.next(b)}a&&e.complete()},f=()=>{s=null,a&&e.complete()};t.subscribe(new Di.Q(e,b=>{i=!0,r=b,s||(0,bo.Xf)(n()).subscribe(s=new Di.Q(e,u,f))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>QP(n,t))}let C4=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Wn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(w4(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ii(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=vd(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ny(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(zr),o.LFG(ue,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n0=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new kt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(w4(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zr),o.LFG(o.R0b),o.LFG(ue,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),JP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Sy,kg,Vy],Sy,Vy]}),n})();class XP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ZC extends XP{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class zA extends XP{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class hX extends XP{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class eF{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ZC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof zA?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof hX?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class fX extends eF{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");u.parentNode.insertBefore(f,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let r0=(()=>{class n extends eF{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(ue))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const E4=iP();class mX{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ls(-this._previousScrollPosition.left),t.style.top=ls(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),E4&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),E4&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class gX{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class x4{enable(){}disable(){}attach(){}}function tF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function A4(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class _X{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();tF(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yX=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new x4,this.close=a=>new gX(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new mX(this._viewportRuler,this._document),this.reposition=a=>new _X(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(C4),o.LFG(n0),o.LFG(o.R0b),o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GA{constructor(t){if(this.scrollStrategy=new x4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class vX{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class bX{constructor(t,e,i,r,s,a,u,f,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=u,this._location=f,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new kt.x,this._attachments=new kt.x,this._detachments=new kt.x,this._locationChanges=On.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._keydownEvents=new kt.x,this._outsidePointerEvents=new kt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,hi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ls(this._config.width),t.height=ls(this._config.height),t.minWidth=ls(this._config.minWidth),t.minHeight=ls(this._config.minHeight),t.maxWidth=ls(this._config.maxWidth),t.maxHeight=ls(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=kC(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bn((0,er.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let nF=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||PC()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),PC()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue),o.LFG(zr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D4="cdk-overlay-connected-position-bounding-box",wX=/([A-Za-z%]+)$/;class S4{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kt.x,this._resizeSubscription=On.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(D4),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let s;for(let a of this._preferredPositions){let u=this._getOriginPoint(t,a),f=this._getOverlayPoint(u,e,a),b=this._getOverlayFit(f,e,i,a);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,u);this._canFitWithFlexibleDimensions(b,f,i)?r.push({position:a,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,a)}):(!s||s.overlayFit.visibleArea<b.visibleArea)&&(s={overlayFit:b,overlayPoint:f,originPoint:u,position:a,overlayRect:e})}if(r.length){let a=null,u=-1;for(const f of r){const b=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);b>u&&(u=b,a=f)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&s0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(D4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i="start"==e.originX?s:a}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=I4(e);let{x:a,y:u}=t,f=this._getOffset(r,"x"),b=this._getOffset(r,"y");f&&(a+=f),b&&(u+=b);let R=0-u,B=u+s.height-i.height,z=this._subtractOverflows(s.width,0-a,a+s.width-i.width),ee=this._subtractOverflows(s.height,R,B),ae=z*ee;return{visibleArea:ae,isCompletelyWithinViewport:s.width*s.height===ae,fitsInViewportVertically:ee===s.height,fitsInViewportHorizontally:z==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=T4(this._overlayRef.getConfig().minHeight),u=T4(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=u&&u<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=I4(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),u=Math.max(t.y+r.height-s.height,0),f=Math.max(s.top-i.top-t.y,0),b=Math.max(s.left-i.left-t.x,0);let x=0,D=0;return x=r.width<=s.width?b||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,D=r.height<=s.height?f||-u:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x,y:D},{x:t.x+x,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new vX(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,u,x,D,R;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,s=i.height-u+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),z=this._lastBoundingBoxSize.height;s=2*B,a=t.y-B,s>z&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-z/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)R=i.width-t.x+this._viewportMargin,x=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,x=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),z=this._lastBoundingBoxSize.width;x=2*B,D=t.x-B,x>z&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-z/2)}return{top:a,left:D,bottom:u,right:R,width:x,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=ls(i.height),r.top=ls(i.top),r.bottom=ls(i.bottom),r.width=ls(i.width),r.left=ls(i.left),r.right=ls(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ls(s)),a&&(r.maxWidth=ls(a))}this._lastBoundingBoxSize=i,s0(this._boundingBox.style,r)}_resetBoundingBoxStyles(){s0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){s0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();s0(i,this._getExactOverlayY(e,t,x)),s0(i,this._getExactOverlayX(e,t,x))}else i.position="static";let u="",f=this._getOffset(e,"x"),b=this._getOffset(e,"y");f&&(u+=`translateX(${f}px) `),b&&(u+=`translateY(${b}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=ls(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=ls(a.maxWidth):s&&(i.maxWidth="")),s0(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=a,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ls(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ls(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:A4(t,i),isOriginOutsideView:tF(t,i),isOverlayClipped:A4(e,i),isOverlayOutsideView:tF(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&kC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function s0(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function T4(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(wX);return e&&"px"!==e?null:parseFloat(t)}return n||null}function I4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const M4="cdk-global-overlay-wrapper";class CX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(M4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:u}=i,f=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),b=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u);t.position=this._cssPosition,t.marginLeft=f?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,f?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(M4),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let EX=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new CX}flexibleConnectedTo(e){return new S4(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n0),o.LFG(ue),o.LFG(zr),o.LFG(nF))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k4=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xX=(()=>{class n extends k4{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AX=(()=>{class n extends k4{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Lp(r)},this._clickListener=r=>{const s=Lp(r),a="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let f=u.length-1;f>-1;f--){const b=u[f];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(s)||b.overlayElement.contains(a))break;b._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ue),o.LFG(zr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DX=0,Cd=(()=>{class n{constructor(e,i,r,s,a,u,f,b,x,D,R){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=u,this._ngZone=f,this._document=b,this._directionality=x,this._location=D,this._outsideClickDispatcher=R}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new GA(e);return a.direction=a.direction||this._directionality.value,new bX(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+DX++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new fX(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(yX),o.LFG(nF),o.LFG(o._Vd),o.LFG(EX),o.LFG(xX),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ue),o.LFG(cs),o.LFG(Qe),o.LFG(AX))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const SX=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],O4=new o.OlP("cdk-connected-overlay-scroll-strategy");let R4=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),N4=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=On.w0.EMPTY,this._attachSubscription=On.w0.EMPTY,this._detachSubscription=On.w0.EMPTY,this._positionSubscription=On.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new zA(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=jt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=jt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=jt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=jt(e)}get push(){return this._push}set push(e){this._push=jt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=SX);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!$o(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new GA({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof R4?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,t=!1){return(0,Xi.e)((e,i)=>{let r=0;e.subscribe(new Di.Q(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Cd),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(O4),o.Y36(cs,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const IX={provide:O4,deps:[Cd],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let $A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Cd,IX],imports:[[Sy,Z1,JP],JP]}),n})();function iF(n){return n&&"function"==typeof n.connect}class P4{applyChanges(t,e,i,r,s){t.forEachOperation((a,u,f)=>{let b,x;if(null==a.previousIndex){const D=i(a,u,f);b=e.createEmbeddedView(D.templateRef,D.context,D.index),x=1}else null==f?(e.remove(u),x=3):(b=e.get(u),e.move(b,f),x=2);s&&s({context:null==b?void 0:b.context,operation:x,record:a})})}detach(){}}class W1{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new kt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const ZA=new o.OlP("_ViewRepeater"),kX=["trigger"],OX=["panel"];function RX(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function NX(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function PX(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function FX(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,NX,2,1,"span",10),o.YNc(2,PX,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function LX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const BX=[[["mat-select-trigger"]],"*"],VX=["mat-select-trigger","*"],L4={transformPanelWrap:Wi("transformPanelWrap",[kn("* => void",wm("@transformPanel",[zd()],{optional:!0}))]),transformPanel:Wi("transformPanel",[Qn("void",Pt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Qn("showing",Pt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Qn("showing-multiple",Pt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),kn("void => *",Kn("120ms cubic-bezier(0, 0, 0.2, 1)")),kn("* => void",Kn("100ms 25ms linear",Pt({opacity:0})))])};let B4=0;const U4=new o.OlP("mat-select-scroll-strategy"),qX=new o.OlP("MAT_SELECT_CONFIG"),zX={provide:U4,deps:[Cd],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};class GX{constructor(t,e){this.source=t,this.value=e}}const $X=Ry(UP(Fg(jP(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),ZX=new o.OlP("MatSelectTrigger");let WX=(()=>{class n extends $X{constructor(e,i,r,s,a,u,f,b,x,D,R,B,z,ee){var ae,we,qe;super(a,s,f,b,D),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=x,this._liveAnnouncer=z,this._defaultOptions=ee,this._panelOpen=!1,this._compareWith=(Ye,at)=>Ye===at,this._uid="mat-select-"+B4++,this._triggerAriaLabelledBy=null,this._destroy=new kt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+B4++,this._panelDoneAnimatingStream=new kt.x,this._overlayPanelClass=(null===(ae=this._defaultOptions)||void 0===ae?void 0:ae.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(qe=null===(we=this._defaultOptions)||void 0===we?void 0:we.disableOptionCentering)&&void 0!==qe&&qe,this.ariaLabel="",this.optionSelectionChanges=uc(()=>{const Ye=this.options;return Ye?Ye.changes.pipe(Bi(Ye),yi(()=>(0,er.T)(...Ye.map(at=>at.onSelectionChange)))):this._ngZone.onStable.pipe((0,hi.q)(1),yi(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(ii(Ye=>Ye),(0,It.U)(()=>{})),this._closedStream=this.openedChange.pipe(ii(Ye=>!Ye),(0,It.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ee?void 0:ee.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(R)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(ro.required))&&void 0!==s&&s}set required(e){this._required=jt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=jt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=jt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Ya(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new W1(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Yb(),bn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(bn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Bi(null),bn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!$o(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(e);const f=this.selected;f&&u!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||$o(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(u?f.select():f.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,hi.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new FP(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(bn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(bn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,er.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(bn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,er.T)(...this.options.map(i=>i._stateChanges)).pipe(bn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(n0),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(LA),o.Y36(o.SBq),o.Y36(cs,8),o.Y36(wc,8),o.Y36(Np,8),o.Y36(L1,8),o.Y36(Fl,10),o.$8M("tabindex"),o.Y36(U4),o.Y36(Je),o.Y36(qX,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(kX,5),o.Gf(OX,5),o.Gf(N4,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),YC=(()=>{class n extends WX{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(bn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,hi.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=Hj(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function(n,t,e,i){return n<e?n:n+t>e+256?Math.max(0,n-256+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new GX(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let b=this._selectionModel.selected[0]||this.options.first;a=b&&b.group?32:16}r||(a*=-1);const u=0-(e.left+a-(r?s:0)),f=e.right+a-i.width+(r?0:s);u>0?a+=u+8:f>0&&(a-=f+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,u=Math.floor(256/s);let f;return this.disableOptionCentering?0:(f=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-u))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*f-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,u=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-u-this._triggerRect.height;b>a?this._adjustPanelUp(b,a):u>s?this._adjustPanelDown(u,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let u;u=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),u+=Hj(u,this.options,this.optionGroups);const f=r/2;this._scrollTop=this._calculateOverlayScroll(u,f,a),this._offsetY=this._calculateOverlayOffsetY(u,f,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,ZX,5),o.Suo(r,Xb,5),o.Suo(r,jj,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:VA,useExisting:n},{provide:Uj,useExisting:n}]),o.qOj],ngContentSelectors:VX,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(BX),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,RX,2,1,"span",3),o.YNc(5,FX,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA(),o.qZA(),o.YNc(8,LX,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[R4,qi,Pi,N4,Ws,it],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[L4.transformPanelWrap,L4.transformPanel]},changeDetection:0}),n})(),j4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[zX],imports:[[Te,$A,GP,Zn],Vy,B1,GP,Zn]}),n})();const H4=new Set;let KC,YX=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):QX}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!H4.has(n))try{KC||(KC=document.createElement("style"),KC.setAttribute("type","text/css"),document.head.appendChild(KC)),KC.sheet&&(KC.sheet.insertRule(`@media ${n} {body{ }}`,0),H4.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QX(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let JX=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new kt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return q4(kC(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Lo(q4(kC(e)).map(a=>this._registerQuery(a).observable));return s=Si(s.pipe((0,hi.q)(1)),s.pipe(E1(1),OC(0))),s.pipe((0,It.U)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:b})=>{u.matches=u.matches||f,u.breakpoints[b]=f}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Wn.y(a=>{const u=f=>this._zone.run(()=>a.next(f));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Bi(i),(0,It.U)(({matches:a})=>({query:e,matches:a})),bn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(YX),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q4(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const eee={tooltipState:Wi("state",[Qn("initial, void, hidden",Pt({opacity:0,transform:"scale(0)"})),Qn("visible",Pt({transform:"scale(1)"})),kn("* => visible",Kn("200ms cubic-bezier(0, 0, 0.2, 1)",Qs([Pt({opacity:0,transform:"scale(0)",offset:0}),Pt({opacity:.5,transform:"scale(0.99)",offset:.5}),Pt({opacity:1,transform:"scale(1)",offset:1})]))),kn("* => hidden",Kn("100ms cubic-bezier(0, 0, 0.2, 1)",Pt({opacity:0})))])},z4="tooltip-panel",G4=Pp({passive:!0}),$4=new o.OlP("mat-tooltip-scroll-strategy"),ree={provide:$4,deps:[Cd],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},see=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let aee=(()=>{class n{constructor(e,i,r,s,a,u,f,b,x,D,R,B){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=u,this._ariaDescriber=f,this._focusMonitor=b,this._dir=D,this._defaultOptions=R,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new kt.x,this._handleKeydown=z=>{this._isTooltipVisible()&&27===z.keyCode&&!$o(z)&&(z.preventDefault(),z.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=x,this._document=B,R&&(R.position&&(this.position=R.position),R.touchGestures&&(this.touchGestures=R.touchGestures)),D.change.pipe(bn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),a.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=jt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ya(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ya(e)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(bn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,G4)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new ZC(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(bn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(bn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${z4}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(bn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(bn(this._destroyed)).subscribe(()=>{var r;return null===(r=this._tooltipInstance)||void 0===r?void 0:r._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,hi.q)(1),bn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const u=this._overlayRef;if(u){const f=`${this._cssClassPrefix}-${z4}-`;u.removePanelClass(f+this._currentPosition),u.addPanelClass(f+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,G4)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),lee=(()=>{class n extends aee{constructor(e,i,r,s,a,u,f,b,x,D,R,B){super(e,i,r,s,a,u,f,b,x,D,R,B),this._tooltipComponent=uee}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Cd),o.Y36(o.SBq),o.Y36(C4),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(zr),o.Y36(T1),o.Y36(Gr),o.Y36($4),o.Y36(cs,8),o.Y36(see,8),o.Y36(ue))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),cee=(()=>{class n{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new kt.x}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const i=e.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n}),n})(),uee=(()=>{class n extends cee{constructor(e,i){super(e),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(JX))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){2&e&&o.Udp("zoom","visible"===i._visibility?1:null)},features:[o.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return i._animationStart()})("@state.done",function(s){return i._animationDone(s)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(1,5,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass)("@state",i._visibility),o.xp6(2),o.Oqu(i.message)}},directives:[it],pipes:[Uu],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[eee.tooltipState]},changeDetection:0}),n})(),dee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ree],imports:[[Qb,Te,$A,Zn],Zn,Vy]}),n})();function hee(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function fee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-select",17),o.NdJ("selectionChange",function(r){return o.CHM(e),o.oxw(2)._changePageSize(r.value)}),o.YNc(2,hee,2,2,"mat-option",18),o.qZA(),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function pee(n,t){if(1&n&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function mee(n,t){if(1&n&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,fee,3,6,"mat-form-field",14),o.YNc(4,pee,2,1,"div",15),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function gee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function _ee(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let K1=(()=>{class n{constructor(){this.changes=new kt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vee={provide:K1,deps:[[new o.FiY,new o.tp0,K1]],useFactory:function(n){return n||new K1}},wee=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Cee=Fg(kj(class{}));let Eee=(()=>{class n extends Cee{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:a,hidePageSize:u,showFirstLastButtons:f}=r;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=u&&(this._hidePageSize=u),null!=f&&(this._showFirstLastButtons=f)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(Ya(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=Ya(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(Ya(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Ya(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=jt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=jt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[o.qOj]}),n})(),Q1=(()=>{class n extends Eee{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(K1),o.Y36(o.sBO),o.Y36(wee,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,mee,5,3,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,gee,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return i.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA(),o.qZA(),o.YNc(13,_ee,3,5,"button",11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!i.hidePageSize),o.xp6(3),o.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),o.xp6(1),o.Q6J("ngIf",i.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),o.uIk("aria-label",i._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),o.uIk("aria-label",i._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",i.showFirstLastButtons))},directives:[vt,Uh,lee,e0,YC,Wt,Xb],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),xee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[vee],imports:[[Te,$P,j4,dee,Zn]]}),n})();const Dee=[[["caption"]],[["colgroup"],["col"]]],See=["caption","colgroup, col"];function rF(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=jt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const QC=new o.OlP("CDK_TABLE");let JC=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),XC=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),J1=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class kee{}const Oee=rF(kee);let Lg=(()=>{class n extends Oee{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=jt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(QC,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,JC,5),o.Suo(r,XC,5),o.Suo(r,J1,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class sF{constructor(t,e){const i=e.nativeElement.classList;for(const r of t._columnCssClassName)i.add(r)}}let oF=(()=>{class n extends sF{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lg),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),aF=(()=>{class n extends sF{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lg),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class W4{constructor(){this.tasks=[],this.endTasks=[]}}const lF=new o.OlP("_COALESCED_STYLE_SCHEDULER");let Y4=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new kt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new W4,this._getScheduleObservable().pipe(bn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new W4;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,$n.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,hi.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),cF=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof YA?e.headerCell.template:this instanceof KA?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class Ree extends cF{}const Nee=rF(Ree);let YA=(()=>{class n extends Nee{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(QC,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class Pee extends cF{}const Fee=rF(Pee);let KA=(()=>{class n extends Fee{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(QC,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),X1=(()=>{class n extends cF{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(QC,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),Bg=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),uF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[Bg],encapsulation:2}),n})(),hF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[Bg],encapsulation:2}),n})(),eM=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const K4=["top","bottom","left","right"];class Lee{constructor(t,e,i,r,s=!0,a=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(R=>R)&&!i.some(R=>R))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,u=this._getCellWidths(s,r),f=this._getStickyStartColumnPositions(u,e),b=this._getStickyEndColumnPositions(u,i),x=e.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const R="rtl"===this.direction,B=R?"right":"left",z=R?"left":"right";for(const ee of t)for(let ae=0;ae<a;ae++){const we=ee.children[ae];e[ae]&&this._addStickyStyle(we,B,f[ae],ae===x),i[ae]&&this._addStickyStyle(we,z,b[ae],ae===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===x?[]:u.slice(0,x+1).map((ee,ae)=>e[ae]?ee:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:u.slice(D).map((ee,ae)=>i[ae+D]?ee:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],u=[],f=[];for(let x=0,D=0;x<r.length;x++){if(!s[x])continue;a[x]=D;const R=r[x];f[x]=this._isNativeHtmlTable?Array.from(R.children):[R];const B=R.getBoundingClientRect().height;D+=B,u[x]=B}const b=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var x,D;for(let R=0;R<r.length;R++){if(!s[R])continue;const B=a[R],z=R===b;for(const ee of f[R])this._addStickyStyle(ee,i,B,z)}"top"===i?null===(x=this._positionListener)||void 0===x||x.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:f}):null===(D=this._positionListener)||void 0===D||D.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:f})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);K4.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of K4)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const fF=new o.OlP("CDK_SPL");let tM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),nM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),iM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),rM=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),sM=(()=>{class n{constructor(e,i,r,s,a,u,f,b,x,D,R){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=f,this._viewRepeater=b,this._coalescedStyleScheduler=x,this._viewportRuler=D,this._stickyPositioningListener=R,this._onDestroy=new kt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Ur({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=jt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=jt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(bn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),iF(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===s&&a.push(i[u]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let u=0;u<a.length;u++){let f=a[u];const b=this._cachedRenderRowsMap.get(f.data);b.has(f.rowDef)?b.get(f.rowDef).push(f):b.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const u=r&&r.has(a)?r.get(a):[];if(u.length){const f=u.shift();return f.dataIndex=i,f}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),oM(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=oM(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=oM(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=oM(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,u)=>a||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],iF(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;iF(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Wn.y||(0,Vo.m)(n.lift)&&(0,Vo.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ct(this.dataSource)),this._renderChangeSubscription=e.pipe(bn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),s=r.map(u=>u.sticky),a=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Bg.mostRecentCellOutlet&&Bg.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Lee(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ct()).pipe(bn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&(null==a?void 0:a.nodeType)===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(cs,8),o.Y36(ue),o.Y36(zr),o.Y36(ZA),o.Y36(lF),o.Y36(n0),o.Y36(fF,12))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,eM,5),o.Suo(r,Lg,5),o.Suo(r,X1,5),o.Suo(r,YA,5),o.Suo(r,KA,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(tM,7),o.Gf(nM,7),o.Gf(iM,7),o.Gf(rM,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:QC,useExisting:n},{provide:ZA,useClass:P4},{provide:lF,useClass:Y4},{provide:fF,useValue:null}])],ngContentSelectors:See,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(Dee),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[nM,tM,rM,iM],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function oM(n,t){return n.concat(Array.from(t))}let Vee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[JP]]}),n})();const Uee=[[["caption"]],[["colgroup"],["col"]]],jee=["caption","colgroup, col"];let pF=(()=>{class n extends sM{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:ZA,useClass:P4},{provide:sM,useExisting:n},{provide:QC,useExisting:n},{provide:lF,useClass:Y4},{provide:fF,useValue:null}]),o.qOj],ngContentSelectors:jee,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(Uee),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[nM,tM,rM,iM],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),aM=(()=>{class n extends JC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:JC,useExisting:n}]),o.qOj]}),n})(),lM=(()=>{class n extends XC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:XC,useExisting:n}]),o.qOj]}),n})(),cM=(()=>{class n extends Lg{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Lg,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),uM=(()=>{class n extends oF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),dM=(()=>{class n extends aF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),mF=(()=>{class n extends YA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:YA,useExisting:n}]),o.qOj]}),n})(),gF=(()=>{class n extends X1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:X1,useExisting:n}]),o.qOj]}),n})(),_F=(()=>{class n extends uF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:uF,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[Bg],encapsulation:2}),n})(),yF=(()=>{class n extends hF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:hF,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[Bg],encapsulation:2}),n})(),Qee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vee,Zn],Zn]}),n})();class J4 extends class extends class{}{constructor(t=[]){super(),this._renderData=new Ur([]),this._filter=new Ur(""),this._internalPageChanges=new kt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(DA(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,u)=>{let f=this.sortingDataAccessor(a,r),b=this.sortingDataAccessor(u,r);const x=typeof f,D=typeof b;x!==D&&("number"===x&&(f+=""),"number"===D&&(b+=""));let R=0;return null!=f&&null!=b?f>b?R=1:f<b&&(R=-1):null!=f?R=1:null!=b&&(R=-1),R*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,u)=>a+e[u]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Ur(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,er.T)(this._sort.sortChange,this._sort.initialized):Ct(null),i=this._paginator?(0,er.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ct(null),s=Lo([this._data,this._filter]).pipe((0,It.U)(([f])=>this._filterData(f))),a=Lo([s,e]).pipe((0,It.U)(([f])=>this._orderData(f))),u=Lo([a,i]).pipe((0,It.U)(([f])=>this._pageData(f)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=u.subscribe(f=>this._renderData.next(f))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}function ete(n,t){}class vF{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const tte={dialogContainer:Wi("dialogContainer",[Qn("void, exit",Pt({opacity:0,transform:"scale(0.7)"})),Qn("enter",Pt({transform:"none"})),kn("* => enter",Kn("150ms cubic-bezier(0, 0, 0.2, 1)",Pt({transform:"none",opacity:1}))),kn("* => void, * => exit",Kn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Pt({opacity:0})))])};let nte=(()=>{class n extends eF{constructor(e,i,r,s,a,u,f,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=a,this._interactivityChecker=u,this._ngZone=f,this._focusMonitor=b,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=x=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(x)),this._ariaLabelledBy=a.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=$b(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=$b())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=$b();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(c),o.Y36(o.sBO),o.Y36(ue,8),o.Y36(vF),o.Y36(O1),o.Y36(o.R0b),o.Y36(Gr))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(r0,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),ite=(()=>{class n extends nte{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,ete,0,0,"ng-template",0)},directives:[r0],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[tte.dialogContainer]}}),n})(),rte=0;class o0{constructor(t,e,i="mat-dialog-"+rte++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new kt.x,this._afterClosed=new kt.x,this._beforeClosed=new kt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(ii(r=>"opened"===r.state),(0,hi.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ii(r=>"closed"===r.state),(0,hi.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ii(r=>27===r.keyCode&&!this.disableClose&&!$o(r))).subscribe(r=>{r.preventDefault(),X4(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():X4(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ii(e=>"closing"===e.state),(0,hi.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function X4(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const QA=new o.OlP("MatDialogData"),ste=new o.OlP("mat-dialog-default-options"),eH=new o.OlP("mat-dialog-scroll-strategy"),ate={provide:eH,deps:[Cd],useFactory:function(n){return()=>n.scrollStrategies.block()}};let lte=(()=>{class n{constructor(e,i,r,s,a,u,f,b,x,D){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._dialogRefConstructor=f,this._dialogContainerType=b,this._dialogDataToken=x,this._animationMode=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new kt.x,this._afterOpenedAtThisLevel=new kt.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=uc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bi(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){if(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new vF),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),s=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const u=s._animationStateChanged.subscribe(f=>{"opening"===f.state&&(this._dialogAnimatingOpen=!0),"opened"===f.state&&(this._dialogAnimatingOpen=!1,u.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new On.w0),this._animationStateSubscriptions.add(u)}const a=this._attachDialogContent(e,s,r,i);return this._lastDialogRef=a,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this._removeOpenDialog(a)),this.afterOpened.next(a),s._initializeWithAttachedContent(),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new GA({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:vF,useValue:i}]}),a=new ZC(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(a).instance}_attachDialogContent(e,i,r,s){const a=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new zA(e,null,{$implicit:s.data,dialogRef:a}));else{const u=this._createInjector(s,a,i),f=i.attachComponentPortal(new ZC(e,s.viewContainerRef,u));a.componentInstance=f.instance}return a.updateSize(s.width,s.height).updatePosition(s.position),a}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(cs,null,o.XFs.Optional))&&a.push({provide:cs,useValue:{value:e.direction,change:Ct()}}),o.zs3.create({parent:s||this._injector,providers:a})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),hM=(()=>{class n extends lte{constructor(e,i,r,s,a,u,f,b){super(e,i,s,u,f,a,o0,ite,QA,b)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cd),o.LFG(o.zs3),o.LFG(Qe,8),o.LFG(ste,8),o.LFG(eH),o.LFG(n,12),o.LFG(nF),o.LFG(ur,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ute=0,dte=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+ute++}ngOnInit(){this._dialogRef||(this._dialogRef=function(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o0,8),o.Y36(o.SBq),o.Y36(hM))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),hte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),fte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),mte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[hM,ate],imports:[[$A,Z1,Zn],Zn]}),n})();function bF(){return(0,Xi.e)((n,t)=>{let e,i=!1;n.subscribe(new Di.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}G(4844);var wF=G(8001);const tH=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},nH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,u=a?n[r+1]:0,f=r+2<n.length,b=f?n[r+2]:0;let R=(15&u)<<2|b>>6,B=63&b;f||(B=64,a||(R=64)),i.push(e[s>>2],e[(3&s)<<4|u>>4],e[R],e[B])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(tH(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const f=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(1023&f))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const b=r<n.length?e[n.charAt(r)]:64;++r;const D=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==u||null==b||null==D)throw new vte;i.push(s<<2|u>>4),64!==b&&(i.push(u<<4&240|b>>2),64!==D&&i.push(b<<6&192|D))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iH=function(n){return function(n){const t=tH(n);return nH.encodeByteArray(t,!0)}(n).replace(/\./g,"")},fM=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=n&&function(n){try{return nH.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};function a0(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class pM extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,pM.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rte.prototype.create)}}class Rte{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?function(n,t){return n.replace(Pte,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new pM(r,`${this.serviceName}: ${a} (${r}).`,i)}}const Pte=/\{\$([^}]+)}/g;function Zo(n){return n&&n._delegate?n._delegate:n}class zte{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const DF=[];var vi=(()=>{return(n=vi||(vi={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",vi;var n})();const aH={debug:vi.DEBUG,verbose:vi.VERBOSE,info:vi.INFO,warn:vi.WARN,error:vi.ERROR,silent:vi.SILENT},Wte=vi.INFO,Yte={[vi.DEBUG]:"log",[vi.VERBOSE]:"log",[vi.INFO]:"info",[vi.WARN]:"warn",[vi.ERROR]:"error"},Kte=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=Yte[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};var St,Jte="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jh={},SF=SF||{},Pn=Jte||self;function gM(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function JA(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var TF="closure_uid_"+(1e9*Math.random()>>>0),ene=0;function tne(n,t,e){return n.call.apply(n.bind,arguments)}function nne(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ja(n,t,e){return(Ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tne:nne).apply(null,arguments)}function _M(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Wo(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function Uy(){this.s=this.s,this.o=this.o}Uy.prototype.s=!1,Uy.prototype.sa=function(){var n;!this.s&&(this.s=!0,this.N(),0)&&(n=this,Object.prototype.hasOwnProperty.call(n,TF)&&n[TF]||(n[TF]=++ene))},Uy.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lH=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function IF(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function cH(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(gM(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function Xa(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Xa.prototype.h=function(){this.defaultPrevented=!0};var rne=function(){if(!Pn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pn.addEventListener("test",()=>{},t),Pn.removeEventListener("test",()=>{},t)}catch(e){}return n}();function XA(n){return/^[\s\xa0]*$/.test(n)}function yM(){var n=Pn.navigator;return n&&(n=n.userAgent)?n:""}function Hp(n){return-1!=yM().indexOf(n)}function MF(n){return MF[" "](n),n}MF[" "]=function(){};var OF,n,one=Hp("Opera"),eE=Hp("Trident")||Hp("MSIE"),uH=Hp("Edge"),kF=uH||eE,dH=Hp("Gecko")&&!(-1!=yM().toLowerCase().indexOf("webkit")&&!Hp("Edge"))&&!(Hp("Trident")||Hp("MSIE"))&&!Hp("Edge"),ane=-1!=yM().toLowerCase().indexOf("webkit")&&!Hp("Edge");function hH(){var n=Pn.document;return n?n.documentMode:void 0}e:{var RF="",NF=(n=yM(),dH?/rv:([^\);]+)(\)|;)/.exec(n):uH?/Edge\/([\d\.]+)/.exec(n):eE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ane?/WebKit\/(\S+)/.exec(n):one?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(NF&&(RF=NF?NF[1]:""),eE){var PF=hH();if(null!=PF&&PF>parseFloat(RF)){OF=String(PF);break e}}OF=RF}var lne=Pn.document&&eE&&(hH()||parseInt(OF,10))||void 0;function eD(n,t){if(Xa.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(dH){e:{try{MF(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cne[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&eD.$.h.call(this)}}Wo(eD,Xa);var cne={2:"touch",3:"pen",4:"mouse"};eD.prototype.h=function(){eD.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tD="closure_listenable_"+(1e6*Math.random()|0),une=0;function dne(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++une,this.fa=this.ia=!1}function vM(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function LF(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function pH(n){const t={};for(const e in n)t[e]=n[e];return t}const mH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gH(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<mH.length;s++)e=mH[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function bM(n){this.src=n,this.g={},this.h=0}function BF(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=lH(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(vM(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function VF(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}bM.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=VF(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new dne(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var UF="closure_lm_"+(1e6*Math.random()|0),jF={};function _H(n,t,e,i,r){if(i&&i.once)return vH(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)_H(n,t[s],e,i,r);return null}return e=GF(e),n&&n[tD]?n.O(t,e,JA(i)?!!i.capture:!!i,r):yH(n,t,e,!1,i,r)}function yH(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=JA(r)?!!r.capture:!!r,u=qF(n);if(u||(n[UF]=u=new bM(n)),(e=u.add(t,e,i,a,s)).proxy)return e;if(i=function(){const t=pne;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)rne||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(wH(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function vH(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)vH(n,t[s],e,i,r);return null}return e=GF(e),n&&n[tD]?n.P(t,e,JA(i)?!!i.capture:!!i,r):yH(n,t,e,!0,i,r)}function bH(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)bH(n,t[s],e,i,r);else i=JA(i)?!!i.capture:!!i,e=GF(e),n&&n[tD]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=VF(s=n.g[t],e,i,r))&&(vM(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=qF(n))&&(t=n.g[t.toString()],n=-1,t&&(n=VF(t,e,i,r)),(e=-1<n?t[n]:null)&&HF(e))}function HF(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[tD])BF(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(wH(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=qF(t))?(BF(e,n),0==e.h&&(e.src=null,t[UF]=null)):vM(n)}}}function wH(n){return n in jF?jF[n]:jF[n]="on"+n}function pne(n,t){if(n.fa)n=!0;else{t=new eD(t,this);var e=n.listener,i=n.la||n.src;n.ia&&HF(n),n=e.call(i,t)}return n}function qF(n){return(n=n[UF])instanceof bM?n:null}var zF="__closure_events_fn_"+(1e9*Math.random()>>>0);function GF(n){return"function"==typeof n?n:(n[zF]||(n[zF]=function(t){return n.handleEvent(t)}),n[zF])}function Yo(){Uy.call(this),this.i=new bM(this),this.S=this,this.J=null}function va(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Xa(t,n);else if(t instanceof Xa)t.target=t.target||n;else{var r=t;gH(t=new Xa(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=wM(a,i,!0,t)&&r}if(r=wM(a=t.g=n,i,!0,t)&&r,r=wM(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=wM(a=t.g=e[s],i,!1,t)&&r}function wM(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==e){var u=a.listener,f=a.la||a.src;a.ia&&BF(n.i,a),r=!1!==u.call(f,i)&&r}}return r&&!i.defaultPrevented}Wo(Yo,Uy),Yo.prototype[tD]=!0,Yo.prototype.removeEventListener=function(n,t,e,i){bH(this,n,t,e,i)},Yo.prototype.N=function(){if(Yo.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)vM(e[i]);delete n.g[t],n.h--}}this.J=null},Yo.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Yo.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var $F=Pn.JSON.stringify;function gne(){var n=ZF;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var CH=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new yne,n=>n.reset());class yne{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function vne(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function bne(n){Pn.setTimeout(()=>{throw n},0)}let nD,iD=!1,ZF=new class{constructor(){this.h=this.g=null}add(t,e){const i=CH.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},EH=()=>{const n=Pn.Promise.resolve(void 0);nD=()=>{n.then(wne)}};var wne=()=>{for(var n;n=gne();){try{n.h.call(n.g)}catch(e){bne(e)}var t=CH;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}iD=!1};function CM(n,t){Yo.call(this),this.h=n||1,this.g=t||Pn,this.j=Ja(this.qb,this),this.l=Date.now()}function WF(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function YF(n,t,e){if("function"==typeof n)e&&(n=Ja(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ja(n.handleEvent,n)}return 2147483647<Number(t)?-1:Pn.setTimeout(n,t||0)}function xH(n){n.g=YF(()=>{n.g=null,n.i&&(n.i=!1,xH(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Wo(CM,Yo),(St=CM.prototype).ga=!1,St.T=null,St.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),va(this,"tick"),this.ga&&(WF(this),this.start()))}},St.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.N=function(){CM.$.N.call(this),WF(this),delete this.g};class Cne extends Uy{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xH(this)}N(){super.N(),this.g&&(Pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rD(n){Uy.call(this),this.h=n,this.g={}}Wo(rD,Uy);var AH=[];function DH(n,t,e,i){Array.isArray(e)||(e&&(AH[0]=e.toString()),e=AH);for(var r=0;r<e.length;r++){var s=_H(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function SH(n){LF(n.g,function(t,e){this.g.hasOwnProperty(e)&&HF(t)},n),n.g={}}function EM(){this.g=!0}function tE(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return $F(e)}catch(u){return t}}(n,e)+(i?" "+i:"")})}rD.prototype.N=function(){rD.$.N.call(this),SH(this)},rD.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},EM.prototype.Ea=function(){this.g=!1},EM.prototype.info=function(){};var c0={},TH=null;function xM(){return TH=TH||new Yo}function IH(n){Xa.call(this,c0.Ta,n)}function sD(n){const t=xM();va(t,new IH(t))}function MH(n,t){Xa.call(this,c0.STAT_EVENT,n),this.stat=t}function Bl(n){const t=xM();va(t,new MH(t,n))}function kH(n,t){Xa.call(this,c0.Ua,n),this.size=t}function oD(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pn.setTimeout(function(){n()},t)}c0.Ta="serverreachability",Wo(IH,Xa),c0.STAT_EVENT="statevent",Wo(MH,Xa),c0.Ua="timingevent",Wo(kH,Xa);var AM={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OH={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function KF(){}function NH(){}KF.prototype.h=null;var XF,aD={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function QF(){Xa.call(this,"d")}function JF(){Xa.call(this,"c")}function DM(){}function lD(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new rD(this),this.P=Sne,this.V=new CM(n=kF?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PH}function PH(){this.i=null,this.g="",this.h=!1}Wo(QF,Xa),Wo(JF,Xa),Wo(DM,KF),DM.prototype.g=function(){return new XMLHttpRequest},DM.prototype.i=function(){return{}},XF=new DM;var Sne=45e3,eL={},SM={};function tL(n,t,e){n.L=1,n.v=kM(Vg(t)),n.s=e,n.S=!0,FH(n,null)}function FH(n,t){n.G=Date.now(),cD(n),n.A=Vg(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),$H(e.i,"t",i),n.C=0,e=n.l.J,n.h=new PH,n.g=gq(n.l,e?t:null,!n.s),0<n.O&&(n.M=new Cne(Ja(n.Pa,n,n.g),n.O)),DH(n.U,n.g,"readystatechange",n.nb),t=n.I?pH(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),sD(),function(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",u=s.split("&"),f=0;f<u.length;f++){var b=u[f].split("=");if(1<b.length){var x=b[0];b=b[1];var D=x.split("_");a=2<=D.length&&"type"==D[1]?a+(x+"=")+b+"&":a+(x+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function LH(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function BH(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=Tne(n,e),r==SM){4==t&&(n.o=4,Bl(14),i=!1),tE(n.j,n.m,null,"[Incomplete Response]");break}if(r==eL){n.o=4,Bl(15),tE(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}tE(n.j,n.m,r,null),nL(n,r)}LH(n)&&r!=SM&&r!=eL&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Bl(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),cL(t),t.M=!0,Bl(11))):(tE(n.j,n.m,e,"[Invalid Chunked Response]"),u0(n),uD(n))}function Tne(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?SM:(e=Number(t.substring(e,i)),isNaN(e)?eL:(i+=1)+e>t.length?SM:(t=t.slice(i,i+e),n.C=i+e,t))}function cD(n){n.Y=Date.now()+n.P,VH(n,n.P)}function VH(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=oD(Ja(n.lb,n),t)}function TM(n){n.B&&(Pn.clearTimeout(n.B),n.B=null)}function uD(n){0==n.l.H||n.J||hq(n.l,n)}function u0(n){TM(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,WF(n.V),SH(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function nL(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||iL(e.i,n)))if(!n.K&&iL(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=oD(Ja(e.ib,e),6e3));else{if(e.g){if(!(e.g.G+3e3<n.G))break e;LM(e),PM(e)}lL(e),Bl(18)}if(1>=YH(e.i)&&e.oa){try{e.oa()}catch(b){}e.oa=void 0}}else h0(e,11)}else if((n.K||e.g==n)&&LM(e),!XA(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.V=b[0],b=b[1],2==e.H)if("c"==b[0]){e.K=b[1],e.pa=b[2];const x=b[3];null!=x&&(e.ra=x,e.l.info("VER="+e.ra));const D=b[4];null!=D&&(e.Ga=D,e.l.info("SVER="+e.Ga));const R=b[5];null!=R&&"number"==typeof R&&0<R&&(e.L=i=1.5*R,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var s=i.i;s.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(rL(s,s.h),s.h=null))}if(i.F){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.Da=ee,wr(i.I,i.F,ee))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=mq(i,i.J?i.pa:null,i.Y),a.K){KH(i.i,a);var u=a,f=i.L;f&&u.setTimeout(f),u.B&&(TM(u),cD(u)),i.g=a}else uq(i);0<e.j.length&&FM(e)}else"stop"!=b[0]&&"close"!=b[0]||h0(e,7);else 3==e.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?h0(e,7):aL(e):"noop"!=b[0]&&e.h&&e.h.Aa(b),e.A=0)}sD()}catch(b){}}function UH(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(gM(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(gM(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(gM(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(St=lD.prototype).setTimeout=function(n){this.P=n},St.nb=function(n){n=n.target;const t=this.M;t&&3==qp(n)?t.l():this.Pa(n)},St.Pa=function(n){try{if(n==this.g)e:{const x=qp(this.g);var t=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||kF||this.g&&(this.h.h||this.g.ja()||rq(this.g)))){this.J||4!=x||7==t||sD(),TM(this);var e=this.g.da();this.ca=e;t:if(LH(this)){var i=rq(this.g);n="";var r=i.length,s=4==qp(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){u0(this),uD(this);var a="";break t}this.h.i=new Pn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,x,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,f=this.g;if((u=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!XA(u)){var b=u;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Bl(12),u0(this),uD(this);break e}tE(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nL(this,e)}this.S?(BH(this,x,a),kF&&this.i&&3==x&&(DH(this.U,this.V,"tick",this.mb),this.V.start())):(tE(this.j,this.m,a,null),nL(this,a)),4==x&&u0(this),this.i&&!this.J&&(4==x?hq(this.l,this):(this.i=!1,cD(this)))}else(function(n){const t={};n=(n.g&&2<=qp(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(XA(n[i]))continue;var e=vne(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Bl(12)):(this.o=0,Bl(13)),u0(this),uD(this)}}}catch(x){}},St.mb=function(){if(this.g){var n=qp(this.g),t=this.g.ja();this.C<t.length&&(TM(this),BH(this,n,t),this.i&&4!=n&&cD(this))}},St.cancel=function(){this.J=!0,u0(this)},St.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(sD(),Bl(17)),u0(this),this.o=2,uD(this)):VH(this,this.Y-n)};var jH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d0(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof d0){this.h=n.h,IM(this,n.j),this.s=n.s,this.g=n.g,MM(this,n.m),this.l=n.l;var t=n.i,e=new fD;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),HH(this,e),this.o=n.o}else n&&(t=String(n).match(jH))?(this.h=!1,IM(this,t[1]||"",!0),this.s=dD(t[2]||""),this.g=dD(t[3]||"",!0),MM(this,t[4]),this.l=dD(t[5]||"",!0),HH(this,t[6]||"",!0),this.o=dD(t[7]||"")):(this.h=!1,this.i=new fD(null,this.h))}function Vg(n){return new d0(n)}function IM(n,t,e){n.j=e?dD(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function MM(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function HH(n,t,e){t instanceof fD?(n.i=t,function(n,t){t&&!n.j&&(jy(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(zH(this,i),$H(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=hD(t,Pne)),n.i=new fD(t,n.h))}function wr(n,t,e){n.i.set(t,e)}function kM(n){return wr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dD(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hD(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,One),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function One(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}d0.prototype.toString=function(){var n=[],t=this.j;t&&n.push(hD(t,qH,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(hD(t,qH,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(hD(e,"/"==e.charAt(0)?Nne:Rne,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",hD(e,Fne)),n.join("")};var qH=/[#\/\?@]/g,Rne=/[#\?:]/g,Nne=/[#\?]/g,Pne=/[#\?@]/g,Fne=/#/g;function fD(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function jy(n){n.g||(n.g=new Map,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function zH(n,t){jy(n),t=nE(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function GH(n,t){return jy(n),t=nE(n,t),n.g.has(t)}function $H(n,t,e){zH(n,t),0<e.length&&(n.i=null,n.g.set(nE(n,t),IF(e)),n.h+=e.length)}function nE(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function ZH(n){this.l=n||Vne,n=Pn.PerformanceNavigationTiming?0<(n=Pn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pn.g&&Pn.g.Ka&&Pn.g.Ka()&&Pn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(St=fD.prototype).add=function(n,t){jy(this),this.i=null,n=nE(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},St.forEach=function(n,t){jy(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},St.ta=function(){jy(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},St.Z=function(n){jy(this);let t=[];if("string"==typeof n)GH(this,n)&&(t=t.concat(this.g.get(nE(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},St.set=function(n,t){return jy(this),this.i=null,GH(this,n=nE(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},St.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var Vne=10;function WH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YH(n){return n.h?1:n.g?n.g.size:0}function iL(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function rL(n,t){n.g?n.g.add(t):n.h=t}function KH(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function QH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return IF(n.i)}function jne(){this.g=new class{stringify(n){return Pn.JSON.stringify(n,void 0)}parse(n){return Pn.JSON.parse(n,void 0)}}}function Hne(n,t,e){const i=e||"";try{UH(n,function(r,s){let a=r;JA(r)&&(a=$F(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function OM(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function pD(n){this.l=n.fc||null,this.j=n.ob||!1}function RM(n,t){Yo.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=sL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ZH.prototype.cancel=function(){if(this.i=QH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Wo(pD,KF),pD.prototype.g=function(){return new RM(this.l,this.j)},pD.prototype.i=function(n){return function(){return n}}({}),Wo(RM,Yo);var sL=0;function JH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function mD(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gD(n)}function gD(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(St=RM.prototype).open=function(n,t){if(this.readyState!=sL)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,gD(this)},St.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Pn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mD(this)),this.readyState=sL},St.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gD(this)),this.g&&(this.readyState=3,gD(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Pn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},St.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?mD(this):gD(this),3==this.readyState&&JH(this)}},St.Za=function(n){this.g&&(this.response=this.responseText=n,mD(this))},St.Ya=function(n){this.g&&(this.response=n,mD(this))},St.ka=function(){this.g&&mD(this)},St.setRequestHeader=function(n,t){this.v.append(n,t)},St.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(RM.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var zne=Pn.JSON.parse;function Ss(n){Yo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=XH,this.L=this.M=!1}Wo(Ss,Yo);var XH="",Gne=/^https?$/i,$ne=["POST","PUT"];function eq(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,tq(n),NM(n)}function tq(n){n.F||(n.F=!0,va(n,"complete"),va(n,"error"))}function nq(n){if(n.h&&void 0!==SF&&(!n.C[1]||4!=qp(n)||2!=n.da()))if(n.v&&4==qp(n))YF(n.La,0,n);else if(va(n,"readystatechange"),4==qp(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var r=String(n.I).match(jH)[1]||null;!r&&Pn.self&&Pn.self.location&&(r=Pn.self.location.protocol.slice(0,-1)),i=!Gne.test(r?r.toLowerCase():"")}e=i}if(e)va(n,"complete"),va(n,"success");else{n.m=6;try{var s=2<qp(n)?n.g.statusText:""}catch(u){s=""}n.j=s+" ["+n.da()+"]",tq(n)}}finally{NM(n)}}}function NM(n,t){if(n.g){iq(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||va(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function iq(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Pn.clearTimeout(n.A),n.A=null)}function qp(n){return n.g?n.g.readyState:0}function rq(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case XH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function sq(n){let t="";return LF(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function oL(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=sq(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):wr(n,t,e))}function _D(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function oq(n){this.Ga=0,this.j=[],this.l=new EM,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_D("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_D("baseRetryDelayMs",5e3,n),this.hb=_D("retryDelaySeedMs",1e4,n),this.eb=_D("forwardChannelMaxRetries",2,n),this.xa=_D("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ZH(n&&n.concurrentRequestLimit),this.Ja=new jne,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function aL(n){if(aq(n),3==n.H){var t=n.W++,e=Vg(n.I);if(wr(e,"SID",n.K),wr(e,"RID",t),wr(e,"TYPE","terminate"),yD(n,e),(t=new lD(n,n.l,t)).L=2,t.v=kM(Vg(e)),e=!1,Pn.navigator&&Pn.navigator.sendBeacon)try{e=Pn.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!e&&Pn.Image&&((new Image).src=t.v,e=!0),e||(t.g=gq(t.l,null),t.g.ha(t.v)),t.G=Date.now(),cD(t)}pq(n)}function PM(n){n.g&&(cL(n),n.g.cancel(),n.g=null)}function aq(n){PM(n),n.u&&(Pn.clearTimeout(n.u),n.u=null),LM(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pn.clearTimeout(n.m),n.m=null)}function FM(n){if(!WH(n.i)&&!n.m){n.m=!0;var t=n.Na;nD||EH(),iD||(nD(),iD=!0),ZF.add(t,n),n.C=0}}function lq(n,t){var e;e=t?t.m:n.W++;const i=Vg(n.I);wr(i,"SID",n.K),wr(i,"RID",e),wr(i,"AID",n.V),yD(n,i),n.o&&n.s&&oL(i,n.o,n.s),e=new lD(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=cq(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),rL(n.i,e),tL(e,i,t)}function yD(n,t){n.na&&LF(n.na,function(e,i){wr(t,i,e)}),n.h&&UH({},function(e,i){wr(t,i,e)})}function cq(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Ja(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let f=0;f<e;f++){let b=r[f].g;const x=r[f].map;if(b-=s,0>b)s=Math.max(0,r[f].g-100),u=!1;else try{Hne(x,a,"req"+b+"_")}catch(D){i&&i(x)}}if(u){i=a.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function uq(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;nD||EH(),iD||(nD(),iD=!0),ZF.add(t,n),n.A=0}}function lL(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=oD(Ja(n.Ma,n),fq(n,n.A)),n.A++,0))}function cL(n){null!=n.B&&(Pn.clearTimeout(n.B),n.B=null)}function dq(n){n.g=new lD(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Vg(n.wa);wr(t,"RID","rpc"),wr(t,"SID",n.K),wr(t,"AID",n.V),wr(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&wr(t,"TO",n.qa),wr(t,"TYPE","xmlhttp"),yD(n,t),n.o&&n.s&&oL(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=kM(Vg(t)),e.s=null,e.S=!0,FH(e,n)}function LM(n){null!=n.v&&(Pn.clearTimeout(n.v),n.v=null)}function hq(n,t){var e=null;if(n.g==t){LM(n),cL(n),n.g=null;var i=2}else{if(!iL(n.i,t))return;e=t.F,KH(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;va(i=xM(),new kH(i,e)),FM(n)}else uq(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function(n,t){return!(YH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=oD(Ja(n.Na,n,t),fq(n,n.C)),n.C++,0)))}(n,t)||2==i&&lL(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:h0(n,5);break;case 4:h0(n,10);break;case 3:h0(n,6);break;default:h0(n,2)}}function fq(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function h0(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Ja(n.pb,n);e||(e=new d0("//www.google.com/images/cleardot.gif"),Pn.location&&"http"==Pn.location.protocol||IM(e,"https"),kM(e)),function(n,t){const e=new EM;if(Pn.Image){const i=new Image;i.onload=_M(OM,e,i,"TestLoadImage: loaded",!0,t),i.onerror=_M(OM,e,i,"TestLoadImage: error",!1,t),i.onabort=_M(OM,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=_M(OM,e,i,"TestLoadImage: timeout",!1,t),Pn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Bl(2);n.H=0,n.h&&n.h.za(t),pq(n),aq(n)}function pq(n){if(n.H=0,n.ma=[],n.h){const t=QH(n.i);(0!=t.length||0!=n.j.length)&&(cH(n.ma,t),cH(n.ma,n.j),n.i.i.length=0,IF(n.j),n.j.length=0),n.h.ya()}}function mq(n,t,e){var i=e instanceof d0?Vg(e):new d0(e);if(""!=i.g)t&&(i.g=t+"."+i.g),MM(i,i.m);else{var r=Pn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new d0(null);i&&IM(s,i),t&&(s.g=t),r&&MM(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&wr(i,e,t),wr(i,"VER",n.ra),yD(n,i),i}function gq(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ss(e&&n.Ha&&!n.va?new pD({ob:!0}):n.va)).Oa(n.J),t}function _q(){}function BM(){if(eE&&!(10<=Number(lne)))throw Error("Environmental error: no available transport.")}function Iu(n,t){Yo.call(this),this.g=new oq(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!XA(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!XA(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new iE(this)}function yq(n){QF.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function vq(){JF.call(this),this.status=1}function iE(n){this.g=n}function Hh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uL(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],a=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;a=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(a<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=e+((a=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ui(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(St=Ss.prototype).Oa=function(n){this.M=n},St.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():XF.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:XF),this.g.onreadystatechange=Ja(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void eq(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Pn.FormData&&n instanceof Pn.FormData,!(0<=lH($ne,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of e)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iq(this),0<this.B&&((this.L=function(n){return eE&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ja(this.ua,this)):this.A=YF(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){eq(this,s)}},St.ua=function(){void 0!==SF&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,va(this,"timeout"),this.abort(8))},St.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,va(this,"complete"),va(this,"abort"),NM(this))},St.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),NM(this,!0)),Ss.$.N.call(this)},St.La=function(){this.s||(this.G||this.v||this.l?nq(this):this.kb())},St.kb=function(){nq(this)},St.isActive=function(){return!!this.g},St.da=function(){try{return 2<qp(this)?this.g.status:-1}catch(n){return-1}},St.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},St.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),zne(t)}},St.Ia=function(){return this.m},St.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=oq.prototype).ra=8,St.H=1,St.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new lD(this,this.l,n);let s=this.s;if(this.U&&(s?(s=pH(s),gH(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=cq(this,r,t),wr(e=Vg(this.I),"RID",n),wr(e,"CVER",22),this.F&&wr(e,"X-HTTP-Session-Id",this.F),yD(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(sq(s)))+"&"+t:this.o&&oL(e,this.o,s)),rL(this.i,r),this.bb&&wr(e,"TYPE","init"),this.P?(wr(e,"$req",t),wr(e,"SID","null"),r.aa=!0,tL(r,e,null)):tL(r,e,t),this.H=2}}else 3==this.H&&(n?lq(this,n):0==this.j.length||WH(this.i)||lq(this))},St.Ma=function(){if(this.u=null,dq(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=oD(Ja(this.jb,this),n)}},St.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bl(10),PM(this),dq(this))},St.ib=function(){null!=this.v&&(this.v=null,PM(this),lL(this),Bl(19))},St.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Bl(2)):(this.l.info("Failed to ping google.com"),Bl(1))},St.isActive=function(){return!!this.h&&this.h.isActive(this)},(St=_q.prototype).Ba=function(){},St.Aa=function(){},St.za=function(){},St.ya=function(){},St.isActive=function(){return!0},St.Va=function(){},BM.prototype.g=function(n,t){return new Iu(n,t)},Wo(Iu,Yo),Iu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Bl(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=mq(n,null,n.Y),FM(n)},Iu.prototype.close=function(){aL(this.g)},Iu.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=$F(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&FM(t)},Iu.prototype.N=function(){this.g.h=null,delete this.j,aL(this.g),delete this.g,Iu.$.N.call(this)},Wo(yq,QF),Wo(vq,JF),Wo(iE,_q),iE.prototype.Ba=function(){va(this.g,"a")},iE.prototype.Aa=function(n){va(this.g,new yq(n))},iE.prototype.za=function(n){va(this.g,new vq)},iE.prototype.ya=function(){va(this.g,"b")},Wo(Hh,function(){this.blockSize=-1}),Hh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hh.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)uL(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){uL(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){uL(this,i),r=0;break}}this.h=r,this.i+=t},Hh.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Qne={};function dL(n){return-128<=n&&128>n?function(n,t){var e=Qne;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=function(t){return new Ui([0|t],0>t?-1:0)}(n)}(n):new Ui([0|n],0>n?-1:0)}function zp(n){if(isNaN(n)||!isFinite(n))return rE;if(0>n)return ba(zp(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=hL;return new Ui(t,0)}var hL=4294967296,rE=dL(0),fL=dL(1),wq=dL(16777216);function Ug(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ed(n){return-1==n.h}function ba(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ui(e,~n.h).add(fL)}function VM(n,t){return n.add(ba(t))}function UM(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function vD(n,t){this.g=n,this.h=t}function jM(n,t){if(Ug(t))throw Error("division by zero");if(Ug(n))return new vD(rE,rE);if(Ed(n))return t=jM(ba(n),t),new vD(ba(t.g),ba(t.h));if(Ed(t))return t=jM(n,ba(t)),new vD(ba(t.g),t.h);if(30<n.g.length){if(Ed(n)||Ed(t))throw Error("slowDivide_ only works with positive integers.");for(var e=fL,i=t;0>=i.X(n);)e=Cq(e),i=Cq(i);var r=sE(e,1),s=sE(i,1);for(i=sE(i,2),e=sE(e,2);!Ug(i);){var a=s.add(i);0>=a.X(n)&&(r=r.add(e),s=a),i=sE(i,1),e=sE(e,1)}return t=VM(n,r.R(t)),new vD(r,t)}for(r=rE;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(s=zp(e)).R(t);Ed(a)||0<a.X(n);)a=(s=zp(e-=i)).R(t);Ug(s)&&(s=fL),r=r.add(s),n=VM(n,a)}return new vD(r,n)}function Cq(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ui(e,n.h)}function sE(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Ui(r,n.h)}(St=Ui.prototype).ea=function(){if(Ed(this))return-ba(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:hL+i)*t,t*=hL}return n},St.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ug(this))return"0";if(Ed(this))return"-"+ba(this).toString(n);for(var t=zp(Math.pow(n,6)),e=this,i="";;){var r=jM(e,t).g,s=((0<(e=VM(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Ug(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},St.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},St.X=function(n){return Ed(n=VM(this,n))?-1:Ug(n)?0:1},St.abs=function(){return Ed(this)?ba(this):this},St.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(s&=65535)}return new Ui(e,-2147483648&e[e.length-1]?-1:0)},St.R=function(n){if(Ug(this)||Ug(n))return rE;if(Ed(this))return Ed(n)?ba(this).R(ba(n)):ba(ba(this).R(n));if(Ed(n))return ba(this.R(ba(n)));if(0>this.X(wq)&&0>n.X(wq))return zp(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),u=n.D(r)>>>16,f=65535&n.D(r);e[2*i+2*r]+=a*f,UM(e,2*i+2*r),e[2*i+2*r+1]+=s*f,UM(e,2*i+2*r+1),e[2*i+2*r+1]+=a*u,UM(e,2*i+2*r+1),e[2*i+2*r+2]+=s*u,UM(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ui(e,0)},St.gb=function(n){return jM(this,n).h},St.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ui(e,this.h&n.h)},St.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ui(e,this.h|n.h)},St.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ui(e,this.h^n.h)},BM.prototype.createWebChannel=BM.prototype.g,Iu.prototype.send=Iu.prototype.u,Iu.prototype.open=Iu.prototype.m,Iu.prototype.close=Iu.prototype.close,AM.NO_ERROR=0,AM.TIMEOUT=8,AM.HTTP_ERROR=6,OH.COMPLETE="complete",NH.EventType=aD,aD.OPEN="a",aD.CLOSE="b",aD.ERROR="c",aD.MESSAGE="d",Yo.prototype.listen=Yo.prototype.O,Ss.prototype.listenOnce=Ss.prototype.P,Ss.prototype.getLastError=Ss.prototype.Sa,Ss.prototype.getLastErrorCode=Ss.prototype.Ia,Ss.prototype.getStatus=Ss.prototype.da,Ss.prototype.getResponseJson=Ss.prototype.Wa,Ss.prototype.getResponseText=Ss.prototype.ja,Ss.prototype.send=Ss.prototype.ha,Ss.prototype.setWithCredentials=Ss.prototype.Oa,Hh.prototype.digest=Hh.prototype.l,Hh.prototype.reset=Hh.prototype.reset,Hh.prototype.update=Hh.prototype.j,Ui.prototype.add=Ui.prototype.add,Ui.prototype.multiply=Ui.prototype.R,Ui.prototype.modulo=Ui.prototype.gb,Ui.prototype.compare=Ui.prototype.X,Ui.prototype.toNumber=Ui.prototype.ea,Ui.prototype.toString=Ui.prototype.toString,Ui.prototype.getBits=Ui.prototype.D,Ui.fromNumber=zp,Ui.fromString=function bq(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return ba(bq(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=zp(Math.pow(t,8)),i=rE,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+s),t);8>s?(s=zp(Math.pow(t,s)),i=i.R(s).add(zp(a))):i=(i=i.R(e)).add(zp(a))}return i};var Jne=jh.createWebChannelTransport=function(){return new BM},Xne=jh.getStatEventTarget=function(){return xM()},pL=jh.ErrorCode=AM,eie=jh.EventType=OH,tie=jh.Event=c0,Eq=jh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nie=jh.FetchXmlHttpFactory=pD,HM=jh.WebChannel=NH,iie=jh.XhrIo=Ss,rie=jh.Md5=Hh,oE=jh.Integer=Ui;const xq="@firebase/firestore";class Ko{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ko.UNAUTHENTICATED=new Ko(null),Ko.GOOGLE_CREDENTIALS=new Ko("google-credentials-uid"),Ko.FIRST_PARTY=new Ko("first-party-uid"),Ko.MOCK_USER=new Ko("mock-user");let aE="9.23.0";const Hy=new class{constructor(t){this.name=t,this._logLevel=Wte,this._logHandler=Kte,this._userLogHandler=null,DF.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vi))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?aH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vi.DEBUG,...t),this._logHandler(this,vi.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vi.VERBOSE,...t),this._logHandler(this,vi.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vi.INFO,...t),this._logHandler(this,vi.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vi.WARN,...t),this._logHandler(this,vi.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vi.ERROR,...t),this._logHandler(this,vi.ERROR,...t)}}("@firebase/firestore");function mL(){return Hy.logLevel}function lt(n,...t){if(Hy.logLevel<=vi.DEBUG){const e=t.map(gL);Hy.debug(`Firestore (${aE}): ${n}`,...e)}}function zs(n,...t){if(Hy.logLevel<=vi.ERROR){const e=t.map(gL);Hy.error(`Firestore (${aE}): ${n}`,...e)}}function xd(n,...t){if(Hy.logLevel<=vi.WARN){const e=t.map(gL);Hy.warn(`Firestore (${aE}): ${n}`,...e)}}function gL(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function Nt(n="Unexpected state"){const t=`FIRESTORE (${aE}) INTERNAL ASSERTION FAILED: `+n;throw zs(t),new Error(t)}function Kt(n,t){n||Nt()}function At(n,t){return n}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends pM{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Eo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Aq{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ko.UNAUTHENTICATED))}shutdown(){}}class lie{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class cie{constructor(t){this.t=t,this.currentUser=Ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let a=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Eo,t.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const b=a;t.enqueueRetryable((0,be.Z)(function*(){yield b.promise,yield s(i.currentUser)}))},f=b=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(b=>f(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?f(b):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Eo)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt("string"==typeof i.accessToken),new Aq(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Kt(null===t||"string"==typeof t),new Ko(t)}}class uie{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Ko.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class die{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new uie(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ko.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dq{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hie{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,lt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt("string"==typeof e.token),this.T=e.token,new Dq(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fie(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Sq{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=fie(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Mn(n,t){return n<t?-1:n>t?1:0}function lE(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Tq(n){return n+"\0"}class $r{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return $r.fromMillis(Date.now())}static fromDate(t){return $r.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new $r(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Mn(this.nanoseconds,t.nanoseconds):Mn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new nn(t)}static min(){return new nn(new $r(0,0))}static max(){return new nn(new $r(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bD{constructor(t,e,i){void 0===e?e=0:e>t.length&&Nt(),void 0===i?i=t.length-e:i>t.length-e&&Nt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===bD.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof bD?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class fi extends bD{construct(t,e,i){return new fi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new tt(Ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new fi(e)}static emptyPath(){return new fi([])}}const pie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ts extends bD{construct(t,e,i){return new Ts(t,e,i)}static isValidIdentifier(t){return pie.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ts.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ts(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new tt(Ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new tt(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new tt(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new tt(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ts(e)}static emptyPath(){return new Ts([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(fi.fromString(t))}static fromName(t){return new Et(fi.fromString(t).popFirst(5))}static empty(){return new Et(fi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===fi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return fi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new fi(t.slice()))}}class qM{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function _L(n){return n.fields.find(t=>2===t.kind)}function f0(n){return n.fields.filter(t=>2!==t.kind)}qM.UNKNOWN_ID=-1;class zM{constructor(t,e){this.fieldPath=t,this.kind=e}}class wD{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new wD(0,Mu.min())}}function Iq(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=nn.fromTimestamp(1e9===i?new $r(e+1,0):new $r(e,i));return new Mu(r,Et.empty(),t)}function Mq(n){return new Mu(n.readTime,n.key,-1)}class Mu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Mu(nn.min(),Et.empty(),-1)}static max(){return new Mu(nn.max(),Et.empty(),-1)}}function yL(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Et.comparator(n.documentKey,t.documentKey),0!==e?e:Mn(n.largestBatchId,t.largestBatchId))}const kq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function qy(n){return vL.apply(this,arguments)}function vL(){return vL=(0,be.Z)(function*(n){if(n.code!==Ue.FAILED_PRECONDITION||n.message!==kq)throw n;lt("LocalStore","Unexpectedly lost primary lease")}),vL.apply(this,arguments)}class Be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Be((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Be?e:Be.resolve(e)}catch(e){return Be.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Be.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Be.reject(e)}static resolve(t){return new Be((e,i)=>{e(t)})}static reject(t){return new Be((e,i)=>{i(t)})}static waitFor(t){return new Be((e,i)=>{let r=0,s=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&e()},f=>i(f))}),a=!0,s===r&&e()})}static or(t){let e=Be.resolve(!1);for(const i of t)e=e.next(r=>r?Be.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Be((i,r)=>{const s=t.length,a=new Array(s);let u=0;for(let f=0;f<s;f++){const b=f;e(t[b]).next(x=>{a[b]=x,++u,u===s&&i(a)},x=>r(x))}})}static doWhile(t,e){return new Be((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class GM{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Eo,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new CD(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=bL(i.target.error);this.v.reject(new CD(t,r))}}static open(t,e,i,r){try{return new GM(e,t.transaction(r,i))}catch(s){throw new CD(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(lt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new yie(e)}}class qh{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===qh.S(a0())&&zs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return lt("SimpleDb","Removing database:",t),p0(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!function(){try{return"object"==typeof indexedDB}catch(n){return!1}}())return!1;if(qh.C())return!0;const t=a0(),e=qh.S(t),i=0<e&&e<10,r=qh.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,be.Z)(function*(){return e.db||(lt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new CD(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new tt(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new tt(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new CD(t,u))},s.onupgradeneeded=a=>{lt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{lt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,be.Z)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{s.db=yield s.$(t);const f=GM.open(s.db,t,a?"readonly":"readwrite",i),b=r(f).next(x=>(f.P(),x)).catch(x=>(f.abort(x),Be.reject(x))).toPromise();return b.catch(()=>{}),yield f.R,b}catch(f){const b=f,x="FirebaseError"!==b.name&&u<3;if(lt("SimpleDb","Transaction failed with error:",b.message,"Retrying:",x),s.close(),!x)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _ie{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return p0(this.L.delete())}}class CD extends tt{constructor(t,e){super(Ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function zy(n){return"IndexedDbTransactionError"===n.name}class yie{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(lt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),p0(i)}add(t){return lt("SimpleDb","ADD",this.store.name,t,t),p0(this.store.add(t))}get(t){return p0(this.store.get(t)).next(e=>(void 0===e&&(e=null),lt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return lt("SimpleDb","DELETE",this.store.name,t),p0(this.store.delete(t))}count(){return lt("SimpleDb","COUNT",this.store.name),p0(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(a,u)=>{s.push(u)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Be((s,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Be((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){lt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,a,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Be((i,r)=>{e.onerror=s=>{const a=bL(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}W(t,e){const i=[];return new Be((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const f=new _ie(u),b=e(u.primaryKey,u.value,f);if(b instanceof Be){const x=b.catch(D=>(f.done(),Be.reject(D)));i.push(x)}f.isDone?r():null===f.K?u.continue():u.continue(f.K)}}).next(()=>Be.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function p0(n){return new Be((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=bL(i.target.error);e(r)}})}let Rq=!1;function bL(n){const t=qh.S(a0());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rq||(Rq=!0,setTimeout(()=>{throw i},0)),i}}return n}class vie{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;lt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,be.Z)(function*(){e.task=null;try{lt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){zy(i)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield qy(i)}yield e.et(6e4)}))}}class bie{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return Be.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return lt("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(u=>{r-=u,i.add(a)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,s)).next(u=>(lt("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const a=Mq(s);yL(a,i)>0&&(i=a)}),new Mu(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ku=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function ED(n){return null==n}function xD(n){return 0===n&&1/n==-1/0}function Nq(n){return"number"==typeof n&&Number.isInteger(n)&&!xD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function el(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Pq(t)),t=wie(n.get(e),t);return Pq(t)}function wie(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function Pq(n){return n+"\x01\x01"}function Gp(n){const t=n.length;if(Kt(t>=2),2===t)return Kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fi.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&Nt(),n.charAt(a+1)){case"\x01":const u=n.substring(s,a);let f;0===r.length?f=u:(r+=u,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:Nt()}s=a+2}return new fi(i)}const Fq=["userId","batchId"];function $M(n,t){return[n,el(t)]}function Lq(n,t,e){return[n,el(t),e]}const Cie={},Eie=["prefixPath","collectionGroup","readTime","documentId"],xie=["prefixPath","collectionGroup","documentId"],Aie=["collectionGroup","readTime","prefixPath","documentId"],Die=["canonicalId","targetId"],Sie=["targetId","path"],Tie=["path","targetId"],Iie=["collectionId","parent"],Mie=["indexId","uid"],kie=["uid","sequenceNumber"],Oie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rie=["indexId","uid","orderedDocumentKey"],Nie=["userId","collectionPath","documentId"],Pie=["userId","collectionPath","largestBatchId"],Fie=["userId","collectionGroup","largestBatchId"],Bq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lie=[...Bq,"documentOverlays"],Vq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Uq=Vq,Bie=[...Uq,"indexConfiguration","indexState","indexEntries"];class wL extends Oq{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Qo(n,t){const e=At(n);return qh.M(e.ht,t)}function jq(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Gy(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Hq(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class hr{constructor(t,e){this.comparator=t,this.root=e||wa.EMPTY}insert(t,e){return new hr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,wa.BLACK,null,null))}remove(t){return new hr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wa.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ZM(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ZM(this.root,t,this.comparator,!1)}getReverseIterator(){return new ZM(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ZM(this.root,t,this.comparator,!0)}}class ZM{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wa{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:wa.RED,this.left=null!=r?r:wa.EMPTY,this.right=null!=s?s:wa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new wa(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return wa.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const t=this.left.check();if(t!==this.right.check())throw Nt();return t+(this.isRed()?0:1)}}wa.EMPTY=null,wa.RED=!0,wa.BLACK=!1,wa.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new wa(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cr{constructor(t){this.comparator=t,this.data=new hr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qq(this.data.getIterator())}getIteratorFrom(t){return new qq(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Cr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Cr(this.comparator);return e.data=t,e}}class qq{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cE(n){return n.hasNext()?n.getNext():void 0}class xc{constructor(t){this.fields=t,t.sort(Ts.comparator)}static empty(){return new xc([])}unionWith(t){let e=new Cr(Ts.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new xc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return lE(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class zq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xo{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw"undefined"!=typeof DOMException&&r instanceof DOMException?new zq("Invalid base64 string: "+r):r}}(t);return new xo(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new xo(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xo.EMPTY_BYTE_STRING=new xo("");const Uie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $y(n){if(Kt(!!n),"string"==typeof n){let t=0;const e=Uie.exec(n);if(Kt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Is(n.seconds),nanos:Is(n.nanos)}}function Is(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jg(n){return"string"==typeof n?xo.fromBase64String(n):xo.fromUint8Array(n)}function WM(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function YM(n){const t=n.mapValue.fields.__previous_value__;return WM(t)?YM(t):t}function AD(n){const t=$y(n.mapValue.fields.__local_write_time__.timestampValue);return new $r(t.seconds,t.nanos)}class jie{constructor(t,e,i,r,s,a,u,f,b){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=b}}class Zy{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Zy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Zy&&t.projectId===this.projectId&&t.database===this.database}}const Wy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},KM={nullValue:"NULL_VALUE"};function Yy(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WM(n)?4:Wq(n)?9007199254740991:10:Nt()}function $p(n,t){if(n===t)return!0;const e=Yy(n);if(e!==Yy(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return AD(n).isEqual(AD(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=$y(i.timestampValue),a=$y(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,jg(n.bytesValue).isEqual(jg(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Is(i.geoPointValue.latitude)===Is(r.geoPointValue.latitude)&&Is(i.geoPointValue.longitude)===Is(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Is(i.integerValue)===Is(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Is(i.doubleValue),a=Is(r.doubleValue);return s===a?xD(s)===xD(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return lE(n.arrayValue.values||[],t.arrayValue.values||[],$p);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(jq(s)!==jq(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!$p(s[u],a[u])))return!1;return!0}(n,t);default:return Nt()}var r}function DD(n,t){return void 0!==(n.values||[]).find(e=>$p(e,t))}function Ky(n,t){if(n===t)return 0;const e=Yy(n),i=Yy(t);if(e!==i)return Mn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Mn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=Is(r.integerValue||r.doubleValue),u=Is(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return Gq(n.timestampValue,t.timestampValue);case 4:return Gq(AD(n),AD(t));case 5:return Mn(n.stringValue,t.stringValue);case 6:return function(r,s){const a=jg(r),u=jg(s);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),u=s.split("/");for(let f=0;f<a.length&&f<u.length;f++){const b=Mn(a[f],u[f]);if(0!==b)return b}return Mn(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=Mn(Is(r.latitude),Is(s.latitude));return 0!==a?a:Mn(Is(r.longitude),Is(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],u=s.values||[];for(let f=0;f<a.length&&f<u.length;++f){const b=Ky(a[f],u[f]);if(b)return b}return Mn(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Wy.mapValue&&s===Wy.mapValue)return 0;if(r===Wy.mapValue)return 1;if(s===Wy.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),f=s.fields||{},b=Object.keys(f);u.sort(),b.sort();for(let x=0;x<u.length&&x<b.length;++x){const D=Mn(u[x],b[x]);if(0!==D)return D;const R=Ky(a[u[x]],f[b[x]]);if(0!==R)return R}return Mn(u.length,b.length)}(n.mapValue,t.mapValue);default:throw Nt()}}function Gq(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Mn(n,t);const e=$y(n),i=$y(t),r=Mn(e.seconds,i.seconds);return 0!==r?r:Mn(e.nanos,i.nanos)}function uE(n){return CL(n)}function CL(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=$y(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jg(n.bytesValue).toBase64():"referenceValue"in n?Et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=CL(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${CL(i.fields[u])}`;return s+"}"}(n.mapValue):Nt();var t}function m0(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function EL(n){return!!n&&"integerValue"in n}function SD(n){return!!n&&"arrayValue"in n}function $q(n){return!!n&&"nullValue"in n}function Zq(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function JM(n){return!!n&&"mapValue"in n}function TD(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Gy(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=TD(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=TD(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Wq(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hie(n){return"nullValue"in n?KM:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?m0(Zy.empty(),Et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Nt()}function qie(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?m0(Zy.empty(),Et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Wy:Nt()}function Yq(n,t){const e=Ky(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Kq(n,t){const e=Ky(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ca{constructor(t){this.value=t}static empty(){return new Ca({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!JM(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=TD(e)}setAll(t){let e=Ts.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=TD(a):r.push(u.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());JM(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $p(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];JM(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Gy(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ca(TD(this.value))}}function Qq(n){const t=[];return Gy(n.fields,(e,i)=>{const r=new Ts([e]);if(JM(i)){const s=Qq(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new xc(t)}class Er{constructor(t,e,i,r,s,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(t){return new Er(t,0,nn.min(),nn.min(),nn.min(),Ca.empty(),0)}static newFoundDocument(t,e,i,r){return new Er(t,1,e,nn.min(),i,r,0)}static newNoDocument(t,e){return new Er(t,2,e,nn.min(),nn.min(),Ca.empty(),0)}static newUnknownDocument(t,e){return new Er(t,3,e,nn.min(),nn.min(),Ca.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ca.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ca.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Er&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qy{constructor(t,e){this.position=t,this.inclusive=e}}function Jq(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?Et.comparator(Et.fromName(a.referenceValue),e.key):Ky(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Xq(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!$p(n.position[e],t.position[e]))return!1;return!0}class dE{constructor(t,e="asc"){this.field=t,this.dir=e}}function zie(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class e5{}class oi extends e5{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Gie(t,e,i):"array-contains"===e?new Wie(t,i):"in"===e?new a5(t,i):"not-in"===e?new Yie(t,i):"array-contains-any"===e?new Kie(t,i):new oi(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new $ie(t,i):new Zie(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ky(e,this.value)):null!==e&&Yy(this.value)===Yy(e)&&this.matchesComparison(Ky(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ji extends e5{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new ji(t,e)}matches(t){return hE(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function hE(n){return"and"===n.op}function xL(n){return"or"===n.op}function AL(n){return t5(n)&&hE(n)}function t5(n){for(const t of n.filters)if(t instanceof ji)return!1;return!0}function DL(n){if(n instanceof oi)return n.field.canonicalString()+n.op.toString()+uE(n.value);if(AL(n))return n.filters.map(t=>DL(t)).join(",");{const t=n.filters.map(e=>DL(e)).join(",");return`${n.op}(${t})`}}function n5(n,t){return n instanceof oi?(e=n,(i=t)instanceof oi&&e.op===i.op&&e.field.isEqual(i.field)&&$p(e.value,i.value)):n instanceof ji?function(e,i){return i instanceof ji&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,a)=>r&&n5(s,i.filters[a]),!0)}(n,t):void Nt();var e,i}function r5(n,t){const e=n.filters.concat(t);return ji.create(e,n.op)}function s5(n){return n instanceof oi?`${(t=n).field.canonicalString()} ${t.op} ${uE(t.value)}`:n instanceof ji?function(t){return t.op.toString()+" {"+t.getFilters().map(s5).join(" ,")+"}"}(n):"Filter";var t}class Gie extends oi{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class $ie extends oi{constructor(t,e){super(t,"in",e),this.keys=o5(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Zie extends oi{constructor(t,e){super(t,"not-in",e),this.keys=o5(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function o5(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Et.fromName(i.referenceValue))}class Wie extends oi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return SD(e)&&DD(e.arrayValue,this.value)}}class a5 extends oi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&DD(this.value.arrayValue,e)}}class Yie extends oi{constructor(t,e){super(t,"not-in",e)}matches(t){if(DD(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!DD(this.value.arrayValue,e)}}class Kie extends oi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!SD(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>DD(this.value.arrayValue,i))}}class Qie{constructor(t,e=null,i=[],r=[],s=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.dt=null}}function SL(n,t=null,e=[],i=[],r=null,s=null,a=null){return new Qie(n,t,e,i,r,s,a)}function g0(n){const t=At(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>DL(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ED(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>uE(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>uE(i)).join(",")),t.dt=e}return t.dt}function ID(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!zie(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!n5(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Xq(n.startAt,t.startAt)&&Xq(n.endAt,t.endAt)}function XM(n){return Et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ek(n,t){return n.filters.filter(e=>e instanceof oi&&e.field.isEqual(t))}function l5(n,t,e){let i=KM,r=!0;for(const s of ek(n,t)){let a=KM,u=!0;switch(s.op){case"<":case"<=":a=Hie(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,u=!1;break;case"!=":case"not-in":a=KM}Yq({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];Yq({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function c5(n,t,e){let i=Wy,r=!0;for(const s of ek(n,t)){let a=Wy,u=!0;switch(s.op){case">=":case">":a=qie(s.value),u=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,u=!1;break;case"!=":case"not-in":a=Wy}Kq({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];Kq({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Hg{constructor(t,e=null,i=[],r=[],s=null,a="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=f,this.wt=null,this._t=null}}function u5(n,t,e,i,r,s,a,u){return new Hg(n,t,e,i,r,s,a,u)}function fE(n){return new Hg(n)}function d5(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function TL(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function tk(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function IL(n){return null!==n.collectionGroup}function _0(n){const t=At(n);if(null===t.wt){t.wt=[];const e=tk(t),i=TL(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new dE(e)),t.wt.push(new dE(Ts.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new dE(Ts.keyField(),s))}}}return t.wt}function Vl(n){const t=At(n);if(!t._t)if("F"===t.limitType)t._t=SL(t.path,t.collectionGroup,_0(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of _0(t))e.push(new dE(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Qy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qy(t.startAt.position,t.startAt.inclusive):null;t._t=SL(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function ML(n,t){t.getFirstInequalityField(),tk(n);const e=n.filters.concat([t]);return new Hg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function nk(n,t,e){return new Hg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function MD(n,t){return ID(Vl(n),Vl(t))&&n.limitType===t.limitType}function h5(n){return`${g0(Vl(n))}|lt:${n.limitType}`}function kL(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>s5(i)).join(", ")}]`),ED(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>uE(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>uE(i)).join(",")),`Target(${e})`}(Vl(n))}; limitType=${n.limitType})`}function kD(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Et.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of _0(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const u=Jq(r,s,a);return r.inclusive?u<=0:u<0}(e.startAt,_0(e),i)||e.endAt&&!function(r,s,a){const u=Jq(r,s,a);return r.inclusive?u>=0:u>0}(e.endAt,_0(e),i)));var e,i}function f5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function p5(n){return(t,e)=>{let i=!1;for(const r of _0(n)){const s=Jie(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Jie(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):function(r,s,a){const u=s.data.field(r),f=a.data.field(r);return null!==u&&null!==f?Ky(u,f):Nt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Nt()}}class qg{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Gy(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Hq(this.inner)}size(){return this.innerSize}}const Xie=new hr(Et.comparator);function Ac(){return Xie}const m5=new hr(Et.comparator);function OD(...n){let t=m5;for(const e of n)t=t.insert(e.key,e);return t}function g5(n){let t=m5;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Zp(){return RD()}function _5(){return RD()}function RD(){return new qg(n=>n.toString(),(n,t)=>n.isEqual(t))}const ere=new hr(Et.comparator),tre=new Cr(Et.comparator);function jn(...n){let t=tre;for(const e of n)t=t.add(e);return t}const nre=new Cr(Mn);function OL(){return nre}function y5(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xD(t)?"-0":t}}function v5(n){return{integerValue:""+n}}function b5(n,t){return Nq(t)?v5(t):y5(n,t)}class ik{constructor(){this._=void 0}}function ire(n,t,e){return n instanceof pE?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&WM(r)&&(r=YM(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof y0?C5(n,t):n instanceof v0?E5(n,t):function(i,r){const s=w5(i,r),a=x5(s)+x5(i.gt);return EL(s)&&EL(i.gt)?v5(a):y5(i.serializer,a)}(n,t)}function rre(n,t,e){return n instanceof y0?C5(n,t):n instanceof v0?E5(n,t):e}function w5(n,t){return n instanceof mE?EL(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class pE extends ik{}class y0 extends ik{constructor(t){super(),this.elements=t}}function C5(n,t){const e=A5(t);for(const i of n.elements)e.some(r=>$p(r,i))||e.push(i);return{arrayValue:{values:e}}}class v0 extends ik{constructor(t){super(),this.elements=t}}function E5(n,t){let e=A5(t);for(const i of n.elements)e=e.filter(r=>!$p(r,i));return{arrayValue:{values:e}}}class mE extends ik{constructor(t,e){super(),this.serializer=t,this.gt=e}}function x5(n){return Is(n.integerValue||n.doubleValue)}function A5(n){return SD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ND{constructor(t,e){this.field=t,this.transform=e}}class ore{constructor(t,e){this.version=t,this.transformResults=e}}class Zr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Zr}static exists(t){return new Zr(void 0,t)}static updateTime(t){return new Zr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rk(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class sk{}function D5(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new _E(n.key,Zr.none()):new gE(n.key,n.data,Zr.none());{const e=n.data,i=Ca.empty();let r=new Cr(Ts.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);null===a&&s.length>1&&(s=s.popLast(),a=e.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new zg(n.key,i,new xc(r.toArray()),Zr.none())}}function are(n,t,e){n instanceof gE?function(i,r,s){const a=i.value.clone(),u=I5(i.fieldTransforms,r,s.transformResults);a.setAll(u),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof zg?function(i,r,s){if(!rk(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=I5(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(T5(i)),u.setAll(a),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function PD(n,t,e,i){return n instanceof gE?function(r,s,a,u){if(!rk(r.precondition,s))return a;const f=r.value.clone(),b=M5(r.fieldTransforms,u,s);return f.setAll(b),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof zg?function(r,s,a,u){if(!rk(r.precondition,s))return a;const f=M5(r.fieldTransforms,u,s),b=s.data;return b.setAll(T5(r)),b.setAll(f),s.convertToFoundDocument(s.version,b).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,t,e,i):(a=e,rk(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function lre(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=w5(i.transform,r||null);null!=s&&(null===e&&(e=Ca.empty()),e.set(i.field,s))}return e||null}function S5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&lE(e,i,(r,s)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof y0&&i instanceof y0||e instanceof v0&&i instanceof v0?lE(e.elements,i.elements,$p):e instanceof mE&&i instanceof mE?$p(e.gt,i.gt):e instanceof pE&&i instanceof pE);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class gE extends sk{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zg extends sk{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function T5(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function I5(n,t,e){const i=new Map;Kt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,u=t.data.field(s.field);i.set(s.field,rre(a,u,e[r]))}return i}function M5(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,ire(s,a,t))}return i}class _E extends sk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RL extends sk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NL{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&are(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=PD(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=PD(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=_5();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=e.has(r.key)?null:u;const f=D5(a,u);null!==f&&i.set(r.key,f),a.isValidDocument()||a.convertToNoDocument(nn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jn())}isEqual(t){return this.batchId===t.batchId&&lE(this.mutations,t.mutations,(e,i)=>S5(e,i))&&lE(this.baseMutations,t.baseMutations,(e,i)=>S5(e,i))}}class PL{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Kt(t.mutations.length===i.length);let r=ere;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new PL(t,e,i,r)}}class FL{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ure{constructor(t,e){this.count=t,this.unchangedNames=e}}var so,pi;function k5(n){switch(n){default:return Nt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}function O5(n){if(void 0===n)return zs("GRPC error has no .code"),Ue.UNKNOWN;switch(n){case so.OK:return Ue.OK;case so.CANCELLED:return Ue.CANCELLED;case so.UNKNOWN:return Ue.UNKNOWN;case so.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case so.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case so.INTERNAL:return Ue.INTERNAL;case so.UNAVAILABLE:return Ue.UNAVAILABLE;case so.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case so.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case so.NOT_FOUND:return Ue.NOT_FOUND;case so.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case so.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case so.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case so.ABORTED:return Ue.ABORTED;case so.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case so.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case so.DATA_LOSS:return Ue.DATA_LOSS;default:return Nt()}}(pi=so||(so={}))[pi.OK=0]="OK",pi[pi.CANCELLED=1]="CANCELLED",pi[pi.UNKNOWN=2]="UNKNOWN",pi[pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pi[pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pi[pi.NOT_FOUND=5]="NOT_FOUND",pi[pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",pi[pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",pi[pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",pi[pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pi[pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pi[pi.ABORTED=10]="ABORTED",pi[pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",pi[pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",pi[pi.INTERNAL=13]="INTERNAL",pi[pi.UNAVAILABLE=14]="UNAVAILABLE",pi[pi.DATA_LOSS=15]="DATA_LOSS";class LL{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ok}static getOrCreateInstance(){return null===ok&&(ok=new LL),ok}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let ok=null;function R5(){return new TextEncoder}const dre=new oE([4294967295,4294967295],0);function N5(n){const t=R5().encode(n),e=new rie;return e.update(t),new Uint8Array(e.digest())}function P5(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new oE([e,i],0),new oE([r,s],0)]}class BL{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new FD(`Invalid padding: ${e}`);if(i<0)throw new FD(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new FD(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new FD(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=oE.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(oE.fromNumber(i)));return 1===r.compare(dre)&&(r=new oE([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=N5(t),[i,r]=P5(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new BL(s,r,e);return i.forEach(u=>a.insert(u)),a}insert(t){if(0===this.It)return;const e=N5(t),[i,r]=P5(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class FD extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class LD{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,BD.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new LD(nn.min(),r,new hr(Mn),Ac(),jn())}}class BD{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new BD(i,e,jn(),jn(),jn())}}class ak{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class F5{constructor(t,e){this.targetId=t,this.Vt=e}}class L5{constructor(t,e,i=xo.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class B5{constructor(){this.St=0,this.Dt=U5(),this.Ct=xo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=jn(),e=jn(),i=jn();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Nt()}}),new BD(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=U5()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hre{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Ac(),this.zt=V5(),this.Wt=new hr(Mn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:Nt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const a=s.target;if(XM(a))if(0===r){const u=new Et(a.path);this.Yt(i,u,Er.newNoDocument(u,nn.min()))}else Kt(1===r);else{const u=this.ie(i);if(u!==r){const f=this.re(t,u);0!==f&&(this.ee(i),this.Wt=this.Wt.insert(i,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=LL.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(b,x,D){var R,B,z,ee,ae,we;const qe={localCacheCount:x,existenceFilterCount:D.count},Ye=D.unchangedNames;return Ye&&(qe.bloomFilter={applied:0===b,hashCount:null!==(R=null==Ye?void 0:Ye.hashCount)&&void 0!==R?R:0,bitmapLength:null!==(ee=null===(z=null===(B=null==Ye?void 0:Ye.bits)||void 0===B?void 0:B.bitmap)||void 0===z?void 0:z.length)&&void 0!==ee?ee:0,padding:null!==(we=null===(ae=null==Ye?void 0:Ye.bits)||void 0===ae?void 0:ae.padding)&&void 0!==we?we:0}),qe}(f,u,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=i;let f,b;try{f=jg(s).toUint8Array()}catch(x){if(x instanceof zq)return xd("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{b=new BL(f,a,u)}catch(x){return xd(x instanceof FD?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===b.It?1:r!==e-this.oe(t.targetId,b)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.vt(u)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,a)=>{const u=this.se(a);if(u){if(s.current&&XM(u.target)){const f=new Et(u.target.path);null!==this.jt.get(f)||this.ae(a,f)||this.Yt(a,f,Er.newNoDocument(f,t))}s.Mt&&(e.set(a,s.Ot()),s.Ft())}});let i=jn();this.zt.forEach((s,a)=>{let u=!0;a.forEachWhile(f=>{const b=this.se(f);return!b||"TargetPurposeLimboResolution"===b.purpose||(u=!1,!1)}),u&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(t));const r=new LD(t,e,this.Wt,this.jt,i);return this.jt=Ac(),this.zt=V5(),this.Wt=new hr(Mn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new B5,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Cr(Mn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||lt("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new B5),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function V5(){return new hr(Et.comparator)}function U5(){return new hr(Et.comparator)}const fre={asc:"ASCENDING",desc:"DESCENDING"},pre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mre={and:"AND",or:"OR"};class gre{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function VL(n,t){return n.useProto3Json||ED(t)?t:{value:t}}function yE(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j5(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function _re(n,t){return yE(n,t.toTimestamp())}function Gs(n){return Kt(!!n),nn.fromTimestamp(function(t){const e=$y(t);return new $r(e.seconds,e.nanos)}(n))}function UL(n,t){return(e=n,new fi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function H5(n){const t=fi.fromString(n);return Kt(Q5(t)),t}function VD(n,t){return UL(n.databaseId,t.path)}function Wp(n,t){const e=H5(t);if(e.get(1)!==n.databaseId.projectId)throw new tt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new tt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(z5(e))}function jL(n,t){return UL(n.databaseId,t)}function q5(n){const t=H5(n);return 4===t.length?fi.emptyPath():z5(t)}function UD(n){return new fi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z5(n){return Kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function G5(n,t,e){return{name:VD(n,t),fields:e.value.mapValue.fields}}function $5(n,t,e){const i=Wp(n,t.name),r=Gs(t.updateTime),s=t.createTime?Gs(t.createTime):nn.min(),a=new Ca({mapValue:{fields:t.fields}}),u=Er.newFoundDocument(i,r,s,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function jD(n,t){let e;if(t instanceof gE)e={update:G5(n,t.key,t.value)};else if(t instanceof _E)e={delete:VD(n,t.key)};else if(t instanceof zg)e={update:G5(n,t.key,t.data),updateMask:Are(t.fieldMask)};else{if(!(t instanceof RL))return Nt();e={verify:VD(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof pE)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof y0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof v0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mE)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw Nt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:_re(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Nt()),e;var r}function HL(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Zr.updateTime(Gs(r.updateTime)):void 0!==r.exists?Zr.exists(r.exists):Zr.none():Zr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let u=null;"setToServerValue"in a?(Kt("REQUEST_TIME"===a.setToServerValue),u=new pE):"appendMissingElements"in a?u=new y0(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new v0(a.removeAllFromArray.values||[]):"increment"in a?u=new mE(s,a.increment):Nt();const f=Ts.fromServerFormat(a.fieldPath);return new ND(f,u)}(n,r)):[];var r;if(t.update){const r=Wp(n,t.update.name),s=new Ca({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new xc((t.updateMask.fieldPaths||[]).map(b=>Ts.fromServerFormat(b)));return new zg(r,s,a,e,i)}return new gE(r,s,e,i)}if(t.delete){const r=Wp(n,t.delete);return new _E(r,e)}if(t.verify){const r=Wp(n,t.verify);return new RL(r,e)}return Nt()}function Z5(n,t){return{documents:[jL(n,t.path)]}}function qL(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=jL(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=jL(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return K5(ji.create(f,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(b=>{return{field:Jy((x=b).field),direction:Cre(x.dir)};var x})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=VL(n,t.limit);var u,f;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function W5(n){let t=q5(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Kt(1===i);const x=e.from[0];x.allDescendants?r=x.collectionId:t=t.child(x.collectionId)}let s=[];e.where&&(s=function(x){const D=Y5(x);return D instanceof ji&&AL(D)?D.getFilters():[D]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(x=>{return new dE(vE((D=x).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let u=null;e.limit&&(u=function(x){let D;return D="object"==typeof x?x.value:x,ED(D)?null:D}(e.limit));let f=null;var x;e.startAt&&(f=new Qy((x=e.startAt).values||[],!!x.before));let b=null;return e.endAt&&(b=function(x){return new Qy(x.values||[],!x.before)}(e.endAt)),u5(t,r,a,s,u,"F",f,b)}function Y5(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=vE(t.unaryFilter.field);return oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=vE(t.unaryFilter.field);return oi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vE(t.unaryFilter.field);return oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vE(t.unaryFilter.field);return oi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}(n):void 0!==n.fieldFilter?oi.create(vE((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return ji.create(t.compositeFilter.filters.map(e=>Y5(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Nt()}}(t.compositeFilter.op))}(n):Nt();var t}function Cre(n){return fre[n]}function Ere(n){return pre[n]}function xre(n){return mre[n]}function Jy(n){return{fieldPath:n.canonicalString()}}function vE(n){return Ts.fromServerFormat(n.fieldPath)}function K5(n){return n instanceof oi?function(t){if("=="===t.op){if(Zq(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NAN"}};if($q(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Zq(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NOT_NAN"}};if($q(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jy(t.field),op:Ere(t.op),value:t.value}}}(n):n instanceof ji?function(t){const e=t.getFilters().map(i=>K5(i));return 1===e.length?e[0]:{compositeFilter:{op:xre(t.op),filters:e}}}(n):Nt()}function Are(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Q5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gg{constructor(t,e,i,r,s=nn.min(),a=nn.min(),u=xo.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new Gg(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Gg(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class J5{constructor(t){this.fe=t}}function X5(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:lk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:VD(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:yE(r,s.version.toTimestamp()),createTime:yE(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:b0(t.version)};else{if(!t.isUnknownDocument())return Nt();i.unknownDocument={path:e.path.toArray(),version:b0(t.version)}}var r,s;return i}function lk(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function b0(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function w0(n){const t=new $r(n.seconds,n.nanoseconds);return nn.fromTimestamp(t)}function C0(n,t){const e=(t.baseMutations||[]).map(s=>HL(n.fe,s));for(let s=0;s<t.mutations.length-1;++s){const a=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(a.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>HL(n.fe,s)),r=$r.fromMillis(t.localWriteTimeMs);return new NL(t.batchId,r,e,i)}function HD(n){const t=w0(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?w0(n.lastLimboFreeSnapshotVersion):nn.min();let i;var r;return void 0!==n.query.documents?(Kt(1===(r=n.query).documents.length),i=Vl(fE(q5(r.documents[0])))):i=Vl(W5(n.query)),new Gg(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,xo.fromBase64String(n.resumeToken))}function ez(n,t){const e=b0(t.snapshotVersion),i=b0(t.lastLimboFreeSnapshotVersion);let r;r=XM(t.target)?Z5(n.fe,t.target):qL(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:g0(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function zL(n){const t=W5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nk(t,t.limit,"L"):t}function GL(n,t){return new FL(t.largestBatchId,HL(n.fe,t.overlayMutation))}function tz(n,t){const e=t.path.lastSegment();return[n,el(t.path.popLast()),e]}function nz(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:b0(i.readTime),documentKey:el(i.documentKey.path),largestBatchId:i.largestBatchId}}class Sre{getBundleMetadata(t,e){return iz(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:w0(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return iz(t).put({bundleId:(i=e).id,createTime:b0(Gs(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return rz(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:zL(r.bundledQuery),readTime:w0(r.readTime)};var r})}saveNamedQuery(t,e){return rz(t).put({name:(i=e).name,readTime:b0(Gs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function iz(n){return Qo(n,"bundles")}function rz(n){return Qo(n,"namedQueries")}class ck{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new ck(t,e.uid||"")}getOverlay(t,e){return qD(t).get(tz(this.userId,e)).next(i=>i?GL(this.serializer,i):null)}getOverlays(t,e){const i=Zp();return Be.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const u=new FL(e,a);r.push(this.we(t,u))}),Be.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(el(a.getCollectionPath())));const s=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(qD(t).J("collectionPathOverlayIndex",u))}),Be.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Zp(),s=el(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return qD(t).j("collectionPathOverlayIndex",a).next(u=>{for(const f of u){const b=GL(this.serializer,f);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Zp();let a;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return qD(t).X({index:"collectionGroupOverlayIndex",range:u},(f,b,x)=>{const D=GL(this.serializer,b);s.size()<r||D.largestBatchId===a?(s.set(D.getKey(),D),a=D.largestBatchId):x.done()}).next(()=>s)}we(t,e){return qD(t).put(function(i,r,s){const[a,u,f]=tz(r,s.mutation.key);return{userId:r,collectionPath:u,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:jD(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function qD(n){return Qo(n,"documentOverlays")}class E0{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Is(t.integerValue));else if("doubleValue"in t){const i=Is(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),xD(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(jg(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?Wq(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):Nt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),Et.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function Tre(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function sz(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=Tre(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}E0.Ve=new E0;class Ire{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=sz(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=sz(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Mre{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class kre{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class zD{constructor(){this.je=new Ire,this.ze=new Mre(this.je),this.We=new kre(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class x0{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new x0(this.indexId,this.documentKey,this.arrayValue,i)}}function Xy(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=oz(n.arrayValue,t.arrayValue),0!==e?e:(e=oz(n.directionalValue,t.directionalValue),0!==e?e:Et.comparator(n.documentKey,t.documentKey)))}function oz(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Ore{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Kt(t.collectionGroup===this.collectionId);const e=_L(t);if(void 0!==e&&!this.en(e))return!1;const i=f0(t);let r=new Set,s=0,a=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[s];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[a++],u))return!1}++s}for(;s<i.length;++s){const u=i[s];if(a>=this.Ye.length||!this.sn(this.Ye[a++],u))return!1}return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function az(n){var t,e;if(Kt(n instanceof oi||n instanceof ji),n instanceof oi){if(n instanceof a5){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>oi.create(n.field,"==",s)))||[];return ji.create(r,"or")}return n}const i=n.filters.map(r=>az(r));return ji.create(i,n.op)}function Rre(n){if(0===n.getFilters().length)return[];const t=WL(az(n));return Kt(lz(t)),$L(t)||ZL(t)?[t]:t.getFilters()}function $L(n){return n instanceof oi}function ZL(n){return n instanceof ji&&AL(n)}function lz(n){return $L(n)||ZL(n)||function(t){if(t instanceof ji&&xL(t)){for(const e of t.getFilters())if(!$L(e)&&!ZL(e))return!1;return!0}return!1}(n)}function WL(n){if(Kt(n instanceof oi||n instanceof ji),n instanceof oi)return n;if(1===n.filters.length)return WL(n.filters[0]);const t=n.filters.map(i=>WL(i));let e=ji.create(t,n.op);return e=uk(e),lz(e)?e:(Kt(e instanceof ji),Kt(hE(e)),Kt(e.filters.length>1),e.filters.reduce((i,r)=>YL(i,r)))}function YL(n,t){let e;return Kt(n instanceof oi||n instanceof ji),Kt(t instanceof oi||t instanceof ji),e=n instanceof oi?t instanceof oi?ji.create([n,t],"and"):cz(n,t):t instanceof oi?cz(t,n):function(i,r){if(Kt(i.filters.length>0&&r.filters.length>0),hE(i)&&hE(r))return r5(i,r.getFilters());const s=xL(i)?i:r,a=xL(i)?r:i,u=s.filters.map(f=>YL(f,a));return ji.create(u,"or")}(n,t),uk(e)}function cz(n,t){if(hE(t))return r5(t,n.getFilters());{const e=t.filters.map(i=>YL(n,i));return ji.create(e,"or")}}function uk(n){if(Kt(n instanceof oi||n instanceof ji),n instanceof oi)return n;const t=n.getFilters();if(1===t.length)return uk(t[0]);if(t5(n))return n;const e=t.map(r=>uk(r)),i=[];return e.forEach(r=>{r instanceof oi?i.push(r):r instanceof ji&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:ji.create(i,n.op)}class Nre{constructor(){this.rn=new KL}addToCollectionParentIndex(t,e){return this.rn.add(e),Be.resolve()}getCollectionParents(t,e){return Be.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Be.resolve()}deleteFieldIndex(t,e){return Be.resolve()}getDocumentsMatchingTarget(t,e){return Be.resolve(null)}getIndexType(t,e){return Be.resolve(0)}getFieldIndexes(t,e){return Be.resolve([])}getNextCollectionGroupToUpdate(t){return Be.resolve(null)}getMinOffset(t,e){return Be.resolve(Mu.min())}getMinOffsetFromCollectionGroup(t,e){return Be.resolve(Mu.min())}updateCollectionGroup(t,e,i){return Be.resolve()}updateIndexEntries(t,e){return Be.resolve()}}class KL{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Cr(fi.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Cr(fi.comparator)).toArray()}}const dk=new Uint8Array(0);class Pre{constructor(t,e){this.user=t,this.databaseId=e,this.on=new KL,this.un=new qg(i=>g0(i),(i,r)=>ID(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:el(r)};return uz(t).put(s)}return Be.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Tq(e),""],!1,!0);return uz(t).j(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(Gp(a.parent))}return i})}addFieldIndex(t,e){const i=hk(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const a=$D(t);return s.next(u=>{a.put(nz(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=hk(t),r=$D(t),s=GD(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=GD(t);let r=!0;const s=new Map;return Be.forEach(this.cn(e),a=>this.an(t,a).next(u=>{r&&(r=!!u),s.set(a,u)})).next(()=>{if(r){let a=jn();const u=[];return Be.forEach(s,(f,b)=>{var x;lt("IndexedDbIndexManager",`Using index ${x=f,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Ye=>`${Ye.fieldPath}:${Ye.kind}`).join(",")}`} to execute ${g0(e)}`);const D=function(Ye,at){const Jt=_L(at);if(void 0===Jt)return null;for(const fn of ek(Ye,Jt.fieldPath))switch(fn.op){case"array-contains-any":return fn.value.arrayValue.values||[];case"array-contains":return[fn.value]}return null}(b,f),R=function(Ye,at){const Jt=new Map;for(const fn of f0(at))for(const li of ek(Ye,fn.fieldPath))switch(li.op){case"==":case"in":Jt.set(fn.fieldPath.canonicalString(),li.value);break;case"not-in":case"!=":return Jt.set(fn.fieldPath.canonicalString(),li.value),Array.from(Jt.values())}return null}(b,f),B=function(Ye,at){const Jt=[];let fn=!0;for(const li of f0(at)){const fs=0===li.kind?l5(Ye,li.fieldPath,Ye.startAt):c5(Ye,li.fieldPath,Ye.startAt);Jt.push(fs.value),fn&&(fn=fs.inclusive)}return new Qy(Jt,fn)}(b,f),z=function(Ye,at){const Jt=[];let fn=!0;for(const li of f0(at)){const fs=0===li.kind?c5(Ye,li.fieldPath,Ye.endAt):l5(Ye,li.fieldPath,Ye.endAt);Jt.push(fs.value),fn&&(fn=fs.inclusive)}return new Qy(Jt,fn)}(b,f),ee=this.hn(f,b,B),ae=this.hn(f,b,z),we=this.ln(f,b,R),qe=this.fn(f.indexId,D,ee,B.inclusive,ae,z.inclusive,we);return Be.forEach(qe,Ye=>i.H(Ye,e.limit).next(at=>{at.forEach(Jt=>{const fn=Et.fromSegments(Jt.documentKey);a.has(fn)||(a=a.add(fn),u.push(fn))})}))}).next(()=>u)}return Be.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:Rre(ji.create(t.filters,"and")).map(i=>SL(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,a,u){const f=(null!=e?e.length:1)*Math.max(i.length,s.length),b=f/(null!=e?e.length:1),x=[];for(let D=0;D<f;++D){const R=e?this.dn(e[D/b]):dk,B=this.wn(t,R,i[D%b],r),z=this._n(t,R,s[D%b],a),ee=u.map(ae=>this.wn(t,R,ae,!0));x.push(...this.createRange(B,z,ee))}return x}wn(t,e,i,r){const s=new x0(t,Et.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new x0(t,Et.empty(),e,i);return r?s.Je():s}an(t,e){const i=new Ore(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const u of s)i.tn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(t,e){let i=2;const r=this.cn(e);return Be.forEach(r,s=>this.an(t,s).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new Cr(Ts.comparator),b=!1;for(const x of u.filters)for(const D of x.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?b=!0:f=f.add(D.field));for(const x of u.orderBy)x.field.isKeyField()||(f=f.add(x.field));return f.size+(b?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new zD;for(const r of f0(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.He(r.kind);E0.Ve._e(s,a)}return i.Qe()}dn(t){const e=new zD;return E0.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new zD;return E0.Ve._e(m0(this.databaseId,e),i.He(function(r){const s=f0(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new zD);let s=0;for(const a of f0(t)){const u=i[s++];for(const f of r)if(this.yn(e,a.fieldPath)&&SD(u))r=this.pn(r,a,u);else{const b=f.He(a.kind);E0.Ve._e(u,b)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const u of r){const f=new zD;f.seed(u.Qe()),E0.Ve._e(a,f.He(e.kind)),s.push(f)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof oi&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=hk(t),r=$D(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const a=[];return Be.forEach(s,u=>r.get([u.indexId,this.uid]).next(f=>{a.push(function(b,x){const D=x?new wD(x.sequenceNumber,new Mu(w0(x.readTime),new Et(Gp(x.documentKey)),x.largestBatchId)):wD.empty(),R=b.fields.map(([B,z])=>new zM(Ts.fromServerFormat(B),z));return new qM(b.indexId,b.collectionGroup,R,D)}(u,f))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Mn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=hk(t),s=$D(t);return this.Tn(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>Be.forEach(u,f=>s.put(nz(f.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return Be.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?Be.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),Be.forEach(u,f=>this.En(t,r,f).next(b=>{const x=this.An(s,f);return b.isEqual(x)?Be.resolve():this.vn(t,s,f,b,x)}))))})}Rn(t,e,i,r){return GD(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return GD(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=GD(t);let s=new Cr(Xy);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,u)=>{s=s.add(new x0(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>s)}An(t,e){let i=new Cr(Xy);const r=this.mn(e,t);if(null==r)return i;const s=_L(e);if(null!=s){const a=t.data.field(s.fieldPath);if(SD(a))for(const u of a.arrayValue.values||[])i=i.add(new x0(e.indexId,t.key,this.dn(u),r))}else i=i.add(new x0(e.indexId,t.key,dk,r));return i}vn(t,e,i,r,s){lt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,f,b,x,D){const R=u.getIterator(),B=f.getIterator();let z=cE(R),ee=cE(B);for(;z||ee;){let ae=!1,we=!1;if(z&&ee){const qe=b(z,ee);qe<0?we=!0:qe>0&&(ae=!0)}else null!=z?we=!0:ae=!0;ae?(x(ee),ee=cE(B)):we?(D(z),z=cE(R)):(z=cE(R),ee=cE(B))}}(r,s,Xy,u=>{a.push(this.Rn(t,e,i,u))},u=>{a.push(this.Pn(t,e,i,u))}),Be.waitFor(a)}Tn(t){let e=1;return $D(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,u)=>Xy(a,u)).filter((a,u,f)=>!u||0!==Xy(a,f[u-1]));const r=[];r.push(t);for(const a of i){const u=Xy(a,t),f=Xy(a,e);if(0===u)r[0]=t.Je();else if(u>0&&f<0)r.push(a),r.push(a.Je());else if(f>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,dk,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,dk,[]]))}return s}bn(t,e){return Xy(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(dz)}getMinOffset(t,e){return Be.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||Nt())).next(dz)}}function uz(n){return Qo(n,"collectionParents")}function GD(n){return Qo(n,"indexEntries")}function hk(n){return Qo(n,"indexConfiguration")}function $D(n){return Qo(n,"indexState")}function dz(n){Kt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;yL(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Mu(t.readTime,t.documentKey,e)}const hz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tl{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new tl(t,tl.DEFAULT_COLLECTION_PERCENTILE,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fz(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let u=0;const f=i.X({range:a},(x,D,R)=>(u++,R.delete()));s.push(f.next(()=>{Kt(1===u)}));const b=[];for(const x of e.mutations){const D=Lq(t,x.key.path,e.batchId);s.push(r.delete(D)),b.push(x.key)}return Be.waitFor(s).next(()=>b)}function fk(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Nt();t=n.noDocument}return JSON.stringify(t).length}tl.DEFAULT_COLLECTION_PERCENTILE=10,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tl.DEFAULT=new tl(41943040,tl.DEFAULT_COLLECTION_PERCENTILE,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tl.DISABLED=new tl(-1,0,0);class pk{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Kt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new pk(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ev(t).X({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=bE(t),a=ev(t);return a.add({}).next(u=>{Kt("number"==typeof u);const f=new NL(u,e,i,r),b=function(R,B,z){const ee=z.baseMutations.map(we=>jD(R.fe,we)),ae=z.mutations.map(we=>jD(R.fe,we));return{userId:B,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:ee,mutations:ae}}(this.serializer,this.userId,f),x=[];let D=new Cr((R,B)=>Mn(R.canonicalString(),B.canonicalString()));for(const R of r){const B=Lq(this.userId,R.key.path,u);D=D.add(R.key.path.popLast()),x.push(a.put(b)),x.push(s.put(B,Cie))}return D.forEach(R=>{x.push(this.indexManager.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(()=>{this.Vn[u]=f.keys()}),Be.waitFor(x).next(()=>f)})}lookupMutationBatch(t,e){return ev(t).get(e).next(i=>i?(Kt(i.userId===this.userId),C0(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Be.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ev(t).X({index:"userMutationsIndex",range:r},(a,u,f)=>{u.userId===this.userId&&(Kt(u.batchId>=i),s=C0(this.serializer,u)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ev(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ev(t).j("userMutationsIndex",e).next(i=>i.map(r=>C0(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=$M(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return bE(t).X({range:r},(a,u,f)=>{const[b,x,D]=a,R=Gp(x);if(b===this.userId&&e.path.isEqual(R))return ev(t).get(D).next(B=>{if(!B)throw Nt();Kt(B.userId===this.userId),s.push(C0(this.serializer,B))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Cr(Mn);const r=[];return e.forEach(s=>{const a=$M(this.userId,s.path),u=IDBKeyRange.lowerBound(a),f=bE(t).X({range:u},(b,x,D)=>{const[R,B,z]=b,ee=Gp(B);R===this.userId&&s.path.isEqual(ee)?i=i.add(z):D.done()});r.push(f)}),Be.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=$M(this.userId,i),a=IDBKeyRange.lowerBound(s);let u=new Cr(Mn);return bE(t).X({range:a},(f,b,x)=>{const[D,R,B]=f,z=Gp(R);D===this.userId&&i.isPrefixOf(z)?z.length===r&&(u=u.add(B)):x.done()}).next(()=>this.Dn(t,u))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(ev(t).get(s).next(a=>{if(null===a)throw Nt();Kt(a.userId===this.userId),i.push(C0(this.serializer,a))}))}),Be.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return fz(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Be.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Be.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return bE(t).X({range:i},(s,a,u)=>{if(s[0]===this.userId){const f=Gp(s[1]);r.push(f)}else u.done()}).next(()=>{Kt(0===r.length)})})}containsKey(t,e){return pz(t,this.userId,e)}xn(t){return mz(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pz(n,t,e){const i=$M(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return bE(n).X({range:s,Y:!0},(u,f,b)=>{const[x,D,R]=u;x===t&&D===r&&(a=!0),b.done()}).next(()=>a)}function ev(n){return Qo(n,"mutations")}function bE(n){return Qo(n,"documentMutations")}function mz(n){return Qo(n,"mutationQueues")}class A0{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new A0(0)}static Mn(){return new A0(-1)}}class Fre{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new A0(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>nn.fromTimestamp(new $r(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>wE(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Kt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return wE(t).X((a,u)=>{const f=HD(u);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(t,f)))}).next(()=>Be.waitFor(s)).next(()=>r)}forEachTarget(t,e){return wE(t).X((i,r)=>{const s=HD(r);e(s)})}$n(t){return gz(t).get("targetGlobalKey").next(e=>(Kt(null!==e),e))}On(t,e){return gz(t).put("targetGlobalKey",e)}Fn(t,e){return wE(t).put(ez(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=g0(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return wE(t).X({range:r,index:"queryTargetsIndex"},(a,u,f)=>{const b=HD(u);ID(e,b.target)&&(s=b,f.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=tv(t);return e.forEach(a=>{const u=el(a.path);r.push(s.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,a))}),Be.waitFor(r)}removeMatchingKeys(t,e,i){const r=tv(t);return Be.forEach(e,s=>{const a=el(s.path);return Be.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=tv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=tv(t);let s=jn();return r.X({range:i,Y:!0},(a,u,f)=>{const b=Gp(a[1]),x=new Et(b);s=s.add(x)}).next(()=>s)}containsKey(t,e){const i=el(e.path),r=IDBKeyRange.bound([i],[Tq(i)],!1,!0);let s=0;return tv(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,u],f,b)=>{0!==a&&(s++,b.done())}).next(()=>s>0)}le(t,e){return wE(t).get(e).next(i=>i?HD(i):null)}}function wE(n){return Qo(n,"targets")}function gz(n){return Qo(n,"targetGlobal")}function tv(n){return Qo(n,"targetDocuments")}function _z([n,t],[e,i]){const r=Mn(n,e);return 0===r?Mn(t,i):r}class Lre{constructor(t){this.Ln=t,this.buffer=new Cr(_z),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();_z(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class yz{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,be.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){zy(i)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qy(i)}yield e.Qn(3e5)}))}}class Bre{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Be.resolve(ku.ct);const i=new Lre(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(hz)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hz):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,a,u,f,b;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,a=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,u=Date.now(),this.removeTargets(t,i,e))).next(D=>(s=D,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(b=Date.now(),mL()<=vi.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-x}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${s} targets in `+(f-u)+`ms\n\tRemoved ${D} documents in `+(b-f)+`ms\nTotal Duration: ${b-x}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class Vre{constructor(t,e){this.db=t,this.garbageCollector=function(n,t){return new Bre(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return mk(t,i)}removeReference(t,e,i){return mk(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return mk(t,e)}Xn(t,e){return function(i,r){let s=!1;return mz(i).Z(a=>pz(i,a,r).next(u=>(u&&(s=!0),Be.resolve(!u)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(a,u)=>{if(u<=e){const f=this.Xn(t,a).next(b=>{if(!b)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,nn.min()),tv(t).delete([0,el(a.path)])))});r.push(f)}}).next(()=>Be.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return mk(t,e)}Yn(t,e){const i=tv(t);let r,s=ku.ct;return i.X({index:"documentTargetsIndex"},([a,u],{path:f,sequenceNumber:b})=>{0===a?(s!==ku.ct&&e(new Et(Gp(r)),s),s=b,r=f):s=ku.ct}).next(()=>{s!==ku.ct&&e(new Et(Gp(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function mk(n,t){return tv(n).put((i=n.currentSequenceNumber,{targetId:0,path:el(t.path),sequenceNumber:i}));var i}class bz{constructor(){this.changes=new qg(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Er.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Be.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ure{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return D0(t).put(i)}removeEntry(t,e,i){return D0(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],lk(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Er.newInvalidDocument(e);return D0(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(ZD(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Er.newInvalidDocument(e)};return D0(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(ZD(e))},(r,s)=>{i={document:this.ts(e,s),size:fk(s)}}).next(()=>i)}getEntries(t,e){let i=Ac();return this.ns(t,e,(r,s)=>{const a=this.ts(r,s);i=i.insert(r,a)}).next(()=>i)}ss(t,e){let i=Ac(),r=new hr(Et.comparator);return this.ns(t,e,(s,a)=>{const u=this.ts(s,a);i=i.insert(s,u),r=r.insert(s,fk(a))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Be.resolve();let r=new Cr(xz);e.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(ZD(r.first()),ZD(r.last())),a=r.getIterator();let u=a.getNext();return D0(t).X({index:"documentKeyIndex",range:s},(f,b,x)=>{const D=Et.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;u&&xz(u,D)<0;)i(u,null),u=a.getNext();u&&u.isEqual(D)&&(i(u,b),u=a.hasNext()?a.getNext():null),u?x.G(ZD(u)):x.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),lk(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return D0(t).j(IDBKeyRange.bound(a,u,!0)).next(f=>{let b=Ac();for(const x of f){const D=this.ts(Et.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);D.isFoundDocument()&&(kD(e,D)||r.has(D.key))&&(b=b.insert(D.key,D))}return b})}getAllFromCollectionGroup(t,e,i,r){let s=Ac();const a=Ez(e,i),u=Ez(e,Mu.max());return D0(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(f,b,x)=>{const D=this.ts(Et.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);s=s.insert(D.key,D),s.size===r&&x.done()}).next(()=>s)}newChangeBuffer(t){return new jre(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Cz(t).get("remoteDocumentGlobalKey").next(e=>(Kt(!!e),e))}Zn(t,e){return Cz(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function(n,t){let e;if(t.document)e=$5(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Et.fromSegments(t.noDocument.path),r=w0(t.noDocument.readTime);e=Er.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Nt();{const i=Et.fromSegments(t.unknownDocument.path),r=w0(t.unknownDocument.version);e=Er.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new $r(i[0],i[1]);return nn.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(nn.min()))return i}return Er.newInvalidDocument(t)}}function wz(n){return new Ure(n)}class jre extends bz{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new qg(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Cr((s,a)=>Mn(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const u=this.us.get(s);if(e.push(this.os.removeEntry(t,s,u.readTime)),a.isValidDocument()){const f=X5(this.os.serializer,a);r=r.add(s.path.popLast()),i+=fk(f)-u.size,e.push(this.os.addEntry(t,s,f))}else if(i-=u.size,this.trackRemovals){const f=X5(this.os.serializer,a.convertToNoDocument(nn.min()));e.push(this.os.addEntry(t,s,f))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),Be.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,a)=>{this.us.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function Cz(n){return Qo(n,"remoteDocumentGlobal")}function D0(n){return Qo(n,"remoteDocumentsV14")}function ZD(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ez(n,t){const e=t.documentKey.path.toArray();return[n,lk(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function xz(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Mn(e[s],i[s]),r)return r;return r=Mn(e.length,i.length),r||(r=Mn(e[e.length-2],i[i.length-2]),r||Mn(e[e.length-1],i[i.length-1]))}class Hre{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Az{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&PD(i.mutation,r,xc.empty(),$r.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,jn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=jn()){const r=Zp();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=OD();return s.forEach((u,f)=>{a=a.insert(u,f.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=Zp();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,jn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,i,r){let s=Ac();const a=RD(),u=RD();return e.forEach((f,b)=>{const x=i.get(b.key);r.has(b.key)&&(void 0===x||x.mutation instanceof zg)?s=s.insert(b.key,b):void 0!==x?(a.set(b.key,x.mutation.getFieldMask()),PD(x.mutation,b,x.mutation.getFieldMask(),$r.now())):a.set(b.key,xc.empty())}),this.recalculateAndSaveOverlays(t,s).next(f=>(f.forEach((b,x)=>a.set(b,x)),e.forEach((b,x)=>{var D;return u.set(b,new Hre(x,null!==(D=a.get(b))&&void 0!==D?D:null))}),u))}recalculateAndSaveOverlays(t,e){const i=RD();let r=new hr((a,u)=>a-u),s=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(f=>{const b=e.get(f);if(null===b)return;let x=i.get(f)||xc.empty();x=u.applyToLocalView(b,x),i.set(f,x);const D=(r.get(u.batchId)||jn()).add(f);r=r.insert(u.batchId,D)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),b=f.key,x=f.value,D=_5();x.forEach(R=>{if(!s.has(R)){const B=D5(e.get(R),i.get(R));null!==B&&D.set(R,B),s=s.add(R)}}),a.push(this.documentOverlayCache.saveOverlays(t,b,D))}return Be.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Et.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):IL(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Be.resolve(Zp());let u=-1,f=s;return a.next(b=>Be.forEach(b,(x,D)=>(u<D.largestBatchId&&(u=D.largestBatchId),s.get(x)?Be.resolve():this.remoteDocumentCache.getEntry(t,x).next(R=>{f=f.insert(x,R)}))).next(()=>this.populateOverlays(t,b,s)).next(()=>this.computeViews(t,f,b,jn())).next(x=>({batchId:u,changes:g5(x)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next(i=>{let r=OD();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=OD();return this.indexManager.getCollectionParents(t,r).next(a=>Be.forEach(a,u=>{const f=(b=e,x=u.child(r),new Hg(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,x;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(b=>{b.forEach((x,D)=>{s=s.insert(x,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((u,f)=>{const b=f.getKey();null===s.get(b)&&(s=s.insert(b,Er.newInvalidDocument(b)))});let a=OD();return s.forEach((u,f)=>{const b=r.get(u);void 0!==b&&PD(b.mutation,f,xc.empty(),$r.now()),kD(e,f)&&(a=a.insert(u,f))}),a})}}class qre{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Be.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Gs(i.createTime)}),Be.resolve()}getNamedQuery(t,e){return Be.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:zL(i.bundledQuery),readTime:Gs(i.readTime)}),Be.resolve();var i}}class zre{constructor(){this.overlays=new hr(Et.comparator),this.ls=new Map}getOverlay(t,e){return Be.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Zp();return Be.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),Be.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Be.resolve()}getOverlaysForCollection(t,e,i){const r=Zp(),s=e.length+1,a=new Et(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const f=u.getNext().value,b=f.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return Be.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new hr((b,x)=>b-x);const a=this.overlays.getIterator();for(;a.hasNext();){const b=a.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let x=s.get(b.largestBatchId);null===x&&(x=Zp(),s=s.insert(b.largestBatchId,x)),x.set(b.getKey(),b)}}const u=Zp(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((b,x)=>u.set(b,x)),!(u.size()>=r)););return Be.resolve(u)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new FL(e,i));let s=this.ls.get(e);void 0===s&&(s=jn(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class QL{constructor(){this.fs=new Cr(Jo.ds),this.ws=new Cr(Jo._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Jo(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Jo(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new Et(new fi([])),i=new Jo(e,t),r=new Jo(e,t+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Et(new fi([])),i=new Jo(e,t),r=new Jo(e,t+1);let s=jn();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new Jo(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Jo{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Et.comparator(t.key,e.key)||Mn(t.As,e.As)}static _s(t,e){return Mn(t.As,e.As)||Et.comparator(t.key,e.key)}}class Gre{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Cr(Jo.ds)}checkEmpty(t){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const a=new NL(s,e,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new Jo(u.key,s)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return Be.resolve(a)}lookupMutationBatch(t,e){return Be.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return Be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Jo(e,0),r=new Jo(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.Ps(a.As);s.push(u)}),Be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Cr(Mn);return e.forEach(r=>{const s=new Jo(r,0),a=new Jo(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],u=>{i=i.add(u.As)})}),Be.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Et.isDocumentKey(s)||(s=s.child(""));const a=new Jo(new Et(s),0);let u=new Cr(Mn);return this.Rs.forEachWhile(f=>{const b=f.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(u=u.add(f.As)),!0)},a),Be.resolve(this.Vs(u))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Kt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Be.forEach(e.mutations,r=>{const s=new Jo(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Jo(e,0),r=this.Rs.firstAfterOrEqual(i);return Be.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Be.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class $re{constructor(t){this.Ds=t,this.docs=new hr(Et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Be.resolve(i?i.document.mutableCopy():Er.newInvalidDocument(e))}getEntries(t,e){let i=Ac();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Er.newInvalidDocument(r))}),Be.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Ac();const a=e.path,u=new Et(a.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:b,value:{document:x}}=f.getNext();if(!a.isPrefixOf(b.path))break;b.path.length>a.length+1||yL(Mq(x),i)<=0||(r.has(x.key)||kD(e,x))&&(s=s.insert(x.key,x.mutableCopy()))}return Be.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Nt()}Cs(t,e){return Be.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Zre(this)}getSize(t){return Be.resolve(this.size)}}class Zre extends bz{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Be.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class Wre{constructor(t){this.persistence=t,this.xs=new qg(e=>g0(e),ID),this.lastRemoteSnapshotVersion=nn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new QL,this.targetCount=0,this.Ms=A0.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Be.resolve()}getLastRemoteSnapshotVersion(t){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Be.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Be.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new A0(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Be.resolve()}updateTargetData(t,e){return this.Fn(e),Be.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Be.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),Be.waitFor(s).next(()=>r)}getTargetCount(t){return Be.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Be.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Be.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),Be.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Be.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Be.resolve(i)}containsKey(t,e){return Be.resolve(this.ks.containsKey(e))}}class JL{constructor(t,e){this.$s={},this.overlays={},this.Os=new ku(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Wre(this),this.indexManager=new Nre,this.remoteDocumentCache=new $re(i=>this.referenceDelegate.Ls(i)),this.serializer=new J5(e),this.qs=new qre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new zre,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new Gre(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){lt("MemoryPersistence","Starting transaction:",t);const r=new Yre(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return Be.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class Yre extends Oq{constructor(t){super(),this.currentSequenceNumber=t}}class gk{constructor(t){this.persistence=t,this.Qs=new QL,this.js=null}static zs(t){return new gk(t)}get Ws(){if(this.js)return this.js;throw Nt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Be.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Be.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Be.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Ws,i=>{const r=Et.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,nn.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Be.or([()=>Be.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class Kre{constructor(t){this.serializer=t}O(t,e,i,r){const s=new GM("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fq,{unique:!0}),u.createObjectStore("documentMutations"),Dz(t),function(u){u.createObjectStore("remoteDocuments")}(t));let a=Be.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),Dz(t)),a=a.next(()=>function(u){const f=u.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nn.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",b)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,f){return f.store("mutations").j().next(b=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fq,{unique:!0});const x=f.store("mutations"),D=b.map(R=>x.put(R));return Be.waitFor(D)})}(t,s))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(s))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(s))),i<8&&r>=8&&(a=a.next(()=>this.ti(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ei(s))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const f=u.createObjectStore("documentOverlays",{keyPath:Nie});f.createIndex("collectionPathOverlayIndex",Pie,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",Fie,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(u){const f=u.createObjectStore("remoteDocumentsV14",{keyPath:Eie});f.createIndex("documentKeyIndex",xie),f.createIndex("collectionGroupIndex",Aie)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(t,s))),i<15&&r>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Mie}).createIndex("sequenceNumberIndex",kie,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Oie}).createIndex("documentKeyIndex",Rie,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=fk(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Be.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(u=>Be.forEach(u,f=>{Kt(f.userId===s.userId);const b=C0(this.serializer,f);return fz(t,s.userId,b).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,u)=>{const f=new fi(a),b=[0,el(f)];s.push(e.get(b).next(x=>x?Be.resolve():e.put({targetId:0,path:el(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Be.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:Iie});const i=e.store("collectionParents"),r=new KL,s=a=>{if(r.add(a)){const u=a.lastSegment(),f=a.popLast();return i.put({collectionId:u,parent:el(f)})}};return e.store("remoteDocuments").X({Y:!0},(a,u)=>{const f=new fi(a);return s(f.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,u,f],b)=>{const x=Gp(u);return s(x.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=HD(r),a=ez(this.serializer,s);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,a)=>{const u=e.store("remoteDocumentsV14"),f=(b=a,b.document?new Et(fi.fromString(b.document.name).popFirst(5)):b.noDocument?Et.fromSegments(b.noDocument.path):b.unknownDocument?Et.fromSegments(b.unknownDocument.path):Nt()).path.toArray();var b;const x={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(x))}).next(()=>Be.waitFor(r))}si(t,e){const i=e.store("mutations"),r=wz(this.serializer),s=new JL(gk.zs,this.serializer.fe);return i.j().next(a=>{const u=new Map;return a.forEach(f=>{var b;let x=null!==(b=u.get(f.userId))&&void 0!==b?b:jn();C0(this.serializer,f).keys().forEach(D=>x=x.add(D)),u.set(f.userId,x)}),Be.forEach(u,(f,b)=>{const x=new Ko(b),D=ck.de(this.serializer,x),R=s.getIndexManager(x),B=pk.de(x,this.serializer,R,s.referenceDelegate);return new Az(r,B,D,R).recalculateAndSaveOverlaysForDocumentKeys(new wL(e,ku.ct),f).next()})})}}function Dz(n){n.createObjectStore("targetDocuments",{keyPath:Sie}).createIndex("documentTargetsIndex",Tie,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Die,{unique:!0}),n.createObjectStore("targetGlobal")}const XL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class e2{constructor(t,e,i,r,s,a,u,f,b,x,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=a,this.document=u,this.ri=b,this.oi=x,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=R=>Promise.resolve(),!e2.D())throw new tt(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vre(this,r),this.di=e+"main",this.serializer=new J5(f),this.wi=new qh(this.di,this.ui,new Kre(this.serializer)),this.Bs=new Fre(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wz(this.serializer),this.qs=new Sre,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&zs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Ue.FAILED_PRECONDITION,XL);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new ku(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,be.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>yk(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(zy(t))return lt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return WD(t).get("owner").next(e=>Be.resolve(this.Ri(e)))}Pi(t){return yk(t).delete(this.clientId)}bi(){var t=this;return(0,be.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Qo(i,"clientMetadata");return r.j().next(s=>{const a=t.Si(s,18e5),u=s.filter(f=>-1===a.indexOf(f));return Be.forEach(u,f=>r.delete(f.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Be.resolve(!0):WD(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new tt(Ue.FAILED_PRECONDITION,XL);return!1}}return!(!this.networkEnabled||!this.inForeground)||yk(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,u=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&u)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&lt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,be.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new wL(e,ku.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>yk(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return pk.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Pre(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return ck.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){lt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(a=this.ui)?Bie:14===a?Uq:13===a?Vq:12===a?Lie:11===a?Bq:void Nt();var a;let u;return this.wi.runTransaction(t,r,s,f=>(u=new wL(f,this.Os?this.Os.next():ku.ct),"readwrite-primary"===e?this.Ti(u).next(b=>!!b||this.Ei(u)).next(b=>{if(!b)throw zs(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new tt(Ue.FAILED_PRECONDITION,kq);return i(u)}).next(b=>this.vi(u).next(()=>b)):this.Oi(u).next(()=>i(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}Oi(t){return WD(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new tt(Ue.FAILED_PRECONDITION,XL)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return WD(t).put("owner",e)}static D(){return qh.D()}Ai(t){const e=WD(t);return e.get("owner").next(i=>this.Ri(i)?(lt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Be.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(zs(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!function(){var n;const t=null===(n=fM())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return lt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return zs("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){zs("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(t){}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function WD(n){return Qo(n,"owner")}function yk(n){return Qo(n,"clientMetadata")}function t2(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class n2{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=jn(),r=jn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n2(t,e.fromCache,i,r)}}class Sz{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(d5(e))return Be.resolve(null);let i=Vl(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=nk(e,null,"F"),i=Vl(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=jn(...s);return this.Ui.getDocuments(t,a).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const b=this.ji(e,u);return this.zi(e,b,a,f.readTime)?this.Ki(t,nk(e,null,"F")):this.Wi(t,b,e,f)}))})))}Gi(t,e,i,r){return d5(e)||r.isEqual(nn.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const a=this.ji(e,s);return this.zi(e,a,i,r)?this.Qi(t,e):(mL()<=vi.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kL(e)),this.Wi(t,a,e,Iq(r,-1)))})}ji(t,e){let i=new Cr(p5(t));return e.forEach((r,s)=>{kD(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return mL()<=vi.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",kL(e)),this.Ui.getDocumentsMatchingQuery(t,e,Mu.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class Qre{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new hr(Mn),this.Yi=new qg(s=>g0(s),ID),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Az(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function Tz(n,t,e,i){return new Qre(n,t,e,i)}function Iz(n,t){return r2.apply(this,arguments)}function r2(){return r2=(0,be.Z)(function*(n,t){const e=At(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let f=jn();for(const b of r){a.push(b.batchId);for(const x of b.mutations)f=f.add(x.key)}for(const b of s){u.push(b.batchId);for(const x of b.mutations)f=f.add(x.key)}return e.localDocuments.getDocuments(i,f).next(b=>({er:b,removedBatchIds:a,addedBatchIds:u}))})})}),r2.apply(this,arguments)}function Jre(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,u,f,b){const x=f.batch,D=x.keys();let R=Be.resolve();return D.forEach(B=>{R=R.next(()=>b.getEntry(u,B)).next(z=>{const ee=f.docVersions.get(B);Kt(null!==ee),z.version.compareTo(ee)<0&&(x.applyToRemoteDocument(z,f),z.isValidDocument()&&(z.setReadTime(f.commitVersion),b.addEntry(z)))})}),R.next(()=>a.mutationQueue.removeMutationBatch(u,x))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=jn();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(u=u.add(a.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Mz(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Xre(n,t){const e=At(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const u=[];t.targetChanges.forEach((x,D)=>{const R=r.get(D);if(!R)return;u.push(e.Bs.removeMatchingKeys(s,x.removedDocuments,D).next(()=>e.Bs.addMatchingKeys(s,x.addedDocuments,D)));let B=R.withSequenceNumber(s.currentSequenceNumber);var z,ee,ae;null!==t.targetMismatches.get(D)?B=B.withResumeToken(xo.EMPTY_BYTE_STRING,nn.min()).withLastLimboFreeSnapshotVersion(nn.min()):x.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(x.resumeToken,i)),r=r.insert(D,B),ee=B,ae=x,(0===(z=R).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&u.push(e.Bs.updateTargetData(s,B))});let f=Ac(),b=jn();if(t.documentUpdates.forEach(x=>{t.resolvedLimboDocuments.has(x)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(s,x))}),u.push(kz(s,a,t.documentUpdates).next(x=>{f=x.nr,b=x.sr})),!i.isEqual(nn.min())){const x=e.Bs.getLastRemoteSnapshotVersion(s).next(D=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(x)}return Be.waitFor(u).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,f,b)).next(()=>f)}).then(s=>(e.Ji=r,s))}function kz(n,t,e){let i=jn(),r=jn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=Ac();return e.forEach((u,f)=>{const b=s.get(u);f.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(nn.min())?(t.removeEntry(u,f.readTime),a=a.insert(u,f)):!b.isValidDocument()||f.version.compareTo(b.version)>0||0===f.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(f),a=a.insert(u,f)):lt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",b.version," Watch version:",f.version)}),{nr:a,sr:r}})}function ese(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function CE(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,Be.resolve(r)):e.Bs.allocateTargetId(i).next(a=>(r=new Gg(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function EE(n,t,e){return s2.apply(this,arguments)}function s2(){return s2=(0,be.Z)(function*(n,t,e){const i=At(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!zy(a))throw a;lt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),s2.apply(this,arguments)}function vk(n,t,e){const i=At(n);let r=nn.min(),s=jn();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,f,b){const x=At(u),D=x.Yi.get(b);return void 0!==D?Be.resolve(x.Ji.get(D)):x.Bs.getTargetData(f,b)}(i,a,Vl(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,u.targetId).next(f=>{s=f})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?r:nn.min(),e?s:jn())).next(u=>(Nz(i,f5(t),u),{documents:u,ir:s})))}function Oz(n,t){const e=At(n),i=At(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(a=>a?a.target:null))}function Rz(n,t){const e=At(n),i=e.Xi.get(t)||nn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,Iq(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Nz(e,t,r),r))}function Nz(n,t,e){let i=n.Xi.get(t)||nn.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function o2(){return o2=(0,be.Z)(function*(n,t,e,i){const r=At(n);let s=jn(),a=Ac();for(const b of e){const x=t.rr(b.metadata.name);b.document&&(s=s.add(x));const D=t.ur(b);D.setReadTime(t.cr(b.metadata.readTime)),a=a.insert(x,D)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),f=yield CE(r,(b=i,Vl(fE(fi.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>kz(b,u,a).next(x=>(u.apply(b),x)).next(x=>r.Bs.removeMatchingKeysForTargetId(b,f.targetId).next(()=>r.Bs.addMatchingKeys(b,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,x.nr,x.sr)).next(()=>x.nr)))}),o2.apply(this,arguments)}function nse(n,t){return a2.apply(this,arguments)}function a2(){return a2=(0,be.Z)(function*(n,t,e=jn()){const i=yield CE(n,Vl(zL(t.bundledQuery))),r=At(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=Gs(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(s,t);const u=i.withResumeToken(xo.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(s,u).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),a2.apply(this,arguments)}function Pz(n,t){return`firestore_clients_${n}_${t}`}function Fz(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function l2(n,t){return`firestore_targets_${n}_${t}`}class bk{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new tt(r.error.code,r.error.message))),a?new bk(t,e,r.state,s):(zs("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class YD{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new tt(i.error.code,i.error.message))),s?new YD(t,i.state,r):(zs("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class wk{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=OL();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=Nq(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new wk(t,s):(zs("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class c2{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new c2(e.clientId,e.onlineState):(zs("SharedClientState",`Failed to parse online state: ${t}`),null)}}class u2{constructor(){this.activeTargetIds=OL()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class d2{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new hr(Mn),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Pz(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new u2),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,be.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(Pz(t.persistenceKey,r));if(s){const a=wk.ar(r,s);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(l2(this.persistenceKey,t));if(i){const r=YD.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(l2(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return lt("SharedClientState","READ",t,e),e}setItem(t,e){lt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){lt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(lt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void zs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,be.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let a=ku.ct;if(null!=s)try{const u=JSON.parse(s);Kt("number"==typeof u),a=u}catch(u){zs("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==ku.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new bk(this.currentUser,t,e,i),s=Fz(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=Fz(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=l2(this.persistenceKey,t),s=new YD(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return wk.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return bk.ar(new Ko(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return YD.ar(r,e)}br(t){return c2.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);lt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),a=[],u=[];return s.forEach(f=>{r.has(f)||a.push(f)}),r.forEach(f=>{s.has(f)||u.push(f)}),this.syncEngine.Wr(a,u).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=OL();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class Lz{constructor(){this.Hr=new u2,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new u2,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ise{Yr(t){}shutdown(){}}class Bz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ck=null;function h2(){return null===Ck?Ck=268435456+Math.round(2147483648*Math.random()):Ck++,"0x"+Ck.toString(16)}const rse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sse{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const nl="WebChannelConnection";class ose extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const a=h2(),u=this.To(t,e);lt("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const f={};return this.Eo(f,r,s),this.Ao(t,u,f,i).then(b=>(lt("RestConnection",`Received RPC '${t}' ${a}: `,b),b),b=>{throw xd("RestConnection",`RPC '${t}' ${a} failed with error: `,b,"url: ",u,"request:",i),b})}vo(t,e,i,r,s,a){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+aE,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${rse[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=h2();return new Promise((a,u)=>{const f=new iie;f.setWithCredentials(!0),f.listenOnce(eie.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case pL.NO_ERROR:const x=f.getResponseJson();lt(nl,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(x)),a(x);break;case pL.TIMEOUT:lt(nl,`RPC '${t}' ${s} timed out`),u(new tt(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case pL.HTTP_ERROR:const D=f.getStatus();if(lt(nl,`RPC '${t}' ${s} failed with status:`,D,"response text:",f.getResponseText()),D>0){let R=f.getResponseJson();Array.isArray(R)&&(R=R[0]);const B=null==R?void 0:R.error;if(B&&B.status&&B.message){const z=function(ee){const ae=ee.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(ae)>=0?ae:Ue.UNKNOWN}(B.status);u(new tt(z,B.message))}else u(new tt(Ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new tt(Ue.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{lt(nl,`RPC '${t}' ${s} completed.`)}});const b=JSON.stringify(r);lt(nl,`RPC '${t}' ${s} sending request:`,r),f.send(e,"POST",b,i,15)})}Ro(t,e,i){const r=h2(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Jne(),u=Xne(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(f.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(f.xmlHttpFactory=new nie({})),this.Eo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const x=s.join("");lt(nl,`Creating RPC '${t}' stream ${r}: ${x}`,f);const D=a.createWebChannel(x,f);let R=!1,B=!1;const z=new sse({ro:ae=>{B?lt(nl,`Not sending because RPC '${t}' stream ${r} is closed:`,ae):(R||(lt(nl,`Opening RPC '${t}' stream ${r} transport.`),D.open(),R=!0),lt(nl,`RPC '${t}' stream ${r} sending:`,ae),D.send(ae))},oo:()=>D.close()}),ee=(ae,we,qe)=>{ae.listen(we,Ye=>{try{qe(Ye)}catch(at){setTimeout(()=>{throw at},0)}})};return ee(D,HM.EventType.OPEN,()=>{B||lt(nl,`RPC '${t}' stream ${r} transport opened.`)}),ee(D,HM.EventType.CLOSE,()=>{B||(B=!0,lt(nl,`RPC '${t}' stream ${r} transport closed`),z.wo())}),ee(D,HM.EventType.ERROR,ae=>{B||(B=!0,xd(nl,`RPC '${t}' stream ${r} transport errored:`,ae),z.wo(new tt(Ue.UNAVAILABLE,"The operation could not be completed")))}),ee(D,HM.EventType.MESSAGE,ae=>{var we;if(!B){const qe=ae.data[0];Kt(!!qe);const Ye=qe,at=Ye.error||(null===(we=Ye[0])||void 0===we?void 0:we.error);if(at){lt(nl,`RPC '${t}' stream ${r} received error:`,at);const Jt=at.status;let fn=function(fs){const al=so[fs];if(void 0!==al)return O5(al)}(Jt),li=at.message;void 0===fn&&(fn=Ue.INTERNAL,li="Unknown error status: "+Jt+" with message "+at.message),B=!0,z.wo(new tt(fn,li)),D.close()}else lt(nl,`RPC '${t}' stream ${r} received:`,qe),z._o(qe)}}),ee(u,tie.STAT_EVENT,ae=>{ae.stat===Eq.PROXY?lt(nl,`RPC '${t}' stream ${r} detected buffering proxy`):ae.stat===Eq.NOPROXY&&lt(nl,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{z.fo()},0),z}}function Vz(){return"undefined"!=typeof window?window:null}function Ek(){return"undefined"!=typeof document?document:null}function KD(n){return new gre(n,!0)}class f2{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&lt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Uz{constructor(t,e,i,r,s,a,u,f){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new f2(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,be.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,be.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,be.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===Ue.RESOURCE_EXHAUSTED?(zs(e.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===Ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new tt(Ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,be.Z)(function*(){t.state=0,t.start()}))}tu(t){return lt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ase extends Uz{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Nt(),r=t.targetChange.targetIds||[],s=function(f,b){return f.useProto3Json?(Kt(void 0===b||"string"==typeof b),xo.fromBase64String(b||"")):(Kt(void 0===b||b instanceof Uint8Array),xo.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(f){const b=void 0===f.code?Ue.UNKNOWN:O5(f.code);return new tt(b,f.message||"")}(a);e=new L5(i,r,s,u||null)}else if("documentChange"in t){const i=t.documentChange,r=Wp(n,i.document.name),s=Gs(i.document.updateTime),a=i.document.createTime?Gs(i.document.createTime):nn.min(),u=new Ca({mapValue:{fields:i.document.fields}}),f=Er.newFoundDocument(r,s,a,u);e=new ak(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=Wp(n,i.document),s=i.readTime?Gs(i.readTime):nn.min(),a=Er.newNoDocument(r,s);e=new ak([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=Wp(n,i.document);e=new ak([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Nt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,a=new ure(r,s);e=new F5(i.targetId,a)}}var f;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return nn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?nn.min():s.readTime?Gs(s.readTime):nn.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=UD(this.serializer),e.addTarget=function(r,s){let a;const u=s.target;if(a=XM(u)?{documents:Z5(r,u)}:{query:qL(r,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=j5(r,s.resumeToken);const f=VL(r,s.expectedCount);null!==f&&(a.expectedCount=f)}else if(s.snapshotVersion.compareTo(nn.min())>0){a.readTime=yE(r,s.snapshotVersion.toTimestamp());const f=VL(r,s.expectedCount);null!==f&&(a.expectedCount=f)}return a}(this.serializer,t);const i=function(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=UD(this.serializer),e.removeTarget=t,this.Wo(e)}}class lse extends Uz{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function(n,t){return n&&n.length>0?(Kt(void 0!==t),n.map(e=>function(i,r){let s=Gs(i.updateTime?i.updateTime:r);return s.isEqual(nn.min())&&(s=Gs(r)),new ore(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Gs(t.commitTime);return this.listener.cu(i,e)}return Kt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=UD(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>jD(this.serializer,i))};this.Wo(e)}}class cse extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new tt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new tt(Ue.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,e,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tt(Ue.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class dse{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(zs(e),this.mu=!1):lt("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hse{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(u=>{i.enqueueAndForget((0,be.Z)(function*(){var f;nv(a)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,be.Z)(function*(b){const x=At(b);x.vu.add(4),yield xE(x),x.bu.set("Unknown"),x.vu.delete(4),yield QD(x)}),function(b){return f.apply(this,arguments)})(a))}))}),this.bu=new dse(i,r)}}function QD(n){return m2.apply(this,arguments)}function m2(){return m2=(0,be.Z)(function*(n){if(nv(n))for(const t of n.Ru)yield t(!0)}),m2.apply(this,arguments)}function xE(n){return g2.apply(this,arguments)}function g2(){return g2=(0,be.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),g2.apply(this,arguments)}function xk(n,t){const e=At(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),v2(e)?y2(e):DE(e).Ko()&&_2(e,t))}function JD(n,t){const e=At(n),i=DE(e);e.Au.delete(t),i.Ko()&&jz(e,t),0===e.Au.size&&(i.Ko()?i.jo():nv(e)&&e.bu.set("Unknown"))}function _2(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}DE(n).su(t)}function jz(n,t){n.Vu.qt(t),DE(n).iu(t)}function y2(n){n.Vu=new hre({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),DE(n).start(),n.bu.gu()}function v2(n){return nv(n)&&!DE(n).Uo()&&n.Au.size>0}function nv(n){return 0===At(n).vu.size}function Hz(n){n.Vu=void 0}function fse(n){return b2.apply(this,arguments)}function b2(){return b2=(0,be.Z)(function*(n){n.Au.forEach((t,e)=>{_2(n,t)})}),b2.apply(this,arguments)}function pse(n,t){return w2.apply(this,arguments)}function w2(){return w2=(0,be.Z)(function*(n,t){Hz(n),v2(n)?(n.bu.Iu(t),y2(n)):n.bu.set("Unknown")}),w2.apply(this,arguments)}function mse(n,t,e){return C2.apply(this,arguments)}function C2(){return C2=(0,be.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof L5&&2===t.state&&t.cause)try{yield(i=(0,be.Z)(function*(r,s){const a=s.cause;for(const u of s.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){lt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Ak(n,i)}else if(t instanceof ak?n.Vu.Ht(t):t instanceof F5?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(nn.min()))try{const i=yield Mz(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const b=r.Au.get(f);b&&r.Au.set(f,b.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,f)=>{const b=r.Au.get(u);if(!b)return;r.Au.set(u,b.withResumeToken(xo.EMPTY_BYTE_STRING,b.snapshotVersion)),jz(r,u);const x=new Gg(b.target,u,f,b.sequenceNumber);_2(r,x)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){lt("RemoteStore","Failed to raise snapshot:",i),yield Ak(n,i)}var i}),C2.apply(this,arguments)}function Ak(n,t,e){return E2.apply(this,arguments)}function E2(){return E2=(0,be.Z)(function*(n,t,e){if(!zy(t))throw t;n.vu.add(1),yield xE(n),n.bu.set("Offline"),e||(e=()=>Mz(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield QD(n)}))}),E2.apply(this,arguments)}function qz(n,t){return t().catch(e=>Ak(n,e,t))}function AE(n){return x2.apply(this,arguments)}function x2(){return x2=(0,be.Z)(function*(n){const t=At(n),e=iv(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;gse(t);)try{const r=yield ese(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,_se(t,r)}catch(r){yield Ak(t,r)}zz(t)&&Gz(t)}),x2.apply(this,arguments)}function gse(n){return nv(n)&&n.Eu.length<10}function _se(n,t){n.Eu.push(t);const e=iv(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function zz(n){return nv(n)&&!iv(n).Uo()&&n.Eu.length>0}function Gz(n){iv(n).start()}function yse(n){return A2.apply(this,arguments)}function A2(){return A2=(0,be.Z)(function*(n){iv(n).hu()}),A2.apply(this,arguments)}function vse(n){return D2.apply(this,arguments)}function D2(){return D2=(0,be.Z)(function*(n){const t=iv(n);for(const e of n.Eu)t.uu(e.mutations)}),D2.apply(this,arguments)}function bse(n,t,e){return S2.apply(this,arguments)}function S2(){return S2=(0,be.Z)(function*(n,t,e){const i=n.Eu.shift(),r=PL.from(i,t,e);yield qz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield AE(n)}),S2.apply(this,arguments)}function wse(n,t){return T2.apply(this,arguments)}function T2(){return T2=(0,be.Z)(function*(n,t){var e;t&&iv(n).ou&&(yield(e=(0,be.Z)(function*(i,r){if(k5(s=r.code)&&s!==Ue.ABORTED){const a=i.Eu.shift();iv(i).Qo(),yield qz(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield AE(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),zz(n)&&Gz(n)}),T2.apply(this,arguments)}function $z(n,t){return I2.apply(this,arguments)}function I2(){return I2=(0,be.Z)(function*(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const i=nv(e);e.vu.add(3),yield xE(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield QD(e)}),I2.apply(this,arguments)}function M2(n,t){return k2.apply(this,arguments)}function k2(){return k2=(0,be.Z)(function*(n,t){const e=At(n);t?(e.vu.delete(2),yield QD(e)):t||(e.vu.add(2),yield xE(e),e.bu.set("Unknown"))}),k2.apply(this,arguments)}function DE(n){return n.Su||(n.Su=function(t,e,i){const r=At(t);return r.fu(),new ase(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:fse.bind(null,n),ao:pse.bind(null,n),nu:mse.bind(null,n)}),n.Ru.push(function(){var t=(0,be.Z)(function*(e){e?(n.Su.Qo(),v2(n)?y2(n):n.bu.set("Unknown")):(yield n.Su.stop(),Hz(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function iv(n){return n.Du||(n.Du=function(t,e,i){const r=At(t);return r.fu(),new lse(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:yse.bind(null,n),ao:wse.bind(null,n),au:vse.bind(null,n),cu:bse.bind(null,n)}),n.Ru.push(function(){var t=(0,be.Z)(function*(e){e?(n.Du.Qo(),yield AE(n)):(yield n.Du.stop(),n.Eu.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class O2{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,u=new O2(t,e,a,r,s);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function SE(n,t){if(zs("AsyncQueue",`${t}: ${n}`),zy(n))return new tt(Ue.UNAVAILABLE,`${t}: ${n}`);throw n}class TE{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=OD(),this.sortedSet=new hr(this.comparator)}static emptySet(t){return new TE(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof TE)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new TE;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Zz{constructor(){this.Cu=new hr(Et.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):Nt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class IE{constructor(t,e,i,r,s,a,u,f,b){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=b}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new IE(t,e,TE.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&MD(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Cse{constructor(){this.Nu=void 0,this.listeners=[]}}class Ese{constructor(){this.queries=new qg(t=>h5(t),MD),this.onlineState="Unknown",this.ku=new Set}}function R2(n,t){return N2.apply(this,arguments)}function N2(){return N2=(0,be.Z)(function*(n,t){const e=At(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new Cse),r)try{s.Nu=yield e.onListen(i)}catch(a){const u=SE(a,`Initialization of query '${kL(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&L2(e)}),N2.apply(this,arguments)}function P2(n,t){return F2.apply(this,arguments)}function F2(){return F2=(0,be.Z)(function*(n,t){const e=At(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),F2.apply(this,arguments)}function xse(n,t){const e=At(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.$u(r)&&(i=!0);a.Nu=r}}i&&L2(e)}function Ase(n,t,e){const i=At(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function L2(n){n.ku.forEach(t=>{t.next()})}class B2{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new IE(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=IE.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class Dse{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class Wz{constructor(t){this.serializer=t}rr(t){return Wp(this.serializer,t)}ur(t){return t.metadata.exists?$5(this.serializer,t.document,!1):Er.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Gs(t)}}class Sse{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Yz(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=fi.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new Wz(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||jn()).add(s);e.set(a,u)}}return e}complete(){var t=this;return(0,be.Z)(function*(){const e=yield function(n,t,e,i){return o2.apply(this,arguments)}(t.localStore,new Wz(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield nse(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function Yz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Kz{constructor(t){this.key=t}}class Qz{constructor(t){this.key=t}}class Jz{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=jn(),this.mutatedKeys=jn(),this.tc=p5(t),this.ec=new TE(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new Zz,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((x,D)=>{const R=r.get(x),B=kD(this.query,D)?D:null,z=!!R&&this.mutatedKeys.has(R.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ae=!1;R&&B?R.data.isEqual(B.data)?z!==ee&&(i.track({type:3,doc:B}),ae=!0):this.rc(R,B)||(i.track({type:2,doc:B}),ae=!0,(f&&this.tc(B,f)>0||b&&this.tc(B,b)<0)&&(u=!0)):!R&&B?(i.track({type:0,doc:B}),ae=!0):R&&!B&&(i.track({type:1,doc:R}),ae=!0,(f||b)&&(u=!0)),ae&&(B?(a=a.add(B),s=ee?s.add(x):s.delete(x)):(a=a.delete(x),s=s.delete(x)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const x="F"===this.query.limitType?a.last():a.first();a=a.delete(x.key),s=s.delete(x.key),i.track({type:1,doc:x})}return{ec:a,ic:i,zi:u,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((b,x)=>function(D,R){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return B(D)-B(R)}(b.type,x.type)||this.tc(b.doc,x.doc)),this.oc(i);const a=e?this.uc():[],u=0===this.Zu.size&&this.current?1:0,f=u!==this.Xu;return this.Xu=u,0!==s.length||f?{snapshot:new IE(this.query,t.ec,r,s,t.mutatedKeys,0===u,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=jn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new Qz(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new Kz(i))}),e}hc(t){this.Yu=t.ir,this.Zu=jn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return IE.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Tse{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Ise{constructor(t){this.key=t,this.fc=!1}}class Mse{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new qg(u=>h5(u),MD),this._c=new Map,this.mc=new Set,this.gc=new hr(Et.comparator),this.yc=new Map,this.Ic=new QL,this.Tc={},this.Ec=new Map,this.Ac=A0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function kse(n,t){return V2.apply(this,arguments)}function V2(){return V2=(0,be.Z)(function*(n,t){const e=lB(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=yield CE(e.localStore,Vl(t)),u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield U2(e,t,i,"current"===u,a.resumeToken),e.isPrimaryClient&&xk(e.remoteStore,a)}return r}),V2.apply(this,arguments)}function U2(n,t,e,i,r){return j2.apply(this,arguments)}function j2(){return j2=(0,be.Z)(function*(n,t,e,i,r){n.Rc=(D,R,B)=>{return(z=(0,be.Z)(function*(ee,ae,we,qe){let Ye=ae.view.sc(we);Ye.zi&&(Ye=yield vk(ee.localStore,ae.query,!1).then(({documents:fn})=>ae.view.sc(fn,Ye)));const at=qe&&qe.targetChanges.get(ae.targetId),Jt=ae.view.applyChanges(Ye,ee.isPrimaryClient,at);return Q2(ee,ae.targetId,Jt.cc),Jt.snapshot}),function(ee,ae,we,qe){return z.apply(this,arguments)})(n,D,R,B);var z};const s=yield vk(n.localStore,t,!0),a=new Jz(t,s.ir),u=a.sc(s.documents),f=BD.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),b=a.applyChanges(u,n.isPrimaryClient,f);Q2(n,e,b.cc);const x=new Tse(t,e,a);return n.wc.set(t,x),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),b.snapshot}),j2.apply(this,arguments)}function Ose(n,t){return H2.apply(this,arguments)}function H2(){return H2=(0,be.Z)(function*(n,t){const e=At(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!MD(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield EE(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),JD(e.remoteStore,i.targetId),ME(e,i.targetId)}).catch(qy))):(ME(e,i.targetId),yield EE(e.localStore,i.targetId,!0))}),H2.apply(this,arguments)}function q2(){return q2=(0,be.Z)(function*(n,t,e){const i=cB(n);try{const r=yield function(s,a){const u=At(s),f=$r.now(),b=a.reduce((R,B)=>R.add(B.key),jn());let x,D;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let B=Ac(),z=jn();return u.Zi.getEntries(R,b).next(ee=>{B=ee,B.forEach((ae,we)=>{we.isValidDocument()||(z=z.add(ae))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,B)).next(ee=>{x=ee;const ae=[];for(const we of a){const qe=lre(we,x.get(we.key).overlayedDocument);null!=qe&&ae.push(new zg(we.key,qe,Qq(qe.value.mapValue),Zr.exists(!0)))}return u.mutationQueue.addMutationBatch(R,f,ae,a)}).next(ee=>{D=ee;const ae=ee.applyToLocalDocumentSet(x,z);return u.documentOverlayCache.saveOverlays(R,ee.batchId,ae)})}).then(()=>({batchId:D.batchId,changes:g5(x)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,u){let f=s.Tc[s.currentUser.toKey()];f||(f=new hr(Mn)),f=f.insert(a,u),s.Tc[s.currentUser.toKey()]=f}(i,r.batchId,e),yield $g(i,r.changes),yield AE(i.remoteStore)}catch(r){const s=SE(r,"Failed to persist write");e.reject(s)}}),q2.apply(this,arguments)}function Xz(n,t){return z2.apply(this,arguments)}function z2(){return z2=(0,be.Z)(function*(n,t){const e=At(n);try{const i=yield Xre(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.yc.get(s);a&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?Kt(a.fc):r.removedDocuments.size>0&&(Kt(a.fc),a.fc=!1))}),yield $g(e,i,t)}catch(i){yield qy(i)}}),z2.apply(this,arguments)}function e8(n,t,e){const i=At(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,a)=>{const u=a.view.Mu(t);u.snapshot&&r.push(u.snapshot)}),function(s,a){const u=At(s);u.onlineState=a;let f=!1;u.queries.forEach((b,x)=>{for(const D of x.listeners)D.Mu(a)&&(f=!0)}),f&&L2(u)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Nse(n,t,e){return G2.apply(this,arguments)}function G2(){return G2=(0,be.Z)(function*(n,t,e){const i=At(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let a=new hr(Et.comparator);a=a.insert(s,Er.newNoDocument(s,nn.min()));const u=jn().add(s),f=new LD(nn.min(),new Map,new hr(Mn),a,u);yield Xz(i,f),i.gc=i.gc.remove(s),i.yc.delete(t),J2(i)}else yield EE(i.localStore,t,!1).then(()=>ME(i,t,e)).catch(qy)}),G2.apply(this,arguments)}function Pse(n,t){return $2.apply(this,arguments)}function $2(){return $2=(0,be.Z)(function*(n,t){const e=At(n),i=t.batch.batchId;try{const r=yield Jre(e.localStore,t);K2(e,i,null),Y2(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield $g(e,r)}catch(r){yield qy(r)}}),$2.apply(this,arguments)}function Fse(n,t,e){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,be.Z)(function*(n,t,e){const i=At(n);try{const r=yield function(s,a){const u=At(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let b;return u.mutationQueue.lookupMutationBatch(f,a).next(x=>(Kt(null!==x),b=x.keys(),u.mutationQueue.removeMutationBatch(f,x))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,b,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,b)).next(()=>u.localDocuments.getDocuments(f,b))})}(i.localStore,t);K2(i,t,e),Y2(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield $g(i,r)}catch(r){yield qy(r)}}),Z2.apply(this,arguments)}function W2(){return W2=(0,be.Z)(function*(n,t){const e=At(n);nv(e.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=At(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=SE(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),W2.apply(this,arguments)}function Y2(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function K2(n,t,e){const i=At(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function ME(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||t8(n,i)})}function t8(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(JD(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),J2(n))}function Q2(n,t,e){for(const i of e)i instanceof Kz?(n.Ic.addReference(i.key,t),Bse(n,i)):i instanceof Qz?(lt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||t8(n,i.key)):Nt()}function Bse(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(lt("SyncEngine","New document in limbo: "+e),n.mc.add(i),J2(n))}function J2(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new Et(fi.fromString(t)),i=n.Ac.next();n.yc.set(i,new Ise(e)),n.gc=n.gc.insert(e,i),xk(n.remoteStore,new Gg(Vl(fE(e.path)),i,"TargetPurposeLimboResolution",ku.ct))}}function $g(n,t,e){return X2.apply(this,arguments)}function X2(){return X2=(0,be.Z)(function*(n,t,e){const i=At(n),r=[],s=[],a=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,f)=>{a.push(i.Rc(f,t,e).then(b=>{if((b||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,(null==b?void 0:b.fromCache)?"not-current":"current"),b){r.push(b);const x=n2.Li(f.targetId,b);s.push(x)}}))}),yield Promise.all(a),i.dc.nu(r),yield(u=(0,be.Z)(function*(f,b){const x=At(f);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>Be.forEach(b,R=>Be.forEach(R.Fi,B=>x.persistence.referenceDelegate.addReference(D,R.targetId,B)).next(()=>Be.forEach(R.Bi,B=>x.persistence.referenceDelegate.removeReference(D,R.targetId,B)))))}catch(D){if(!zy(D))throw D;lt("LocalStore","Failed to update sequence numbers: "+D)}for(const D of b){const R=D.targetId;if(!D.fromCache){const B=x.Ji.get(R),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);x.Ji=x.Ji.insert(R,ee)}}}),function(f,b){return u.apply(this,arguments)})(i.localStore,s))}),X2.apply(this,arguments)}function Vse(n,t){return eB.apply(this,arguments)}function eB(){return eB=(0,be.Z)(function*(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){lt("SyncEngine","User change. New user:",t.toKey());const i=yield Iz(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(a=>{a.forEach(u=>{u.reject(new tt(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield $g(e,i.er)}var r}),eB.apply(this,arguments)}function Use(n,t){const e=At(n),i=e.yc.get(t);if(i&&i.fc)return jn().add(i.key);{let r=jn();const s=e._c.get(t);if(!s)return r;for(const a of s){const u=e.wc.get(a);r=r.unionWith(u.view.nc)}return r}}function jse(n,t){return tB.apply(this,arguments)}function tB(){return tB=(0,be.Z)(function*(n,t){const e=At(n),i=yield vk(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&Q2(e,t.targetId,r.cc),r}),tB.apply(this,arguments)}function Hse(n,t){return nB.apply(this,arguments)}function nB(){return nB=(0,be.Z)(function*(n,t){const e=At(n);return Rz(e.localStore,t).then(i=>$g(e,i))}),nB.apply(this,arguments)}function qse(n,t,e,i){return iB.apply(this,arguments)}function iB(){return iB=(0,be.Z)(function*(n,t,e,i){const r=At(n),s=yield function(a,u){const f=At(a),b=At(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",x=>b.Sn(x,u).next(D=>D?f.localDocuments.getDocuments(x,D):Be.resolve(null)))}(r.localStore,t);var u;null!==s?("pending"===e?yield AE(r.remoteStore):"acknowledged"===e||"rejected"===e?(K2(r,t,i||null),Y2(r,t),u=t,At(At(r.localStore).mutationQueue).Cn(u)):Nt(),yield $g(r,s)):lt("SyncEngine","Cannot apply mutation batch with id: "+t)}),iB.apply(this,arguments)}function rB(){return rB=(0,be.Z)(function*(n,t){const e=At(n);if(lB(e),cB(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield n8(e,i.toArray());e.vc=!0,yield M2(e.remoteStore,!0);for(const s of r)xk(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(ME(e,a),EE(e.localStore,a,!0))),JD(e.remoteStore,a)}),yield r,yield n8(e,i),function(s){const a=At(s);a.yc.forEach((u,f)=>{JD(a.remoteStore,f)}),a.Ic.Ts(),a.yc=new Map,a.gc=new hr(Et.comparator)}(e),e.vc=!1,yield M2(e.remoteStore,!1)}}),rB.apply(this,arguments)}function n8(n,t,e){return sB.apply(this,arguments)}function sB(){return sB=(0,be.Z)(function*(n,t,e){const i=At(n),r=[],s=[];for(const a of t){let u;const f=i._c.get(a);if(f&&0!==f.length){u=yield CE(i.localStore,Vl(f[0]));for(const b of f){const x=i.wc.get(b),D=yield jse(i,x);D.snapshot&&s.push(D.snapshot)}}else{const b=yield Oz(i.localStore,a);u=yield CE(i.localStore,b),yield U2(i,i8(b),a,!1,u.resumeToken)}r.push(u)}return i.dc.nu(s),r}),sB.apply(this,arguments)}function i8(n){return u5(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Gse(n){const t=At(n);return At(At(t.localStore).persistence).$i()}function $se(n,t,e,i){return oB.apply(this,arguments)}function oB(){return oB=(0,be.Z)(function*(n,t,e,i){const r=At(n);if(r.vc)return void lt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield Rz(r.localStore,f5(s[0])),u=LD.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,xo.EMPTY_BYTE_STRING);yield $g(r,a,u);break}case"rejected":yield EE(r.localStore,t,!0),ME(r,t,i);break;default:Nt()}}),oB.apply(this,arguments)}function Zse(n,t,e){return aB.apply(this,arguments)}function aB(){return aB=(0,be.Z)(function*(n,t,e){const i=lB(n);if(i.vc){for(const r of t){if(i._c.has(r)){lt("SyncEngine","Adding an already active target "+r);continue}const s=yield Oz(i.localStore,r),a=yield CE(i.localStore,s);yield U2(i,i8(s),a.targetId,!1,a.resumeToken),xk(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield EE(i.localStore,r,!1).then(()=>{JD(i.remoteStore,r),ME(i,r)}).catch(qy))}}),aB.apply(this,arguments)}function lB(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Use.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nse.bind(null,t),t.dc.nu=xse.bind(null,t.eventManager),t.dc.Pc=Ase.bind(null,t.eventManager),t}function cB(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pse.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fse.bind(null,t),t}class XD{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,be.Z)(function*(){e.serializer=KD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Tz(this.persistence,new Sz,t.initialUser,this.serializer)}createPersistence(t){return new JL(gk.zs,this.serializer)}createSharedClientState(t){return new Lz}terminate(){var t=this;return(0,be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class uB extends XD{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield cB(i.Vc.syncEngine),yield AE(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Tz(this.persistence,new Sz,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new yz(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new bie(e,this.persistence);return new vie(t.asyncQueue,i)}createPersistence(t){const e=t2(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?tl.withCacheSize(this.cacheSizeBytes):tl.DEFAULT;return new e2(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Vz(),Ek(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Lz}}class r8 extends uB{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof d2&&(i.sharedClientState.syncEngine={jr:qse.bind(null,r),zr:$se.bind(null,r),Wr:Zse.bind(null,r),$i:Gse.bind(null,r),Qr:Hse.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,be.Z)(function*(a){yield function(n,t){return rB.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=Vz();if(!d2.D(e))throw new tt(Ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=t2(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new d2(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class kE{initialize(t,e){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>e8(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Vse.bind(null,i.syncEngine),yield M2(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Ese}createDatastore(t){const e=KD(t.databaseInfo.databaseId),i=new ose(t.databaseInfo);return new cse(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=u=>e8(this.syncEngine,u,0),a=Bz.D()?new Bz:new ise,new hse(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,u,f,b){const x=new Mse(i,r,s,a,u,f);return b&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,be.Z)(function*(e){const i=At(e);lt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield xE(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function s8(n,t=10240){let e=0;return{read:()=>(0,be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Dk{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):zs("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Kse{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Eo,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,be.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,be.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,be.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new Dse(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,be.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,be.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,be.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Qse{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new tt(Ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(s,a){const u=At(s),f=UD(u.serializer)+"/documents",b={documents:a.map(B=>VD(u.serializer,B))},x=yield u.vo("BatchGetDocuments",f,b,a.length),D=new Map;x.forEach(B=>{const z=function(n,t){return"found"in t?function(e,i){Kt(!!i.found);const r=Wp(e,i.found.name),s=Gs(i.found.updateTime),a=i.found.createTime?Gs(i.found.createTime):nn.min(),u=new Ca({mapValue:{fields:i.found.fields}});return Er.newFoundDocument(r,s,a,u)}(n,t):"missing"in t?function(e,i){Kt(!!i.missing),Kt(!!i.readTime);const r=Wp(e,i.missing),s=Gs(i.readTime);return Er.newNoDocument(r,s)}(n,t):Nt()}(u.serializer,B);D.set(z.key.toString(),z)});const R=[];return a.forEach(B=>{const z=D.get(B.toString());Kt(!!z),R.push(z)}),R}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new _E(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Et.fromPath(r);t.mutations.push(new RL(s,t.precondition(s)))}),yield(i=(0,be.Z)(function*(r,s){const a=At(r),u=UD(a.serializer)+"/documents",f={writes:s.map(b=>jD(a.serializer,b))};yield a.Io("Commit",u,f)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Nt();e=nn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new tt(Ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(nn.min())?Zr.exists(!1):Zr.updateTime(e):Zr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(nn.min()))throw new tt(Ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zr.updateTime(e)}return Zr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Jse{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new f2(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,be.Z)(function*(){const e=new Qse(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!ED(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!k5(e)}return!1}}class Xse{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Ko.UNAUTHENTICATED,this.clientId=Sq.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,be.Z)(function*(u){lt("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(lt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=SE(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Sk(n,t){return dB.apply(this,arguments)}function dB(){return dB=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(s){i.isEqual(s)||(yield Iz(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),dB.apply(this,arguments)}function hB(n,t){return fB.apply(this,arguments)}function fB(){return fB=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield pB(n);lt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>$z(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>$z(t.remoteStore,s)),n._onlineComponents=t}),fB.apply(this,arguments)}function o8(n){return"FirebaseError"===n.name?n.code===Ue.FAILED_PRECONDITION||n.code===Ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function pB(n){return mB.apply(this,arguments)}function mB(){return mB=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sk(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!o8(e))throw e;xd("Error using user provided cache. Falling back to memory cache: "+e),yield Sk(n,new XD)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),yield Sk(n,new XD);return n._offlineComponents}),mB.apply(this,arguments)}function Tk(n){return gB.apply(this,arguments)}function gB(){return gB=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),yield hB(n,n._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),yield hB(n,new kE))),n._onlineComponents}),gB.apply(this,arguments)}function a8(n){return pB(n).then(t=>t.persistence)}function Ik(n){return pB(n).then(t=>t.localStore)}function l8(n){return Tk(n).then(t=>t.remoteStore)}function _B(n){return Tk(n).then(t=>t.syncEngine)}function OE(n){return yB.apply(this,arguments)}function yB(){return yB=(0,be.Z)(function*(n){const t=yield Tk(n),e=t.eventManager;return e.onListen=kse.bind(null,t.syncEngine),e.onUnlisten=Ose.bind(null,t.syncEngine),e}),yB.apply(this,arguments)}function u8(n,t,e={}){const i=new Eo;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,s,a,u,f){const b=new Dk({next:D=>{s.enqueueAndForget(()=>P2(r,x));const R=D.docs.has(a);!R&&D.fromCache?f.reject(new tt(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&D.fromCache&&u&&"server"===u.source?f.reject(new tt(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(D)},error:D=>f.reject(D)}),x=new B2(fE(a.path),b,{includeMetadataChanges:!0,Ku:!0});return R2(r,x)}(yield OE(n),n.asyncQueue,t,e,i)})),i.promise}function d8(n,t,e={}){const i=new Eo;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,s,a,u,f){const b=new Dk({next:D=>{s.enqueueAndForget(()=>P2(r,x)),D.fromCache&&"server"===u.source?f.reject(new tt(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(D)},error:D=>f.reject(D)}),x=new B2(a,b,{includeMetadataChanges:!0,Ku:!0});return R2(r,x)}(yield OE(n),n.asyncQueue,t,e,i)})),i.promise}function h8(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const f8=new Map;function vB(n,t,e){if(!e)throw new tt(Ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function p8(n,t,e,i){if(!0===t&&!0===i)throw new tt(Ue.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function m8(n){if(!Et.isDocumentKey(n))throw new tt(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function g8(n){if(Et.isDocumentKey(n))throw new tt(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mk(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Nt()}function ai(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new tt(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Mk(n);throw new tt(Ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function _8(n,t){if(t<=0)throw new tt(Ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class y8{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new tt(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tt(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=h8(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new tt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new tt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new tt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class eS{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new tt(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y8(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new aie;switch(e.type){case"firstParty":return new die(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tt(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=f8.get(t);e&&(lt("ComponentProvider","Removing Datastore"),f8.delete(t),e.terminate())}(this),Promise.resolve()}}class xr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xr(this.firestore,t,this._key)}}class Ea{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ea(this.firestore,t,this._query)}}class Yp extends Ea{constructor(t,e,i){super(t,e,fE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xr(this.firestore,null,new Et(t))}withConverter(t){return new Yp(this.firestore,t,this._path)}}function b8(n,t,...e){if(n=Zo(n),vB("collection","path",t),n instanceof eS){const i=fi.fromString(t,...e);return g8(i),new Yp(n,null,i)}{if(!(n instanceof xr||n instanceof Yp))throw new tt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fi.fromString(t,...e));return g8(i),new Yp(n.firestore,null,i)}}function kk(n,t,...e){if(n=Zo(n),1===arguments.length&&(t=Sq.A()),vB("doc","path",t),n instanceof eS){const i=fi.fromString(t,...e);return m8(i),new xr(n,null,new Et(i))}{if(!(n instanceof xr||n instanceof Yp))throw new tt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fi.fromString(t,...e));return m8(i),new xr(n.firestore,n instanceof Yp?n.converter:null,new Et(i))}}function w8(n,t){return n=Zo(n),t=Zo(t),(n instanceof xr||n instanceof Yp)&&(t instanceof xr||t instanceof Yp)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function bB(n,t){return n=Zo(n),t=Zo(t),n instanceof Ea&&t instanceof Ea&&n.firestore===t.firestore&&MD(n._query,t._query)&&n.converter===t.converter}class coe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new f2(this,"async_queue_retry"),this.Xc=()=>{const e=Ek();e&&lt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=Ek();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=Ek();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Eo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,be.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!zy(e))throw e;lt("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,zs("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=O2.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Nt()}verifyOperationInProgress(){}sa(){var t=this;return(0,be.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function wB(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class uoe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Eo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ar extends eS{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new coe,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||C8(this),this._firestoreClient.terminate()}}function $s(n){return n._firestoreClient||C8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function C8(n){var t,e,i;const r=n._freezeSettings(),s=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new jie(n._databaseId,u,n._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,h8(b.experimentalLongPollingOptions),b.useFetchStreams));var u,b;n._firestoreClient=new Xse(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(e=r.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function E8(n,t,e){const i=new Eo;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield Sk(n,e),yield hB(n,t),i.resolve()}catch(r){const s=r;if(!o8(s))throw s;xd("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function x8(n){if(n._initialized||n._terminated)throw new tt(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kp(xo.fromBase64String(t))}catch(e){throw new tt(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kp(xo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Zg{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new tt(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ts(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class S0{constructor(t){this._methodName=t}}class Ok{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new tt(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new tt(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mn(this._lat,t._lat)||Mn(this._long,t._long)}}const woe=/^__.*__$/;class Coe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new zg(t,this.data,this.fieldMask,e,this.fieldTransforms):new gE(t,this.data,e,this.fieldTransforms)}}class A8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new zg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function D8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class Rk{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new Rk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Fk(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(D8(this.ca)&&woe.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Eoe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||KD(t)}ya(t,e,i,r=!1){return new Rk({ca:t,methodName:e,ga:i,path:Ts.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T0(n){const t=n._freezeSettings(),e=KD(n._databaseId);return new Eoe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Nk(n,t,e,i,r,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,t,e,r);AB("Data must be an object, but it was:",a,i);const u=I8(i,a);let f,b;if(s.merge)f=new xc(a.fieldMask),b=a.fieldTransforms;else if(s.mergeFields){const x=[];for(const D of s.mergeFields){const R=iS(t,D,e);if(!a.contains(R))throw new tt(Ue.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);k8(x,R)||x.push(R)}f=new xc(x),b=a.fieldTransforms.filter(D=>f.covers(D.field))}else f=null,b=a.fieldTransforms;return new Coe(new Ca(u),f,b)}class nS extends S0{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nS}}function S8(n,t,e){return new Rk({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class CB extends S0{_toFieldTransform(t){return new ND(t.path,new pE)}isEqual(t){return t instanceof CB}}class xoe extends S0{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=S8(this,t,!0),i=this.pa.map(s=>I0(s,e)),r=new y0(i);return new ND(t.path,r)}isEqual(t){return this===t}}class Aoe extends S0{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=S8(this,t,!0),i=this.pa.map(s=>I0(s,e)),r=new v0(i);return new ND(t.path,r)}isEqual(t){return this===t}}class Doe extends S0{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new mE(t.serializer,b5(t.serializer,this.Ia));return new ND(t.path,e)}isEqual(t){return this===t}}function EB(n,t,e,i){const r=n.ya(1,t,e);AB("Data must be an object, but it was:",r,i);const s=[],a=Ca.empty();Gy(i,(f,b)=>{const x=Pk(t,f,e);b=Zo(b);const D=r.da(x);if(b instanceof nS)s.push(x);else{const R=I0(b,D);null!=R&&(s.push(x),a.set(x,R))}});const u=new xc(s);return new A8(a,u,r.fieldTransforms)}function xB(n,t,e,i,r,s){const a=n.ya(1,t,e),u=[iS(t,i,e)],f=[r];if(s.length%2!=0)throw new tt(Ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<s.length;R+=2)u.push(iS(t,s[R])),f.push(s[R+1]);const b=[],x=Ca.empty();for(let R=u.length-1;R>=0;--R)if(!k8(b,u[R])){const B=u[R];let z=f[R];z=Zo(z);const ee=a.da(B);if(z instanceof nS)b.push(B);else{const ae=I0(z,ee);null!=ae&&(b.push(B),x.set(B,ae))}}const D=new xc(b);return new A8(x,D,a.fieldTransforms)}function T8(n,t,e,i=!1){return I0(e,n.ya(i?4:3,t))}function I0(n,t){if(M8(n=Zo(n)))return AB("Unsupported field value:",t,n),I8(n,t);if(n instanceof S0)return function(e,i){if(!D8(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let u=I0(a,i.wa(s));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=Zo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return b5(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=$r.fromDate(e);return{timestampValue:yE(i.serializer,r)}}if(e instanceof $r){const r=new $r(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yE(i.serializer,r)}}if(e instanceof Ok)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kp)return{bytesValue:j5(i.serializer,e._byteString)};if(e instanceof xr){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:UL(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${Mk(e)}`)}(n,t)}function I8(n,t){const e={};return Hq(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gy(n,(i,r)=>{const s=I0(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function M8(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $r||n instanceof Ok||n instanceof Kp||n instanceof xr||n instanceof S0)}function AB(n,t,e){if(!M8(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Mk(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function iS(n,t,e){if((t=Zo(t))instanceof Zg)return t._internalPath;if("string"==typeof t)return Pk(n,t);throw Fk("Field path arguments must be of type string or ",n,!1,void 0,e)}const Soe=new RegExp("[~\\*/\\[\\]]");function Pk(n,t,e){if(t.search(Soe)>=0)throw Fk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Zg(...t.split("."))._internalPath}catch(i){throw Fk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Fk(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||a)&&(f+=" (found",s&&(f+=` in field ${i}`),a&&(f+=` in document ${r}`),f+=")"),new tt(Ue.INVALID_ARGUMENT,u+n+f)}function k8(n,t){return n.some(e=>e.isEqual(t))}class rS{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Toe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Lk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Toe extends rS{data(){return super.data()}}function Lk(n,t){return"string"==typeof t?Pk(n,t):t instanceof Zg?t._internalPath:t._delegate._internalPath}function O8(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tt(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DB{}class sS extends DB{}function rv(n,t,...e){let i=[];t instanceof DB&&i.push(t),i=i.concat(e),function(r){const s=r.filter(u=>u instanceof RE).length,a=r.filter(u=>u instanceof oS).length;if(s>1||s>0&&a>0)throw new tt(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class oS extends sS{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new oS(t,e,i)}_apply(t){const e=this._parse(t);return F8(t._query,e),new Ea(t.firestore,t.converter,ML(t._query,e))}_parse(t){const e=T0(t.firestore);return function(r,s,a,u,f,b,x){let D;if(f.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new tt(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){P8(x,b);const R=[];for(const B of x)R.push(N8(u,r,B));D={arrayValue:{values:R}}}else D=N8(u,r,x)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||P8(x,b),D=T8(a,"where",x,"in"===b||"not-in"===b);return oi.create(f,b,D)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class RE extends DB{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new RE(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:ji.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const u of a)F8(s,u),s=ML(s,u)}(t._query,e),new Ea(t.firestore,t.converter,ML(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class SB extends sS{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new SB(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new dE(r,s);return function(u,f){if(null===TL(u)){const b=tk(u);null!==b&&L8(0,b,f.field)}}(i,a),a}(t._query,this._field,this._direction);return new Ea(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Hg(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class Bk extends sS{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Bk(t,e,i)}_apply(t){return new Ea(t.firestore,t.converter,nk(t._query,this._limit,this._limitType))}}class Vk extends sS{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Vk(t,e,i)}_apply(t){const e=R8(t,this.type,this._docOrFields,this._inclusive);return new Ea(t.firestore,t.converter,(r=e,new Hg((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Uk extends sS{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Uk(t,e,i)}_apply(t){const e=R8(t,this.type,this._docOrFields,this._inclusive);return new Ea(t.firestore,t.converter,(r=e,new Hg((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function R8(n,t,e,i){if(e[0]=Zo(e[0]),e[0]instanceof rS)return function(r,s,a,u,f){if(!u)throw new tt(Ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const b=[];for(const x of _0(r))if(x.field.isKeyField())b.push(m0(s,u.key));else{const D=u.data.field(x.field);if(WM(D))throw new tt(Ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const R=x.field.canonicalString();throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}b.push(D)}return new Qy(b,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=T0(n.firestore);return function(s,a,u,f,b,x){const D=s.explicitOrderBy;if(b.length>D.length)throw new tt(Ue.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let B=0;B<b.length;B++){const z=b[B];if(D[B].field.isKeyField()){if("string"!=typeof z)throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof z}`);if(!IL(s)&&-1!==z.indexOf("/"))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${z}' contains a slash.`);const ee=s.path.child(fi.fromString(z));if(!Et.isDocumentKey(ee))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const ae=new Et(ee);R.push(m0(a,ae))}else{const ee=T8(u,f,z);R.push(ee)}}return new Qy(R,x)}(n._query,n.firestore._databaseId,r,t,e,i)}}function N8(n,t,e){if("string"==typeof(e=Zo(e))){if(""===e)throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IL(t)&&-1!==e.indexOf("/"))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fi.fromString(e));if(!Et.isDocumentKey(i))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return m0(n,new Et(i))}if(e instanceof xr)return m0(n,e._key);throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mk(e)}.`)}function P8(n,t){if(!Array.isArray(n)||0===n.length)throw new tt(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function F8(n,t){if(t.isInequality()){const i=tk(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=TL(n);null!==s&&L8(0,r,s)}const e=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new tt(Ue.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function L8(n,t,e){if(!e.isEqual(t))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class TB{convertValue(t,e="none"){switch(Yy(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Is(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(jg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Nt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Gy(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new Ok(Is(t.latitude),Is(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=YM(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(AD(t));default:return null}}convertTimestamp(t){const e=$y(t);return new $r(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fi.fromString(t);Kt(Q5(i));const r=new Zy(i.get(1),i.get(3)),s=new Et(i.popFirst(5));return r.isEqual(e)||zs(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function jk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Loe extends TB{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new xr(this.firestore,null,e)}}class M0{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wg extends rS{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new aS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Lk("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class aS extends Wg{data(t={}){return super.data(t)}}class sv{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new M0(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new aS(this._firestore,this._userDataWriter,i.key,i,new M0(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tt(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new aS(i._firestore,i._userDataWriter,a.doc.key,a.doc,new M0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new aS(i._firestore,i._userDataWriter,a.doc.key,a.doc,new M0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,b=-1;return 0!==a.type&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),b=s.indexOf(a.doc.key)),{type:Voe(a.type),doc:u,oldIndex:f,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Voe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function V8(n,t){return n instanceof Wg&&t instanceof Wg?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof sv&&t instanceof sv&&n._firestore===t._firestore&&bB(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class ov extends TB{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new xr(this.firestore,null,e)}}function U8(n,t,e){n=ai(n,xr);const i=ai(n.firestore,Ar),r=jk(n.converter,t,e);return NE(i,[Nk(T0(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Zr.none())])}function j8(n,t,e,...i){n=ai(n,xr);const r=ai(n.firestore,Ar),s=T0(r);let a;return a="string"==typeof(t=Zo(t))||t instanceof Zg?xB(s,"updateDoc",n._key,t,e,i):EB(s,"updateDoc",n._key,t),NE(r,[a.toMutation(n._key,Zr.exists(!0))])}function H8(n,...t){var e,i,r;n=Zo(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||wB(t[a])||(s=t[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges};if(wB(t[a])){const D=t[a];t[a]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[a+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[a+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let f,b,x;if(n instanceof xr)b=ai(n.firestore,Ar),x=fE(n._key.path),f={next:D=>{t[a]&&t[a](IB(b,n,D))},error:t[a+1],complete:t[a+2]};else{const D=ai(n,Ea);b=ai(D.firestore,Ar),x=D._query;const R=new ov(b);f={next:B=>{t[a]&&t[a](new sv(b,R,D,B))},error:t[a+1],complete:t[a+2]},O8(n._query)}return function(D,R,B,z){const ee=new Dk(z),ae=new B2(R,ee,B);return D.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return R2(yield OE(D),ae)})),()=>{ee.Dc(),D.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return P2(yield OE(D),ae)}))}}($s(b),x,u,f)}function NE(n,t){return function(e,i){const r=new Eo;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(n,t,e){return q2.apply(this,arguments)}(yield _B(e),i,r)})),r.promise}($s(n),t)}function IB(n,t,e){const i=e.docs.get(t._key),r=new ov(n);return new Wg(n,r,t._key,i,new M0(e.hasPendingWrites,e.fromCache),t.converter)}const iae={maxAttempts:5};class q8{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=T0(t)}set(t,e,i){this._verifyNotCommitted();const r=av(t,this._firestore),s=jk(r.converter,e,i),a=Nk(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,Zr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=av(t,this._firestore);let a;return a="string"==typeof(e=Zo(e))||e instanceof Zg?xB(this._dataReader,"WriteBatch.update",s._key,e,i,r):EB(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,Zr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=av(t,this._firestore);return this._mutations=this._mutations.concat(new _E(e._key,Zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function av(n,t){if((n=Zo(n)).firestore!==t)throw new tt(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class rae extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=T0(t)}get(t){const e=av(t,this._firestore),i=new Loe(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Nt();const s=r[0];if(s.isFoundDocument())return new rS(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new rS(this._firestore,i,e._key,null,e.converter);throw Nt()})}set(t,e,i){const r=av(t,this._firestore),s=jk(r.converter,e,i),a=Nk(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=av(t,this._firestore);let a;return a="string"==typeof(e=Zo(e))||e instanceof Zg?xB(this._dataReader,"Transaction.update",s._key,e,i,r):EB(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=av(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=av(t,this._firestore),i=new ov(this._firestore);return super.get(t).then(r=>new Wg(this._firestore,i,e._key,r._document,new M0(!1,!1),e.converter))}}!function(n,t=!0){aE=Yt.SDK_VERSION,(0,Yt._registerComponent)(new zte("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),a=new Ar(new cie(e.getProvider("auth-internal")),new hie(e.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new tt(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zy(u.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,Yt.registerVersion)(xq,"3.13.0",n),(0,Yt.registerVersion)(xq,"3.13.0","esm2017")}();Error;function Q8(n){return n&&n._delegate?n._delegate:n}Error;class Fae{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}function PB(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function J8(){if("undefined"==typeof Uint8Array)throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function X8(){if("undefined"==typeof atob)throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class lS{constructor(t){this._delegate=t}static fromBase64String(t){return X8(),new lS(Kp.fromBase64String(t))}static fromUint8Array(t){return J8(),new lS(Kp.fromUint8Array(t))}toBase64(){return X8(),this._delegate.toBase64()}toUint8Array(){return J8(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function FB(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class qae{enableIndexedDbPersistence(t,e){return function(n,t){x8(n=ai(n,Ar));const e=$s(n);if(e._uninitializedComponentsProvider)throw new tt(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");xd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new kE;return E8(e,r,new uB(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){x8(n=ai(n,Ar));const t=$s(n);if(t._uninitializedComponentsProvider)throw new tt(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");xd("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new kE;return E8(t,i,new r8(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new tt(Ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Eo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(e=(0,be.Z)(function*(i){if(!qh.D())return Promise.resolve();const r=i+"main";yield qh.delete(r)}),function(i){return e.apply(this,arguments)})(t2(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class eG{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Zy||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&xd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var r;const s=(n=ai(n,eS))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&xd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Ko.MOCK_USER;else{u=function(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[iH(JSON.stringify({alg:"none",type:"JWT"})),iH(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new tt(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ko(b)}n._authCredentials=new lie(new Aq(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield a8(n),e=yield l8(n);return t.setNetworkEnabled(!0),function(i){const r=At(i);return r.vu.delete(0),QD(r)}(e)}))}($s(n=ai(n,Ar)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield a8(n),e=yield l8(n);return t.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const s=At(r);s.vu.add(0),yield xE(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}($s(n=ai(n,Ar)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,p8("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Eo;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(n,t){return W2.apply(this,arguments)}(yield _B(t),e)})),e.promise}($s(n=ai(n,Ar)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new Dk(t);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield OE(n),r=e,At(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield OE(n),r=e,void At(i).ku.delete(r);var i,r}))}}($s(n=ai(n,Ar)),wB(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new PE(this,b8(this._delegate,t))}catch(e){throw Ul(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ad(this,kk(this._delegate,t))}catch(e){throw Ul(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new jl(this,function(n,t){if(n=ai(n,eS),vB("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tt(Ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ea(n,null,(e=t,new Hg(fi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ul(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t,e){n=ai(n,Ar);const i=Object.assign(Object.assign({},iae),void 0);return function(r){if(r.maxAttempts<1)throw new tt(Ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const u=new Eo;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const f=yield function(n){return Tk(n).then(t=>t.datastore)}(r);new Jse(r.asyncQueue,f,a,s,u).run()})),u.promise}($s(n),r=>t(new rae(n,r)),i)}(this._delegate,e=>t(new tG(this,e)))}batch(){return $s(this._delegate),new nG(new q8(this._delegate,t=>NE(this._delegate,t)))}loadBundle(t){return function(n,t){const e=$s(n=ai(n,Ar)),i=new uoe;return function(n,t,e,i){const r=function(s,a){let u;return u="string"==typeof s?R5().encode(s):s,f=function(f,b){if(f instanceof Uint8Array)return s8(f,b);if(f instanceof ArrayBuffer)return s8(new Uint8Array(f),b);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new Kse(f,a);var f}(e,KD(t));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(n,t,e){const i=At(n);var r;(r=(0,be.Z)(function*(s,a,u){try{const f=yield a.getMetadata();if(yield function(R,B){const z=At(R),ee=Gs(B.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",ae=>z.qs.getBundleMetadata(ae,B.id)).then(ae=>!!ae&&ae.createTime.compareTo(ee)>=0)}(s.localStore,f))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(R=f).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);u._updateProgress(Yz(f));const b=new Sse(f,s.localStore,a.serializer);let x=yield a.bc();for(;x;){const R=yield b.zu(x);R&&u._updateProgress(R),x=yield a.bc()}const D=yield b.complete();return yield $g(s,D.Ju,void 0),yield function(R,B){const z=At(R);return z.persistence.runTransaction("Save bundle","readwrite",ee=>z.qs.saveBundleMetadata(ee,B))}(s.localStore,f),u._completeWith(D.progress),Promise.resolve(D.Hu)}catch(f){return xd("SyncEngine",`Loading bundle failed with ${f}`),u._failWith(f),Promise.resolve(new Set)}var R}),function(s,a,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield _B(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(e,i){const r=At(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield Ik(n),t)}))}($s(n=ai(n,Ar)),t).then(e=>e?new Ea(n,null,e.query):null)}(this._delegate,t).then(e=>e?new jl(this,e):null)}}class Gk extends TB{constructor(t){super(),this.firestore=t}convertBytes(t){return new lS(new Kp(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ad.forKey(e,this.firestore,null)}}class tG{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Gk(t)}get(t){const e=R0(t);return this._delegate.get(e).then(i=>new cS(this._firestore,new Wg(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=R0(t);return i?(PB("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=R0(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=R0(t);return this._delegate.delete(e),this}}class nG{constructor(t){this._delegate=t}set(t,e,i){const r=R0(t);return i?(PB("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=R0(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=R0(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class O0{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new aS(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new uS(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=O0.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new O0(t,new Gk(t),e),r.set(e,s)),s}}O0.INSTANCES=new WeakMap;class Ad{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Gk(t)}static forPath(t,e,i){if(t.length%2!=0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ad(e,new xr(e._delegate,i,new Et(t)))}static forKey(t,e,i){return new Ad(e,new xr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new PE(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new PE(this.firestore,b8(this._delegate,t))}catch(e){throw Ul(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=Q8(t))instanceof xr&&w8(this._delegate,t)}set(t,e){e=PB("DocumentReference.set",e);try{return e?U8(this._delegate,t,e):U8(this._delegate,t)}catch(i){throw Ul(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?j8(this._delegate,t):j8(this._delegate,t,e,...i)}catch(r){throw Ul(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return NE(ai(n.firestore,Ar),[new _E(n._key,Zr.none())])}(this._delegate)}onSnapshot(...t){const e=iG(t),i=rG(t,r=>new cS(this.firestore,new Wg(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return H8(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=ai(n,xr);const t=ai(n.firestore,Ar),e=$s(t),i=new ov(t);return function(n,t){const e=new Eo;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,s,a){try{const u=yield function(f,b){const x=At(f);return x.persistence.runTransaction("read document","readonly",D=>x.localDocuments.getDocument(D,b))}(r,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new tt(Ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=SE(u,`Failed to get document '${s} from cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield Ik(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Wg(t,i,n._key,r,new M0(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=ai(n,xr);const t=ai(n.firestore,Ar);return u8($s(t),n._key,{source:"server"}).then(e=>IB(t,n,e))}(this._delegate):function(n){n=ai(n,xr);const t=ai(n.firestore,Ar);return u8($s(t),n._key).then(e=>IB(t,n,e))}(this._delegate),e.then(i=>new cS(this.firestore,new Wg(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ad(this.firestore,this._delegate.withConverter(t?O0.getInstance(this.firestore,t):null))}}function Ul(n,t,e){return n.message=n.message.replace(t,e),n}function iG(n){for(const t of n)if("object"==typeof t&&!FB(t))return t;return{}}function rG(n,t){var e,i;let r;return r=FB(n[0])?n[0]:FB(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class cS{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ad(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return V8(this._delegate,t._delegate)}}class uS extends cS{data(t){const e=this._delegate.data(t);return function(n,t){n||Nt()}(void 0!==e),e}}class jl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Gk(t)}where(t,e,i){try{return new jl(this.firestore,rv(this._delegate,function(n,t,e){const i=t,r=Lk("where",n);return oS._create(r,i,e)}(t,e,i)))}catch(r){throw Ul(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new jl(this.firestore,rv(this._delegate,function(n,t="asc"){const e=t,i=Lk("orderBy",n);return SB._create(i,e)}(t,e)))}catch(i){throw Ul(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new jl(this.firestore,rv(this._delegate,function(n){return _8("limit",n),Bk._create("limit",n,"F")}(t)))}catch(e){throw Ul(e,"limit()","Query.limit()")}}limitToLast(t){try{return new jl(this.firestore,rv(this._delegate,function(n){return _8("limitToLast",n),Bk._create("limitToLast",n,"L")}(t)))}catch(e){throw Ul(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new jl(this.firestore,rv(this._delegate,function(...n){return Vk._create("startAt",n,!0)}(...t)))}catch(e){throw Ul(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new jl(this.firestore,rv(this._delegate,function(...n){return Vk._create("startAfter",n,!1)}(...t)))}catch(e){throw Ul(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new jl(this.firestore,rv(this._delegate,function(...n){return Uk._create("endBefore",n,!1)}(...t)))}catch(e){throw Ul(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new jl(this.firestore,rv(this._delegate,function(...n){return Uk._create("endAt",n,!0)}(...t)))}catch(e){throw Ul(e,"endAt()","Query.endAt()")}}isEqual(t){return bB(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=ai(n,Ea);const t=ai(n.firestore,Ar),e=$s(t),i=new ov(t);return function(n,t){const e=new Eo;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,s,a){try{const u=yield vk(r,s,!0),f=new Jz(s,u.ir),b=f.sc(u.documents),x=f.applyChanges(b,!1);a.resolve(x.snapshot)}catch(u){const f=SE(u,`Failed to execute query '${s} against cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield Ik(n),t,e);var i})),e.promise}(e,n._query).then(r=>new sv(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=ai(n,Ea);const t=ai(n.firestore,Ar),e=$s(t),i=new ov(t);return d8(e,n._query,{source:"server"}).then(r=>new sv(t,i,n,r))}(this._delegate):function(n){n=ai(n,Ea);const t=ai(n.firestore,Ar),e=$s(t),i=new ov(t);return O8(n._query),d8(e,n._query).then(r=>new sv(t,i,n,r))}(this._delegate),e.then(i=>new LB(this.firestore,new sv(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=iG(t),i=rG(t,r=>new LB(this.firestore,new sv(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return H8(this._delegate,e,i)}withConverter(t){return new jl(this.firestore,this._delegate.withConverter(t?O0.getInstance(this.firestore,t):null))}}class Gae{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new uS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LB{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new jl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new uS(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Gae(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new uS(this._firestore,i))})}isEqual(t){return V8(this._delegate,t._delegate)}}class PE extends jl{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ad(this.firestore,t):null}doc(t){try{return new Ad(this.firestore,void 0===t?kk(this._delegate):kk(this._delegate,t))}catch(e){throw Ul(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=ai(n.firestore,Ar),i=kk(n),r=jk(n.converter,t);return NE(e,[Nk(T0(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Zr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ad(this.firestore,e))}isEqual(t){return w8(this._delegate,t._delegate)}withConverter(t){return new PE(this.firestore,this._delegate.withConverter(t?O0.getInstance(this.firestore,t):null))}}function R0(n){return ai(n,xr)}class BB{constructor(...t){this._delegate=new Zg(...t)}static documentId(){return new BB(Ts.keyField().canonicalString())}isEqual(t){return(t=Q8(t))instanceof Zg&&this._delegate._internalPath.isEqual(t._internalPath)}}class N0{constructor(t){this._delegate=t}static serverTimestamp(){const t=new CB("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new N0(t)}static delete(){const t=new nS("deleteField");return t._methodName="FieldValue.delete",new N0(t)}static arrayUnion(...t){const e=function(...n){return new xoe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new N0(e)}static arrayRemove(...t){const e=function(...n){return new Aoe("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new N0(e)}static increment(t){const e=function(n){return new Doe("increment",n)}(t);return e._methodName="FieldValue.increment",new N0(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const $ae={Firestore:eG,GeoPoint:Ok,Timestamp:$r,Blob:lS,Transaction:tG,WriteBatch:nG,DocumentReference:Ad,DocumentSnapshot:cS,Query:jl,QueryDocumentSnapshot:uS,QuerySnapshot:LB,CollectionReference:PE,FieldPath:BB,FieldValue:N0,setLogLevel:function(n){!function(n){Hy.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function sG(n,t){return function(n,t=Ig.z){return new Wn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function VB(n,t){return sG(n,t).pipe((0,It.U)(e=>({payload:e,type:"query"})))}function $k(n,t){return VB(n,t).pipe(Bi(void 0),bF(),(0,It.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const f=r.find(x=>x.doc.ref.isEqual(a.ref)),b=null==e?void 0:e.payload.docs.find(x=>x.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&b&&JSON.stringify(b.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),s}))}function oG(n,t,e){return $k(n,e).pipe(Tl((i,r)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return UB(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return UB(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return UB(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Yb(),(0,It.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function UB(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function aG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,t){n.INTERNAL.registerComponent(new Fae("firestore-compat",e=>((t,e)=>new eG(t,e,new qae))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},$ae)))})(n),n.registerVersion("@firebase/firestore-compat","0.3.12")}(wF.Z);class lG{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=$k(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,It.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Bi(void 0),bF(),ii(([i,r])=>r.length>0||!i),(0,It.U)(([i,r])=>r),ci.iC)}auditTrail(t){return this.stateChanges(t).pipe(Tl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=aG(t);return oG(this.query,e,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(t={}){return VB(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),ci.iC)}get(t){return(0,$n.D)(this.query.get(t)).pipe(ci.iC)}add(t){return this.ref.add(t)}doc(t){return new cG(this.ref.doc(t),this.afs)}}class cG{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=hG(i,e);return new lG(r,s,this.afs)}snapshotChanges(){return function(n,t){return sG(n,t).pipe(Bi(void 0),bF(),(0,It.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,It.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,$n.D)(this.ref.get(t)).pipe(ci.iC)}}class Xae{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$k(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ii(e=>e.length>0),ci.iC):$k(this.query,this.afs.schedulers.outsideAngular).pipe(ci.iC)}auditTrail(t){return this.stateChanges(t).pipe(Tl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=aG(t);return oG(this.query,e,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(t={}){return VB(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),ci.iC)}get(t){return(0,$n.D)(this.query.get(t)).pipe(ci.iC)}}const uG=new o.OlP("angularfire2.enableFirestorePersistence"),dG=new o.OlP("angularfire2.firestore.persistenceSettings"),ele=new o.OlP("angularfire2.firestore.settings"),tle=new o.OlP("angularfire2.firestore.use-emulator");function hG(n,t=(e=>e)){return{query:t(n),ref:n}}let FE=(()=>{class n{constructor(e,i,r,s,a,u,f,b,x,D,R,B,z,ee,ae,we,qe){this.schedulers=f;const Ye=(0,Vi.on)(e,u,i),at=x;D&&mC(Ye,u,R,z,ee,ae,B,we),[this.firestore,this.persistenceEnabled$]=(0,Vi.cc)(`${Ye.name}.firestore`,"AngularFirestore",Ye.name,()=>{const Jt=u.runOutsideAngular(()=>Ye.firestore());if(s&&Jt.settings(s),at&&Jt.useEmulator(...at),r&&!yn(a)){const fn=()=>{try{return(0,$n.D)(Jt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(li){return"undefined"!=typeof console&&console.warn(li),Ct(!1)}};return[Jt,u.runOutsideAngular(fn)]}return[Jt,Ct(!1)]},[s,at,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=hG(r,i),u=this.schedulers.ngZone.run(()=>s);return new lG(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new Xae(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new cG(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vi.Dh),o.LFG(Vi.xv,8),o.LFG(uG,8),o.LFG(ele,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ci.HU),o.LFG(dG,8),o.LFG(tle,8),o.LFG(Tb,8),o.LFG(nA,8),o.LFG(iA,8),o.LFG(rA,8),o.LFG(my,8),o.LFG(fC,8),o.LFG(pC,8),o.LFG(Db,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nle=(()=>{class n{constructor(){tA.Z.registerVersion("angularfire",ci.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:uG,useValue:!0},{provide:dG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[FE]}),n})();const fG=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},pG={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,u=a?n[r+1]:0,f=r+2<n.length,b=f?n[r+2]:0;let R=(15&u)<<2|b>>6,B=63&b;f||(B=64,a||(R=64)),i.push(e[s>>2],e[(3&s)<<4|u>>4],e[R],e[B])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(fG(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const f=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(1023&f))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const b=r<n.length?e[n.charAt(r)]:64;++r;const D=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==u||null==b||null==D)throw new ole;i.push(s<<2|u>>4),64!==b&&(i.push(u<<4&240|b>>2),64!==D&&i.push(b<<6&192|D))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ole extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mG=function(n){return function(n){const t=fG(n);return pG.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Zk=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=n&&function(n){try{return pG.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class Yk extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Yk.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_le.prototype.create)}}class _le{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?function(n,t){return n.replace(vle,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new Yk(r,`${this.serviceName}: ${a} (${r}).`,i)}}const vle=/\{\$([^}]+)}/g;function lv(n){return n&&n._delegate?n._delegate:n}const bG="firebasestorage.googleapis.com",wG="storageBucket";class us extends Yk{constructor(t,e,i=0){super(GB(t),`Firebase Storage: ${e} (${GB(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,us.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return GB(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var fr=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(fr||(fr={})),fr))();function GB(n){return"storage/"+n}function $B(){return new us(fr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function CG(){return new us(fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EG(){return new us(fr.CANCELED,"User canceled the upload/download.")}function xG(){return new us(fr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LE(n){return new us(fr.INVALID_ARGUMENT,n)}function AG(){return new us(fr.APP_DELETED,"The Firebase app was deleted.")}function DG(n){return new us(fr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dS(n,t){return new us(fr.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function hS(n){throw new us(fr.INTERNAL_ERROR,"Internal error: "+n)}class il{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=il.makeFromUrl(t,e)}catch(r){return new il(t,"")}if(""===i.path)return i;throw function(n){return new us(fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+r+"(/(.*))?$","i");function b(at){at.path_=decodeURIComponent(at.path)}const D=e.replace(/[.]/g,"\\."),Ye=[{regex:u,indices:{bucket:1,path:3},postModify:function(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${e===bG?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let at=0;at<Ye.length;at++){const Jt=Ye[at],fn=Jt.regex.exec(t);if(fn){let fs=fn[Jt.indices.path];fs||(fs=""),i=new il(fn[Jt.indices.bucket],fs),Jt.postModify(i);break}}if(null==i)throw function(n){return new us(fr.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class $le{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Qk(n){return"string"==typeof n||n instanceof String}function SG(n){return ZB()&&n instanceof Blob}function ZB(){return"undefined"!=typeof Blob&&!function(){var n;const t=null===(n=Zk())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()}function WB(n,t,e,i){if(i<t)throw LE(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw LE(`Invalid value for '${n}'. Expected ${e} or less.`)}function Yg(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function TG(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var cv=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(cv||(cv={})),cv))();function IG(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class Jle{constructor(t,e,i,r,s,a,u,f,b,x,D,R=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=f,this.timeout_=b,this.progressCallback_=x,this.connectionFactory_=D,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,z)=>{this.resolve_=B,this.reject_=z,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());!function(n){return void 0!==n}(f)?s():s(f)}catch(f){a(f)}else if(null!==u){const f=$B();f.serverResponse=u.getErrorText(),a(this.errorCallback_?this.errorCallback_(u,f):f)}else a(r.canceled?this.appDelete_?AG():EG():CG())};this.canceled_?e(0,new Jk(!1,null,!0)):this.backoffId_=function(n,t,e){let i=1,r=null,s=null,a=!1,u=0;function f(){return 2===u}let b=!1;function x(...ae){b||(b=!0,t.apply(null,ae))}function D(ae){r=setTimeout(()=>{r=null,n(B,f())},ae)}function R(){s&&clearTimeout(s)}function B(ae,...we){if(b)return void R();if(ae)return R(),void x.call(null,ae,...we);if(f()||a)return R(),void x.call(null,ae,...we);let Ye;i<64&&(i*=2),1===u?(u=2,Ye=0):Ye=1e3*(i+Math.random()),D(Ye)}let z=!1;function ee(ae){z||(z=!0,R(),!b&&(null!==r?(ae||(u=2),clearTimeout(r),D(0)):ae||(u=1)))}return D(0),s=setTimeout(()=>{a=!0,ee(!0)},e),ee}((i,r)=>{if(r)return void i(!1,new Jk(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{null!==this.progressCallback_&&this.progressCallback_(u.loaded,u.lengthComputable?u.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===cv.NO_ERROR,f=s.getStatus();if(!u||IG(f,this.additionalRetryCodes_)&&this.retry){const x=s.getErrorCode()===cv.ABORT;return void i(!1,new Jk(!1,null,x))}const b=-1!==this.successCodes_.indexOf(f);i(!0,new Jk(b,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jk{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function sce(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(ZB())return new Blob(n);throw new us(fr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ou={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class YB{constructor(t,e){this.data=t,this.contentType=e||null}}function KB(n,t){switch(n){case Ou.RAW:return new YB(MG(t));case Ou.BASE64:case Ou.BASE64URL:return new YB(kG(n,t));case Ou.DATA_URL:return new YB(function(n){const t=new OG(n);return t.base64?kG(Ou.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw dS(Ou.DATA_URL,"Malformed data URL.")}return MG(t)}(t.rest)}(t),function(n){return new OG(n).contentType}(t))}throw $B()}function MG(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function kG(n,t){switch(n){case Ou.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw dS(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ou.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw dS(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){if("undefined"==typeof atob)throw new us(fr.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:dS(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class OG{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw dS(Ou.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}class Qp{constructor(t,e){let i=0,r="";SG(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(SG(this.data_)){const r=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Qp(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Qp(i,!0)}}static getBlob(...t){if(ZB()){const e=t.map(i=>i instanceof Qp?i.data_:i);return new Qp(sce.apply(null,e))}{const e=t.map(a=>Qk(a)?KB(Ou.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(a=>{for(let u=0;u<a.length;u++)r[s++]=a[u]}),new Qp(r,!0)}}uploadData(){return this.data_}}function QB(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function RG(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function pce(n,t){return t}class Hl{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||pce}}let Xk=null;function fS(){if(Xk)return Xk;const n=[];n.push(new Hl("bucket")),n.push(new Hl("generation")),n.push(new Hl("metageneration")),n.push(new Hl("name","fullPath",!0));const e=new Hl("name");e.xform=function(s,a){return function(n){return!Qk(n)||n.length<2?n:RG(n)}(a)},n.push(e);const r=new Hl("size");return r.xform=function(s,a){return void 0!==a?Number(a):a},n.push(r),n.push(new Hl("timeCreated")),n.push(new Hl("updated")),n.push(new Hl("md5Hash",null,!0)),n.push(new Hl("cacheControl",null,!0)),n.push(new Hl("contentDisposition",null,!0)),n.push(new Hl("contentEncoding",null,!0)),n.push(new Hl("contentLanguage",null,!0)),n.push(new Hl("contentType",null,!0)),n.push(new Hl("metadata","customMetadata",!0)),Xk=n,Xk}function NG(n,t,e){const i=QB(t);return null===i?null:function(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const a=e[s];i[a.local]=a.xform(i,t[a.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const s=new il(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function JB(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const PG="prefixes";class Jp{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xp(n){if(!n)throw $B()}function eO(n,t){return function(i,r){const s=NG(n,r,t);return Xp(null!==s),s}}function BE(n){return function(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new us(fr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new us(fr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new us(fr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new us(fr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function pS(n){const t=BE(n);return function(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function(n){return new us(fr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function LG(n,t,e){const r=Yg(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,u=new Jp(r,"GET",eO(n,e),a);return u.errorHandler=pS(t),u}function Ece(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const u=Yg(t.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,x=new Jp(u,"GET",function(n,t){return function(i,r){const s=function(n,t,e){const i=QB(e);return null===i?null:function(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[PG])for(const r of e[PG]){const s=r.replace(/\/$/,""),a=n._makeStorageReference(new il(t,s));i.prefixes.push(a)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new il(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Xp(null!==s),s}}(n,t.bucket),b);return x.urlParams=s,x.errorHandler=BE(t),x}function VG(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),i}class tO{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function XB(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Xp(!1)}return Xp(!!e&&-1!==(t||["active"]).indexOf(e)),e}const kce={STATE_CHANGED:"state_changed"},ql={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function e3(n){switch(n){case"running":case"pausing":case"canceling":return ql.RUNNING;case"paused":return ql.PAUSED;case"success":return ql.SUCCESS;case"canceled":return ql.CANCELED;default:return ql.ERROR}}class Oce{constructor(t,e,i){if(function(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function VE(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class Nce extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cv.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cv.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cv.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw hS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hS("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw hS("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hS("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function zh(){return new Nce}class qG{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=fS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(fr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(IG(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=CG()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(fr.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a=VG(t,i,r),u={name:a.fullPath},f=Yg(s,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},D=JB(a,e),z=new Jp(f,"POST",function(ee){let ae;XB(ee);try{ae=ee.getResponseHeader("X-Goog-Upload-URL")}catch(we){Xp(!1)}return Xp(Qk(ae)),ae},n.maxUploadRetryTime);return z.urlParams=u,z.headers=x,z.body=D,z.errorHandler=BE(t),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,zh,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function(n,t,e,i){const f=new Jp(e,"POST",function(b){const x=XB(b,["active","final"]);let D=null;try{D=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(B){Xp(!1)}D||Xp(!1);const R=Number(D);return Xp(!isNaN(R)),new tO(R,i.size(),"final"===x)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=BE(t),f}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,zh,e,i);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new tO(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=function(n,t,e,i,r,s,a,u){const f=new tO(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw new us(fr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const b=f.total-f.current;let x=b;r>0&&(x=Math.min(x,r));const D=f.current;let B="";B=0===x?"finalize":b===x?"upload, finalize":"upload";const z={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${f.current}`},ee=i.slice(D,D+x);if(null===ee)throw xG();const Ye=new Jp(e,"POST",function(at,Jt){const fn=XB(at,["active","final"]),li=f.current+x,fs=i.size();let al;return al="final"===fn?eO(t,s)(at,Jt):null,new tO(li,fs,"final"===fn,al)},t.maxUploadRetryTime);return Ye.headers=z,Ye.body=ee.uploadData(),Ye.progressCallback=u||null,Ye.errorHandler=BE(n),Ye}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const u=this._ref.storage._makeRequest(a,zh,r,s,!1);this._request=u,u.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=LG(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,zh,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},f=function(){let Ye="";for(let at=0;at<2;at++)Ye+=Math.random().toString().slice(2);return Ye}();a["Content-Type"]="multipart/related; boundary="+f;const b=VG(t,i,r),x=JB(b,e),B=Qp.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+f+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===B)throw xG();const z={name:b.fullPath},ee=Yg(s,n.host,n._protocol),we=n.maxUploadRetryTime,qe=new Jp(ee,"POST",eO(n,e),we);return qe.urlParams=z,qe.headers=a,qe.body=B.uploadData(),qe.errorHandler=BE(t),qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,zh,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=EG(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=e3(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new Oce(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(e3(this._state)){case ql.SUCCESS:VE(this._resolve.bind(null,this.snapshot))();break;case ql.CANCELED:case ql.ERROR:VE(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(e3(this._state)){case ql.RUNNING:case ql.PAUSED:t.next&&VE(t.next.bind(t,this.snapshot))();break;case ql.SUCCESS:t.complete&&VE(t.complete.bind(t))();break;default:t.error&&VE(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class F0{constructor(t,e){this._service=t,this._location=e instanceof il?e:il.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new F0(t,e)}get root(){const t=new il(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RG(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new il(this._location.bucket,t);return new F0(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw DG(t)}}function GG(n,t,e){return t3.apply(this,arguments)}function t3(){return t3=(0,be.Z)(function*(n,t,e){const r=yield $G(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield GG(n,t,r.nextPageToken))}),t3.apply(this,arguments)}function $G(n,t){null!=t&&"number"==typeof t.maxResults&&WB("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Ece(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,zh)}function $ce(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const r=Yg(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,u=new Jp(r,"GET",function(n,t){return function(i,r){const s=NG(n,r,t);return Xp(null!==s),function(n,t,e,i){const r=QB(t);if(null===r||!Qk(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(b=>{const D=n.fullPath;return Yg("/b/"+a(n.bucket)+"/o/"+a(D),e,i)+TG({alt:"media",token:b})})[0]}(s,r,n.host,n._protocol)}}(n,e),a);return u.errorHandler=pS(t),u}(n.storage,n._location,fS());return n.storage.makeRequestWithTokens(t,zh).then(e=>{if(null===e)throw new us(fr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function ZG(n,t){const e=function(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new il(n._location.bucket,e);return new F0(n.storage,i)}function WG(n,t){if(n instanceof n3){const e=n;if(null==e._bucket)throw new us(fr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wG+"' property when initializing the app?");const i=new F0(e,e._bucket);return null!=t?WG(i,t):i}return void 0!==t?ZG(n,t):n}function Kce(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof n3)return function(n,t){return new F0(n,t)}(n,t);throw LE("To use ref(service, url), the first argument must be a Storage instance.")}return WG(n,t)}function YG(n,t){const e=null==t?void 0:t[wG];return null==e?null:il.makeFromBucketSpec(e,n)}class n3{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=bG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?il.makeFromBucketSpec(r,this._host):YG(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?il.makeFromBucketSpec(this._url,t):YG(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){WB("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){WB("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,be.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,be.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new F0(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new $le(AG());{const a=function(n,t,e,i,r,s,a=!0){const u=TG(n.urlParams),f=n.url+u,b=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(b,s),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,i),new Jle(f,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var i=this;return(0,be.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const KG="@firebase/storage";function XG(n,t){return Kce(n=lv(n),t)}function e$(n,t,e,i={}){!function(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:function(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mG(JSON.stringify({alg:"none",type:"JWT"})),mG(JSON.stringify(a)),""].join(".")}(r,n.app.options.projectId))}(n,t,e,i)}(0,Yt._registerComponent)(new class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new n3(e,i,r,t,Yt.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Yt.registerVersion)(KG,"0.11.2",""),(0,Yt.registerVersion)(KG,"0.11.2","esm2017");Error;Error;class Rue{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}class sO{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class a${constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new sO(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new sO(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?a=>e(new sO(a,this,this._ref)):{next:e.next?a=>e.next(new sO(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class l${constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Kg(t,this._service))}get items(){return this._delegate.items.map(t=>new Kg(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Kg{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return ZG(n,t)}(this._delegate,t);return new Kg(e,this.storage)}get root(){return new Kg(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Kg(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new a$(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new qG(n,new Qp(t),e)}(n=lv(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Ou.RAW,i){this._throwIfRoot("putString");const r=KB(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new a$(new qG(this._delegate,new Qp(r.data,!0),s),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return GG(n,t).then(()=>t)}(n=lv(n))}(this._delegate).then(t=>new l$(t,this.storage))}list(t){return function(n,t){return $G(n=lv(n),t)}(this._delegate,t||void 0).then(e=>new l$(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=LG(n.storage,n._location,fS());return n.storage.makeRequestWithTokens(t,zh)}(n=lv(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,i){const s=Yg(t.fullServerUrl(),n.host,n._protocol),u=JB(e,i),b=n.maxOperationRetryTime,x=new Jp(s,"PATCH",eO(n,i),b);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=u,x.errorHandler=pS(t),x}(n.storage,n._location,t,fS());return n.storage.makeRequestWithTokens(e,zh)}(n=lv(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return $ce(n=lv(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const i=Yg(t.fullServerUrl(),n.host,n._protocol),u=new Jp(i,"DELETE",function(f,b){},n.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=pS(t),u}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,zh)}(n=lv(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw DG(t)}}class c${constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(u$(t))throw LE("ref() expected a child path but got a URL, use refFromURL instead.");return new Kg(XG(this._delegate,t),this)}refFromURL(t){if(!u$(t))throw LE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{il.makeFromUrl(t,this._delegate.host)}catch(e){throw LE("refFromUrl() expected a valid full URL but got an invalid one.")}return new Kg(XG(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){e$(this._delegate,t,e,i)}}function u$(n){return/^[A-Za-z]+:\/\//.test(n)}function Uue(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new c$(e,i)}function d$(n){const t=function(n){return new Wn.y(t=>{const e=a=>t.next(a);e(n.snapshot);const s=n.on("state_changed",e);return n.then(a=>{e(a),t.complete()},a=>{e(n.snapshot),(a=>{t.error(a)})(a)}),function(){s()}}).pipe(OC(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,It.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function oO(n){return{getDownloadURL:()=>Ct(void 0).pipe(ci.fc,yi(()=>n.getDownloadURL()),ci.iC),getMetadata:()=>Ct(void 0).pipe(ci.fc,yi(()=>n.getMetadata()),ci.iC),delete:()=>(0,$n.D)(n.delete()),child:t=>oO(n.child(t)),updateMetadata:t=>(0,$n.D)(n.updateMetadata(t)),put:(t,e)=>d$(n.put(t,e)),putString:(t,e,i)=>d$(n.putString(t,e,i)),list:t=>(0,$n.D)(n.list(t)),listAll:()=>(0,$n.D)(n.listAll())}}!function(n){const t={TaskState:ql,TaskEvent:kce,StringFormat:Ou,Storage:c$,Reference:Kg};n.INTERNAL.registerComponent(new Rue("storage-compat",Uue,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(wF.Z);const que=new o.OlP("angularfire2.storageBucket"),zue=new o.OlP("angularfire2.storage.maxUploadRetryTime"),Gue=new o.OlP("angularfire2.storage.maxOperationRetryTime"),$ue=new o.OlP("angularfire2.storage.use-emulator");let h$=(()=>{class n{constructor(e,i,r,s,a,u,f,b,x,D){const R=(0,Vi.on)(e,a,i);this.storage=(0,Vi.cc)(`${R.name}.storage.${r}`,"AngularFireStorage",R.name,()=>{const B=a.runOutsideAngular(()=>R.storage(r||void 0)),z=x;return z&&B.useEmulator(...z),f&&B.setMaxUploadRetryTime(f),b&&B.setMaxOperationRetryTime(b),B},[f,b])}ref(e){return oO(this.storage.ref(e))}refFromURL(e){return oO(this.storage.refFromURL(e))}upload(e,i,r){return oO(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vi.Dh),o.LFG(Vi.xv,8),o.LFG(que,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ci.HU),o.LFG(zue,8),o.LFG(Gue,8),o.LFG($ue,8),o.LFG(Db,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const Zue=["mat-calendar-body",""];function Wue(n,t){if(1&n&&(o.TgZ(0,"tr",2),o.TgZ(1,"td",3),o._uU(2),o.qZA(),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e.numCols),o.xp6(1),o.hij(" ",e.label," ")}}function Yue(n,t){if(1&n&&(o.TgZ(0,"td",3),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e._firstRowOffset),o.xp6(1),o.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Kue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",7),o.NdJ("click",function(r){const a=o.CHM(e).$implicit;return o.oxw(2)._cellClicked(a,r)}),o.TgZ(1,"div",8),o._uU(2),o.qZA(),o._UZ(3,"div",9),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),o.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),o.uIk("data-mat-row",r)("data-mat-col",i)("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-selected",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),o.xp6(1),o.hij(" ",e.displayValue," ")}}function Que(n,t){if(1&n&&(o.TgZ(0,"tr",4),o.YNc(1,Yue,2,6,"td",5),o.YNc(2,Kue,4,47,"td",6),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&r._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",e)}}function Jue(n,t){if(1&n&&(o.TgZ(0,"th",5),o.TgZ(1,"abbr",6),o._uU(2),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.uIk("aria-label",e.long),o.xp6(1),o.uIk("title",e.long),o.xp6(1),o.Oqu(e.narrow)}}const Xue=["*"];function ede(n,t){}function tde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("_userSelection",function(r){return o.CHM(e),o.oxw()._dateSelected(r)}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function nde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("monthSelected",function(r){return o.CHM(e),o.oxw()._monthSelectedInYearView(r)})("selectedChange",function(r){return o.CHM(e),o.oxw()._goToDateInView(r,"month")}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function ide(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("yearSelected",function(r){return o.CHM(e),o.oxw()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return o.CHM(e),o.oxw()._goToDateInView(r,"year")}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function rde(n,t){}const sde=["button"];function ode(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const ade=[[["","matDatepickerToggleIcon",""]]],lde=["[matDatepickerToggleIcon]"];class c3{constructor(t,e,i,r,s={},a=t,u){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=a,this.rawValue=u}}let UE=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&u3(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,hi.q)(1)).subscribe(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})}_isRangeStart(e){return d3(e,this.startValue,this.endValue)}_isRangeEnd(e){return h3(e,this.startValue,this.endValue)}_isInRange(e){return f3(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return d3(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const a=this.rows[i-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const a=this.rows[i+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return h3(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return f3(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return d3(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return h3(e,this.previewStart,this.previewEnd)}_isInPreview(e){return f3(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(u3(e)?i=e:u3(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:Zue,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(o.YNc(0,Wue,3,6,"tr",0),o.YNc(1,Que,3,2,"tr",1)),2&e&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows))},directives:[vt,Wt,it],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function u3(n){return"TD"===n.nodeName}function d3(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function h3(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function f3(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Dc{constructor(t,e){this.start=t,this.end=e}}let uv=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new kt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),cde=(()=>{class n extends uv{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_a))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const f$={provide:uv,deps:[[new o.FiY,new o.tp0,uv],_a],useFactory:function(n,t){return n||new cde(t)}},aO=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let p$=(()=>{class n{constructor(e,i,r,s,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=On.w0.EMPTY,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Dc?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Bi(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.createDate(r,s,i);let u,f;this._selected instanceof Dc?(u=this._getDateInCurrentMonth(this._selected.start),f=this._getDateInCurrentMonth(this._selected.end)):u=f=this._getDateInCurrentMonth(this._selected),(u!==i||f!==i)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!$o(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((a,u)=>({long:a,narrow:i[u]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),u=this._shouldEnableDate(a),f=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),b=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new c3(r+1,i[r],f,u,b,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Dc?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Jb,8),o.Y36(_a,8),o.Y36(cs,8),o.Y36(aO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(UE,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0),o.TgZ(1,"thead",1),o.TgZ(2,"tr"),o.YNc(3,Jue,3,3,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA(),o.qZA(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[Wt,UE],encapsulation:2,changeDetection:0}),n})(),m$=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=On.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),g$(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Dc?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Bi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-mS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-mS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-mS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return mS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new c3(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Dc){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(_a,8),o.Y36(cs,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(UE,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0),o.TgZ(1,"thead",1),o.TgZ(2,"tr"),o._UZ(3,"th",2),o.qZA(),o.qZA(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[UE],encapsulation:2,changeDetection:0}),n})();function g$(n,t,e,i,r){const s=n.getYear(t),a=n.getYear(e),u=_$(n,i,r);return Math.floor((s-u)/24)===Math.floor((a-u)/24)}function mS(n,t,e,i){return function(n,t){return(n%24+24)%24}(n.getYear(t)-_$(n,e,i))}function _$(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let y$=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=On.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Dc?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Bi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new c3(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Dc?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Jb,8),o.Y36(_a,8),o.Y36(cs,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(UE,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0),o.TgZ(1,"thead",1),o.TgZ(2,"tr"),o._UZ(3,"th",2),o.qZA(),o.qZA(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[UE],encapsulation:2,changeDetection:0}),n})(),gS=(()=>{class n{constructor(){this.changes=new kt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gde=0,_de=(()=>{class n{constructor(e,i,r,s,a){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+gde++,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-mS(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,a)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):g$(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gS),o.Y36((0,o.Gpc)(()=>g3)),o.Y36(_a,8),o.Y36(Jb,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Xue,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"polygon",4),o.qZA(),o.qZA(),o.kcU(),o._UZ(7,"div",5),o.Hsn(8),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.nextClicked()}),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),o.xp6(1),o.uIk("id",i._buttonDescriptionId),o.xp6(1),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel))},directives:[Uh,cn],encapsulation:2,changeDetection:0}),n})(),g3=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this.stateChanges=new kt.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Dc?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new ZC(this.headerComponent||_de),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate||e.maxDate||e.dateFilter;if(i&&!i.firstChange){const r=this._getCurrentViewComponent();r&&(this._changeDetectorRef.detectChanges(),r._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Dc||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gS),o.Y36(_a,8),o.Y36(Jb,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(o.Gf(p$,5),o.Gf(y$,5),o.Gf(m$,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.monthView=r.first),o.iGM(r=o.CRH())&&(i.yearView=r.first),o.iGM(r=o.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[o._Bn([f$]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(o.YNc(0,ede,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,tde,1,8,"mat-month-view",2),o.YNc(3,nde,1,6,"mat-year-view",3),o.YNc(4,ide,1,6,"mat-multi-year-view",4),o.qZA()),2&e&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},directives:[r0,Up,qi,Pi,p$,y$,m$],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),n})();const v$={transformPanel:Wi("transformPanel",[kn("void => enter-dropdown",Kn("120ms cubic-bezier(0, 0, 0.2, 1)",Qs([Pt({opacity:0,transform:"scale(1, 0.8)"}),Pt({opacity:1,transform:"scale(1, 1)"})]))),kn("void => enter-dialog",Kn("150ms cubic-bezier(0, 0, 0.2, 1)",Qs([Pt({opacity:0,transform:"scale(0.7)"}),Pt({transform:"none",opacity:1})]))),kn("* => void",Kn("100ms linear",Pt({opacity:0})))]),fadeInCalendar:Wi("fadeInCalendar",[Qn("void",Pt({opacity:0})),Qn("enter",Pt({opacity:1})),kn("void => *",Kn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let yde=0;const b$=new o.OlP("mat-datepicker-scroll-strategy"),bde={provide:b$,deps:[Cd],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},wde=Oy(class{constructor(n){this._elementRef=n}});let Cde=(()=>{class n extends wde{constructor(e,i,r,s,a,u){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new On.w0,this._animationDone=new kt.x,this._actionsPortal=null,this._closeButtonText=u.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Dc;if(s&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(uv),o.Y36(_a),o.Y36(aO,8),o.Y36(gS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&o.Gf(g3,5),2&e){let r;o.iGM(r=o.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&o.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),o.qZA(),o.YNc(2,rde,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA(),o.qZA()),2&e&&(o.ekj("mat-datepicker-content-container-with-actions",i._actionsPortal),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText))},directives:[d,g3,it,r0,Uh],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[v$.transformPanel,v$.fadeInCalendar]},changeDetection:0}),n})(),w$=(()=>{class n{constructor(e,i,r,s,a,u,f){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=a,this._dir=u,this._model=f,this._inputStateChanges=On.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+yde++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new kt.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=jt(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=jt(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=jt(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){jt(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof S4&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=$b(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,hi.q)(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,i;null===(i=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=this.datepickerInput.getOverlayLabelId(),r=new ZC(Cde,this._viewContainerRef),s=this._overlayRef=this._overlay.create(new GA({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")})),a=s.overlayElement;a.setAttribute("role","dialog"),i&&a.setAttribute("aria-labelledby",i),e&&a.setAttribute("aria-modal","true"),this._getCloseStream(s).subscribe(u=>{u&&u.preventDefault(),this.close()}),this._componentRef=s.attach(r),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe((0,hi.q)(1)).subscribe(()=>s.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",a="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:a}])}_getCloseStream(e){return(0,er.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(ii(i=>27===i.keyCode&&!$o(i)||this.datepickerInput&&$o(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Cd),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(b$),o.Y36(_a,8),o.Y36(cs,8),o.Y36(uv))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),lO=(()=>{class n extends w${}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([f$,{provide:w$,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class cO{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let Ede=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new kt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=On.w0.EMPTY,this._localeSubscription=On.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),u=this._getMinDate();return!u||!a||this._dateAdapter.compareDate(u,a)<=0?null:{matDatepickerMin:{min:u,actual:a}}},this._maxValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),u=this._getMaxDate();return!u||!a||this._dateAdapter.compareDate(u,a)>=0?null:{matDatepickerMax:{max:u,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=jt(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new cO(this,this._elementRef.nativeElement)),this.dateChange.emit(new cO(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r),this._dateAdapter.sameDate(r,this.value)?(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(r),this._cvaOnChange(r),this.dateInput.emit(new cO(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new cO(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(_a,8),o.Y36(Jb,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const Ade={provide:Wa,useExisting:(0,o.Gpc)(()=>jE),multi:!0},Dde={provide:Co,useExisting:(0,o.Gpc)(()=>jE),multi:!0};let jE=(()=>{class n extends Ede{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=On.w0.EMPTY,this._validator=ro.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(_a,8),o.Y36(Jb,8),o.Y36(L1,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([Ade,Dde,{provide:Yj,useExisting:n}]),o.qOj]}),n})(),Sde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),uO=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=On.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=jt(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Ct(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ct(),r=this.datepicker?(0,er.T)(this.datepicker.openedStream,this.datepicker.closedStream):Ct();this._stateChanges.unsubscribe(),this._stateChanges=(0,er.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(gS),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Sde,5),2&e){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(sde,5),2&e){let r;o.iGM(r=o.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._open(s)}),2&e&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:lde,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(o.F$t(ade),o.TgZ(0,"button",0,1),o.YNc(2,ode,2,0,"svg",2),o.Hsn(3),o.qZA()),2&e&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},directives:[Uh,vt],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),Tde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[gS,bde],imports:[[Te,$P,$A,Qb,Z1,Zn],Vy]}),n})();const _3={primary:"bg-fuchsia-800",lightPrimary:"bg-fuchsia-300",secondary:"bg-blue-800",lightSecondary:"bg-blue-300",accent:"bg-pink-800",warn:"bg-red-800",light:"bg-gray-400",dark:"bg-gray-800"},y3={xSmall:"px-1 py-0.5 text-xs",small:"px-2 py-1 text-sm",medium:"px-3 py-1.5 text-base",large:"px-4 py-2 text-lg",xLarge:"px-5 py-3 text-xl"},v3=[{value:1,label:"Not Start",color:"text-gray-600"},{value:2,label:"On Going",color:"text-purple-600"},{value:3,label:"Completed",color:"text-green-600"},{value:4,label:"On Hold",color:"text-yellow-600"},{value:5,label:"Cancelled",color:"text-red-600"}],C$=Array.from({length:11},(n,t)=>({value:10*t,label:10*t+"%"}));let Ide=(()=>{class n{constructor(){}ngOnInit(){}getColorClass(e){return _3[e]||_3.primary}getButtonSize(e){return y3[e]||y3.medium}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-ui"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"div")},encapsulation:2}),n})();function E$(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const b3="inline",dO=["row","column","row-reverse","column-reverse"];function x$(n){let[t,e,i]=function(n){n=n?n.toLowerCase():"";let[t,e,i]=n.split(" ");return dO.find(r=>r===t)||(t=dO[0]),e===b3&&(e=i!==b3?i:"",i=b3),[t,Mde(e),!!i]}(n);return function(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function Mde(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}const Rde={provide:o.tb,useFactory:function(n,t){return()=>{if(xn(t)){const e=Array.from(n.querySelectorAll(`[class*=${D$}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${D$}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[ue,o.Lbi],multi:!0},D$="flex-layout-";let w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Rde]}),n})();class B0{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new B0(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Nde=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C3={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},dv=new o.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>C3}),HE=new o.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),E3=new o.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function S$(n,t){return n=n?n.clone():new B0,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Ms{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Dr=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:E$(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:E$(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||yn(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)||""}lookupInlineStyle(e,i){return xn(this._platformId)?e.style.getPropertyValue(i):this._getServerStyle(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(xn(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],a=Array.isArray(s)?s:[s];a.sort();for(let u of a)u=u?u+"":"",xn(this._platformId)||!this._serverModuleLoaded?xn(this._platformId)?i.style.setProperty(r,u):this._setServerStyle(i,r,u):this._serverStylesheet.addStyleToElement(i,r,u)})}_setServerStyle(e,i,r){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=this._readStyleAttribute(e);s[i]=r||"",this._writeStyleAttribute(e,s)}_getServerStyle(e,i){return this._readStyleAttribute(e)[i]||""}_readStyleAttribute(e){const i={},r=e.getAttribute("style");if(r){const s=r.split(/;+/g);for(let a=0;a<s.length;a++){const u=s[a].trim();if(u.length>0){const f=u.indexOf(":");if(-1===f)throw new Error(`Invalid CSS style: ${u}`);i[u.substr(0,f).trim()]=u.substr(f+1).trim()}}}return i}_writeStyleAttribute(e,i){let r="";for(const s in i)i[s]&&(r+=s+":"+i[s]+";");e.setAttribute("style",r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nde),o.LFG(HE),o.LFG(o.Lbi),o.LFG(dv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yS(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function Pde(n,t){return(n.priority||0)-(t.priority||0)}let x3=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new Ur(new B0(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){const i=this.registry.get(e);return i?i.matches:this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(ii(a=>!i||e.indexOf(a.mediaQuery)>-1)),s=new Wn.y(a=>{const u=this.registerQuery(e);if(u.length){const f=u.pop();u.forEach(b=>{a.next(b)}),this.source.next(f)}a.complete()});return(0,er.T)(s,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function(n,t){const e=n.filter(i=>!T$[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>T$[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const a=f=>{this._zone.run(()=>this.source.next(new B0(f.matches,s)))};let u=this.registry.get(s);u||(u=this.buildMQL(s),u.addListener(a),this.pendingRemoveListenerFns.push(()=>u.removeListener(a)),this.registry.set(s,u)),u.matches&&r.push(new B0(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,xn(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(o.Lbi),o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T$={},Bde=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],I$="(orientation: portrait) and (max-width: 599.98px)",M$="(orientation: landscape) and (max-width: 959.98px)",k$="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",O$="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",R$="(orientation: portrait) and (min-width: 840px)",N$="(orientation: landscape) and (min-width: 1280px)",Jg={HANDSET:`${I$}, ${M$}`,TABLET:`${k$} , ${O$}`,WEB:`${R$}, ${N$} `,HANDSET_PORTRAIT:`${I$}`,TABLET_PORTRAIT:`${k$} `,WEB_PORTRAIT:`${R$}`,HANDSET_LANDSCAPE:`${M$}`,TABLET_LANDSCAPE:`${O$}`,WEB_LANDSCAPE:`${N$}`},Vde=[{alias:"handset",priority:2e3,mediaQuery:Jg.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Jg.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Jg.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Jg.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Jg.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Jg.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Jg.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Jg.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Jg.WEB_PORTRAIT,overlapping:!0}],Ude=/(\.|-|_)/g;function jde(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const Gde=new o.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,o.f3M)(E3),t=(0,o.f3M)(dv),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?function(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}(e[i.alias],i):e[i.alias]=i}),function(n){return n.forEach(t=>{t.suffix||(t.suffix=function(n){return n.replace(Ude,"|").split("|").map(jde).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:Bde).concat(t.addOrientationBps?Vde:[]),e)}});let A3=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(Pde)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias==e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)||null,this.findByMap.set(e,r)),r||null}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gde))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE="print",$de={alias:qE,mediaQuery:qE,priority:1e3};let Zde=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new Wde,this.deactivations=[]}withPrintQuery(e){return[...e,qE]}isPrintEvent(e){return e.mediaQuery.startsWith(qE)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(yS)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?i.mediaQuery:""),S$(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new B0(!0,qE))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(e.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(yS))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(A3),o.LFG(dv),o.LFG(ue))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Wde{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push($de),t.sort(yS),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(n){return!!n&&n.mediaQuery.startsWith(qE)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Wr=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new kt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);i&&((e=S$(e,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(yS),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(yS),this.updateStyles()))}init(e,i,r,s,a=[]){P$(this.updateMap,e,i,r),P$(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const a=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let a=this.elementMap.get(e);if(a){const f=(a.get(s)||new Map).set(i,r);a.set(s,f),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,a);const u=this.getValue(e,i);void 0!==u&&this.updateElement(e,i,u)}trackValue(e,i){return this.subject.asObservable().pipe(ii(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,u)=>{this.updateElement(i,u,a),r.delete(u)}),r.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const u=s.get(a);this.updateElement(i,a,u)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,u)=>this.updateElement(e,u,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const u=(0,er.T)(...r).subscribe(()=>{const f=this.getValue(e,i);this.updateElement(e,i,f)});s.set(i,u)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const u=e.get(this.activatedBreakpoints[s].alias);if(u&&(void 0===i||u.has(i)&&null!=u.get(i)))return u}const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const i=this.breakpoints.items.map(r=>r.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,br.b)(this.hook.interceptEvents(this)),ii(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(x3),o.LFG(A3),o.LFG(Zde))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function P$(n,t,e,i){if(void 0!==i){let r=n.get(t);r||(r=new Map,n.set(t,r)),r.set(e,i)}}let ds=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new kt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=r.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru=Object.assign({},a),this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=x$(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ms),o.Y36(Dr),o.Y36(Wr))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})(),ihe=(()=>{class n extends ds{constructor(e,i,r,s,a,u,f){super(e,null,i,r),this.ngClassInstance=f,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new it(s,a,e,u)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Dr),o.Y36(Wr),o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.Qsj),o.Y36(it,10))},n.\u0275dir=o.lG2({type:n,inputs:{klass:["class","klass"]},features:[o.qOj]}),n})();const rhe=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let D3=(()=>{class n extends ihe{constructor(){super(...arguments),this.inputs=rhe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[o.qOj]}),n})(),q$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[w3]]}),n})();const mhe=function(n,t){return[n,t]},ghe=["*"];let zE=(()=>{class n extends Ide{constructor(){super(),this.color=_3.primary,this.disabled=!1,this.size=y3.small,this.type="button"}ngOnInit(){this.color=this.getColorClass(this.color),this.size=this.getButtonSize(this.size)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-button-ui"]],inputs:{color:"color",disabled:"disabled",size:"size",type:"type"},features:[o.qOj],ngContentSelectors:ghe,decls:2,vars:5,consts:[[1,"flex","justify-content-center","items-center","drop-shadow-md","shadow-fuchsia-950","text-white","px-3","py-1","rounded-pill","border-b-1","border-white","border-opacity-30","hover:bg-opacity-75","hover:border-opacity-75",3,"ngClass"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"button",0),o.Hsn(1),o.qZA()),2&e&&(o.Q6J("ngClass",o.WLB(2,mhe,i.color,i.size)),o.uIk("type",i.type))},directives:[it,D3],styles:[""]}),n})();function _he(n,t){if(1&n&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function yhe(n,t){if(1&n&&(o.TgZ(0,"div",20),o._UZ(1,"img",27),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("src",e.previewImage,o.LSH)}}let vhe=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.firestore=i,this.storage=r,this.parentProjects=[{id:1,name:"Parent Project 1"},{id:2,name:"Parent Project 2"},{id:3,name:"Parent Project 3"}],this.selectedFile=null,this.previewImage=null}ngOnInit(){}onFileSelected(e){const i=e.target.files[0];if(i){this.selectedFile=i;const r=new FileReader;r.onload=s=>{this.previewImage=r.result},r.readAsDataURL(i)}}onSubmit(e){if(e.valid){const i={name:e.value.name,status:e.value.status,parentProject:e.value.parentProject,detail:e.value.detail,startDate:e.value.startDate,endDate:e.value.endDate,imageUrl:""};if(this.selectedFile){const r=`projects/${this.selectedFile.name}`,s=this.storage.ref(r);this.storage.upload(r,this.selectedFile).snapshotChanges().pipe(ld(()=>{s.getDownloadURL().subscribe(u=>{i.imageUrl=u,this.firestore.collection("projects").add(i).then(()=>{console.log("Project added successfully"),this.dialogRef.close(i)})})})).subscribe()}else this.firestore.collection("projects").add(i).then(()=>{console.log("Project added successfully"),this.dialogRef.close(i)})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o0),o.Y36(FE),o.Y36(h$))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-new-project"]],decls:56,vars:6,consts:[[1,"p-4","pb-0","h-100","flex","flex-col","gap-y-2",3,"ngSubmit"],["projectForm","ngForm"],[1,""],[1,"grow","flex-col","gap-y-2"],[1,"flex","space-x-6"],["appearance","fill",1,"w-100"],["matInput","","name","name","ngModel","","required",""],["name","parentProject","ngModel",""],[3,"value",4,"ngFor","ngForOf"],["name","status","ngModel","","required",""],["value","Active"],["value","Completed"],["value","On Hold"],["value","Cancelled"],["matInput","","name","startDate","ngModel","","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","name","endDate","ngModel","","required","",3,"matDatepicker"],["endDatePicker",""],["matInput","","name","detail","ngModel",""],[1,"mb-3"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","mb-3",4,"ngIf"],[1,"flex","pt-2","pb-2","items-end","justify-end","space-x-4"],["size","small","color","light"],["size","medium","type","submit"],[3,"value"],["alt","Preview","width","150","height","150",1,"rounded","border",3,"src"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"form",0,1),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(1);return i.onSubmit(a)}),o.TgZ(2,"h2",2),o._uU(3,"New Project"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"mat-form-field",5),o.TgZ(7,"mat-label"),o._uU(8,"Project Name"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"mat-form-field",5),o.TgZ(11,"mat-label"),o._uU(12,"Parent Project"),o.qZA(),o.TgZ(13,"mat-select",7),o.YNc(14,_he,2,2,"mat-option",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"mat-form-field",5),o.TgZ(16,"mat-label"),o._uU(17,"Status"),o.qZA(),o.TgZ(18,"mat-select",9),o.TgZ(19,"mat-option",10),o._uU(20,"Active"),o.qZA(),o.TgZ(21,"mat-option",11),o._uU(22,"Completed"),o.qZA(),o.TgZ(23,"mat-option",12),o._uU(24,"On Hold"),o.qZA(),o.TgZ(25,"mat-option",13),o._uU(26,"Cancelled"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",4),o.TgZ(28,"mat-form-field",5),o.TgZ(29,"mat-label"),o._uU(30,"Start Date"),o.qZA(),o._UZ(31,"input",14),o._UZ(32,"mat-datepicker-toggle",15),o._UZ(33,"mat-datepicker",null,16),o.qZA(),o.TgZ(35,"mat-form-field",5),o.TgZ(36,"mat-label"),o._uU(37,"End Date"),o.qZA(),o._UZ(38,"input",17),o._UZ(39,"mat-datepicker-toggle",15),o._UZ(40,"mat-datepicker",null,18),o.qZA(),o.qZA(),o.TgZ(42,"mat-form-field",5),o.TgZ(43,"mat-label"),o._uU(44,"Project Detail"),o.qZA(),o._UZ(45,"textarea",19),o.qZA(),o.TgZ(46,"div",20),o.TgZ(47,"label"),o._uU(48,"Project Image"),o.qZA(),o.TgZ(49,"input",21),o.NdJ("change",function(a){return i.onFileSelected(a)}),o.qZA(),o.qZA(),o.YNc(50,yhe,2,1,"div",22),o.qZA(),o.TgZ(51,"div",23),o.TgZ(52,"app-button-ui",24),o._uU(53,"Cancel"),o.qZA(),o.TgZ(54,"app-button-ui",25),o._uU(55,"Create Project"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const r=o.MAs(34),s=o.MAs(41);o.xp6(14),o.Q6J("ngForOf",i.parentProjects),o.xp6(17),o.Q6J("matDatepicker",r),o.xp6(1),o.Q6J("for",r),o.xp6(6),o.Q6J("matDatepicker",s),o.xp6(1),o.Q6J("for",s),o.xp6(11),o.Q6J("ngIf",i.previewImage)}},directives:[xy,wg,wc,e0,Py,GC,_d,Op,Tg,yd,YC,Wt,Xb,jE,uO,F1,lO,vt,zE],styles:[""]}),n})();function bhe(n,t){if(1&n&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function whe(n,t){if(1&n&&(o.TgZ(0,"div",20),o._UZ(1,"img",27),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("src",e.previewImage,o.LSH)}}let Che=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.data=i,this.firestore=r,this.storage=s,this.parentProjects=[{id:1,name:"Parent Project 1"},{id:2,name:"Parent Project 2"},{id:3,name:"Parent Project 3"}],this.selectedFile=null,this.previewImage=null,this.projectData=Object.assign({},i)}ngOnInit(){this.projectData.imageUrl&&(this.previewImage=this.projectData.imageUrl)}onFileSelected(e){const i=e.target.files[0];if(i){this.selectedFile=i;const r=new FileReader;r.onload=s=>{this.previewImage=r.result},r.readAsDataURL(i)}}onSubmit(e){if(e.valid){const i={name:e.value.name,status:e.value.status,parentProject:e.value.parentProject,detail:e.value.detail,startDate:e.value.startDate,endDate:e.value.endDate,imageUrl:this.projectData.imageUrl};if(this.selectedFile){const r=`projects/${this.selectedFile.name}`,s=this.storage.ref(r);this.storage.upload(r,this.selectedFile).snapshotChanges().pipe(ld(()=>{s.getDownloadURL().subscribe(u=>{i.imageUrl=u,this.updateProject(i)})})).subscribe()}else this.updateProject(i)}}updateProject(e){this.firestore.collection("projects").doc(this.projectData.id).update(e).then(()=>{console.log("Project updated successfully"),this.dialogRef.close(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o0),o.Y36(QA),o.Y36(FE),o.Y36(h$))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-project"]],decls:56,vars:12,consts:[[1,"p-4","pb-0","h-100","flex","flex-col","gap-y-2",3,"ngSubmit"],["projectForm","ngForm"],[1,""],[1,"grow","flex-col","gap-y-2"],[1,"flex","space-x-6"],["appearance","fill",1,"w-100"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],["name","parentProject",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","status","required","",3,"ngModel","ngModelChange"],["value","Active"],["value","Completed"],["value","On Hold"],["value","Cancelled"],["matInput","","name","startDate","required","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","name","endDate","required","",3,"matDatepicker","ngModel","ngModelChange"],["endDatePicker",""],["matInput","","name","detail",3,"ngModel","ngModelChange"],[1,"mb-3"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","mb-3",4,"ngIf"],[1,"flex","pt-2","pb-2","items-end","justify-end","space-x-4"],["size","small","color","light",3,"click"],["size","medium","type","submit"],[3,"value"],["alt","Preview","width","150","height","150",1,"rounded","border",3,"src"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"form",0,1),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(1);return i.onSubmit(a)}),o.TgZ(2,"h2",2),o._uU(3,"Edit Project"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"mat-form-field",5),o.TgZ(7,"mat-label"),o._uU(8,"Project Name"),o.qZA(),o.TgZ(9,"input",6),o.NdJ("ngModelChange",function(a){return i.projectData.name=a}),o.qZA(),o.qZA(),o.TgZ(10,"mat-form-field",5),o.TgZ(11,"mat-label"),o._uU(12,"Parent Project"),o.qZA(),o.TgZ(13,"mat-select",7),o.NdJ("ngModelChange",function(a){return i.projectData.parentProject=a}),o.YNc(14,bhe,2,2,"mat-option",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"mat-form-field",5),o.TgZ(16,"mat-label"),o._uU(17,"Status"),o.qZA(),o.TgZ(18,"mat-select",9),o.NdJ("ngModelChange",function(a){return i.projectData.status=a}),o.TgZ(19,"mat-option",10),o._uU(20,"Active"),o.qZA(),o.TgZ(21,"mat-option",11),o._uU(22,"Completed"),o.qZA(),o.TgZ(23,"mat-option",12),o._uU(24,"On Hold"),o.qZA(),o.TgZ(25,"mat-option",13),o._uU(26,"Cancelled"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",4),o.TgZ(28,"mat-form-field",5),o.TgZ(29,"mat-label"),o._uU(30,"Start Date"),o.qZA(),o.TgZ(31,"input",14),o.NdJ("ngModelChange",function(a){return i.projectData.startDate=a}),o.qZA(),o._UZ(32,"mat-datepicker-toggle",15),o._UZ(33,"mat-datepicker",null,16),o.qZA(),o.TgZ(35,"mat-form-field",5),o.TgZ(36,"mat-label"),o._uU(37,"End Date"),o.qZA(),o.TgZ(38,"input",17),o.NdJ("ngModelChange",function(a){return i.projectData.endDate=a}),o.qZA(),o._UZ(39,"mat-datepicker-toggle",15),o._UZ(40,"mat-datepicker",null,18),o.qZA(),o.qZA(),o.TgZ(42,"mat-form-field",5),o.TgZ(43,"mat-label"),o._uU(44,"Project Detail"),o.qZA(),o.TgZ(45,"textarea",19),o.NdJ("ngModelChange",function(a){return i.projectData.detail=a}),o.qZA(),o.qZA(),o.TgZ(46,"div",20),o.TgZ(47,"label"),o._uU(48,"Project Image"),o.qZA(),o.TgZ(49,"input",21),o.NdJ("change",function(a){return i.onFileSelected(a)}),o.qZA(),o.qZA(),o.YNc(50,whe,2,1,"div",22),o.qZA(),o.TgZ(51,"div",23),o.TgZ(52,"app-button-ui",24),o.NdJ("click",function(){return i.dialogRef.close()}),o._uU(53,"Cancel"),o.qZA(),o.TgZ(54,"app-button-ui",25),o._uU(55,"Update Project"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const r=o.MAs(34),s=o.MAs(41);o.xp6(9),o.Q6J("ngModel",i.projectData.name),o.xp6(4),o.Q6J("ngModel",i.projectData.parentProject),o.xp6(1),o.Q6J("ngForOf",i.parentProjects),o.xp6(4),o.Q6J("ngModel",i.projectData.status),o.xp6(13),o.Q6J("matDatepicker",r)("ngModel",i.projectData.startDate),o.xp6(1),o.Q6J("for",r),o.xp6(6),o.Q6J("matDatepicker",s)("ngModel",i.projectData.endDate),o.xp6(1),o.Q6J("for",s),o.xp6(6),o.Q6J("ngModel",i.projectData.detail),o.xp6(5),o.Q6J("ngIf",i.previewImage)}},directives:[xy,wg,wc,e0,Py,GC,_d,yd,Op,Tg,YC,Wt,Xb,jE,uO,F1,lO,vt,zE],styles:[""]}),n})(),z$=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o0),o.Y36(QA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h1",0),o._uU(1,"Confirm Delete"),o.qZA(),o.TgZ(2,"div",1),o.TgZ(3,"p"),o._uU(4,"Are you sure you want to delete this project?"),o.qZA(),o.qZA(),o.TgZ(5,"div",2),o.TgZ(6,"button",3),o.NdJ("click",function(){return i.onNoClick()}),o._uU(7,"No"),o.qZA(),o.TgZ(8,"button",3),o.NdJ("click",function(){return i.onYesClick()}),o._uU(9,"Yes"),o.qZA(),o.qZA())},directives:[dte,hte,fte,Uh],styles:[""]}),n})(),hO=(()=>{class n{constructor(e){this.firestore=e}getProjects(){return this.firestore.collection("projects").valueChanges({idField:"id"}).pipe((0,It.U)(e=>e.map(i=>Object.assign(Object.assign({},i),{startDate:i.startDate.toDate(),endDate:i.endDate.toDate()}))))}deleteProject(e){return(0,$n.D)(this.firestore.collection("projects").doc(e).delete())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(FE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ehe=["*"];let G$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-blanket"]],ngContentSelectors:Ehe,decls:2,vars:0,consts:[[1,"p-4","mt-4","bg-white","border","rounded-md"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[""]}),n})();function xhe(n,t){1&n&&(o.TgZ(0,"th",22),o._uU(1," Image "),o.qZA())}function Ahe(n,t){if(1&n&&(o.TgZ(0,"td",23),o._UZ(1,"img",24),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.s9C("alt",e.name),o.Q6J("src",e.imageUrl?e.imageUrl:"assets/images/default-image-icon.png",o.LSH)}}function Dhe(n,t){1&n&&(o.TgZ(0,"th",25),o._uU(1," Project Name "),o.qZA())}const She=function(n){return["/task",n]};function The(n,t){if(1&n&&(o.TgZ(0,"td",23),o.TgZ(1,"a",26),o._uU(2),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(2,She,e.id)),o.xp6(1),o.hij(" ",e.name," ")}}function Ihe(n,t){1&n&&(o.TgZ(0,"th",27),o._uU(1," Status "),o.qZA())}function Mhe(n,t){if(1&n&&(o.TgZ(0,"td",23),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.status," ")}}function khe(n,t){1&n&&(o.TgZ(0,"th",28),o._uU(1," Start Date "),o.qZA())}function Ohe(n,t){if(1&n&&(o.TgZ(0,"td",23),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,e.startDate)," ")}}function Rhe(n,t){1&n&&(o.TgZ(0,"th",29),o._uU(1," End Date "),o.qZA())}function Nhe(n,t){if(1&n&&(o.TgZ(0,"td",23),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,e.endDate)," ")}}function Phe(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1," Action "),o.qZA())}function Fhe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",23),o.TgZ(1,"div",31),o.TgZ(2,"button",32),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().openEditDialog(s)}),o.TgZ(3,"mat-icon"),o._uU(4,"edit"),o.qZA(),o.qZA(),o.TgZ(5,"button",32),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().openDeleteDialog(s)}),o.TgZ(6,"mat-icon"),o._uU(7,"delete"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function Lhe(n,t){1&n&&o._UZ(0,"tr",33)}function Bhe(n,t){1&n&&o._UZ(0,"tr",34)}const Vhe=function(){return[5,10,20]};let Uhe=(()=>{class n{constructor(e,i,r){this._liveAnnouncer=e,this.dialog=i,this.projectService=r,this.displayedColumns=["imageUrl","name","status","startDate","endDate","action"],this.dataSource=new J4}ngOnInit(){this.projectService.getProjects().subscribe(e=>{this.dataSource.data=e})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}openDialog(){this.dialog.open(vhe,{width:"80%",height:"80%"}).afterClosed().subscribe(i=>{console.log("The dialog was closed")})}openEditDialog(e){this.dialog.open(Che,{width:"60%",height:"60%",data:e}).afterClosed().subscribe(r=>{console.log("The dialog was closed")})}openDeleteDialog(e){this.dialog.open(z$,{width:"250px",data:{name:e.name}}).afterClosed().subscribe(r=>{r&&this.projectService.deleteProject(e.id).subscribe(()=>{this.dataSource.data=this.dataSource.data.filter(s=>s.id!==e.id)})})}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Je),o.Y36(hM),o.Y36(hO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-project"]],viewQuery:function(e,i){if(1&e&&(o.Gf(HA,5),o.Gf(Q1,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:31,vars:5,consts:[[1,"flex-col","gap-y-2","h-100","m-0","bg-purple-50","p-4"],[1,"bl-header","pb-2","mb-2","flex","justify-content-between"],[1,"flex-grow-0"],["size","small",3,"click"],[1,"flex-grow-1"],["mat-table","","matSort","",1,"w-100",3,"dataSource","matSortChange"],["matColumnDef","imageUrl"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Image",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by status",4,"matHeaderCellDef"],["matColumnDef","startDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by start date",4,"matHeaderCellDef"],["matColumnDef","endDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by end date",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of projects",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Image"],["mat-cell",""],[1,"w-16","h-16","m-2","object-cover","rounded-full",3,"src","alt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],[1,"text-blue-500","hover:underline",3,"routerLink"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by start date"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by end date"],["mat-header-cell",""],[1,"flex","space-x-1"],["mat-icon-button","",1,"small-icon-button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"app-breadcrumb"),o.TgZ(2,"app-blanket"),o.TgZ(3,"section",1),o.TgZ(4,"h2",2),o._uU(5," Project "),o.qZA(),o.TgZ(6,"app-button-ui",3),o.NdJ("click",function(){return i.openDialog()}),o._uU(7," New Project "),o.qZA(),o.qZA(),o.TgZ(8,"div",4),o.TgZ(9,"table",5),o.NdJ("matSortChange",function(s){return i.announceSortChange(s)}),o.ynx(10,6),o.YNc(11,xhe,2,0,"th",7),o.YNc(12,Ahe,2,2,"td",8),o.BQk(),o.ynx(13,9),o.YNc(14,Dhe,2,0,"th",10),o.YNc(15,The,3,4,"td",8),o.BQk(),o.ynx(16,11),o.YNc(17,Ihe,2,0,"th",12),o.YNc(18,Mhe,2,1,"td",8),o.BQk(),o.ynx(19,13),o.YNc(20,khe,2,0,"th",14),o.YNc(21,Ohe,3,3,"td",8),o.BQk(),o.ynx(22,15),o.YNc(23,Rhe,2,0,"th",16),o.YNc(24,Nhe,3,3,"td",8),o.BQk(),o.ynx(25,17),o.YNc(26,Phe,2,0,"th",18),o.YNc(27,Fhe,8,0,"td",8),o.BQk(),o.YNc(28,Lhe,1,0,"tr",19),o.YNc(29,Bhe,1,0,"tr",20),o.qZA(),o._UZ(30,"mat-paginator",21),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(9),o.Q6J("dataSource",i.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(4,Vhe)))},directives:[V1,G$,zE,pF,HA,cM,lM,aM,mF,gF,Q1,uM,_4,dM,C,Uh,q1,_F,yF],pipes:[Ys],styles:[""]}),n})(),jhe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-project-detail"]],decls:35,vars:0,consts:[[1,"container-fluid"],[1,"row","ps-3"],[1,"row","px-3"],[1,"col-md-8","col-sm-12"],[1,"block-02"],[1,"bl-header","p-3","m-0","border-bottom"],[1,"bl-body","p-3"],[1,"row"],[1,"col-md-6"],[1,"row","py-2"],[1,"col-md-4","fw-bold","text-end"],[1,"col-md-8"],[1,"btn","rounded-pill","btn-primary","btn-sm"],[1,"bl-footer"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"app-breadcrumb"),o.qZA(),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"header",5),o.TgZ(7,"h2"),o._uU(8,"Project Name will be placed right here"),o.qZA(),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"div",7),o.TgZ(11,"div",8),o.TgZ(12,"div",9),o.TgZ(13,"div",10),o._uU(14," Status: "),o.qZA(),o.TgZ(15,"div",11),o.TgZ(16,"span",12),o._uU(17,"Active"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"div",9),o.TgZ(19,"div",10),o._uU(20,"Client:"),o.qZA(),o.TgZ(21,"div",11),o._uU(22,"Link to a client page"),o.qZA(),o.qZA(),o.TgZ(23,"div",9),o.TgZ(24,"div",10),o._uU(25,"Start date:"),o.qZA(),o.TgZ(26,"div",11),o._uU(27,"12/12/2021"),o.qZA(),o.qZA(),o.TgZ(28,"div",9),o.TgZ(29,"div",10),o._uU(30,"Closing date:"),o.qZA(),o.TgZ(31,"div",11),o._uU(32,"02/12/2022"),o.qZA(),o.qZA(),o.qZA(),o._UZ(33,"div",8),o.qZA(),o.qZA(),o._UZ(34,"footer",13),o.qZA(),o.qZA(),o.qZA(),o.qZA())},directives:[V1],styles:[""]}),n})(),T3=(()=>{class n{constructor(e){this.firestore=e}getTasks(){return this.firestore.collection("tasks").valueChanges({idField:"id"}).pipe((0,It.U)(e=>e.map(i=>{var r,s;return Object.assign(Object.assign({},i),{startDate:null===(r=null==i?void 0:i.startDate)||void 0===r?void 0:r.toDate(),endDate:null===(s=null==i?void 0:i.endDate)||void 0===s?void 0:s.toDate()})})))}addTask(e){return(0,$n.D)(this.firestore.collection("tasks").add(e))}updateTask(e,i){return(0,$n.D)(this.firestore.collection("tasks").doc(e).update(i))}deleteTask(e){return(0,$n.D)(this.firestore.collection("tasks").doc(e).delete())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(FE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I3=(()=>{class n{transform(e){return null==e?"":e+"%"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"percentage",type:n,pure:!0}),n})();function Hhe(n,t){if(1&n&&(o.TgZ(0,"mat-option",32),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function qhe(n,t){if(1&n&&(o.TgZ(0,"mat-option",32),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function zhe(n,t){if(1&n&&(o.TgZ(0,"mat-option",32),o._uU(1),o.ALo(2,"percentage"),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.value),o.xp6(1),o.hij(" ",o.lcZ(2,2,e.value)," ")}}let Ghe=(()=>{class n{constructor(e,i,r,s,a){this.fb=e,this.taskService=i,this.projectService=r,this.dialogRef=s,this.data=a,this.projects=[],this.tasks=[],this.percentageParams=C$,this.taskForm=this.fb.group({name:["",ro.required],project:["",ro.required],dueDate:[""],status:["",ro.required],detail:["",ro.required],startDate:[""],endDate:[""],numberOfDays:[{value:"",disabled:!0}],priority:[""],parentTask:[""],loe:[""],percentageCompletion:[""],taskNumber:[""]})}ngOnInit(){this.projectService.getProjects().subscribe(e=>{var i;this.projects=e,this.data.projectId&&(null===(i=this.taskForm.get("project"))||void 0===i||i.setValue(this.data.projectId))}),this.taskService.getTasks().subscribe(e=>{this.tasks=e})}calculateDays(){var e,i,r;const s=null===(e=this.taskForm.get("startDate"))||void 0===e?void 0:e.value,a=null===(i=this.taskForm.get("endDate"))||void 0===i?void 0:i.value;if(s&&a){const u=new Date(s),f=new Date(a),b=Math.abs(f.getTime()-u.getTime()),x=Math.ceil(b/864e5);null===(r=this.taskForm.get("numberOfDays"))||void 0===r||r.setValue(x+1)}}onSubmit(){if(this.taskForm.valid){const e=Object.assign(Object.assign({},this.taskForm.value),{taskNumber:Math.floor(1e9+9e9*Math.random()).toString()});this.taskService.addTask(e).subscribe(()=>{this.dialogRef.close()})}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(MC),o.Y36(T3),o.Y36(hO),o.Y36(o0),o.Y36(QA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-new-task"]],decls:84,vars:9,consts:[[1,"p-4","pb-0","h-100","flex","flex-col","gap-y-2",3,"formGroup","ngSubmit"],[1,"flex","justify-between","items-center"],[1,"grow","flex-col","gap-y-2"],[1,"flex","space-x-6"],["appearance","fill",1,"w-100"],["matInput","","formControlName","name","required",""],["formControlName","project","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","parentTask"],["matInput","","formControlName","startDate",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateChange"],["endPicker",""],["matInput","","formControlName","numberOfDays"],["formControlName","status","required",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["formControlName","priority"],["value","Low"],["value","Medium"],["value","High"],["value","Critical"],["matInput","","formControlName","loe"],["formControlName","percentageCompletion"],["rows","10","matInput","","formControlName","detail"],[1,"flex","pt-2","pb-2","items-end","justify-end","space-x-4"],["size","small","color","light",3,"click"],["size","medium","type","submit",3,"disabled"],[3,"value"]],template:function(e,i){if(1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(1,"div",1),o.TgZ(2,"h2"),o._uU(3,"New Task:"),o.qZA(),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"div",3),o.TgZ(6,"mat-form-field",4),o.TgZ(7,"mat-label"),o._uU(8,"Task Name: "),o.qZA(),o._UZ(9,"input",5),o.qZA(),o.TgZ(10,"mat-form-field",4),o.TgZ(11,"mat-label"),o._uU(12,"Project"),o.qZA(),o.TgZ(13,"mat-select",6),o.YNc(14,Hhe,2,2,"mat-option",7),o.qZA(),o.qZA(),o.TgZ(15,"mat-form-field",4),o.TgZ(16,"mat-label"),o._uU(17,"Parent Task"),o.qZA(),o.TgZ(18,"mat-select",8),o.YNc(19,qhe,2,2,"mat-option",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",3),o.TgZ(21,"mat-form-field",4),o.TgZ(22,"mat-label"),o._uU(23,"Start Date"),o.qZA(),o.TgZ(24,"input",9),o.NdJ("dateChange",function(){return i.calculateDays()}),o.qZA(),o._UZ(25,"mat-datepicker-toggle",10),o._UZ(26,"mat-datepicker",null,11),o.qZA(),o.TgZ(28,"mat-form-field",4),o.TgZ(29,"mat-label"),o._uU(30,"End Date"),o.qZA(),o.TgZ(31,"input",12),o.NdJ("dateChange",function(){return i.calculateDays()}),o.qZA(),o._UZ(32,"mat-datepicker-toggle",10),o._UZ(33,"mat-datepicker",null,13),o.qZA(),o.TgZ(35,"mat-form-field",4),o.TgZ(36,"mat-label"),o._uU(37,"Number of Days"),o.qZA(),o._UZ(38,"input",14),o.qZA(),o.qZA(),o.TgZ(39,"div",3),o.TgZ(40,"mat-form-field",4),o.TgZ(41,"mat-label"),o._uU(42,"Status"),o.qZA(),o.TgZ(43,"mat-select",15),o.TgZ(44,"mat-option",16),o._uU(45,"Not Start"),o.qZA(),o.TgZ(46,"mat-option",17),o._uU(47,"On Going"),o.qZA(),o.TgZ(48,"mat-option",18),o._uU(49,"Completed"),o.qZA(),o.TgZ(50,"mat-option",19),o._uU(51,"On Hold"),o.qZA(),o.TgZ(52,"mat-option",20),o._uU(53,"Cancelled"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(54,"mat-form-field",4),o.TgZ(55,"mat-label"),o._uU(56,"Priority"),o.qZA(),o.TgZ(57,"mat-select",21),o.TgZ(58,"mat-option",22),o._uU(59,"Low"),o.qZA(),o.TgZ(60,"mat-option",23),o._uU(61,"Medium"),o.qZA(),o.TgZ(62,"mat-option",24),o._uU(63,"High"),o.qZA(),o.TgZ(64,"mat-option",25),o._uU(65,"Critical"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(66,"mat-form-field",4),o.TgZ(67,"mat-label"),o._uU(68,"Level of Effort (LOE)"),o.qZA(),o._UZ(69,"input",26),o.qZA(),o.TgZ(70,"mat-form-field",4),o.TgZ(71,"mat-label"),o._uU(72,"Percentage of Completion"),o.qZA(),o.TgZ(73,"mat-select",27),o.YNc(74,zhe,3,4,"mat-option",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(75,"mat-form-field",4),o.TgZ(76,"mat-label"),o._uU(77,"Task Detail"),o.qZA(),o._UZ(78,"textarea",28),o.qZA(),o.qZA(),o.TgZ(79,"div",29),o.TgZ(80,"app-button-ui",30),o.NdJ("click",function(){return i.onCancel()}),o._uU(81,"Cancel"),o.qZA(),o.TgZ(82,"app-button-ui",31),o._uU(83,"Create Task"),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(27),s=o.MAs(34);o.Q6J("formGroup",i.taskForm),o.xp6(14),o.Q6J("ngForOf",i.projects),o.xp6(5),o.Q6J("ngForOf",i.tasks),o.xp6(5),o.Q6J("matDatepicker",r),o.xp6(1),o.Q6J("for",r),o.xp6(6),o.Q6J("matDatepicker",s),o.xp6(1),o.Q6J("for",s),o.xp6(42),o.Q6J("ngForOf",i.percentageParams),o.xp6(8),o.Q6J("disabled",i.taskForm.invalid)}},directives:[xy,wg,Np,e0,Py,GC,_d,Op,Vb,yd,YC,Wt,jE,uO,F1,lO,Xb,zE],pipes:[I3],styles:[""]}),n})(),$he=(()=>{class n{constructor(e){this.firestore=e}addComment(e,i){const r={taskId:e,comment:i,timestamp:new Date};return(0,$n.D)(this.firestore.collection("comments").add(r))}getComments(e){return this.firestore.collection("comments",i=>i.where("taskId","==",e).orderBy("timestamp")).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(FE))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zhe(n,t){1&n&&o.Hsn(0)}const $$=["*"];function Whe(n,t){}const Yhe=function(n){return{animationDuration:n}},Khe=function(n,t){return{value:n,params:t}},Qhe=["tabListContainer"],Jhe=["tabList"],Xhe=["tabListInner"],efe=["nextPaginator"],tfe=["previousPaginator"],nfe=["tabBodyWrapper"],ife=["tabHeader"];function rfe(n,t){}function sfe(n,t){if(1&n&&o.YNc(0,rfe,0,0,"ng-template",9),2&n){const e=o.oxw().$implicit;o.Q6J("cdkPortalOutlet",e.templateLabel)}}function ofe(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.Oqu(e.textLabel)}}function afe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){const r=o.CHM(e),s=r.$implicit,a=r.index,u=o.oxw(),f=o.MAs(1);return u._handleClick(s,f,a)})("cdkFocusChange",function(r){const a=o.CHM(e).index;return o.oxw()._tabFocusChanged(r,a)}),o.TgZ(1,"div",7),o.YNc(2,sfe,1,1,"ng-template",8),o.YNc(3,ofe,1,1,"ng-template",8),o.qZA(),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.ekj("mat-tab-label-active",r.selectedIndex==i),o.Q6J("id",r._getTabLabelId(i))("disabled",e.disabled)("matRippleDisabled",e.disabled||r.disableRipple),o.uIk("tabIndex",r._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),o.xp6(2),o.Q6J("ngIf",e.templateLabel),o.xp6(1),o.Q6J("ngIf",!e.templateLabel)}}function lfe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-tab-body",10),o.NdJ("_onCentered",function(){return o.CHM(e),o.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return o.CHM(e),o.oxw()._setTabBodyWrapperHeight(r)}),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.ekj("mat-tab-body-active",r.selectedIndex===i),o.Q6J("id",r._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration),o.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const cfe=new o.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let Z$=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=s}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(cfe),o.Y36(ur,8))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const dfe=new o.OlP("MatTabContent"),hfe=new o.OlP("MatTabLabel"),ffe=new o.OlP("MAT_TAB"),pfe=Fg(class{}),W$=new o.OlP("MAT_TAB_GROUP");let Y$=(()=>{class n extends pfe{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new kt.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new zA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(W$,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,hfe,5),o.Suo(r,dfe,7,o.Rgc)),2&e){let s;o.iGM(s=o.CRH())&&(i.templateLabel=s.first),o.iGM(s=o.CRH())&&(i._explicitContent=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,7),2&e){let r;o.iGM(r=o.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o._Bn([{provide:ffe,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:$$,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.YNc(0,Zhe,1,0,"ng-template"))},encapsulation:2}),n})();const mfe={translateTab:Wi("translateTab",[Qn("center, void, left-origin-center, right-origin-center",Pt({transform:"none"})),Qn("left",Pt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Qn("right",Pt({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),kn("* => left, * => right, left => center, right => center",Kn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),kn("void => left-origin-center",[Pt({transform:"translate3d(-100%, 0, 0)"}),Kn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),kn("void => right-origin-center",[Pt({transform:"translate3d(100%, 0, 0)"}),Kn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let gfe=(()=>{class n extends r0{constructor(e,i,r,s){super(e,i,s),this._host=r,this._centeringSub=On.w0.EMPTY,this._leavingSub=On.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Bi(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36((0,o.Gpc)(()=>K$)),o.Y36(ue))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[o.qOj]}),n})(),_fe=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=On.w0.EMPTY,this._translateTabComplete=new kt.x,this._onCentering=new o.vpe,this._beforeCentering=new o.vpe,this._afterLeavingCenter=new o.vpe,this._onCentered=new o.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(Yb((s,a)=>s.fromState===a.fromState&&s.toState===a.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(cs,8),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),K$=(()=>{class n extends _fe{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(cs,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&o.Gf(r0,5),2&e){let r;o.iGM(r=o.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("@translateTab.start",function(s){return i._onTranslateTabStarted(s)})("@translateTab.done",function(s){return i._translateTabComplete.next(s)}),o.YNc(2,Whe,0,0,"ng-template",2),o.qZA()),2&e&&o.Q6J("@translateTab",o.WLB(3,Khe,i._position,o.VKq(1,Yhe,i.animationDuration)))},directives:[gfe],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[mfe.translateTab]}}),n})();const Q$=new o.OlP("MAT_TABS_CONFIG"),yfe=Fg(class{});let J$=(()=>{class n extends yfe{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(o.uIk("aria-disabled",!!i.disabled),o.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[o.qOj]}),n})();const X$=Pp({passive:!0});let wfe=(()=>{class n{constructor(e,i,r,s,a,u,f){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=a,this._platform=u,this._animationMode=f,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new kt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new kt.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.vpe,this.indexFocused=new o.vpe,a.runOutsideAngular(()=>{Ny(e.nativeElement,"mouseleave").pipe(bn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Ya(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Ny(this._previousPaginator.nativeElement,"touchstart",X$).pipe(bn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ny(this._nextPaginator.nativeElement,"touchstart",X$).pipe(bn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Ct("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new UC(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(r):r(),(0,er.T)(e,i,this._items.changes).pipe(bn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(r)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(bn(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!$o(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=i.elementRef.nativeElement;let u,f;"ltr"==this._getLayoutDirection()?(u=s,f=u+a):(f=this._tabListInner.nativeElement.offsetWidth-s,u=f-a);const b=this.scrollDistance,x=this.scrollDistance+r;u<b?this.scrollDistance-=b-u+60:f>x&&(this.scrollDistance+=f-x+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),QP(650,100).pipe(bn((0,er.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(e);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(n0),o.Y36(cs,8),o.Y36(o.R0b),o.Y36(zr),o.Y36(ur,8))},n.\u0275dir=o.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),Cfe=(()=>{class n extends wfe{constructor(e,i,r,s,a,u,f){super(e,i,r,s,a,u,f),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=jt(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(n0),o.Y36(cs,8),o.Y36(o.R0b),o.Y36(zr),o.Y36(ur,8))},n.\u0275dir=o.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[o.qOj]}),n})(),Efe=(()=>{class n extends Cfe{constructor(e,i,r,s,a,u,f){super(e,i,r,s,a,u,f)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(n0),o.Y36(cs,8),o.Y36(o.R0b),o.Y36(zr),o.Y36(ur,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,J$,4),2&e){let s;o.iGM(s=o.CRH())&&(i._items=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(Z$,7),o.Gf(Qhe,7),o.Gf(Jhe,7),o.Gf(Xhe,7),o.Gf(efe,5),o.Gf(tfe,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._inkBar=r.first),o.iGM(r=o.CRH())&&(i._tabListContainer=r.first),o.iGM(r=o.CRH())&&(i._tabList=r.first),o.iGM(r=o.CRH())&&(i._tabListInner=r.first),o.iGM(r=o.CRH())&&(i._nextPaginator=r.first),o.iGM(r=o.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.qOj],ngContentSelectors:$$,decls:14,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),o._UZ(2,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.NdJ("keydown",function(s){return i._handleKeydown(s)}),o.TgZ(5,"div",5,6),o.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),o.TgZ(7,"div",7,8),o.Hsn(9),o.qZA(),o._UZ(10,"mat-ink-bar"),o.qZA(),o.qZA(),o.TgZ(11,"div",9,10),o.NdJ("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),o._UZ(13,"div",2),o.qZA()),2&e&&(o.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),o.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple),o.xp6(5),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),o.xp6(6),o.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),o.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},directives:[jp,SA,Z$],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),xfe=0;class Afe{}const Dfe=Oy(Ry(class{constructor(n){this._elementRef=n}}),"primary");let Sfe=(()=>{class n extends Dfe{constructor(e,i,r,s){var a;super(e),this._changeDetectorRef=i,this._animationMode=s,this._tabs=new o.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=On.w0.EMPTY,this._tabLabelSubscription=On.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.vpe,this.focusChange=new o.vpe,this.animationDone=new o.vpe,this.selectedTabChange=new o.vpe(!0),this._groupId=xfe++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(a=null==r?void 0:r.contentTabIndex)&&void 0!==a?a:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=jt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Ya(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Ya(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const i=this._tabs.toArray();for(let r=0;r<i.length;r++)if(i[r].isActive){this._indexToSelect=this._selectedIndex=r;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Bi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new Afe;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,er.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){return e.disabled?null:this.selectedIndex===i?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Q$,8),o.Y36(ur,8))},n.\u0275dir=o.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.qOj]}),n})(),Tfe=(()=>{class n extends Sfe{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Q$,8),o.Y36(ur,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Y$,5),2&e){let s;o.iGM(s=o.CRH())&&(i._allTabs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(nfe,5),o.Gf(ife,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._tabBodyWrapper=r.first),o.iGM(r=o.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o._Bn([{provide:W$,useExisting:n}]),o.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-tab-header",0,1),o.NdJ("indexFocused",function(s){return i._focusChanged(s)})("selectFocusedIndex",function(s){return i.selectedIndex=s}),o.YNc(2,afe,4,14,"div",2),o.qZA(),o.TgZ(3,"div",3,4),o.YNc(5,lfe,1,9,"mat-tab-body",5),o.qZA()),2&e&&(o.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),o.xp6(2),o.Q6J("ngForOf",i._tabs),o.xp6(1),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),o.xp6(2),o.Q6J("ngForOf",i._tabs))},directives:[Efe,Wt,J$,jp,Up,vt,r0,K$],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),Ife=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Te,Zn,Z1,zC,RC,Qb],Zn]}),n})();const vS=function(n,t){return n===t||n!=n&&t!=t},fO=function(n,t){for(var e=n.length;e--;)if(vS(n[e][0],t))return e;return-1};var Pfe=Array.prototype.splice;function GE(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}GE.prototype.clear=function(){this.__data__=[],this.size=0},GE.prototype.delete=function(n){var t=this.__data__,e=fO(t,n);return!(e<0||(e==t.length-1?t.pop():Pfe.call(t,e,1),--this.size,0))},GE.prototype.get=function(n){var t=this.__data__,e=fO(t,n);return e<0?void 0:t[e][1]},GE.prototype.has=function(n){return fO(this.__data__,n)>-1},GE.prototype.set=function(n,t){var e=this.__data__,i=fO(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const pO=GE,tZ="object"==typeof global&&global&&global.Object===Object&&global;var Xfe="object"==typeof self&&self&&self.Object===Object&&self;const em=tZ||Xfe||Function("return this")(),hv=em.Symbol;var nZ=Object.prototype,npe=nZ.hasOwnProperty,ipe=nZ.toString,bS=hv?hv.toStringTag:void 0;var ape=Object.prototype.toString;var iZ=hv?hv.toStringTag:void 0;const $E=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":iZ&&iZ in Object(n)?function(n){var t=npe.call(n,bS),e=n[bS];try{n[bS]=void 0;var i=!0}catch(s){}var r=ipe.call(n);return i&&(t?n[bS]=e:delete n[bS]),r}(n):function(n){return ape.call(n)}(n)},fv=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},M3=function(n){if(!fv(n))return!1;var t=$E(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},k3=em["__core-js_shared__"];var rZ=function(){var n=/[^.]+$/.exec(k3&&k3.keys&&k3.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var Epe=Function.prototype.toString;const V0=function(n){if(null!=n){try{return Epe.call(n)}catch(t){}try{return n+""}catch(t){}}return""};var Dpe=/^\[object .+?Constructor\]$/,kpe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Rpe=function(n){return!(!fv(n)||function(n){return!!rZ&&rZ in n}(n))&&(M3(n)?kpe:Dpe).test(V0(n))},U0=function(n,t){var e=function(n,t){return null==n?void 0:n[t]}(n,t);return Rpe(e)?e:void 0},wS=U0(em,"Map"),CS=U0(Object,"create");var Gpe=Object.prototype.hasOwnProperty;var Ype=Object.prototype.hasOwnProperty;function ZE(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}ZE.prototype.clear=function(){this.__data__=CS?CS(null):{},this.size=0},ZE.prototype.delete=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},ZE.prototype.get=function(n){var t=this.__data__;if(CS){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return Gpe.call(t,n)?t[n]:void 0},ZE.prototype.has=function(n){var t=this.__data__;return CS?void 0!==t[n]:Ype.call(t,n)},ZE.prototype.set=function(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=CS&&void 0===t?"__lodash_hash_undefined__":t,this};const sZ=ZE,mO=function(n,t){var e=n.__data__;return function(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function WE(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}WE.prototype.clear=function(){this.size=0,this.__data__={hash:new sZ,map:new(wS||pO),string:new sZ}},WE.prototype.delete=function(n){var t=mO(this,n).delete(n);return this.size-=t?1:0,t},WE.prototype.get=function(n){return mO(this,n).get(n)},WE.prototype.has=function(n){return mO(this,n).has(n)},WE.prototype.set=function(n,t){var e=mO(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const oZ=WE;function YE(n){var t=this.__data__=new pO(n);this.size=t.size}YE.prototype.clear=function(){this.__data__=new pO,this.size=0},YE.prototype.delete=function(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},YE.prototype.get=function(n){return this.__data__.get(n)},YE.prototype.has=function(n){return this.__data__.has(n)},YE.prototype.set=function(n,t){var e=this.__data__;if(e instanceof pO){var i=e.__data__;if(!wS||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new oZ(i)}return e.set(n,t),this.size=e.size,this};const ES=YE;var _me=function(){try{var n=U0(Object,"defineProperty");return n({},"",{}),n}catch(t){}}();const gO=_me,O3=function(n,t,e){"__proto__"==t&&gO?gO(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},R3=function(n,t,e){(void 0!==e&&!vS(n[t],e)||void 0===e&&!(t in n))&&O3(n,t,e)};const Cme=function(t,e,i){for(var r=-1,s=Object(t),a=i(t),u=a.length;u--;){var f=a[++r];if(!1===e(s[f],f,s))break}return t};var aZ="object"==typeof exports&&exports&&!exports.nodeType&&exports,lZ=aZ&&"object"==typeof module&&module&&!module.nodeType&&module,cZ=lZ&&lZ.exports===aZ?em.Buffer:void 0,uZ=cZ?cZ.allocUnsafe:void 0;const dZ=function(n,t){if(t)return n.slice();var e=n.length,i=uZ?uZ(e):new n.constructor(e);return n.copy(i),i},_O=em.Uint8Array,N3=function(n){var t=new n.constructor(n.byteLength);return new _O(t).set(new _O(n)),t},hZ=function(n,t){var e=t?N3(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)},fZ=function(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t};var pZ=Object.create,Ime=function(){function n(){}return function(t){if(!fv(t))return{};if(pZ)return pZ(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const Mme=Ime,mZ=function(n,t){return function(e){return n(t(e))}},P3=mZ(Object.getPrototypeOf,Object);var Rme=Object.prototype;const F3=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Rme)},gZ=function(n){return"function"!=typeof n.constructor||F3(n)?{}:Mme(P3(n))},Xg=function(n){return null!=n&&"object"==typeof n},_Z=function(n){return Xg(n)&&"[object Arguments]"==$E(n)};var yZ=Object.prototype,Vme=yZ.hasOwnProperty,Ume=yZ.propertyIsEnumerable,jme=_Z(function(){return arguments}())?_Z:function(n){return Xg(n)&&Vme.call(n,"callee")&&!Ume.call(n,"callee")};const L3=jme,j0=Array.isArray,vZ=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},yO=function(n){return null!=n&&vZ(n.length)&&!M3(n)};var bZ="object"==typeof exports&&exports&&!exports.nodeType&&exports,wZ=bZ&&"object"==typeof module&&module&&!module.nodeType&&module,CZ=wZ&&wZ.exports===bZ?em.Buffer:void 0;const xS=(CZ?CZ.isBuffer:void 0)||function(){return!1};var EZ=Function.prototype.toString,nge=Object.prototype.hasOwnProperty,ige=EZ.call(Object);var Sr={};Sr["[object Float32Array]"]=Sr["[object Float64Array]"]=Sr["[object Int8Array]"]=Sr["[object Int16Array]"]=Sr["[object Int32Array]"]=Sr["[object Uint8Array]"]=Sr["[object Uint8ClampedArray]"]=Sr["[object Uint16Array]"]=Sr["[object Uint32Array]"]=!0,Sr["[object Arguments]"]=Sr["[object Array]"]=Sr["[object ArrayBuffer]"]=Sr["[object Boolean]"]=Sr["[object DataView]"]=Sr["[object Date]"]=Sr["[object Error]"]=Sr["[object Function]"]=Sr["[object Map]"]=Sr["[object Number]"]=Sr["[object Object]"]=Sr["[object RegExp]"]=Sr["[object Set]"]=Sr["[object String]"]=Sr["[object WeakMap]"]=!1;const B3=function(n){return function(t){return n(t)}};var xZ="object"==typeof exports&&exports&&!exports.nodeType&&exports,AS=xZ&&"object"==typeof module&&module&&!module.nodeType&&module,V3=AS&&AS.exports===xZ&&tZ.process;const KE=function(){try{return AS&&AS.require&&AS.require("util").types||V3&&V3.binding&&V3.binding("util")}catch(t){}}();var AZ=KE&&KE.isTypedArray;const U3=AZ?B3(AZ):function(n){return Xg(n)&&vZ(n.length)&&!!Sr[$E(n)]},j3=function(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var Bge=Object.prototype.hasOwnProperty;const DZ=function(n,t,e){var i=n[t];(!Bge.call(n,t)||!vS(i,e)||void 0===e&&!(t in n))&&O3(n,t,e)},DS=function(n,t,e,i){var r=!e;e||(e={});for(var s=-1,a=t.length;++s<a;){var u=t[s],f=i?i(e[u],n[u],u,e,n):void 0;void 0===f&&(f=n[u]),r?O3(e,u,f):DZ(e,u,f)}return e};var zge=/^(?:0|[1-9]\d*)$/;const SZ=function(n,t){var e=typeof n;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&zge.test(n))&&n>-1&&n%1==0&&n<t};var Zge=Object.prototype.hasOwnProperty;const TZ=function(n,t){var e=j0(n),i=!e&&L3(n),r=!e&&!i&&xS(n),s=!e&&!i&&!r&&U3(n),a=e||i||r||s,u=a?function(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],f=u.length;for(var b in n)(t||Zge.call(n,b))&&(!a||!("length"==b||r&&("offset"==b||"parent"==b)||s&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||SZ(b,f)))&&u.push(b);return u};var Jge=Object.prototype.hasOwnProperty;const e_e=function(n){if(!fv(n))return function(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=F3(n),e=[];for(var i in n)"constructor"==i&&(t||!Jge.call(n,i))||e.push(i);return e},SS=function(n){return yO(n)?TZ(n,!0):e_e(n)},s_e=function(n,t,e,i,r,s,a){var u=j3(n,e),f=j3(t,e),b=a.get(f);if(b)R3(n,e,b);else{var x=s?s(u,f,e+"",n,t,a):void 0,D=void 0===x;if(D){var R=j0(f),B=!R&&xS(f),z=!R&&!B&&U3(f);x=f,R||B||z?j0(u)?x=u:function(n){return Xg(n)&&yO(n)}(u)?x=fZ(u):B?(D=!1,x=dZ(f,!0)):z?(D=!1,x=hZ(f,!0)):x=[]:function(n){if(!Xg(n)||"[object Object]"!=$E(n))return!1;var t=P3(n);if(null===t)return!0;var e=nge.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&EZ.call(e)==ige}(f)||L3(f)?(x=u,L3(u)?x=function(n){return DS(n,SS(n))}(u):(!fv(u)||M3(u))&&(x=gZ(f))):D=!1}D&&(a.set(f,x),r(x,f,i,s,a),a.delete(f)),R3(n,e,x)}},o_e=function IZ(n,t,e,i,r){n!==t&&Cme(t,function(s,a){if(r||(r=new ES),fv(s))s_e(n,t,a,e,IZ,i,r);else{var u=i?i(j3(n,a),s,a+"",n,t,r):void 0;void 0===u&&(u=s),R3(n,a,u)}},SS)},MZ=function(n){return n},c_e=function(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)};var kZ=Math.max;const f_e=function(n){return function(){return n}};var p_e=gO?function(n,t){return gO(n,"toString",{configurable:!0,enumerable:!1,value:f_e(t),writable:!0})}:MZ,y_e=Date.now,b_e=function(n){var t=0,e=0;return function(){var i=y_e(),r=16-(i-e);if(e=i,r>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(p_e);const w_e=b_e,E_e=function(n,t){return w_e(function(n,t,e){return t=kZ(void 0===t?n.length-1:t,0),function(){for(var i=arguments,r=-1,s=kZ(i.length-t,0),a=Array(s);++r<s;)a[r]=i[t+r];r=-1;for(var u=Array(t+1);++r<t;)u[r]=i[r];return u[t]=e(a),c_e(n,this,u)}}(n,t,MZ),n+"")};var S_e=function(n){return E_e(function(t,e){var i=-1,r=e.length,s=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(s=n.length>3&&"function"==typeof s?(r--,s):void 0,a&&function(n,t,e){if(!fv(e))return!1;var i=typeof t;return!!("number"==i?yO(e)&&SZ(t,e.length):"string"==i&&t in e)&&vS(e[t],n)}(e[0],e[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var u=e[i];u&&n(t,u,i)}return t})}(function(n,t,e){o_e(n,t,e)});const pv=S_e;var Qt=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Qt||{});class tm{constructor(t,e,i={}){this.attrName=t,this.keyName=e,this.scope=null!=i.scope?i.scope&Qt.LEVEL|Qt.TYPE&Qt.ATTRIBUTE:Qt.ATTRIBUTE,null!=i.whitelist&&(this.whitelist=i.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}canAdd(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class QE extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}let JE=(()=>{let n=class aU{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,i=!1){if(null==e)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(i){let r=null;try{r=e.parentNode}catch(s){return null}return this.find(r,i)}return null}create(e,i,r){const s=this.query(i);if(null==s)throw new QE(`Unable to create ${i} blot`);const a=s,u=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:a.create(r),f=new a(e,u,r);return aU.blots.set(f.domNode,f),f}find(e,i=!1){return aU.find(e,i)}query(e,i=Qt.ANY){let r;return"string"==typeof e?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:"number"==typeof e?e&Qt.LEVEL&Qt.BLOCK?r=this.types.block:e&Qt.LEVEL&Qt.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(s=>(r=this.classes[s],!!r)),r=r||this.tags[e.tagName]),null==r?null:"scope"in r&&i&Qt.LEVEL&r.scope&&i&Qt.TYPE&r.scope?r:null}register(...e){return e.map(i=>{const r="blotName"in i,s="attrName"in i;if(!r&&!s)throw new QE("Invalid definition");if(r&&"abstract"===i.blotName)throw new QE("Cannot register abstract class");return this.types[r?i.blotName:s?i.attrName:void 0]=i,s?"string"==typeof i.keyName&&(this.attributes[i.keyName]=i):r&&(i.className&&(this.classes[i.className]=i),i.tagName&&(i.tagName=Array.isArray(i.tagName)?i.tagName.map(u=>u.toUpperCase()):i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach(u=>{(null==this.tags[u]||null==i.className)&&(this.tags[u]=i)}))),i})}};return n.blots=new WeakMap,n})();function OZ(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>0===e.indexOf(`${t}-`))}const Gh=class extends tm{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0)}remove(t){OZ(t,this.keyName).forEach(e=>{t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")}value(t){const e=(OZ(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}};function H3(n){const t=n.split("-"),e=t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("");return t[0]+e}const mv=class extends tm{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return!!this.canAdd(t,e)&&(t.style[H3(this.keyName)]=e,!0)}remove(t){t.style[H3(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[H3(this.keyName)];return this.canAdd(t,e)?e:""}},vO=class{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=JE.find(this.domNode);if(null==t)return;const e=tm.keys(this.domNode),i=Gh.keys(this.domNode),r=mv.keys(this.domNode);e.concat(i).concat(r).forEach(s=>{const a=t.scroll.query(s,Qt.ATTRIBUTE);a instanceof tm&&(this.attributes[a.attrName]=a)})}copy(t){Object.keys(this.attributes).forEach(e=>{const i=this.attributes[e].value(this.domNode);t.format(e,i)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}},RZ=class{constructor(t,e){this.scroll=t,this.domNode=e,JE.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(null==this.tagName)throw new QE("Blot definition missing tagName");let e,i;return Array.isArray(this.tagName)?("string"==typeof t?(i=t.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):"number"==typeof t&&(i=t),e="number"==typeof i?document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?document.createElement(i):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){null!=this.parent&&this.parent.removeChild(this),JE.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,i,r){const s=this.isolate(t,e);if(null!=this.scroll.query(i,Qt.BLOT)&&r)s.wrap(i,r);else if(null!=this.scroll.query(i,Qt.ATTRIBUTE)){const a=this.scroll.create(this.statics.scope);s.wrap(a),a.format(i,r)}}insertAt(t,e,i){const r=null==i?this.scroll.create("text",e):this.scroll.create(e,i),s=this.split(t);this.parent.insertBefore(r,s||void 0)}isolate(t,e){const i=this.split(t);if(null==i)throw new Error("Attempt to isolate at end");return i.split(e),i}length(){return 1}offset(t=this.parent){return null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const i="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(t,e){return 0===t?this:this.next}update(t,e){}wrap(t,e){const i="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(i,this.next||void 0),"function"!=typeof i.appendChild)throw new QE(`Cannot wrap ${t}`);return i.appendChild(this),i}};RZ.blotName="abstract";let NZ=RZ;const PZ=class extends NZ{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};PZ.scope=Qt.INLINE_BLOT;const rl=PZ;class k_e{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let i=e();for(;i&&t>0;)t-=1,i=e();return i}contains(t){const e=this.iterator();let i=e();for(;i;){if(i===t)return!0;i=e()}return!1}indexOf(t){const e=this.iterator();let i=e(),r=0;for(;i;){if(i===t)return r;r+=1,i=e()}return-1}insertBefore(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,i=this.head;for(;null!=i;){if(i===t)return e;e+=i.length(),i=i.next}return-1}remove(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return null!=t&&(t=t.next),e}}find(t,e=!1){const i=this.iterator();let r=i();for(;r;){const s=r.length();if(t<s||e&&t===s&&(null==r.next||0!==r.next.length()))return[r,t];t-=s,r=i()}return[null,0]}forEach(t){const e=this.iterator();let i=e();for(;i;)t(i),i=e()}forEachAt(t,e,i){if(e<=0)return;const[r,s]=this.find(t);let a=t-s;const u=this.iterator(r);let f=u();for(;f&&a<t+e;){const b=f.length();t>a?i(f,t-a,Math.min(e,a+b-t)):i(f,0,Math.min(b,t+e-a)),a+=b,f=u()}}map(t){return this.reduce((e,i)=>(e.push(t(i)),e),[])}reduce(t,e){const i=this.iterator();let r=i();for(;r;)e=t(e,r),r=i();return e}}function FZ(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch(i){const r=t.create(Qt.INLINE);return Array.from(n.childNodes).forEach(s=>{r.domNode.appendChild(s)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const $h=(()=>{let n=class Rv extends NZ{constructor(e,i){super(e,i),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=e,Rv.uiClass&&this.uiNode.classList.add(Rv.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new k_e,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const i=FZ(e,this.scroll);this.insertBefore(i,this.children.head||void 0)}catch(i){if(i instanceof QE)return;throw i}})}deleteAt(e,i){if(0===e&&i===this.length())return this.remove();this.children.forEachAt(e,i,(r,s,a)=>{r.deleteAt(s,a)})}descendant(e,i=0){const[r,s]=this.children.find(i);return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,s]:r instanceof Rv?r.descendant(e,s):[null,-1]}descendants(e,i=0,r=Number.MAX_VALUE){let s=[],a=r;return this.children.forEachAt(i,r,(u,f,b)=>{(null==e.blotName&&e(u)||null!=e.blotName&&u instanceof e)&&s.push(u),u instanceof Rv&&(s=s.concat(u.descendants(e,f,a))),a-=b}),s}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(i=>{e||this.statics.allowedChildren.some(r=>i instanceof r)||(i.statics.scope===Qt.BLOCK_BLOT?(null!=i.next&&this.splitAfter(i),null!=i.prev&&this.splitAfter(i.prev),i.parent.unwrap(),e=!0):i instanceof Rv?i.unwrap():i.remove())})}formatAt(e,i,r,s){this.children.forEachAt(e,i,(a,u,f)=>{a.formatAt(u,f,r,s)})}insertAt(e,i,r){const[s,a]=this.children.find(e);if(s)s.insertAt(a,i,r);else{const u=null==r?this.scroll.create("text",i):this.scroll.create(i,r);this.appendChild(u)}}insertBefore(e,i){null!=e.parent&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,i||null),e.parent=this,null!=i&&(r=i.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,i)=>e+i.length(),0)}moveChildren(e,i){this.children.forEach(r=>{e.insertBefore(r,i)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i)}else this.remove()}path(e,i=!1){const[r,s]=this.children.find(e,i),a=[[this,e]];return r instanceof Rv?a.concat(r.path(s,i)):(null!=r&&a.push([r,s]),a)}removeChild(e){this.children.remove(e)}replaceWith(e,i){const r="string"==typeof e?this.scroll.create(e,i):e;return r instanceof Rv&&this.moveChildren(r),super.replaceWith(r)}split(e,i=!1){if(!i){if(0===e)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(s,a,u)=>{const f=s.split(a,i);null!=f&&r.appendChild(f)}),r}splitAfter(e){const i=this.clone();for(;null!=e.next;)i.appendChild(e.next);return this.parent&&this.parent.insertBefore(i,this.next||void 0),i}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,i){const r=[],s=[];e.forEach(a=>{a.target===this.domNode&&"childList"===a.type&&(r.push(...a.addedNodes),s.push(...a.removedNodes))}),s.forEach(a=>{if(null!=a.parentNode&&"IFRAME"!==a.tagName&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(a);null!=u&&(null==u.domNode.parentNode||u.domNode.parentNode===this.domNode)&&u.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,u)=>a===u?0:a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let u=null;null!=a.nextSibling&&(u=this.scroll.find(a.nextSibling));const f=FZ(a,this.scroll);(f.next!==u||null==f.next)&&(null!=f.parent&&f.parent.removeChild(this),this.insertBefore(f,u||void 0))}),this.enforceAllowedChildren()}};return n.uiClass="",n})(),XE=class wx extends $h{static create(t){return super.create(t)}static formats(t,e){const i=e.query(wx.blotName);if(null==i||t.tagName!==i.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new vO(this.domNode)}format(t,e){if(t!==this.statics.blotName||e){const i=this.scroll.query(t,Qt.INLINE);if(null==i)return;i instanceof tm?this.attributes.attribute(i,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}else this.children.forEach(i=>{i instanceof wx||(i=i.wrap(wx.blotName,!0)),this.attributes.copy(i)}),this.unwrap()}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,i,r){null!=this.formats()[i]||this.scroll.query(i,Qt.ATTRIBUTE)?this.isolate(t,e).format(i,r):super.formatAt(t,e,i,r)}optimize(t){super.optimize(t);const e=this.formats();if(0===Object.keys(e).length)return this.unwrap();const i=this.next;i instanceof wx&&i.prev===this&&function(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}(e,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(t,e){const i=super.replaceWith(t,e);return this.attributes.copy(i),i}update(t,e){super.update(t,e),t.some(i=>i.target===this.domNode&&"attributes"===i.type)&&this.attributes.build()}wrap(t,e){const i=super.wrap(t,e);return i instanceof wx&&this.attributes.move(i),i}};XE.allowedChildren=[XE,rl],XE.blotName="inline",XE.scope=Qt.INLINE_BLOT,XE.tagName="SPAN";const q3=XE,ex=class lU extends $h{static create(t){return super.create(t)}static formats(t,e){const i=e.query(lU.blotName);if(null==i||t.tagName!==i.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new vO(this.domNode)}format(t,e){const i=this.scroll.query(t,Qt.BLOCK);null!=i&&(i instanceof tm?this.attributes.attribute(i,e):t!==this.statics.blotName||e?e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e):this.replaceWith(lU.blotName))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,i,r){null!=this.scroll.query(i,Qt.BLOCK)?this.format(i,r):super.formatAt(t,e,i,r)}insertAt(t,e,i){if(null==i||null!=this.scroll.query(e,Qt.INLINE))super.insertAt(t,e,i);else{const r=this.split(t);if(null==r)throw new Error("Attempt to insertAt after block boundaries");{const s=this.scroll.create(e,i);r.parent.insertBefore(s,r)}}}replaceWith(t,e){const i=super.replaceWith(t,e);return this.attributes.copy(i),i}update(t,e){super.update(t,e),t.some(i=>i.target===this.domNode&&"attributes"===i.type)&&this.attributes.build()}};ex.blotName="block",ex.scope=Qt.BLOCK_BLOT,ex.tagName="P",ex.allowedChildren=[q3,ex,rl];const TS=ex,z3=class extends $h{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,i,r){super.formatAt(t,e,i,r),this.enforceAllowedChildren()}insertAt(t,e,i){super.insertAt(t,e,i),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};z3.blotName="container",z3.scope=Qt.BLOCK_BLOT;const bO=z3,Nu=class extends rl{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,i,r){0===t&&e===this.length()?this.format(i,r):super.formatAt(t,e,i,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}},N_e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},tx=class extends $h{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(i=>{this.update(i)}),this.observer.observe(this.domNode,N_e),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const i=this.registry.find(t,e);return i?i.scroll===this?i:e?this.find(i.scroll.domNode.parentNode,!0):null:null}query(t,e=Qt.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),0===t&&e===this.length()?this.children.forEach(i=>{i.remove()}):super.deleteAt(t,e)}formatAt(t,e,i,r){this.update(),super.formatAt(t,e,i,r)}insertAt(t,e,i){this.update(),super.insertAt(t,e,i)}optimize(t=[],e={}){super.optimize(e);const i=e.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)t.push(r.pop());const s=(f,b=!0)=>{null==f||f===this||null!=f.domNode.parentNode&&(i.has(f.domNode)||i.set(f.domNode,[]),b&&s(f.parent))},a=f=>{i.has(f.domNode)&&(f instanceof $h&&f.children.forEach(a),i.delete(f.domNode),f.optimize(e))};let u=t;for(let f=0;u.length>0;f+=1){if(f>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(b=>{const x=this.find(b.target,!0);null!=x&&(x.domNode===b.target&&("childList"===b.type?(s(this.find(b.previousSibling,!1)),Array.from(b.addedNodes).forEach(D=>{const R=this.find(D,!1);s(R,!1),R instanceof $h&&R.children.forEach(B=>{s(B,!1)})})):"attributes"===b.type&&s(x.prev)),s(x))}),this.children.forEach(a),u=Array.from(this.observer.takeRecords()),r=u.slice();r.length>0;)t.push(r.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const i=new WeakMap;t.map(r=>{const s=this.find(r.target,!0);return null==s?null:i.has(s.domNode)?(i.get(s.domNode).push(r),null):(i.set(s.domNode,[r]),s)}).forEach(r=>{null!=r&&r!==this&&i.has(r.domNode)&&r.update(i.get(r.domNode)||[],e)}),e.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),e),this.optimize(t,e)}};tx.blotName="scroll",tx.defaultChild=TS,tx.allowedChildren=[TS,bO],tx.scope=Qt.BLOCK_BLOT,tx.tagName="DIV";const G3=tx,$3=class cK extends rl{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,i){null==i?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,i)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof cK&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(0===t)return this;if(t===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(t,e){t.some(i=>"characterData"===i.type&&i.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};$3.blotName="text",$3.scope=Qt.INLINE_BLOT;const wO=$3;var Mt=G(9965);const V_e=mZ(Object.keys,Object);var j_e=Object.prototype.hasOwnProperty;const Z3=function(n){return yO(n)?TZ(n):function(n){if(!F3(n))return V_e(n);var t=[];for(var e in Object(n))j_e.call(n,e)&&"constructor"!=e&&t.push(e);return t}(n)},LZ=function(){return[]};var X_e=Object.prototype.propertyIsEnumerable,BZ=Object.getOwnPropertySymbols,eye=BZ?function(n){return null==n?[]:(n=Object(n),function(n,t){for(var e=-1,i=null==n?0:n.length,r=0,s=[];++e<i;){var a=n[e];t(a,e,n)&&(s[r++]=a)}return s}(BZ(n),function(t){return X_e.call(n,t)}))}:LZ;const W3=eye,VZ=function(n,t){for(var e=-1,i=t.length,r=n.length;++e<i;)n[r+e]=t[e];return n};var sye=Object.getOwnPropertySymbols?function(n){for(var t=[];n;)VZ(t,W3(n)),n=P3(n);return t}:LZ;const UZ=sye,jZ=function(n,t,e){var i=t(n);return j0(n)?i:VZ(i,e(n))},Y3=function(n){return jZ(n,Z3,W3)},dye=function(n){return jZ(n,SS,UZ)},K3=U0(em,"DataView"),Q3=U0(em,"Promise"),J3=U0(em,"Set"),X3=U0(em,"WeakMap");var HZ="[object Map]",qZ="[object Promise]",zZ="[object Set]",GZ="[object WeakMap]",$Z="[object DataView]",_ye=V0(K3),yye=V0(wS),vye=V0(Q3),bye=V0(J3),wye=V0(X3),H0=$E;(K3&&H0(new K3(new ArrayBuffer(1)))!=$Z||wS&&H0(new wS)!=HZ||Q3&&H0(Q3.resolve())!=qZ||J3&&H0(new J3)!=zZ||X3&&H0(new X3)!=GZ)&&(H0=function(n){var t=$E(n),e="[object Object]"==t?n.constructor:void 0,i=e?V0(e):"";if(i)switch(i){case _ye:return $Z;case yye:return HZ;case vye:return qZ;case bye:return zZ;case wye:return GZ}return t});const IS=H0;var Eye=Object.prototype.hasOwnProperty;var Tye=/\w*$/;var ZZ=hv?hv.prototype:void 0,WZ=ZZ?ZZ.valueOf:void 0;const Xye=function(n,t,e){var i=n.constructor;switch(t){case"[object ArrayBuffer]":return N3(n);case"[object Boolean]":case"[object Date]":return new i(+n);case"[object DataView]":return function(n,t){var e=t?N3(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return hZ(n,e);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(n);case"[object RegExp]":return function(n){var t=new n.constructor(n.source,Tye.exec(n));return t.lastIndex=n.lastIndex,t}(n);case"[object Symbol]":return function(n){return WZ?Object(WZ.call(n)):{}}(n)}};var YZ=KE&&KE.isMap;const rve=YZ?B3(YZ):function(n){return Xg(n)&&"[object Map]"==IS(n)};var KZ=KE&&KE.isSet;const cve=KZ?B3(KZ):function(n){return Xg(n)&&"[object Set]"==IS(n)};var QZ="[object Arguments]",JZ="[object Function]",XZ="[object Object]",pr={};pr[QZ]=pr["[object Array]"]=pr["[object ArrayBuffer]"]=pr["[object DataView]"]=pr["[object Boolean]"]=pr["[object Date]"]=pr["[object Float32Array]"]=pr["[object Float64Array]"]=pr["[object Int8Array]"]=pr["[object Int16Array]"]=pr["[object Int32Array]"]=pr["[object Map]"]=pr["[object Number]"]=pr[XZ]=pr["[object RegExp]"]=pr["[object Set]"]=pr["[object String]"]=pr["[object Symbol]"]=pr["[object Uint8Array]"]=pr["[object Uint8ClampedArray]"]=pr["[object Uint16Array]"]=pr["[object Uint32Array]"]=!0,pr["[object Error]"]=pr[JZ]=pr["[object WeakMap]"]=!1;const Fve=function CO(n,t,e,i,r,s){var a,u=1&t,f=2&t,b=4&t;if(e&&(a=r?e(n,i,r,s):e(n)),void 0!==a)return a;if(!fv(n))return n;var x=j0(n);if(x){if(a=function(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&Eye.call(n,"index")&&(e.index=n.index,e.input=n.input),e}(n),!u)return fZ(n,a)}else{var D=IS(n),R=D==JZ||"[object GeneratorFunction]"==D;if(xS(n))return dZ(n,u);if(D==XZ||D==QZ||R&&!r){if(a=f||R?{}:gZ(n),!u)return f?function(n,t){return DS(n,UZ(n),t)}(n,function(n,t){return n&&DS(t,SS(t),n)}(a,n)):function(n,t){return DS(n,W3(n),t)}(n,function(n,t){return n&&DS(t,Z3(t),n)}(a,n))}else{if(!pr[D])return r?n:{};a=Xye(n,D,u)}}s||(s=new ES);var B=s.get(n);if(B)return B;s.set(n,a),cve(n)?n.forEach(function(ae){a.add(CO(ae,t,e,ae,n,s))}):rve(n)&&n.forEach(function(ae,we){a.set(we,CO(ae,t,e,we,n,s))});var ee=x?void 0:(b?f?dye:Y3:f?SS:Z3)(n);return function(n,t){for(var e=-1,i=null==n?0:n.length;++e<i&&!1!==t(n[e],e,n););}(ee||n,function(ae,we){ee&&(ae=n[we=ae]),DZ(a,we,CO(ae,t,e,we,n,s))}),a},nx=function(n){return Fve(n,5)};function EO(n){var t=-1,e=null==n?0:n.length;for(this.__data__=new oZ;++t<e;)this.add(n[t])}EO.prototype.add=EO.prototype.push=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},EO.prototype.has=function(n){return this.__data__.has(n)};const Gve=EO,Zve=function(n,t){for(var e=-1,i=null==n?0:n.length;++e<i;)if(t(n[e],e,n))return!0;return!1},Yve=function(n,t){return n.has(t)},e7=function(n,t,e,i,r,s){var a=1&e,u=n.length,f=t.length;if(u!=f&&!(a&&f>u))return!1;var b=s.get(n),x=s.get(t);if(b&&x)return b==t&&x==n;var D=-1,R=!0,B=2&e?new Gve:void 0;for(s.set(n,t),s.set(t,n);++D<u;){var z=n[D],ee=t[D];if(i)var ae=a?i(ee,z,D,t,n,s):i(z,ee,D,n,t,s);if(void 0!==ae){if(ae)continue;R=!1;break}if(B){if(!Zve(t,function(we,qe){if(!Yve(B,qe)&&(z===we||r(z,we,e,i,s)))return B.push(qe)})){R=!1;break}}else if(z!==ee&&!r(z,ee,e,i,s)){R=!1;break}}return s.delete(n),s.delete(t),R},ebe=function(n){var t=-1,e=Array(n.size);return n.forEach(function(i,r){e[++t]=[r,i]}),e},nbe=function(n){var t=-1,e=Array(n.size);return n.forEach(function(i){e[++t]=i}),e};var t7=hv?hv.prototype:void 0,e6=t7?t7.valueOf:void 0;var bbe=Object.prototype.hasOwnProperty;var n7="[object Arguments]",r7="[object Array]",xO="[object Object]",s7=Object.prototype.hasOwnProperty;const Dbe=function(n,t,e,i,r,s){var a=j0(n),u=j0(t),f=a?r7:IS(n),b=u?r7:IS(t),x=(f=f==n7?xO:f)==xO,D=(b=b==n7?xO:b)==xO,R=f==b;if(R&&xS(n)){if(!xS(t))return!1;a=!0,x=!1}if(R&&!x)return s||(s=new ES),a||U3(n)?e7(n,t,e,i,r,s):function(n,t,e,i,r,s,a){switch(e){case"[object DataView]":if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=t.byteLength||!s(new _O(n),new _O(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vS(+n,+t);case"[object Error]":return n.name==t.name&&n.message==t.message;case"[object RegExp]":case"[object String]":return n==t+"";case"[object Map]":var u=ebe;case"[object Set]":if(u||(u=nbe),n.size!=t.size&&!(1&i))return!1;var b=a.get(n);if(b)return b==t;i|=2,a.set(n,t);var x=e7(u(n),u(t),i,r,s,a);return a.delete(n),x;case"[object Symbol]":if(e6)return e6.call(n)==e6.call(t)}return!1}(n,t,f,e,i,r,s);if(!(1&e)){var B=x&&s7.call(n,"__wrapped__"),z=D&&s7.call(t,"__wrapped__");if(B||z){var ee=B?n.value():n,ae=z?t.value():t;return s||(s=new ES),r(ee,ae,e,i,s)}}return!!R&&(s||(s=new ES),function(n,t,e,i,r,s){var a=1&e,u=Y3(n),f=u.length;if(f!=Y3(t).length&&!a)return!1;for(var D=f;D--;){var R=u[D];if(!(a?R in t:bbe.call(t,R)))return!1}var B=s.get(n),z=s.get(t);if(B&&z)return B==t&&z==n;var ee=!0;s.set(n,t),s.set(t,n);for(var ae=a;++D<f;){var we=n[R=u[D]],qe=t[R];if(i)var Ye=a?i(qe,we,R,t,n,s):i(we,qe,R,n,t,s);if(!(void 0===Ye?we===qe||r(we,qe,e,i,s):Ye)){ee=!1;break}ae||(ae="constructor"==R)}if(ee&&!ae){var at=n.constructor,Jt=t.constructor;at!=Jt&&"constructor"in n&&"constructor"in t&&!("function"==typeof at&&at instanceof at&&"function"==typeof Jt&&Jt instanceof Jt)&&(ee=!1)}return s.delete(n),s.delete(t),ee}(n,t,e,i,r,s))},Sbe=function o7(n,t,e,i,r){return n===t||(null==n||null==t||!Xg(n)&&!Xg(t)?n!=n&&t!=t:Dbe(n,t,e,i,o7,r))},t6=function(n,t){return Sbe(n,t)},e_=(()=>{class n extends Nu{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}return n.blotName="break",n.tagName="BR",n})();class Zh extends wO{}const Ibe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function AO(n){return n.replace(/[&<>"']/g,t=>Ibe[t])}const Mv=class extends q3{static compare(t,e){const i=Mv.order.indexOf(t),r=Mv.order.indexOf(e);return i>=0||r>=0?i-r:t===e?0:t<e?-1:1}formatAt(t,e,i,r){if(Mv.compare(this.statics.blotName,i)<0&&this.scroll.query(i,Qt.BLOT)){const s=this.isolate(t,e);r&&s.wrap(i,r)}else super.formatAt(t,e,i,r)}optimize(t){if(super.optimize(t),this.parent instanceof Mv&&Mv.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};let DO=Mv;Ot(DO,"allowedChildren",[Mv,e_,Nu,Zh]),Ot(DO,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);const gv=DO;let Pu=(()=>{class n extends TS{constructor(){super(...arguments),Ot(this,"cache",{})}delta(){return null==this.cache.delta&&(this.cache.delta=l7(this)),this.cache.delta}deleteAt(e,i){super.deleteAt(e,i),this.cache={}}formatAt(e,i,r,s){i<=0||(this.scroll.query(r,Qt.BLOCK)?e+i===this.length()&&this.format(r,s):super.formatAt(e,Math.min(i,this.length()-e-1),r,s),this.cache={})}insertAt(e,i,r){if(null!=r)return super.insertAt(e,i,r),void(this.cache={});if(0===i.length)return;const s=i.split("\n"),a=s.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?super.insertAt(Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let u=this;s.reduce((f,b)=>(u=u.split(f,!0),u.insertAt(0,b),b.length),e+a.length)}insertBefore(e,i){const{head:r}=this.children;super.insertBefore(e,i),r instanceof e_&&r.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(e,i){super.moveChildren(e,i),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&(0===e||e>=this.length()-1)){const s=this.clone();return 0===e?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const r=super.split(e,i);return this.cache={},r}}return n.blotName="block",n.tagName="P",n.defaultChild=e_,n.allowedChildren=[e_,gv,Nu,Zh],n})();class Dd extends Nu{attach(){super.attach(),this.attributes=new vO(this.domNode)}delta(){return(new Mt).insert(this.value(),Kr(Kr({},this.formats()),this.attributes.values()))}format(t,e){const i=this.scroll.query(t,Qt.BLOCK_ATTRIBUTE);null!=i&&this.attributes.attribute(i,e)}formatAt(t,e,i,r){this.format(i,r)}insertAt(t,e,i){if(null!=i)return void super.insertAt(t,e,i);const r=e.split("\n"),s=r.pop(),a=r.map(f=>{const b=this.scroll.create(Pu.blotName);return b.insertAt(0,f),b}),u=this.split(t);a.forEach(f=>{this.parent.insertBefore(f,u)}),s&&this.parent.insertBefore(this.scroll.create("text",s),u)}}function l7(n){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.descendants(rl).reduce((e,i)=>0===i.length()?e:e.insert(i.value(),Sd(i,{},t)),new Mt).insert("\n",Sd(n))}function Sd(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==n||("formats"in n&&"function"==typeof n.formats&&(t=Kr(Kr({},t),n.formats()),e&&delete t["code-token"]),null==n.parent||"scroll"===n.parent.statics.blotName||n.parent.statics.scope!==n.statics.scope)?t:Sd(n.parent,t,e)}Dd.scope=Qt.BLOCK_BLOT;const kv=class extends Nu{static value(){}constructor(t,e,i){super(t,e),this.selection=i,this.textNode=document.createTextNode(kv.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(t,e){if(0!==this.savedLength)return void super.format(t,e);let i=this,r=0;for(;null!=i&&i.statics.scope!==Qt.BLOCK_BLOT;)r+=i.offset(i.parent),i=i.parent;null!=i&&(this.savedLength=kv.CONTENTS.length,i.optimize(),i.formatAt(r,kv.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const t=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof Zh?this.prev:null,i=e?e.length():0,r=this.next instanceof Zh?this.next:null,s=r?r.text:"",{textNode:a}=this,u=a.data.split(kv.CONTENTS).join("");let f;if(a.data=kv.CONTENTS,e)f=e,(u||r)&&(e.insertAt(e.length(),u+s),r&&r.remove());else if(r)f=r,r.insertAt(0,u);else{const b=document.createTextNode(u);f=this.scroll.create(b),this.parent.insertBefore(f,this)}if(this.remove(),t){const b=(R,B)=>e&&R===e.domNode?B:R===a?i+B-1:r&&R===r.domNode?i+u.length+B:null,x=b(t.start.node,t.start.offset),D=b(t.end.node,t.end.offset);if(null!==x&&null!==D)return{startNode:f.domNode,startOffset:x,endNode:f.domNode,endOffset:D}}return null}update(t,e){if(t.some(i=>"characterData"===i.type&&i.target===this.textNode)){const i=this.restore();i&&(e.range=i)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if("A"===e.domNode.tagName){this.savedLength=kv.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};let ix=kv;Ot(ix,"blotName","cursor"),Ot(ix,"className","ql-cursor"),Ot(ix,"tagName","span"),Ot(ix,"CONTENTS","\ufeff");const SO=ix;var Mbe=G(7745);const n6=new WeakMap,i6=["error","warn","log","info"];let r6="warn";function c7(n){if(r6&&i6.indexOf(n)<=i6.indexOf(r6)){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];console[n](...e)}}function s6(n){return i6.reduce((t,e)=>(t[e]=c7.bind(console,e,n),t),{})}c7.level=s6.level=n=>{r6=n};const q0=s6,o6=q0("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const s=n6.get(r);s&&s.emitter&&s.emitter.handleDOM(...e)})})});class a6 extends Mbe{constructor(){super(),this.domListeners={},this.on("error",o6.error)}emit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return o6.log.call(o6,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];(this.domListeners[t.type]||[]).forEach(s=>{let{node:a,handler:u}=s;(t.target===a||a.contains(t.target))&&u(t,...i)})}listenDOM(t,e,i){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:i})}}Ot(a6,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ot(a6,"sources",{API:"api",SILENT:"silent",USER:"user"});const Ht=a6,l6=q0("quill:selection");class z0{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=t,this.length=e}}function c6(n,t){return n.contains(t)}const Rbe=/^[ -~]*$/;function rx(n,t,e){if(0===n.length){const[B]=u6(e.pop());return t<=0?`</li></${B}>`:`</li></${B}>${rx([],t-1,e)}`}const[{child:i,offset:r,length:s,indent:a,type:u},...f]=n,[b,x]=u6(u);if(a>t)return e.push(u),a===t+1?`<${b}><li${x}>${MS(i,r,s)}${rx(f,a,e)}`:`<${b}><li>${rx(n,t+1,e)}`;if(a===t&&u===e[e.length-1])return`</li><li${x}>${MS(i,r,s)}${rx(f,a,e)}`;const[R]=u6(e.pop());return`</li></${R}>${rx(n,t-1,e)}`}function MS(n,t,e){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in n&&"function"==typeof n.html)return n.html(t,e);if(n instanceof Zh)return AO(n.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(n instanceof $h){if("list-container"===n.statics.blotName){const b=[];return n.children.forEachAt(t,e,(x,D,R)=>{const B="formats"in x&&"function"==typeof x.formats?x.formats():{};b.push({child:x,offset:D,length:R,indent:B.indent||0,type:B.list})}),rx(b,-1,[])}const r=[];if(n.children.forEachAt(t,e,(b,x,D)=>{r.push(MS(b,x,D))}),i||"list"===n.statics.blotName)return r.join("");const{outerHTML:s,innerHTML:a}=n.domNode,[u,f]=s.split(`>${a}<`);return"<table"===u?`<table style="border: 1px solid #000;">${r.join("")}<${f}`:`${u}>${r.join("")}<${f}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Pbe(n,t){return Object.keys(t).reduce((e,i)=>{if(null==n[i])return e;const r=t[i];return e[i]=r===n[i]?r:Array.isArray(r)?r.indexOf(n[i])<0?r.concat([n[i]]):r:[r,n[i]],e},{})}function u6(n){const t="ordered"===n?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function u7(n){return n.reduce((t,e)=>{if("string"==typeof e.insert){const i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)},new Mt)}function d7(n,t){let{index:e,length:i}=n;return new z0(e+t,i)}class h7{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=t,this.options=e}}Ot(h7,"DEFAULTS",{});const nm=h7,d6=class extends Nu{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(i=>{this.contentNode.appendChild(i)}),this.leftGuard=document.createTextNode("\ufeff"),this.rightGuard=document.createTextNode("\ufeff"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let i,e=null;const r=t.data.split("\ufeff").join("");if(t===this.leftGuard)if(this.prev instanceof Zh){const s=this.prev.length();this.prev.insertAt(s,r),e={startNode:this.prev.domNode,startOffset:s+r.length}}else i=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(i),this),e={startNode:i,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof Zh?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(i=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(i),this.next),e={startNode:i,startOffset:r.length}));return t.data="\ufeff",e}update(t,e){t.forEach(i=>{if("characterData"===i.type&&(i.target===this.leftGuard||i.target===this.rightGuard)){const r=this.restore(i.target);r&&(e.range=r)}})}},nU=class{constructor(t,e){Ot(this,"modules",{}),this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{null==this.modules[t]&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};let IO=nU;Ot(IO,"DEFAULTS",{modules:{}}),Ot(IO,"themes",{default:nU});const MO=IO,jbe=n=>n.parentElement||n.getRootNode().host||null,Hbe=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,i="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*i,left:t.left}},kO=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},f7=(n,t,e,i,r,s)=>n<e&&t>i?0:n<e?-(e-n+r):t>i?t-n>i-e?n+r-e:t-i+s:0,Gbe=["block","break","cursor","inline","scroll","text"],sx=q0("quill"),OO=new JE;$h.uiClass="ql-ui";const bx=class{static debug(t){!0===t&&(t="log"),q0.level(t)}static find(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n6.get(t)||OO.find(t,e)}static import(t){return null==this.imports[t]&&sx.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const t=arguments.length<=0?void 0:arguments[0],e=!!(arguments.length<=1?void 0:arguments[1]),i="attrName"in t?t.attrName:t.blotName;"string"==typeof i?this.register(`formats/${i}`,t,e):Object.keys(t).forEach(r=>{this.register(r,t[r],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],i=!!(arguments.length<=2?void 0:arguments[2]);null!=this.imports[t]&&!i&&sx.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&"boolean"!=typeof e&&"abstract"!==e.blotName&&OO.register(e),"function"==typeof e.register&&e.register(OO)}}constructor(t){if(this.options=function(n,t){const e=p7(n);if(!e)throw new Error("Invalid Quill container");const r=t.theme&&t.theme!==Xe.DEFAULTS.theme?Xe.import(`themes/${t.theme}`):MO;if(!r)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const B=Xe.DEFAULTS,{modules:s}=B,a=oU(B,["modules"]),z=r.DEFAULTS,{modules:u}=z,f=oU(z,["modules"]);let b=h6(t.modules);null!=b&&b.toolbar&&b.toolbar.constructor!==Object&&(b=lm(Kr({},b),{toolbar:{container:b.toolbar}}));const x=pv({},h6(s),h6(u),b),D=Kr(Kr(Kr({},a),m7(f)),m7(t));let R=t.registry;return R?t.formats&&sx.warn('Ignoring "formats" option because "registry" is specified'):R=t.formats?((n,t,e)=>{const i=new JE;return Gbe.forEach(r=>{const s=t.query(r);s&&i.register(s)}),n.forEach(r=>{var u;let s=t.query(r);s||e.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;s;)if(i.register(s),s="blotName"in s&&null!=(u=s.requiredContainer)?u:null,a+=1,a>100){e.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),i})(t.formats,D.registry,sx):D.registry,lm(Kr({},D),{registry:R,container:e,theme:r,modules:Object.entries(x).reduce((ee,ae)=>{let[we,qe]=ae;if(!qe)return ee;const Ye=Xe.import(`modules/${we}`);return null==Ye?(sx.error(`Cannot load ${we} module. Are you sure you registered it?`),ee):lm(Kr({},ee),{[we]:pv({},Ye.DEFAULTS||{},qe)})},{}),bounds:p7(D.bounds)})}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.container=this.options.container,null==this.container)return void sx.error("Invalid Quill container",t);this.options.debug&&bx.debug(this.options.debug);const i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",n6.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ht;const r=G3.blotName,s=this.options.registry.query(r);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new class{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const i=u7(t),r=new Mt;return function(n){const t=[];return n.forEach(e=>{"string"==typeof e.insert?e.insert.split("\n").forEach((r,s)=>{s&&t.push({insert:"\n",attributes:e.attributes}),r&&t.push({insert:r,attributes:e.attributes})}):t.push(e)}),t}(i.ops.slice()).reduce((a,u)=>{const f=Mt.Op.length(u);let b=u.attributes||{},x=!1,D=!1;if(null!=u.insert){if(r.retain(f),"string"==typeof u.insert){const z=u.insert;D=!z.endsWith("\n")&&(e<=a||!!this.scroll.descendant(Dd,a)[0]),this.scroll.insertAt(a,z);const[ee,ae]=this.scroll.line(a);let we=pv({},Sd(ee));if(ee instanceof Pu){const[qe]=ee.descendant(rl,ae);qe&&(we=pv(we,Sd(qe)))}b=Mt.AttributeMap.diff(we,b)||{}}else if("object"==typeof u.insert){const z=Object.keys(u.insert)[0];if(null==z)return a;const ee=null!=this.scroll.query(z,Qt.INLINE);if(ee)(e<=a||this.scroll.descendant(Dd,a)[0])&&(D=!0);else if(a>0){const[ae,we]=this.scroll.descendant(rl,a-1);ae instanceof Zh?"\n"!==ae.value()[we]&&(x=!0):ae instanceof Nu&&ae.statics.scope===Qt.INLINE_BLOT&&(x=!0)}if(this.scroll.insertAt(a,z,u.insert[z]),ee){const[ae]=this.scroll.descendant(rl,a);if(ae){const we=pv({},Sd(ae));b=Mt.AttributeMap.diff(we,b)||{}}}}e+=f}else if(r.push(u),null!==u.retain&&"object"==typeof u.retain){const z=Object.keys(u.retain)[0];if(null==z)return a;this.scroll.updateEmbedAt(a,z,u.retain[z])}Object.keys(b).forEach(z=>{this.scroll.formatAt(a,f,z,b[z])});const R=x?1:0,B=D?1:0;return e+=R+B,r.retain(R),r.delete(B),a+f+R+B},0),r.reduce((a,u)=>"number"==typeof u.delete?(this.scroll.deleteAt(a,u.delete),a):a+Mt.Op.length(u),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update((new Mt).retain(t).delete(e))}formatLine(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(s=>{this.scroll.lines(t,Math.max(e,1)).forEach(a=>{a.format(s,i[s])})}),this.scroll.optimize();const r=(new Mt).retain(t).retain(e,nx(i));return this.update(r)}formatText(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(i).forEach(s=>{this.scroll.formatAt(t,e,s,i[s])});const r=(new Mt).retain(t).retain(e,nx(i));return this.update(r)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new Mt)}getFormat(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],r=[];0===e?this.scroll.path(t).forEach(u=>{const[f]=u;f instanceof Pu?i.push(f):f instanceof rl&&r.push(f)}):(i=this.scroll.lines(t,e),r=this.scroll.descendants(rl,t,e));const[s,a]=[i,r].map(u=>{const f=u.shift();if(null==f)return{};let b=Sd(f);for(;Object.keys(b).length>0;){const x=u.shift();if(null==x)return b;b=Pbe(Sd(x),b)}return b});return Kr(Kr({},s),a)}getHTML(t,e){const[i,r]=this.scroll.line(t);if(i){const s=i.length();return i.length()>=r+e&&(0!==r||e!==s)?MS(i,r,e,!0):MS(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(i=>"string"==typeof i.insert).map(i=>i.insert).join("")}insertContents(t,e){const i=u7(e),r=(new Mt).retain(t).concat(i);return this.scroll.insertContents(t,i),this.update(r)}insertEmbed(t,e,i){return this.scroll.insertAt(t,e,i),this.update((new Mt).retain(t).insert({[e]:i}))}insertText(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach(r=>{this.scroll.formatAt(t,e.length,r,i[r])}),this.update((new Mt).retain(t).insert(e,nx(i)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;return(null==t?void 0:t.statics.blotName)===Pu.blotName&&!(t.children.length>1)&&t.children.head instanceof e_}removeFormat(t,e){const i=this.getText(t,e),[r,s]=this.scroll.line(t+e);let a=0,u=new Mt;null!=r&&(a=r.length()-s,u=r.delta().slice(s,s+a-1).insert("\n"));const b=this.getContents(t,e+a).diff((new Mt).insert(i).concat(u)),x=(new Mt).retain(t).concat(b);return this.applyDelta(x)}update(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(Rbe)&&this.scroll.find(e[0].target)){const s=this.scroll.find(e[0].target),a=Sd(s),u=s.offset(this.scroll),f=e[0].oldValue.replace(SO.CONTENTS,""),b=(new Mt).insert(f),x=(new Mt).insert(s.value()),D=i&&{oldRange:d7(i.oldRange,-u),newRange:d7(i.newRange,-u)};t=(new Mt).retain(u).concat(b.diff(x,D)).reduce((B,z)=>z.insert?B.insert(z.insert,a):B.push(z),new Mt),this.delta=r.compose(t)}else this.delta=this.getDelta(),(!t||!t6(r.compose(t),this.delta))&&(t=r.diff(this.delta,i));return t}}(this.scroll),this.selection=new class{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new z0(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ht.sources.USER),1)}),this.emitter.on(Ht.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const i=this.getNativeRange();null!=i&&i.start.node!==this.cursor.textNode&&this.emitter.once(Ht.events.SCROLL_UPDATE,(r,s)=>{try{this.root.contains(i.start.node)&&this.root.contains(i.end.node)&&this.setNativeRange(i.start.node,i.start.offset,i.end.node,i.end.offset);const a=s.some(u=>"characterData"===u.type||"childList"===u.type||"attributes"===u.type&&u.target===this.root);this.update(a?Ht.sources.SILENT:r)}catch(a){}})}),this.emitter.on(Ht.events.SCROLL_OPTIMIZE,(i,r)=>{if(r.range){const{startNode:s,startOffset:a,endNode:u,endOffset:f}=r.range;this.setNativeRange(s,a,u,f),this.update(Ht.sources.SILENT)}}),this.update(Ht.sources.SILENT)}handleComposition(){this.emitter.on(Ht.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ht.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ht.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const i=this.getNativeRange();if(null!=i&&i.native.collapsed&&!this.scroll.query(t,Qt.BLOCK)){if(i.start.node!==this.cursor.textNode){const r=this.scroll.find(i.start.node,!1);if(null==r)return;if(r instanceof rl){const s=r.split(i.start.offset);r.parent.insertBefore(this.cursor,s)}else r.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this.scroll.length();t=Math.min(t,i-1),e=Math.min(t+e,i-1)-t;let r,[s,a]=this.scroll.leaf(t);if(null==s)return null;if(e>0&&a===s.length()){const[x]=this.scroll.leaf(t+1);if(x){const[D]=this.scroll.line(t),[R]=this.scroll.line(t+1);D===R&&(s=x,a=0)}}[r,a]=s.position(a,!0);const u=document.createRange();if(e>0)return u.setStart(r,a),[s,a]=this.scroll.leaf(t+e),null==s?null:([r,a]=s.position(a,!0),u.setEnd(r,a),u.getBoundingClientRect());let b,f="left";if(r instanceof Text){if(!r.data.length)return null;a<r.data.length?(u.setStart(r,a),u.setEnd(r,a+1)):(u.setStart(r,a-1),u.setEnd(r,a),f="right"),b=u.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;b=s.domNode.getBoundingClientRect(),a>0&&(f="right")}return{bottom:b.top+b.height,height:b.height,left:b[f],right:b[f],top:b.top,width:0}}getNativeRange(){const t=document.getSelection();if(null==t||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(null==e)return null;const i=this.normalizeNative(e);return l6.info("getNativeRange",i),i}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&c6(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const i=e.map(a=>{const[u,f]=a,b=this.scroll.find(u,!0),x=b.offset(this.scroll);return 0===f?x:b instanceof rl?x+b.index(u,f):x+b.length()}),r=Math.min(Math.max(...i),this.scroll.length()-1),s=Math.min(r,...i);return new z0(s,r-s)}normalizeNative(t){if(!c6(this.root,t.startContainer)||!t.collapsed&&!c6(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(i=>{let{node:r,offset:s}=i;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>s)r=r.childNodes[s],s=0;else{if(r.childNodes.length!==s)break;r=r.lastChild,s=r instanceof Text?r.data.length:r.childNodes.length>0?r.childNodes.length:r.childNodes.length+1}i.node=r,i.offset=s}),e}rangeToNative(t){const e=this.scroll.length(),i=(r,s)=>{r=Math.min(e-1,r);const[a,u]=this.scroll.leaf(r);return a?a.position(u,s):[null,-1]};return[...i(t.index,!1),...i(t.index+t.length,!0)]}setNativeRange(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(l6.info("setNativeRange",t,e,i,r),null!=t&&(null==this.root.parentNode||null==t.parentNode||null==i.parentNode))return;const a=document.getSelection();if(null!=a)if(null!=t){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:u}=this.getNativeRange()||{};if(null==u||s||t!==u.startContainer||e!==u.startOffset||i!==u.endContainer||r!==u.endOffset){t instanceof Element&&"BR"===t.tagName&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),i instanceof Element&&"BR"===i.tagName&&(r=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode);const f=document.createRange();f.setStart(t,e),f.setEnd(i,r),a.removeAllRanges(),a.addRange(f)}}else a.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ht.sources.API;if("string"==typeof e&&(i=e,e=!1),l6.info("setRange",t),null!=t){const r=this.rangeToNative(t);this.setNativeRange(...r,e)}else this.setNativeRange(null);this.update(i)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht.sources.USER;const e=this.lastRange,[i,r]=this.getRange();if(this.lastRange=i,this.lastNative=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!t6(e,this.lastRange)){if(!this.composing&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const s=[Ht.events.SELECTION_CHANGE,nx(this.lastRange),nx(e),t];this.emitter.emit(Ht.events.EDITOR_CHANGE,...s),t!==Ht.sources.SILENT&&this.emitter.emit(...s)}}}(this.scroll,this.emitter),this.composition=new class{constructor(t,e){Ot(this,"isComposing",!1),this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof d6)&&(this.emitter.emit(Ht.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Ht.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Ht.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Ht.events.COMPOSITION_END,t),this.isComposing=!1}}(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ht.events.EDITOR_CHANGE,a=>{a===Ht.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ht.events.SCROLL_UPDATE,(a,u)=>{const f=this.selection.lastRange,[b]=this.selection.getRange(),x=f&&b?{oldRange:f,newRange:b}:void 0;Wh.call(this,()=>this.editor.update(null,u,x),a)}),this.emitter.on(Ht.events.SCROLL_EMBED_UPDATE,(a,u)=>{const f=this.selection.lastRange,[b]=this.selection.getRange(),x=f&&b?{oldRange:f,newRange:b}:void 0;Wh.call(this,()=>{const D=(new Mt).retain(a.offset(this)).retain({[a.statics.blotName]:u});return this.editor.update(D,[],x)},bx.sources.USER)}),i){const a=this.clipboard.convert({html:`${i}<p><br></p>`,text:"\n"});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){const i=t;(t=document.createElement("div")).classList.add(i)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,i){return[t,e,,i]=t_(t,e,i),Wh.call(this,()=>this.editor.deleteText(t,e),i,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){return Wh.call(this,()=>{const r=this.getSelection(!0);let s=new Mt;if(null==r)return s;if(this.scroll.query(t,Qt.BLOCK))s=this.editor.formatLine(r.index,r.length,{[t]:e});else{if(0===r.length)return this.selection.format(t,e),s;s=this.editor.formatText(r.index,r.length,{[t]:e})}return this.setSelection(r,Ht.sources.SILENT),s},arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ht.sources.API)}formatLine(t,e,i,r,s){let a;return[t,e,a,s]=t_(t,e,i,r,s),Wh.call(this,()=>this.editor.formatLine(t,e,a),s,t,0)}formatText(t,e,i,r,s){let a;return[t,e,a,s]=t_(t,e,i,r,s),Wh.call(this,()=>this.editor.formatText(t,e,a),s,t,0)}getBounds(t){let i=null;if(i="number"==typeof t?this.selection.getBounds(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(t.index,t.length),!i)return null;const r=this.container.getBoundingClientRect();return{bottom:i.bottom-r.top,height:i.height,left:i.left-r.left,right:i.right-r.left,top:i.top-r.top,width:i.width}}getContents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t;return[t,e]=t_(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof t?this.editor.getFormat(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return"number"==typeof t&&(e=null!=e?e:this.getLength()-t),[t,e]=t_(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return"number"==typeof t&&(e=null!=e?e:this.getLength()-t),[t,e]=t_(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,i){return Wh.call(this,()=>this.editor.insertEmbed(t,e,i),arguments.length>3&&void 0!==arguments[3]?arguments[3]:bx.sources.API,t)}insertText(t,e,i,r,s){let a;return[t,,a,s]=t_(t,0,i,r,s),Wh.call(this,()=>this.editor.insertText(t,e,a),s,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,i){return[t,e,,i]=t_(t,e,i),Wh.call(this,()=>this.editor.removeFormat(t,e),i,t)}scrollRectIntoView(t){((n,t)=>{var s,a,u,f,b;const e=n.ownerDocument;let i=t,r=n;for(;r;){const x=r===e.body,D=x?{top:0,right:null!=(a=null==(s=window.visualViewport)?void 0:s.width)?a:e.documentElement.clientWidth,bottom:null!=(f=null==(u=window.visualViewport)?void 0:u.height)?f:e.documentElement.clientHeight,left:0}:Hbe(r),R=getComputedStyle(r),B=f7(i.left,i.right,D.left,D.right,kO(R.scrollPaddingLeft),kO(R.scrollPaddingRight)),z=f7(i.top,i.bottom,D.top,D.bottom,kO(R.scrollPaddingTop),kO(R.scrollPaddingBottom));if(B||z)if(x)null==(b=e.defaultView)||b.scrollBy(B,z);else{const{scrollLeft:ee,scrollTop:ae}=r;z&&(r.scrollTop+=z),B&&(r.scrollLeft+=B);const we=r.scrollLeft-ee,qe=r.scrollTop-ae;i={left:i.left-we,top:i.top-qe,right:i.right-we,bottom:i.bottom-qe}}r=x||"fixed"===R.position?null:jbe(r)}})(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){return Wh.call(this,()=>{t=new Mt(t);const i=this.getLength(),r=this.editor.deleteText(0,i),s=this.editor.insertContents(0,t),a=this.editor.deleteText(this.getLength()-1,1);return r.compose(s).compose(a)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht.sources.API)}setSelection(t,e,i){null==t?this.selection.setRange(null,e||bx.sources.API):([t,e,,i]=t_(t,e,i),this.selection.setRange(new z0(Math.max(0,t),e),i),i!==Ht.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht.sources.API;const i=(new Mt).insert(t);return this.setContents(i,e)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){return Wh.call(this,()=>(t=new Mt(t),this.editor.applyDelta(t)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht.sources.API,!0)}};let Xe=bx;function p7(n){return"string"==typeof n?document.querySelector(n):n}function h6(n){return Object.entries(null!=n?n:{}).reduce((t,e)=>{let[i,r]=e;return lm(Kr({},t),{[i]:!0===r?{}:r})},{})}function m7(n){return Object.fromEntries(Object.entries(n).filter(t=>void 0!==t[1]))}function Wh(n,t,e,i){if(!this.isEnabled()&&t===Ht.sources.USER&&!this.allowReadOnlyEdits)return new Mt;let r=null==e?null:this.getSelection();const s=this.editor.delta,a=n();if(null!=r&&(!0===e&&(e=r.index),null==i?r=g7(r,a,t):0!==i&&(r=g7(r,e,i,t)),this.setSelection(r,Ht.sources.SILENT)),a.length()>0){const u=[Ht.events.TEXT_CHANGE,a,s,t];this.emitter.emit(Ht.events.EDITOR_CHANGE,...u),t!==Ht.sources.SILENT&&this.emitter.emit(...u)}return a}function t_(n,t,e,i,r){let s={};return"number"==typeof n.index&&"number"==typeof n.length?"number"!=typeof t?(r=i,i=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):"number"!=typeof t&&(r=i,i=e,e=t,t=0),"object"==typeof e?(s=e,r=i):"string"==typeof e&&(null!=i?s[e]=i:r=e),[n,t,s,r=r||Ht.sources.API]}function g7(n,t,e,i){const r="number"==typeof e?e:0;if(null==n)return null;let s,a;return[s,a]=[n.index,n.index+n.length].map(t&&"function"==typeof t.transformPosition?u=>t.transformPosition(u,i!==Ht.sources.USER):u=>u<t||u===t&&i===Ht.sources.USER?u:r>=0?u+r:Math.max(t,u+r)),new z0(s,a-s)}Ot(Xe,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:OO,theme:"default"}),Ot(Xe,"events",Ht.events),Ot(Xe,"sources",Ht.sources),Ot(Xe,"version","2.0.3"),Ot(Xe,"imports",{delta:Mt,parchment:V,"core/module":nm,"core/theme":MO});const G0=class extends bO{};function _7(n){return n instanceof Pu||n instanceof Dd}function y7(n){return"function"==typeof n.updateContent}class ox extends G3{constructor(t,e,i){let{emitter:r}=i;super(t,e),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Ht.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Ht.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(Ht.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[i,r]=this.line(t),[s]=this.line(t+e);if(super.deleteAt(t,e),null!=s&&i!==s&&r>0){if(i instanceof Dd||s instanceof Dd)return void this.optimize();i.moveChildren(s,s.children.head instanceof e_?null:s.children.head),i.remove()}this.optimize()}enable(){this.domNode.setAttribute("contenteditable",arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?"false":"true")}formatAt(t,e,i,r){super.formatAt(t,e,i,r),this.optimize()}insertAt(t,e,i){if(t>=this.length())if(null==i||null==this.scroll.query(e,Qt.BLOCK)){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),null==i&&e.endsWith("\n")?r.insertAt(0,e.slice(0,-1),i):r.insertAt(0,e,i)}else{const r=this.scroll.create(e,i);this.appendChild(r)}else super.insertAt(t,e,i);this.optimize()}insertBefore(t,e){if(t.statics.scope===Qt.INLINE_BLOT){const i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(t),super.insertBefore(i,e)}else super.insertBefore(t,e)}insertContents(t,e){const i=this.deltaToRenderBlocks(e.concat((new Mt).insert("\n"))),r=i.pop();if(null==r)return;this.batchStart();const s=i.shift();if(s){const f="block"===s.type&&(0===s.delta.length()||!this.descendant(Dd,t)[0]&&t<this.length()),b="block"===s.type?s.delta:(new Mt).insert({[s.key]:s.value});f6(this,t,b);const x="block"===s.type?1:0,D=t+b.length()+x;f&&this.insertAt(D-1,"\n");const R=Sd(this.line(t)[0]),B=Mt.AttributeMap.diff(R,s.attributes)||{};Object.keys(B).forEach(z=>{this.formatAt(D-1,1,z,B[z])}),t=D}let[a,u]=this.children.find(t);i.length&&(a&&(a=a.split(u),u=0),i.forEach(f=>{if("block"===f.type)f6(this.createBlock(f.attributes,a||void 0),0,f.delta);else{const b=this.create(f.key,f.value);this.insertBefore(b,a||void 0),Object.keys(f.attributes).forEach(x=>{b.format(x,f.attributes[x])})}})),"block"===r.type&&r.delta.length()&&f6(this,a?a.offset(a.scroll)+u:this.length(),r.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[i,r]=e;return i instanceof rl?[i,r]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(_7,t)}lines(){const i=(r,s,a)=>{let u=[],f=a;return r.children.forEachAt(s,a,(b,x,D)=>{_7(b)?u.push(b):b instanceof bO&&(u=u.concat(i(b,x,f))),f-=D}),u};return i(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}optimize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(Ht.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch)return void(Array.isArray(t)&&(this.batch=this.batch.concat(t)));let e=Ht.sources.USER;"string"==typeof t&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),(t=t.filter(i=>{let{target:r}=i;const s=this.find(r,!0);return s&&!y7(s)})).length>0&&this.emitter.emit(Ht.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Ht.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,i){const[r]=this.descendant(s=>s instanceof Dd,t);r&&r.statics.blotName===e&&y7(r)&&r.updateContent(i)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let i=new Mt;return t.forEach(r=>{var a;const s=null==r?void 0:r.insert;if(s)if("string"==typeof s){const u=s.split("\n");u.slice(0,-1).forEach(b=>{var x;i.insert(b,r.attributes),e.push({type:"block",delta:i,attributes:null!=(x=r.attributes)?x:{}}),i=new Mt});const f=u[u.length-1];f&&i.insert(f,r.attributes)}else{const u=Object.keys(s)[0];if(!u)return;this.query(u,Qt.INLINE)?i.push(r):(i.length()&&e.push({type:"block",delta:i,attributes:{}}),i=new Mt,e.push({type:"blockEmbed",key:u,value:s[u],attributes:null!=(a=r.attributes)?a:{}}))}}),i.length()&&e.push({type:"block",delta:i,attributes:{}}),e}createBlock(t,e){let i;const r={};Object.entries(t).forEach(u=>{let[f,b]=u;null!=this.query(f,Qt.BLOCK&Qt.BLOT)?i=f:r[f]=b});const s=this.create(i||this.statics.defaultChild.blotName,i?t[i]:void 0);this.insertBefore(s,e||void 0);const a=s.length();return Object.entries(r).forEach(u=>{let[f,b]=u;s.formatAt(0,a,f,b)}),s}}function f6(n,t,e){e.reduce((i,r)=>{const s=Mt.Op.length(r);let a=r.attributes||{};if(null!=r.insert)if("string"==typeof r.insert){n.insertAt(i,r.insert);const[f]=n.descendant(rl,i),b=Sd(f);a=Mt.AttributeMap.diff(b,a)||{}}else if("object"==typeof r.insert){const u=Object.keys(r.insert)[0];if(null==u)return i;if(n.insertAt(i,u,r.insert[u]),null!=n.scroll.query(u,Qt.INLINE)){const[b]=n.descendant(rl,i),x=Sd(b);a=Mt.AttributeMap.diff(x,a)||{}}}return Object.keys(a).forEach(u=>{n.formatAt(i,s,u,a[u])}),i+s},t)}Ot(ox,"blotName","scroll"),Ot(ox,"className","ql-editor"),Ot(ox,"tagName","DIV"),Ot(ox,"defaultChild",Pu),Ot(ox,"allowedChildren",[Pu,Dd,G0]);const Ybe=ox,p6={scope:Qt.BLOCK,whitelist:["right","center","justify"]},Kbe=new tm("align","align",p6),v7=new Gh("align","ql-align",p6),b7=new mv("align","text-align",p6);class w7 extends mv{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):e}}const Qbe=new Gh("color","ql-color",{scope:Qt.INLINE}),m6=new w7("color","color",{scope:Qt.INLINE}),Jbe=new Gh("background","ql-bg",{scope:Qt.INLINE}),g6=new w7("background","background-color",{scope:Qt.INLINE});class $0 extends G0{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(i=>i.length()<=1?"":i.domNode.innerText).join("\n").slice(t,t+e)}html(t,e){return`<pre>\n${AO(this.code(t,e))}\n</pre>`}}class sl extends Pu{static register(){Xe.register($0)}}Ot(sl,"TAB","  ");let Xbe=(()=>{class n extends gv{}return n.blotName="code",n.tagName="CODE",n})();sl.blotName="code-block",sl.className="ql-code-block",sl.tagName="DIV",$0.blotName="code-block-container",$0.className="ql-code-block-container",$0.tagName="DIV",$0.allowedChildren=[sl],sl.allowedChildren=[Zh,e_,SO],sl.requiredContainer=$0;const _6={scope:Qt.BLOCK,whitelist:["rtl"]},C7=new tm("direction","dir",_6),E7=new Gh("direction","ql-direction",_6),x7=new mv("direction","direction",_6),A7={scope:Qt.INLINE,whitelist:["serif","monospace"]},D7=new Gh("font","ql-font",A7),S7=new class extends mv{value(t){return super.value(t).replace(/["']/g,"")}}("font","font-family",A7),T7=new Gh("size","ql-size",{scope:Qt.INLINE,whitelist:["small","large","huge"]}),I7=new mv("size","font-size",{scope:Qt.INLINE,whitelist:["10px","18px","32px"]}),t0e=q0("quill:keyboard"),n0e=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class RO extends nm{static match(t,e){return!["altKey","ctrlKey","metaKey","shiftKey"].some(i=>!!e[i]!==t[i]&&null!==e[i])&&(e.key===t.key||e.key===t.which)}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(i=>{this.options.bindings[i]&&this.addBinding(this.options.bindings[i])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(n){if("string"==typeof n||"number"==typeof n)n={key:n};else{if("object"!=typeof n)return null;n=nx(n)}return n.shortKey&&(n[n0e]=n.shortKey,delete n.shortKey),n}(t);null!=r?("function"==typeof e&&(e={handler:e}),"function"==typeof i&&(i={handler:i}),(Array.isArray(r.key)?r.key:[r.key]).forEach(a=>{const u=Kr(Kr(lm(Kr({},r),{key:a}),e),i);this.bindings[u.key]=this.bindings[u.key]||[],this.bindings[u.key].push(u)})):t0e.warn("Attempted to add invalid keyboard binding",r)}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||229===t.keyCode&&("Enter"===t.key||"Backspace"===t.key))return;const r=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(we=>RO.match(t,we));if(0===r.length)return;const s=Xe.find(t.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(null==a||!this.quill.hasFocus())return;const[u,f]=this.quill.getLine(a.index),[b,x]=this.quill.getLeaf(a.index),[D,R]=0===a.length?[b,x]:this.quill.getLeaf(a.index+a.length),B=b instanceof wO?b.value().slice(0,x):"",z=D instanceof wO?D.value().slice(R):"",ee={collapsed:0===a.length,empty:0===a.length&&u.length()<=1,format:this.quill.getFormat(a),line:u,offset:f,prefix:B,suffix:z,event:t};r.some(we=>{if(null!=we.collapsed&&we.collapsed!==ee.collapsed||null!=we.empty&&we.empty!==ee.empty||null!=we.offset&&we.offset!==ee.offset)return!1;if(Array.isArray(we.format)){if(we.format.every(qe=>null==ee.format[qe]))return!1}else if("object"==typeof we.format&&!Object.keys(we.format).every(qe=>!0===we.format[qe]?null!=ee.format[qe]:!1===we.format[qe]?null==ee.format[qe]:t6(we.format[qe],ee.format[qe])))return!1;return!(null!=we.prefix&&!we.prefix.test(ee.prefix)||null!=we.suffix&&!we.suffix.test(ee.suffix))&&!0!==we.handler.call(this,a,ee,we)})&&t.preventDefault()})}handleBackspace(t,e){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(0===t.index||this.quill.getLength()<=1)return;let r={};const[s]=this.quill.getLine(t.index);let a=(new Mt).retain(t.index-i).delete(i);if(0===e.offset){const[u]=this.quill.getLine(t.index-1);if(u&&!("block"===u.statics.blotName&&u.length()<=1)){const b=s.formats(),x=this.quill.getFormat(t.index-1,1);if(r=Mt.AttributeMap.diff(b,x)||{},Object.keys(r).length>0){const D=(new Mt).retain(t.index+s.length()-2).retain(1,r);a=a.compose(D)}}}this.quill.updateContents(a,Xe.sources.USER),this.quill.focus()}handleDelete(t,e){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-i)return;let r={};const[s]=this.quill.getLine(t.index);let a=(new Mt).retain(t.index).delete(i);if(e.offset>=s.length()-1){const[u]=this.quill.getLine(t.index+1);if(u){const f=s.formats(),b=this.quill.getFormat(t.index,1);r=Mt.AttributeMap.diff(f,b)||{},Object.keys(r).length>0&&(a=a.retain(u.length()-1).retain(1,r))}}this.quill.updateContents(a,Xe.sources.USER),this.quill.focus()}handleDeleteRange(t){v6({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const i=Object.keys(e.format).reduce((s,a)=>(this.quill.scroll.query(a,Qt.BLOCK)&&!Array.isArray(e.format[a])&&(s[a]=e.format[a]),s),{}),r=(new Mt).retain(t.index).delete(t.length).insert("\n",i);this.quill.updateContents(r,Xe.sources.USER),this.quill.setSelection(t.index+1,Xe.sources.SILENT),this.quill.focus()}}const i0e={bindings:{bold:y6("bold"),italic:y6("italic"),underline:y6("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",Xe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",Xe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){null!=t.format.indent?this.quill.format("indent","-1",Xe.sources.USER):null!=t.format.list&&this.quill.format("list",!1,Xe.sources.USER)}},"indent code-block":M7(!0),"outdent code-block":M7(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,Xe.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=(new Mt).retain(n.index).delete(n.length).insert("\t");return this.quill.updateContents(e,Xe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,Xe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Xe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,Xe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),i=lm(Kr({},t.formats()),{list:"checked"}),r=(new Mt).retain(n.index).insert("\n",i).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,Xe.sources.USER),this.quill.setSelection(n.index+1,Xe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,i]=this.quill.getLine(n.index),r=(new Mt).retain(n.index).insert("\n",t.format).retain(e.length()-i-1).retain(1,{header:null});this.quill.updateContents(r,Xe.sources.USER),this.quill.setSelection(n.index+1,Xe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,i,r,s]=t.getTable(n),a=function(n,t,e,i){return null==t.prev&&null==t.next?null==e.prev&&null==e.next?0===i?-1:1:null==e.prev?-1:1:null==t.prev?-1:null==t.next?1:null}(0,i,r,s);if(null==a)return;let u=e.offset();if(a<0){const f=(new Mt).retain(u).insert("\n");this.quill.updateContents(f,Xe.sources.USER),this.quill.setSelection(n.index+1,n.length,Xe.sources.SILENT)}else if(a>0){u+=e.length();const f=(new Mt).retain(u).insert("\n");this.quill.updateContents(f,Xe.sources.USER),this.quill.setSelection(u,Xe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:i}=t,r=i.offset(this.quill.scroll);this.quill.setSelection(e.shiftKey?r-1:r+i.length(),Xe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(null==this.quill.scroll.query("list"))return!0;const{length:e}=t.prefix,[i,r]=this.quill.getLine(n.index);if(r>e)return!0;let s;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(n.index," ",Xe.sources.USER),this.quill.history.cutoff();const a=(new Mt).retain(n.index-r).delete(e+1).retain(i.length()-2-r).retain(1,{list:s});return this.quill.updateContents(a,Xe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,Xe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let i=2,r=t;for(;null!=r&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,i-=1,i<=0){const s=(new Mt).retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,Xe.sources.USER),this.quill.setSelection(n.index-1,Xe.sources.SILENT),!1}return!0}},"embed left":NO("ArrowLeft",!1),"embed left shift":NO("ArrowLeft",!0),"embed right":NO("ArrowRight",!1),"embed right shift":NO("ArrowRight",!0),"table down":k7(!1),"table up":k7(!0)}};function M7(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:i}=e;const r=this.quill.scroll.query("code-block"),{TAB:s}=r;if(0===t.length&&!i.shiftKey)return this.quill.insertText(t.index,s,Xe.sources.USER),void this.quill.setSelection(t.index+s.length,Xe.sources.SILENT);const a=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:u,length:f}=t;a.forEach((b,x)=>{n?(b.insertAt(0,s),0===x?u+=s.length:f+=s.length):b.domNode.textContent.startsWith(s)&&(b.deleteAt(0,s.length),0===x?u-=s.length:f-=s.length)}),this.quill.update(Xe.sources.USER),this.quill.setSelection(u,f,Xe.sources.SILENT)}}}function NO(n,t){return{key:n,shiftKey:t,altKey:null,["ArrowLeft"===n?"prefix":"suffix"]:/^$/,handler(i){let{index:r}=i;"ArrowRight"===n&&(r+=i.length+1);const[s]=this.quill.getLeaf(r);return!(s instanceof Nu&&("ArrowLeft"===n?t?this.quill.setSelection(i.index-1,i.length+1,Xe.sources.USER):this.quill.setSelection(i.index-1,Xe.sources.USER):t?this.quill.setSelection(i.index,i.length+1,Xe.sources.USER):this.quill.setSelection(i.index+i.length+1,Xe.sources.USER),1))}}}function y6(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],Xe.sources.USER)}}}function k7(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const i=n?"prev":"next",r=e.line,s=r.parent[i];if(null!=s){if("table-row"===s.statics.blotName){let a=s.children.head,u=r;for(;null!=u.prev;)u=u.prev,a=a.next;const f=a.offset(this.quill.scroll)+Math.min(e.offset,a.length()-1);this.quill.setSelection(f,0,Xe.sources.USER)}}else{const a=r.table()[i];null!=a&&this.quill.setSelection(n?a.offset(this.quill.scroll)+a.length()-1:a.offset(this.quill.scroll),0,Xe.sources.USER)}return!1}}}function v6(n){let{quill:t,range:e}=n;const i=t.getLines(e);let r={};if(i.length>1){const s=i[0].formats(),a=i[i.length-1].formats();r=Mt.AttributeMap.diff(a,s)||{}}t.deleteText(e,Xe.sources.USER),Object.keys(r).length>0&&t.formatLine(e.index,1,r,Xe.sources.USER),t.setSelection(e.index,Xe.sources.SILENT)}RO.DEFAULTS=i0e;const o0e=/font-weight:\s*normal/,a0e=["P","OL","UL"],O7=n=>n&&a0e.includes(n.tagName),d0e=/\bmso-list:[^;]*ignore/i,h0e=/\bmso-list:[^;]*\bl(\d+)/i,f0e=/\bmso-list:[^;]*\blevel(\d+)/i,_0e=[function(n){"urn:schemas-microsoft-com:office:word"===n.documentElement.getAttribute("xmlns:w")&&(n=>{var a,u;const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],i=[];t.forEach(f=>{(f.getAttribute("style")||"").match(d0e)?e.push(f):i.push(f)}),e.forEach(f=>{var b;return null==(b=f.parentNode)?void 0:b.removeChild(f)});const r=n.documentElement.innerHTML,s=i.map(f=>((n,t)=>{const e=n.getAttribute("style"),i=null==e?void 0:e.match(h0e);if(!i)return null;const r=Number(i[1]),s=null==e?void 0:e.match(f0e),a=s?Number(s[1]):1,u=new RegExp(`@list l${r}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),f=t.match(u);return{id:r,indent:a,type:f&&"bullet"===f[1]?"bullet":"ordered",element:n}})(f,r)).filter(f=>f);for(;s.length;){const f=[];let b=s.shift();for(;b;)f.push(b),b=s.length&&(null==(a=s[0])?void 0:a.element)===b.element.nextElementSibling&&s[0].id===b.id?s.shift():null;const x=document.createElement("ul");f.forEach(B=>{const z=document.createElement("li");z.setAttribute("data-list",B.type),B.indent>1&&z.setAttribute("class","ql-indent-"+(B.indent-1)),z.innerHTML=B.element.innerHTML,x.appendChild(z)});const D=null==(u=f[0])?void 0:u.element,{parentNode:R}=null!=D?D:{};D&&(null==R||R.replaceChild(x,D)),f.slice(1).forEach(B=>{let{element:z}=B;null==R||R.removeChild(z)})}})(n)},function(n){n.querySelector('[id^="docs-internal-guid-"]')&&((n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return null==(e=t.getAttribute("style"))?void 0:e.match(o0e)}).forEach(t=>{var i;const e=n.createDocumentFragment();e.append(...t.childNodes),null==(i=t.parentNode)||i.replaceChild(e,t)})})(n),(n=>{Array.from(n.querySelectorAll("br")).filter(t=>O7(t.previousElementSibling)&&O7(t.nextElementSibling)).forEach(t=>{var e;null==(e=t.parentNode)||e.removeChild(t)})})(n))}],v0e=q0("quill:clipboard"),b0e=[[Node.TEXT_NODE,function(n,t,e){var r;let i=n.data;if("O:P"===(null==(r=n.parentElement)?void 0:r.tagName))return t.insert(i.trim());if(!P7(n)){if(0===i.trim().length&&i.includes("\n")&&!function(n,t){return n.previousElementSibling&&n.nextElementSibling&&!_v(n.previousElementSibling,t)&&!_v(n.nextElementSibling,t)}(n,e))return t;i=i.replace(/[^\S\u00a0]/g," "),i=i.replace(/ {2,}/g," "),(null==n.previousSibling&&null!=n.parentElement&&_v(n.parentElement,e)||n.previousSibling instanceof Element&&_v(n.previousSibling,e))&&(i=i.replace(/^ /,"")),(null==n.nextSibling&&null!=n.parentElement&&_v(n.parentElement,e)||n.nextSibling instanceof Element&&_v(n.nextSibling,e))&&(i=i.replace(/ $/,"")),i=i.replaceAll("\xa0"," ")}return t.insert(i)}],[Node.TEXT_NODE,F7],["br",function(n,t){return kS(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,F7],[Node.ELEMENT_NODE,function(n,t,e){const i=e.query(n);if(null==i)return t;if(i.prototype instanceof Nu){const r={},s=i.value(n);if(null!=s)return r[i.blotName]=s,(new Mt).insert(r,i.formats(n,e))}else if(i.prototype instanceof TS&&!kS(t,"\n")&&t.insert("\n"),"blotName"in i&&"formats"in i&&"function"==typeof i.formats)return Z0(t,i.blotName,i.formats(n,e),e);return t}],[Node.ELEMENT_NODE,function(n,t,e){const i=tm.keys(n),r=Gh.keys(n),s=mv.keys(n),a={};return i.concat(r).concat(s).forEach(u=>{let f=e.query(u,Qt.ATTRIBUTE);null!=f&&(a[f.attrName]=f.value(n),a[f.attrName])||(f=w0e[u],null!=f&&(f.attrName===u||f.keyName===u)&&(a[f.attrName]=f.value(n)||void 0),f=R7[u],null!=f&&(f.attrName===u||f.keyName===u)&&(f=R7[u],a[f.attrName]=f.value(n)||void 0))}),Object.entries(a).reduce((u,f)=>{let[b,x]=f;return Z0(u,b,x,e)},t)}],[Node.ELEMENT_NODE,function(n,t,e){var s;const i={},r=n.style||{};return"italic"===r.fontStyle&&(i.italic=!0),"underline"===r.textDecoration&&(i.underline=!0),"line-through"===r.textDecoration&&(i.strike=!0),((null==(s=r.fontWeight)?void 0:s.startsWith("bold"))||parseInt(r.fontWeight,10)>=700)&&(i.bold=!0),t=Object.entries(i).reduce((a,u)=>{let[f,b]=u;return Z0(a,f,b,e)},t),parseFloat(r.textIndent||0)>0?(new Mt).insert("\t").concat(t):t}],["li",function(n,t,e){const i=e.query(n);if(null==i||"list"!==i.blotName||!kS(t,"\n"))return t;let r=-1,s=n.parentNode;for(;null!=s;)["OL","UL"].includes(s.tagName)&&(r+=1),s=s.parentNode;return r<=0?t:t.reduce((a,u)=>u.insert?u.attributes&&"number"==typeof u.attributes.indent?a.push(u):a.insert(u.insert,Kr({indent:r},u.attributes||{})):a,new Mt)}],["ol, ul",function(n,t,e){let r="OL"===n.tagName?"ordered":"bullet";const s=n.getAttribute("data-checked");return s&&(r="true"===s?"checked":"unchecked"),Z0(t,"list",r,e)}],["pre",function(n,t,e){const i=e.query("code-block");return Z0(t,"code-block",!i||!("formats"in i)||"function"!=typeof i.formats||i.formats(n,e),e)}],["tr",function(n,t,e){var r,s;const i="TABLE"===(null==(r=n.parentElement)?void 0:r.tagName)?n.parentElement:null==(s=n.parentElement)?void 0:s.parentElement;if(null!=i){return Z0(t,"table",Array.from(i.querySelectorAll("tr")).indexOf(n)+1,e)}return t}],["b",w6("bold")],["i",w6("italic")],["strike",w6("strike")],["style",function(){return new Mt}]],w0e=[Kbe,C7].reduce((n,t)=>(n[t.keyName]=t,n),{}),R7=[b7,g6,m6,x7,S7,I7].reduce((n,t)=>(n[t.keyName]=t,n),{});class N7 extends nm{constructor(t,e){var i;super(t,e),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],b0e.concat(null!=(i=this.options.matchers)?i:[]).forEach(r=>{let[s,a]=r;this.addMatcher(s,a)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:i}=t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[sl.blotName])return(new Mt).insert(i||"",{[sl.blotName]:r[sl.blotName]});if(!e)return(new Mt).insert(i||"",r);const s=this.convertHTML(e);return kS(s,"\n")&&(null==s.ops[s.ops.length-1].attributes||r.table)?s.compose((new Mt).retain(s.length()-1).delete(1)):s}normalizeHTML(t){(n=>{n.documentElement&&_0e.forEach(t=>{t(n)})})(t)}convertHTML(t){const e=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(e);const i=e.body,r=new WeakMap,[s,a]=this.prepareMatching(i,r);return b6(this.quill.scroll,i,s,a,r)}dangerouslyPasteHTML(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xe.sources.API;if("string"==typeof t){const r=this.convert({html:t,text:""});this.quill.setContents(r,e),this.quill.setSelection(0,Xe.sources.SILENT)}else{const r=this.convert({html:e,text:""});this.quill.updateContents((new Mt).retain(t).concat(r),i),this.quill.setSelection(t+r.length(),Xe.sources.SILENT)}}onCaptureCopy(t){var a,u;let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.defaultPrevented)return;t.preventDefault();const[i]=this.quill.selection.getRange();if(null==i)return;const{html:r,text:s}=this.onCopy(i,e);null==(a=t.clipboardData)||a.setData("text/plain",s),null==(u=t.clipboardData)||u.setData("text/html",r),e&&v6({range:i,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>"#"!==e[0]).join("\n")}onCapturePaste(t){var a,u,f,b,x;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(null==e)return;const i=null==(a=t.clipboardData)?void 0:a.getData("text/html");let r=null==(u=t.clipboardData)?void 0:u.getData("text/plain");if(!i&&!r){const D=null==(f=t.clipboardData)?void 0:f.getData("text/uri-list");D&&(r=this.normalizeURIList(D))}const s=Array.from((null==(b=t.clipboardData)?void 0:b.files)||[]);if(!i&&s.length>0)this.quill.uploader.upload(e,s);else{if(i&&s.length>0){const D=(new DOMParser).parseFromString(i,"text/html");if(1===D.body.childElementCount&&"IMG"===(null==(x=D.body.firstElementChild)?void 0:x.tagName))return void this.quill.uploader.upload(e,s)}this.onPaste(e,{html:i,text:r})}}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:i,html:r}=e;const s=this.quill.getFormat(t.index),a=this.convert({text:i,html:r},s);v0e.log("onPaste",a,{text:i,html:r});const u=(new Mt).retain(t.index).delete(t.length).concat(a);this.quill.updateContents(u,Xe.sources.USER),this.quill.setSelection(u.length()-t.length,Xe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const i=[],r=[];return this.matchers.forEach(s=>{const[a,u]=s;switch(a){case Node.TEXT_NODE:r.push(u);break;case Node.ELEMENT_NODE:i.push(u);break;default:Array.from(t.querySelectorAll(a)).forEach(f=>{if(e.has(f)){const b=e.get(f);null==b||b.push(u)}else e.set(f,[u])})}}),[i,r]}}function Z0(n,t,e,i){return i.query(t)?n.reduce((r,s)=>s.insert?s.attributes&&s.attributes[t]?r.push(s):r.insert(s.insert,Kr(Kr({},e?{[t]:e}:{}),s.attributes)):r,new Mt):n}function kS(n,t){let e="";for(let i=n.ops.length-1;i>=0&&e.length<t.length;--i){const r=n.ops[i];if("string"!=typeof r.insert)break;e=r.insert+e}return e.slice(-1*t.length)===t}function _v(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return!(e&&e.prototype instanceof Nu)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}Ot(N7,"DEFAULTS",{matchers:[]});const PO=new WeakMap;function P7(n){return null!=n&&(PO.has(n)||PO.set(n,"PRE"===n.tagName||P7(n.parentNode)),PO.get(n))}function b6(n,t,e,i,r){return t.nodeType===t.TEXT_NODE?i.reduce((s,a)=>a(t,s,n),new Mt):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((s,a)=>{let u=b6(n,a,e,i,r);return a.nodeType===t.ELEMENT_NODE&&(u=e.reduce((f,b)=>b(a,f,n),u),u=(r.get(a)||[]).reduce((f,b)=>b(a,f,n),u)),s.concat(u)},new Mt):new Mt}function w6(n){return(t,e,i)=>Z0(e,n,!0,i)}function F7(n,t,e){if(!kS(t,"\n")){if(_v(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert("\n");if(t.length()>0&&n.nextSibling){let i=n.nextSibling;for(;null!=i;){if(_v(i,e))return t.insert("\n");const r=e.query(i);if(r&&r.prototype instanceof Dd)return t.insert("\n");i=i.firstChild}}}return t}class L7 extends nm{constructor(t,e){super(t,e),Ot(this,"lastRecorded",0),Ot(this,"ignoreChange",!1),Ot(this,"stack",{undo:[],redo:[]}),Ot(this,"currentRange",null),this.quill.on(Xe.events.EDITOR_CHANGE,(i,r,s,a)=>{i===Xe.events.SELECTION_CHANGE?r&&a!==Xe.sources.SILENT&&(this.currentRange=r):i===Xe.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&a!==Xe.sources.USER?this.transform(r):this.record(r,s)),this.currentRange=C6(this.currentRange,r))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{"historyUndo"===i.inputType?(this.undo(),i.preventDefault()):"historyRedo"===i.inputType&&(this.redo(),i.preventDefault())})}change(t,e){if(0===this.stack[t].length)return;const i=this.stack[t].pop();if(!i)return;const r=this.quill.getContents(),s=i.delta.invert(r);this.stack[e].push({delta:s,range:C6(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,Xe.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(0===t.ops.length)return;this.stack.redo=[];let i=t.invert(e),r=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(i=i.compose(a.delta),r=a.range)}else this.lastRecorded=s;0!==i.length()&&(this.stack.undo.push({delta:i,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){B7(this.stack.undo,t),B7(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,Xe.sources.USER);else{const e=function(n,t){const e=t.reduce((r,s)=>r+(s.delete||0),0);let i=t.length()-e;return function(n,t){const e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(i=>null!=n.query(i,Qt.BLOCK)))}(n,t)&&(i-=1),i}(this.quill.scroll,t.delta);this.quill.setSelection(e,Xe.sources.USER)}}}function B7(n,t){let e=t;for(let i=n.length-1;i>=0;i-=1){const r=n[i];n[i]={delta:e.transform(r.delta,!0),range:r.range&&C6(r.range,e)},e=r.delta.transform(e),0===n[i].delta.length()&&n.splice(i,1)}}function C6(n,t){if(!n)return n;const e=t.transformPosition(n.index);return{index:e,length:t.transformPosition(n.index+n.length)-e}}Ot(L7,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});const P0e=(()=>{class n extends nm{constructor(e,i){super(e,i),e.root.addEventListener("drop",r=>{var u;r.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const f=document.caretPositionFromPoint(r.clientX,r.clientY);s=document.createRange(),s.setStart(f.offsetNode,f.offset),s.setEnd(f.offsetNode,f.offset)}const a=s&&e.selection.normalizeNative(s);if(a){const f=e.selection.normalizedToRange(a);(null==(u=r.dataTransfer)?void 0:u.files)&&this.upload(f,r.dataTransfer.files)}})}upload(e,i){const r=[];Array.from(i).forEach(s=>{var a;s&&(null==(a=this.options.mimetypes)?void 0:a.includes(s.type))&&r.push(s)}),r.length>0&&this.options.handler.call(this,e,r)}}return n.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const i=e.map(r=>new Promise(s=>{const a=new FileReader;a.onload=()=>{s(a.result)},a.readAsDataURL(r)}));Promise.all(i).then(r=>{const s=r.reduce((a,u)=>a.insert({image:u}),(new Mt).retain(t.index).delete(t.length));this.quill.updateContents(s,Ht.sources.USER),this.quill.setSelection(t.index+r.length,Ht.sources.SILENT)})}},n})(),F0e=["insertText","insertReplacementText"],U0e=/Mac/i.test(navigator.platform);Xe.register({"blots/block":Pu,"blots/block/embed":Dd,"blots/break":e_,"blots/container":G0,"blots/cursor":SO,"blots/embed":d6,"blots/inline":gv,"blots/scroll":Ybe,"blots/text":Zh,"modules/clipboard":N7,"modules/history":L7,"modules/keyboard":RO,"modules/uploader":P0e,"modules/input":class extends nm{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",i=>{this.handleBeforeInput(i)}),/Android/i.test(navigator.userAgent)||t.on(Xe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){v6({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.length)return!1;if(e){const i=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents((new Mt).retain(t.index).insert(e,i),Xe.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,Xe.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!F0e.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||!0===e.collapsed)return;const i=function(n){var t;return"string"==typeof n.data?n.data:(null==(t=n.dataTransfer)?void 0:t.types.includes("text/plain"))?n.dataTransfer.getData("text/plain"):null}(t);if(null==i)return;const r=this.quill.selection.normalizeNative(e),s=r?this.quill.selection.normalizedToRange(r):null;s&&this.replaceText(s,i)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}},"modules/uiNode":class extends nm{constructor(t,e){super(t,e),Ot(this,"isListening",!1),Ot(this,"selectionChangeDeadline",0),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:i,event:r}=e;if(!(i instanceof $h&&i.uiNode))return!0;const s="rtl"===getComputedStyle(i.domNode).direction;return!!(s&&"ArrowRight"!==r.key||!s&&"ArrowLeft"!==r.key)||(this.quill.setSelection(t.index-1,t.length+(r.shiftKey?1:0),Xe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&(n=>!!("ArrowLeft"===n.key||"ArrowRight"===n.key||"ArrowUp"===n.key||"ArrowDown"===n.key||"Home"===n.key||U0e&&"a"===n.key&&!0===n.ctrlKey))(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const t=document.getSelection();if(!t)return;const e=t.getRangeAt(0);if(!0!==e.collapsed||0!==e.startOffset)return;const i=this.quill.scroll.find(e.startContainer);if(!(i instanceof $h&&i.uiNode))return;const r=document.createRange();r.setStartAfter(i.uiNode),r.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(r)}}});const E6=Xe,$0e=new class extends Gh{add(t,e){let i=0;if("+1"===e||"-1"===e){const r=this.value(t)||0;i="+1"===e?r+1:r-1}else"number"==typeof e&&(i=e);return 0===i?(this.remove(t),!0):super.add(t,i.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}("indent","ql-indent",{scope:Qt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class x6 extends Pu{}Ot(x6,"blotName","blockquote"),Ot(x6,"tagName","blockquote");const Z0e=x6;class A6 extends Pu{static formats(t){return this.tagName.indexOf(t.tagName)+1}}Ot(A6,"blotName","header"),Ot(A6,"tagName",["H1","H2","H3","H4","H5","H6"]);const W0e=A6;let D6=(()=>{class n extends G0{}return n.blotName="list-container",n.tagName="OL",n})(),S6=(()=>{class n extends Pu{static create(e){const i=super.create();return i.setAttribute("data-list",e),i}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Xe.register(D6)}constructor(e,i){super(e,i);const r=i.ownerDocument.createElement("span"),s=a=>{if(!e.isEnabled())return;const u=this.statics.formats(i,e);"checked"===u?(this.format("list","unchecked"),a.preventDefault()):"unchecked"===u&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",s),r.addEventListener("touchstart",s),this.attachUI(r)}format(e,i){e===this.statics.blotName&&i?this.domNode.setAttribute("data-list",i):super.format(e,i)}}return n.blotName="list",n.tagName="LI",n})();D6.allowedChildren=[S6],S6.requiredContainer=D6;class T6 extends gv{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ot(T6,"blotName","bold"),Ot(T6,"tagName",["STRONG","B"]);const I6=T6;class M6 extends I6{}Ot(M6,"blotName","italic"),Ot(M6,"tagName",["EM","I"]);const Y0e=M6;class yv extends gv{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return V7(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("href",this.constructor.sanitize(e)):super.format(t,e)}}function V7(n,t){const e=document.createElement("a");e.href=n;const i=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(i)>-1}Ot(yv,"blotName","link"),Ot(yv,"tagName","A"),Ot(yv,"SANITIZED_URL","about:blank"),Ot(yv,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);class k6 extends gv{static create(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):super.create(t)}static formats(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}Ot(k6,"blotName","script"),Ot(k6,"tagName",["SUB","SUP"]);const K0e=k6;class O6 extends I6{}Ot(O6,"blotName","strike"),Ot(O6,"tagName",["S","STRIKE"]);const Q0e=O6;class R6 extends gv{}Ot(R6,"blotName","underline"),Ot(R6,"tagName","U");const J0e=R6;class FO extends d6{static create(t){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return"string"==typeof t&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}Ot(FO,"blotName","formula"),Ot(FO,"className","ql-formula"),Ot(FO,"tagName","SPAN");const X0e=FO,U7=["alt","height","width"];class N6 extends Nu{static create(t){const e=super.create(t);return"string"==typeof t&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return U7.reduce((e,i)=>(t.hasAttribute(i)&&(e[i]=t.getAttribute(i)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return V7(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){U7.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}Ot(N6,"blotName","image"),Ot(N6,"tagName","IMG");const ewe=N6,j7=["height","width"];class LO extends Dd{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return j7.reduce((e,i)=>(t.hasAttribute(i)&&(e[i]=t.getAttribute(i)),e),{})}static sanitize(t){return yv.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){j7.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}Ot(LO,"blotName","video"),Ot(LO,"className","ql-video"),Ot(LO,"tagName","IFRAME");const twe=LO,OS=new Gh("code-token","hljs",{scope:Qt.INLINE});let RS=(()=>{class n extends gv{static formats(e,i){for(;null!=e&&e!==i.domNode;){if(e.classList&&e.classList.contains(sl.className))return super.formats(e,i);e=e.parentNode}}constructor(e,i,r){super(e,i,r),OS.add(this.domNode,r)}format(e,i){e!==n.blotName?super.format(e,i):i?OS.add(this.domNode,i):(OS.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),OS.value(this.domNode)||this.unwrap()}}return n.blotName="code-token",n.className="ql-token",n})();class Td extends sl{static create(t){const e=super.create(t);return"string"==typeof t&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),RS.blotName,!1),super.replaceWith(t,e)}}let BO=(()=>{class n extends $0{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,i){e===Td.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,i)}))}formatAt(e,i,r,s){r===Td.blotName&&(this.forceNext=!0),super.formatAt(e,i,r,s)}highlight(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const s=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join("\n")}\n`,a=Td.formats(this.children.head.domNode);if(i||this.forceNext||this.cachedText!==s){if(s.trim().length>0||null==this.cachedText){const u=this.children.reduce((b,x)=>b.concat(l7(x,!1)),new Mt),f=e(s,a);u.diff(f).reduce((b,x)=>{let{retain:D,attributes:R}=x;return D?(R&&Object.keys(R).forEach(B=>{[Td.blotName,RS.blotName].includes(B)&&this.formatAt(b,D,B,R[B])}),b+D):b},0)}this.cachedText=s,this.forceNext=!1}}html(e,i){const[r]=this.children.find(e);return`<pre data-language="${r?Td.formats(r.domNode):"plain"}">\n${AO(this.code(e,i))}\n</pre>`}optimize(e){if(super.optimize(e),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const i=Td.formats(this.children.head.domNode);i!==this.uiNode.value&&(this.uiNode.value=i)}}}return n.allowedChildren=[Td],n})();Td.requiredContainer=BO,Td.allowedChildren=[RS,SO,Zh,e_];class H7 extends nm{static register(){Xe.register(RS,!0),Xe.register(Td,!0),Xe.register(BO,!0)}constructor(t,e){if(super(t,e),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((i,r)=>{let{key:s}=r;return i[s]=!0,i},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Xe.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof BO))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(i=>{let{key:r,label:s}=i;const a=e.ownerDocument.createElement("option");a.textContent=s,a.setAttribute("value",r),e.appendChild(a)}),e.addEventListener("change",()=>{t.format(Td.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),null==t.uiNode&&(t.attachUI(e),t.children.head&&(e.value=Td.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(Xe.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(Xe.sources.USER);const i=this.quill.getSelection();(null==t?this.quill.scroll.descendants(BO):[t]).forEach(s=>{s.highlight(this.highlightBlot,e)}),this.quill.update(Xe.sources.SILENT),null!=i&&this.quill.setSelection(i,Xe.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(e=this.languages[e]?e:"plain","plain"===e)return AO(t).split("\n").reduce((r,s,a)=>(0!==a&&r.insert("\n",{[sl.blotName]:e}),r.insert(s)),new Mt);const i=this.quill.root.ownerDocument.createElement("div");return i.classList.add(sl.className),i.innerHTML=((n,t,e)=>{if("string"==typeof n.versionString){const i=n.versionString.split(".")[0];if(parseInt(i,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value})(this.options.hljs,e,t),b6(this.quill.scroll,i,[(r,s)=>{const a=OS.value(r);return a?s.compose((new Mt).retain(s.length(),{[RS.blotName]:a})):s}],[(r,s)=>r.data.split("\n").reduce((a,u,f)=>(0!==f&&a.insert("\n",{[sl.blotName]:e}),a.insert(u)),s)],new WeakMap)}}H7.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const iU=class extends Pu{static create(t){const e=super.create();return e.setAttribute("data-row",t||F6()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===iU.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};let Id=iU;Ot(Id,"blotName","table"),Ot(Id,"tagName","TD");class n_ extends G0{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats(),e=this.children.tail.formats(),i=this.next.children.head.formats(),r=this.next.children.tail.formats();return t.table===e.table&&t.table===i.table&&t.table===r.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(null==e.next)return;const i=e.formats(),r=e.next.formats();if(i.table!==r.table){const s=this.splitAfter(e);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ot(n_,"blotName","table-row"),Ot(n_,"tagName","TR");class im extends G0{}Ot(im,"blotName","table-body"),Ot(im,"tagName","TBODY");let P6=(()=>{class n extends G0{balanceCells(){const e=this.descendants(n_),i=e.reduce((r,s)=>Math.max(s.children.length,r),0);e.forEach(r=>{new Array(i-r.children.length).fill(0).forEach(()=>{let s;null!=r.children.head&&(s=Id.formats(r.children.head.domNode));const a=this.scroll.create(Id.blotName,s);r.appendChild(a),a.optimize()})})}cells(e){return this.rows().map(i=>i.children.at(e))}deleteColumn(e){const[i]=this.descendant(im);null==i||null==i.children.head||i.children.forEach(r=>{const s=r.children.at(e);null!=s&&s.remove()})}insertColumn(e){const[i]=this.descendant(im);null==i||null==i.children.head||i.children.forEach(r=>{const s=r.children.at(e),a=Id.formats(r.children.head.domNode),u=this.scroll.create(Id.blotName,a);r.insertBefore(u,s)})}insertRow(e){const[i]=this.descendant(im);if(null==i||null==i.children.head)return;const r=F6(),s=this.scroll.create(n_.blotName);i.children.head.children.forEach(()=>{const u=this.scroll.create(Id.blotName,r);s.appendChild(u)});const a=i.children.at(e);i.insertBefore(s,a)}rows(){const e=this.children.head;return null==e?[]:e.children.map(i=>i)}}return Ot(n,"blotName","table-container"),Ot(n,"tagName","TABLE"),n.allowedChildren=[im],n})();function F6(){return`row-${Math.random().toString(36).slice(2,6)}`}im.requiredContainer=P6,im.allowedChildren=[n_],n_.requiredContainer=im,n_.allowedChildren=[Id],Id.requiredContainer=n_;const q7=q0("quill:toolbar");let z7=(()=>{class n extends nm{constructor(e,i){var r,s;if(super(e,i),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),function(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const i=document.createElement("span");i.classList.add("ql-formats"),e.forEach(r=>{if("string"==typeof r)G7(i,r);else{const s=Object.keys(r)[0],a=r[s];Array.isArray(a)?function(n,t,e){const i=document.createElement("select");i.classList.add(`ql-${t}`),e.forEach(r=>{const s=document.createElement("option");!1!==r?s.setAttribute("value",String(r)):s.setAttribute("selected","selected"),i.appendChild(s)}),n.appendChild(i)}(i,s,a):G7(i,s,a)}}),n.appendChild(i)})}(a,this.options.container),null==(s=null==(r=e.container)?void 0:r.parentNode)||s.insertBefore(a,e.container),this.container=a}else this.container="string"==typeof this.options.container?document.querySelector(this.options.container):this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var f;const u=null==(f=this.options.handlers)?void 0:f[a];u&&this.addHandler(a,u)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(Xe.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})):q7.error("Container required for toolbar",this.options)}addHandler(e,i){this.handlers[e]=i}attach(e){let i=Array.from(e.classList).find(s=>0===s.indexOf("ql-"));i&&(i=i.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null!=this.handlers[i]||null!=this.quill.scroll.query(i)?(e.addEventListener("SELECT"===e.tagName?"change":"click",s=>{let a;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;const f=e.options[e.selectedIndex];a=!f.hasAttribute("selected")&&(f.value||!1)}else a=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),s.preventDefault();this.quill.focus();const[u]=this.quill.selection.getRange();if(null!=this.handlers[i])this.handlers[i].call(this,a);else if(this.quill.scroll.query(i).prototype instanceof Nu){if(a=prompt(`Enter ${i}`),!a)return;this.quill.updateContents((new Mt).retain(u.index).delete(u.length).insert({[i]:a}),Xe.sources.USER)}else this.quill.format(i,a,Xe.sources.USER);this.update(u)}),this.controls.push([i,e])):q7.warn("ignoring attaching to nonexistent format",i,e))}update(e){const i=null==e?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[s,a]=r;if("SELECT"===a.tagName){let u=null;if(null==e)u=null;else if(null==i[s])u=a.querySelector("option[selected]");else if(!Array.isArray(i[s])){let f=i[s];"string"==typeof f&&(f=f.replace(/"/g,'\\"')),u=a.querySelector(`option[value="${f}"]`)}null==u?(a.value="",a.selectedIndex=-1):u.selected=!0}else if(null==e)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const u=i[s],f=u===a.getAttribute("value")||null!=u&&u.toString()===a.getAttribute("value")||null==u&&!a.getAttribute("value");a.classList.toggle("ql-active",f),a.setAttribute("aria-pressed",f.toString())}else{const u=null!=i[s];a.classList.toggle("ql-active",u),a.setAttribute("aria-pressed",u.toString())}})}}return n.DEFAULTS={},n})();function G7(n,t,e){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${t}`),i.setAttribute("aria-pressed","false"),null!=e?(i.value=e,i.setAttribute("aria-label",`${t}: ${e}`)):i.setAttribute("aria-label",t),n.appendChild(i)}z7.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(null!=n)if(0===n.length){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{null!=this.quill.scroll.query(e,Qt.INLINE)&&this.quill.format(e,!1,Xe.sources.USER)})}else this.quill.removeFormat(n.index,n.length,Xe.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();"rtl"===n&&null==t?this.quill.format("align","right",Xe.sources.USER):!n&&"right"===t&&this.quill.format("align",!1,Xe.sources.USER),this.quill.format("direction",n,Xe.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),i=parseInt(e.indent||0,10);if("+1"===n||"-1"===n){let r="+1"===n?1:-1;"rtl"===e.direction&&(r*=-1),this.quill.format("indent",i+r,Xe.sources.USER)}},link(n){!0===n&&(n=prompt("Enter link URL:")),this.quill.format("link",n,Xe.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);this.quill.format("list","check"===n?"checked"!==e.list&&"unchecked"!==e.list&&"unchecked":n,Xe.sources.USER)}}};const $7='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',NS={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:$7,"code-block":$7,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Z7=0;function W7(n,t){n.setAttribute(t,`${"true"!==n.getAttribute(t)}`)}const VO=class{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),W7(this.label,"aria-expanded"),W7(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const i=t.getAttribute("value");return i&&e.setAttribute("data-value",i),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(e,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault()}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Z7}`,Z7+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const i=this.buildItem(e);t.appendChild(i),!0===e.selected&&this.selectItem(i)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.container.querySelector(".ql-selected");t!==i&&(null!=i&&i.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const i=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(i)}else this.selectItem(null);const e=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}},Y7=class extends VO{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(i=>{i.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const i=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}},K7=class extends VO{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(i=>{i.innerHTML=e[i.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const i=t||this.defaultItem;if(null!=i){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}},Q7=class{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(n=>{const{overflowY:t}=getComputedStyle(n,null);return"visible"!==t&&"clip"!==t})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,i=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${i}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let a=0;return s.right>r.right&&(a=r.right-s.right,this.root.style.left=`${e+a}px`),s.left<r.left&&(a=r.left-s.left,this.root.style.left=`${e+a}px`),s.bottom>r.bottom&&(this.root.style.top=i-(t.bottom-t.top+(s.bottom-s.top))+"px",this.root.classList.add("ql-flip")),a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},wwe=[!1,"center","right","justify"],Cwe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Ewe=[!1,"serif","monospace"],xwe=["1","2","3",!1],Awe=["small",!1,"large","huge"];class PS extends MO{constructor(t,e){super(t,e);const i=r=>{document.body.contains(t.root)?(null!=this.tooltip&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(s=>{s.container.contains(r.target)||s.close()})):document.body.removeEventListener("click",i)};t.emitter.listenDOM("click",document.body,i)}addModule(t){const e=super.addModule(t);return"toolbar"===t&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(i=>{(i.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice("ql-".length),null!=e[s]))if("direction"===s)i.innerHTML=e[s][""]+e[s].rtl;else if("string"==typeof e[s])i.innerHTML=e[s];else{const a=i.value||"";null!=a&&e[s][a]&&(i.innerHTML=e[s][a])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(r=>{if(r.classList.contains("ql-align")&&(null==r.querySelector("option")&&FS(r,wwe),"object"==typeof e.align))return new K7(r,e.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const s=r.classList.contains("ql-background")?"background":"color";return null==r.querySelector("option")&&FS(r,Cwe,"background"===s?"#ffffff":"#000000"),new Y7(r,e[s])}return null==r.querySelector("option")&&(r.classList.contains("ql-font")?FS(r,Ewe):r.classList.contains("ql-header")?FS(r,xwe):r.classList.contains("ql-size")&&FS(r,Awe)),new VO(r)}),this.quill.on(Ht.events.EDITOR_CHANGE,()=>{this.pickers.forEach(r=>{r.update()})})}}PS.DEFAULTS=pv({},MO.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");null==n&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class J7 extends Q7{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{"Enter"===t.key?(this.save(),t.preventDefault()):"Escape"===t.key&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const i=this.quill.getBounds(this.quill.selection.savedRange);null!=i&&this.position(i),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Ht.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Ht.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=function(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(null!=e){const i=e.index+e.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),t,Ht.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",Ht.sources.USER),this.quill.setSelection(i+2,Ht.sources.USER)}break}}this.textbox.value="",this.hide()}}function FS(n,t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(i=>{const r=document.createElement("option");i===e?r.setAttribute("selected","selected"):r.setAttribute("value",String(i)),n.appendChild(r)})}const Swe=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class X7 extends J7{constructor(t,e){super(t,e),this.quill.on(Ht.events.EDITOR_CHANGE,(i,r,s,a)=>{if(i===Ht.events.SELECTION_CHANGE)if(null!=r&&r.length>0&&a===Ht.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const u=this.quill.getLines(r.index,r.length);if(1===u.length){const f=this.quill.getBounds(r);null!=f&&this.position(f)}else{const f=u[u.length-1],b=this.quill.getIndex(f),x=Math.min(f.length()-1,r.index+r.length-b),D=this.quill.getBounds(new z0(b,x));null!=D&&this.position(D)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ht.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(null!=t){const e=this.quill.getBounds(t);null!=e&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",0!==e&&(i.style.marginLeft=-1*e-i.offsetWidth/2+"px"),e}}Ot(X7,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class e9 extends PS{constructor(t,e){null!=e.modules.toolbar&&null==e.modules.toolbar.container&&(e.modules.toolbar.container=Swe),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new X7(this.quill,this.options.bounds),null!=t.container&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),NS),this.buildPickers(t.container.querySelectorAll("select"),NS))}}e9.DEFAULTS=pv({},PS.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Xe.sources.USER)}}}}});const Twe=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class t9 extends J7{constructor(){super(...arguments),Ot(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(null!=this.linkRange){const e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,Ht.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Ht.events.SELECTION_CHANGE,(t,e,i)=>{if(null!=t){if(0===t.length&&i===Ht.sources.USER){const[r,s]=this.quill.scroll.descendant(yv,t.index);if(null!=r){this.linkRange=new z0(t.index-s,r.length());const a=yv.formats(r.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const u=this.quill.getBounds(this.linkRange);return void(null!=u&&this.position(u))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ot(t9,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class n9 extends PS{constructor(t,e){null!=e.modules.toolbar&&null==e.modules.toolbar.container&&(e.modules.toolbar.container=Twe),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){null!=t.container&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),NS),this.buildPickers(t.container.querySelectorAll("select"),NS),this.tooltip=new t9(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,i)=>{t.handlers.link.call(t,!i.format.link)}))}}n9.DEFAULTS=pv({},PS.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(null==t||0===t.length)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&0!==e.indexOf("mailto:")&&(e=`mailto:${e}`);const{tooltip:i}=this.quill.theme;i.edit("link",e)}else this.quill.format("link",!1,Xe.sources.USER)}}}}});const Iwe=n9;E6.register({"attributors/attribute/direction":C7,"attributors/class/align":v7,"attributors/class/background":Jbe,"attributors/class/color":Qbe,"attributors/class/direction":E7,"attributors/class/font":D7,"attributors/class/size":T7,"attributors/style/align":b7,"attributors/style/background":g6,"attributors/style/color":m6,"attributors/style/direction":x7,"attributors/style/font":S7,"attributors/style/size":I7},!0),E6.register({"formats/align":v7,"formats/direction":E7,"formats/indent":$0e,"formats/background":g6,"formats/color":m6,"formats/font":D7,"formats/size":T7,"formats/blockquote":Z0e,"formats/code-block":sl,"formats/header":W0e,"formats/list":S6,"formats/bold":I6,"formats/code":Xbe,"formats/italic":Y0e,"formats/link":yv,"formats/script":K0e,"formats/strike":Q0e,"formats/underline":J0e,"formats/formula":X0e,"formats/image":ewe,"formats/video":twe,"modules/syntax":H7,"modules/table":class extends nm{static register(){Xe.register(Id),Xe.register(n_),Xe.register(im),Xe.register(P6)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(P6).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();null!=e&&(t.deleteColumn(e.cellOffset()),this.quill.update(Xe.sources.USER))}deleteRow(){const[,t]=this.getTable();null!=t&&(t.remove(),this.quill.update(Xe.sources.USER))}deleteTable(){const[t]=this.getTable();if(null==t)return;const e=t.offset();t.remove(),this.quill.update(Xe.sources.USER),this.quill.setSelection(e,Xe.sources.SILENT)}getTable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==t)return[null,null,null,-1];const[e,i]=this.quill.getLine(t.index);if(null==e||e.statics.blotName!==Id.blotName)return[null,null,null,-1];const r=e.parent;return[r.parent.parent,r,e,i]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[i,r,s]=this.getTable(e);if(null==s)return;const a=s.cellOffset();i.insertColumn(a+t),this.quill.update(Xe.sources.USER);let u=r.rowOffset();0===t&&(u+=1),this.quill.setSelection(e.index+u,e.length,Xe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[i,r,s]=this.getTable(e);if(null==s)return;const a=r.rowOffset();i.insertRow(a+t),this.quill.update(Xe.sources.USER),t>0?this.quill.setSelection(e,Xe.sources.SILENT):this.quill.setSelection(e.index+r.children.length,e.length,Xe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const i=this.quill.getSelection();if(null==i)return;const r=new Array(t).fill(0).reduce(s=>{const a=new Array(e).fill("\n").join("");return s.insert(a,{table:F6()})},(new Mt).retain(i.index));this.quill.updateContents(r,Xe.sources.USER),this.quill.setSelection(i.index,Xe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Xe.events.SCROLL_OPTIMIZE,t=>{t.some(e=>!!["TD","TR","TBODY","TABLE"].includes(e.target.tagName)&&(this.quill.once(Xe.events.TEXT_CHANGE,(i,r,s)=>{s===Xe.sources.USER&&this.balanceTables()}),!0))})}},"modules/toolbar":z7,"themes/bubble":e9,"themes/snow":Iwe,"ui/icons":NS,"ui/picker":VO,"ui/icon-picker":K7,"ui/color-picker":Y7,"ui/tooltip":Q7},!0);const Mwe=E6,kwe=["editor"];let Owe=(()=>{class n{constructor(){this.contentChanged=new o.vpe}ngOnInit(){this.quill=new Mwe(this.editorElement.nativeElement,{theme:"snow",modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]}}),this.quill.on("text-change",()=>{this.contentChanged.emit(this.quill.root.innerHTML)})}getContent(){return this.quill.root.innerHTML}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-rich-text-editor"]],viewQuery:function(e,i){if(1&e&&o.Gf(kwe,7),2&e){let r;o.iGM(r=o.CRH())&&(i.editorElement=r.first)}},outputs:{contentChanged:"contentChanged"},decls:3,vars:0,consts:[[1,"bg-white","shadow-md","rounded-lg"],[1,"h-64"],["editor",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"div",1,2),o.qZA())},styles:[".ql-toolbar[_ngcontent-%COMP%]{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.ql-container[_ngcontent-%COMP%]{border-bottom-right-radius:.5rem;border-bottom-left-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.ql-editor[_ngcontent-%COMP%]{height:100%;padding:1rem;--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}"]}),n})();function Rwe(n,t){if(1&n&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function Nwe(n,t){if(1&n&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function Pwe(n,t){if(1&n&&(o.TgZ(0,"mat-option",39),o._uU(1),o.ALo(2,"percentage"),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.value),o.xp6(1),o.hij(" ",o.lcZ(2,2,e.value)," ")}}function Fwe(n,t){if(1&n&&(o.TgZ(0,"div",40),o.TgZ(1,"div",41),o._UZ(2,"div",42),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(2),o.Q6J("innerHTML",e,o.oJD)}}let Lwe=(()=>{class n{constructor(e,i,r,s,a,u){this.fb=e,this.taskService=i,this.projectService=r,this.commentService=s,this.dialogRef=a,this.data=u,this.projects=[],this.tasks=[],this.percentageParams=C$,this.comments=[],this.taskForm=this.fb.group({name:[this.data.name,ro.required],project:[this.data.project,ro.required],dueDate:[this.data.dueDate],status:[this.data.status,ro.required],detail:[this.data.detail,ro.required],startDate:[this.data.startDate],endDate:[this.data.endDate],numberOfDays:[{value:this.data.numberOfDays,disabled:!0}],priority:[this.data.priority],parentTask:[this.data.parentTask],loe:[this.data.loe],percentageCompletion:[this.data.percentageCompletion],taskNumber:[this.data.taskNumber]}),this.commentForm=this.fb.group({comment:["",ro.required]})}ngOnInit(){this.projectService.getProjects().subscribe(e=>{this.projects=e}),this.taskService.getTasks().subscribe(e=>{this.tasks=e}),this.loadComments()}calculateDays(){var e,i,r;const s=null===(e=this.taskForm.get("startDate"))||void 0===e?void 0:e.value,a=null===(i=this.taskForm.get("endDate"))||void 0===i?void 0:i.value;if(s&&a){const u=new Date(s),f=new Date(a),b=Math.abs(f.getTime()-u.getTime()),x=Math.ceil(b/864e5);null===(r=this.taskForm.get("numberOfDays"))||void 0===r||r.setValue(x+1)}}onSubmit(){var e,i;if(this.taskForm.valid){null===(e=this.taskForm.get("numberOfDays"))||void 0===e||e.enable();const r=Object.assign(Object.assign({},this.taskForm.value),{id:this.data.id});this.taskService.updateTask(r.id,r).subscribe(()=>{this.dialogRef.close()}),null===(i=this.taskForm.get("numberOfDays"))||void 0===i||i.disable()}}loadComments(){this.commentService.getComments(this.data.id).subscribe(e=>{this.comments=e.map(i=>i.comment)})}onCommentSubmit(){this.commentForm.valid&&this.commentService.addComment(this.data.id,this.commentForm.value.comment).subscribe(()=>{this.comments.push(this.commentForm.value.comment),this.commentForm.reset()})}onEditorContentChanged(e){var i;null===(i=this.commentForm.get("comment"))||void 0===i||i.setValue(e)}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(MC),o.Y36(T3),o.Y36(hO),o.Y36($he),o.Y36(o0),o.Y36(QA))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-task"]],decls:100,vars:13,consts:[["label","Edit"],[1,"p-4","pb-0","h-100","flex","flex-col","gap-y-2",3,"formGroup","ngSubmit"],[1,"flex","justify-between","items-center"],[1,"text-orange-500","font-thin"],[1,"grow","flex-col","gap-y-2"],[1,"flex","space-x-6"],["appearance","fill",1,"w-100"],["matInput","","formControlName","name","required",""],["formControlName","project","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","parentTask"],["matInput","","formControlName","startDate",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateChange"],["endPicker",""],["matInput","","formControlName","numberOfDays"],["formControlName","status","required",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["formControlName","priority"],["value","Low"],["value","Medium"],["value","High"],["value","Critical"],["matInput","","formControlName","loe"],["formControlName","percentageCompletion"],["rows","10","matInput","","formControlName","detail"],[1,"flex","pt-2","pb-2","items-end","justify-end","space-x-4"],["size","small","color","light",3,"click"],["size","medium","type","submit",3,"disabled"],["label","Comments"],[1,"p-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4","flex","flex-col","gap-y-3",3,"formGroup","ngSubmit"],[3,"contentChanged"],[3,"value"],[1,"mt-4"],[1,"bg-gray-50","shadow-md","rounded-tl-sm","rounded-xl","p-4"],[1,"text-gray-800",3,"innerHTML"]],template:function(e,i){if(1&e&&(o.TgZ(0,"mat-tab-group"),o.TgZ(1,"mat-tab",0),o.TgZ(2,"form",1),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(3,"div",2),o.TgZ(4,"h2"),o._uU(5,"Edit Task:"),o.qZA(),o.TgZ(6,"span",3),o._uU(7),o.qZA(),o.qZA(),o.TgZ(8,"div",4),o.TgZ(9,"div",5),o.TgZ(10,"mat-form-field",6),o.TgZ(11,"mat-label"),o._uU(12,"Task Name: "),o.qZA(),o._UZ(13,"input",7),o.qZA(),o.TgZ(14,"mat-form-field",6),o.TgZ(15,"mat-label"),o._uU(16,"Project"),o.qZA(),o.TgZ(17,"mat-select",8),o.YNc(18,Rwe,2,2,"mat-option",9),o.qZA(),o.qZA(),o.TgZ(19,"mat-form-field",6),o.TgZ(20,"mat-label"),o._uU(21,"Parent Task"),o.qZA(),o.TgZ(22,"mat-select",10),o.YNc(23,Nwe,2,2,"mat-option",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(24,"div",5),o.TgZ(25,"mat-form-field",6),o.TgZ(26,"mat-label"),o._uU(27,"Start Date"),o.qZA(),o.TgZ(28,"input",11),o.NdJ("dateChange",function(){return i.calculateDays()}),o.qZA(),o._UZ(29,"mat-datepicker-toggle",12),o._UZ(30,"mat-datepicker",null,13),o.qZA(),o.TgZ(32,"mat-form-field",6),o.TgZ(33,"mat-label"),o._uU(34,"End Date"),o.qZA(),o.TgZ(35,"input",14),o.NdJ("dateChange",function(){return i.calculateDays()}),o.qZA(),o._UZ(36,"mat-datepicker-toggle",12),o._UZ(37,"mat-datepicker",null,15),o.qZA(),o.TgZ(39,"mat-form-field",6),o.TgZ(40,"mat-label"),o._uU(41,"Number of Days"),o.qZA(),o._UZ(42,"input",16),o.qZA(),o.qZA(),o.TgZ(43,"div",5),o.TgZ(44,"mat-form-field",6),o.TgZ(45,"mat-label"),o._uU(46,"Status"),o.qZA(),o.TgZ(47,"mat-select",17),o.TgZ(48,"mat-option",18),o._uU(49,"Not Start"),o.qZA(),o.TgZ(50,"mat-option",19),o._uU(51,"On Going"),o.qZA(),o.TgZ(52,"mat-option",20),o._uU(53,"Completed"),o.qZA(),o.TgZ(54,"mat-option",21),o._uU(55,"On Hold"),o.qZA(),o.TgZ(56,"mat-option",22),o._uU(57,"Cancelled"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(58,"mat-form-field",6),o.TgZ(59,"mat-label"),o._uU(60,"Priority"),o.qZA(),o.TgZ(61,"mat-select",23),o.TgZ(62,"mat-option",24),o._uU(63,"Low"),o.qZA(),o.TgZ(64,"mat-option",25),o._uU(65,"Medium"),o.qZA(),o.TgZ(66,"mat-option",26),o._uU(67,"High"),o.qZA(),o.TgZ(68,"mat-option",27),o._uU(69,"Critical"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(70,"mat-form-field",6),o.TgZ(71,"mat-label"),o._uU(72,"Level of Effort (LOE)"),o.qZA(),o._UZ(73,"input",28),o.qZA(),o.TgZ(74,"mat-form-field",6),o.TgZ(75,"mat-label"),o._uU(76,"Percentage of Completion"),o.qZA(),o.TgZ(77,"mat-select",29),o.YNc(78,Pwe,3,4,"mat-option",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(79,"mat-form-field",6),o.TgZ(80,"mat-label"),o._uU(81,"Task Detail"),o.qZA(),o._UZ(82,"textarea",30),o.qZA(),o.qZA(),o.TgZ(83,"div",31),o.TgZ(84,"app-button-ui",32),o.NdJ("click",function(){return i.onCancel()}),o._uU(85,"Cancel"),o.qZA(),o.TgZ(86,"app-button-ui",33),o._uU(87,"Update Task"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(88,"mat-tab",34),o.TgZ(89,"div",35),o.TgZ(90,"h2"),o._uU(91,"Comments"),o.qZA(),o.YNc(92,Fwe,3,1,"div",36),o.TgZ(93,"form",37),o.NdJ("ngSubmit",function(){return i.onCommentSubmit()}),o.TgZ(94,"label"),o._uU(95,"Comment: "),o.qZA(),o.TgZ(96,"app-rich-text-editor",38),o.NdJ("contentChanged",function(s){return i.onEditorContentChanged(s)}),o.qZA(),o.TgZ(97,"div",31),o.TgZ(98,"app-button-ui",33),o._uU(99,"Post Comment"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(31),s=o.MAs(38);o.xp6(2),o.Q6J("formGroup",i.taskForm),o.xp6(5),o.Oqu(i.taskForm.value.taskNumber),o.xp6(11),o.Q6J("ngForOf",i.projects),o.xp6(5),o.Q6J("ngForOf",i.tasks),o.xp6(5),o.Q6J("matDatepicker",r),o.xp6(1),o.Q6J("for",r),o.xp6(6),o.Q6J("matDatepicker",s),o.xp6(1),o.Q6J("for",s),o.xp6(42),o.Q6J("ngForOf",i.percentageParams),o.xp6(8),o.Q6J("disabled",i.taskForm.invalid),o.xp6(6),o.Q6J("ngForOf",i.comments),o.xp6(1),o.Q6J("formGroup",i.commentForm),o.xp6(5),o.Q6J("disabled",i.commentForm.invalid)}},directives:[Tfe,Y$,xy,wg,Np,e0,Py,GC,_d,Op,Vb,yd,YC,Wt,jE,uO,F1,lO,Xb,zE,Owe],pipes:[I3],styles:[""]}),n})(),Bwe=(()=>{class n{transform(e){const i=v3.find(r=>r.value.toString()===e.toString());return i?i.label:"Unknown"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"status",type:n,pure:!0}),n})(),Vwe=(()=>{class n{transform(e){const i=v3.find(r=>r.value.toString()===e.toString());return i?i.color:"text-black"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"statusColor",type:n,pure:!0}),n})();function Uwe(n,t){if(1&n&&(o.TgZ(0,"mat-option",44),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function jwe(n,t){if(1&n&&(o.TgZ(0,"mat-option",44),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.value),o.xp6(1),o.Oqu(e.label)}}function Hwe(n,t){1&n&&(o.TgZ(0,"th",45),o._uU(1," # "),o.qZA())}function qwe(n,t){if(1&n&&(o.TgZ(0,"td",46),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.taskNumber," ")}}function zwe(n,t){1&n&&(o.TgZ(0,"th",47),o._uU(1," Name "),o.qZA())}function Gwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",51),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.name=r})("blur",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"name")}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.name)}}function $we(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e.name)}}function Zwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",48),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"name")}),o.YNc(1,Gwe,1,1,"input",49),o.YNc(2,$we,2,1,"span",50),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isEditing(e,"name")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"name"))}}function Wwe(n,t){1&n&&(o.TgZ(0,"th",52),o._uU(1," Project "),o.qZA())}function Ywe(n,t){if(1&n&&(o.TgZ(0,"mat-option",44),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function Kwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-select",55),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.project=r})("selectionChange",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"project")}),o.YNc(1,Ywe,2,2,"mat-option",11),o.qZA()}if(2&n){const e=o.oxw().$implicit,i=o.oxw();o.Q6J("ngModel",e.project),o.xp6(1),o.Q6J("ngForOf",i.projects)}}function Qwe(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.Oqu(i.getProjectName(e.project))}}function Jwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",53),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"project")}),o.YNc(1,Kwe,2,2,"mat-select",54),o.YNc(2,Qwe,2,1,"span",50),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isEditing(e,"project")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"project"))}}function Xwe(n,t){1&n&&(o.TgZ(0,"th",56),o._uU(1," Status "),o.qZA())}function eCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-select",55),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.status=r})("selectionChange",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"status")}),o.TgZ(1,"mat-option",58),o._uU(2,"Not Start"),o.qZA(),o.TgZ(3,"mat-option",59),o._uU(4,"On Going"),o.qZA(),o.TgZ(5,"mat-option",60),o._uU(6,"Completed"),o.qZA(),o.TgZ(7,"mat-option",61),o._uU(8,"On Hold"),o.qZA(),o.TgZ(9,"mat-option",62),o._uU(10,"Cancelled"),o.qZA(),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.status)}}function tCe(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"status"),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e.status))}}function nCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",57),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"status")}),o.ALo(1,"statusColor"),o.YNc(2,eCe,11,1,"mat-select",54),o.YNc(3,tCe,3,3,"span",50),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.Q6J("ngClass",o.lcZ(1,3,e.status)),o.xp6(2),o.Q6J("ngIf",i.isEditing(e,"status")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"status"))}}function iCe(n,t){1&n&&(o.TgZ(0,"th",52),o._uU(1," Start Date "),o.qZA())}function rCe(n,t){if(1&n&&(o.TgZ(0,"td",63),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,e.startDate)," ")}}function sCe(n,t){1&n&&(o.TgZ(0,"th",52),o._uU(1," End Date "),o.qZA())}function oCe(n,t){if(1&n&&(o.TgZ(0,"td",63),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,e.endDate)," ")}}function aCe(n,t){1&n&&(o.TgZ(0,"th",52),o._uU(1," Days "),o.qZA())}function lCe(n,t){if(1&n&&(o.TgZ(0,"td",64),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.numberOfDays," ")}}function cCe(n,t){1&n&&(o.TgZ(0,"th",65),o._uU(1," LOE "),o.qZA())}function uCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",67),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.loe=r})("blur",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"loe")}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.loe)}}function dCe(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e.loe)}}function hCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",48),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"loe")}),o.YNc(1,uCe,1,1,"input",66),o.YNc(2,dCe,2,1,"span",50),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isEditing(e,"loe")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"loe"))}}function fCe(n,t){1&n&&(o.TgZ(0,"th",68),o._uU(1," Percentage "),o.qZA())}function pCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",70),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.percentageCompletion=r})("blur",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"percentageCompletion")}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.percentageCompletion)}}function mCe(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"percentage"),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e.percentageCompletion))}}function gCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",48),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"percentageCompletion")}),o.YNc(1,pCe,1,1,"input",69),o.YNc(2,mCe,3,3,"span",50),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isEditing(e,"percentageCompletion")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"percentageCompletion"))}}function _Ce(n,t){1&n&&(o.TgZ(0,"th",71),o._uU(1," Action "),o.qZA())}function yCe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",63),o.TgZ(1,"div",72),o.TgZ(2,"button",73),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().openEditDialog(s)}),o.TgZ(3,"mat-icon"),o._uU(4,"edit"),o.qZA(),o.qZA(),o.TgZ(5,"button",73),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().openDeleteDialog(s)}),o.TgZ(6,"mat-icon"),o._uU(7,"delete"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function vCe(n,t){1&n&&o._UZ(0,"tr",74)}function bCe(n,t){1&n&&o._UZ(0,"tr",75)}const wCe=function(){return[5,10,20]};let i9=(()=>{class n{constructor(e,i,r,s){this.taskService=e,this.projectService=i,this.dialog=r,this.route=s,this.displayedColumns=["taskNumber","project","name","status","percentageCompletion","numberOfDays","loe","startDate","endDate","action"],this.dataSource=new J4,this.statusParams=v3,this.projectId="",this.pageSize=10,this.projects=[],this.selectedProject="",this.editingCell={}}ngOnInit(){this.loadProjects().subscribe(()=>{this.route.paramMap.subscribe(e=>{this.projectId=e.get("projectId"),this.loadTasks()})}),this.applyStatusFilter(2)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}applyProjectFilter(e){this.selectedProject=e,this.dataSource.filter=this.selectedProject?this.selectedProject:""}applyStatusFilter(e){this.dataSource.filterPredicate=i=>!e||+i.status===e,this.dataSource.filter=e?e.toString():""}loadTasks(){this.taskService.getTasks().subscribe(e=>{this.dataSource.data=this.projectId?e.filter(i=>i.project===this.projectId).sort((i,r)=>new Date(i.endDate).getTime()-new Date(r.endDate).getTime()):e.sort((i,r)=>new Date(i.endDate).getTime()-new Date(r.endDate).getTime())})}loadProjects(){return this.projectService.getProjects().pipe((0,It.U)(e=>(this.projects=e,e)))}openNewDialog(){this.dialog.open(Ghe,{width:"80%",height:"80%",data:{projectId:this.projectId}}).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}openEditDialog(e){this.dialog.open(Lwe,{width:"80%",height:"80%",data:e}).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}openDeleteDialog(e){this.dialog.open(z$,{width:"250px",data:{title:"Delete Task",message:`Are you sure you want to delete task "${e.name}"?`}}).afterClosed().subscribe(r=>{r&&this.taskService.deleteTask(e.id).subscribe(()=>{this.dataSource.data=this.dataSource.data.filter(s=>s.id!==e.id)})})}editCell(e,i){this.editingCell[e.id+i]=!0}isEditing(e,i){return this.editingCell[e.id+i]}saveEdit(e,i){this.editingCell[e.id+i]=!1,this.taskService.updateTask(e.id,e).subscribe()}getProjectName(e){const i=this.projects.find(r=>r.id.toString()===e);return i?i.name:""}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(T3),o.Y36(hO),o.Y36(hM),o.Y36(gc))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-task"]],viewQuery:function(e,i){if(1&e&&(o.Gf(HA,5),o.Gf(Q1,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:66,vars:9,consts:[[1,"flex-col","gap-y-2","h-100","m-0","bg-purple-50","p-4"],[1,"bl-header","pb-2","mb-2","flex","space-x-6","justify-content-between"],[1,"flex-grow-1","m-0"],[1,"flex","items-center","space-x-4"],[1,"relative"],["for","name",1,"absolute","-top-2","left-2","inline-block","rounded-lg","bg-white","px-1","text-xs","font-medium","text-gray-900"],["type","text","placeholder","Search task here",1,"block","w-56","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6",3,"keyup"],["for","project",1,"absolute","-top-2","left-2","inline-block","rounded-lg","bg-white","px-1","text-xs","font-medium","text-gray-900"],[1,"w-56"],[1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","border","outline","outline-1","-outline-offset-1","outline-gray-300","focus:outline","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","status",1,"absolute","-top-2","left-2","inline-block","rounded-lg","bg-white","px-1","text-xs","font-medium","text-gray-900"],[1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","border","outline","outline-1","-outline-offset-1","outline-gray-300","focus:outline","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6",3,"value","selectionChange"],[1,"flex","items-center"],["size","small",3,"click"],[1,"flex-grow-1"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","taskNumber"],["width","150","mat-header-cell","",4,"matHeaderCellDef"],["class","text-gray-800 font-bold","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["width","380","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","pe-2","mat-cell","",3,"dblclick",4,"matCellDef"],["matColumnDef","project"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","pe-2 text-gray-500","mat-cell","",3,"dblclick",4,"matCellDef"],["matColumnDef","status"],["class","w-28","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","pe-2","mat-cell","",3,"ngClass","dblclick",4,"matCellDef"],["matColumnDef","startDate"],["mat-cell","",4,"matCellDef"],["matColumnDef","endDate"],["matColumnDef","numberOfDays"],["class","text-gray-300","mat-cell","",4,"matCellDef"],["matColumnDef","loe"],["class","w-14","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","percentageCompletion"],["class","w-16","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","action"],["class","text-center","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of projects",3,"pageSizeOptions","pageSize"],[3,"value"],["width","150","mat-header-cell",""],["mat-cell","",1,"text-gray-800","font-bold"],["width","380","mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"pe-2",3,"dblclick"],["class","p-2 border rounded-md w-full",3,"ngModel","ngModelChange","blur",4,"ngIf"],[4,"ngIf"],[1,"p-2","border","rounded-md","w-full",3,"ngModel","ngModelChange","blur"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"pe-2","text-gray-500",3,"dblclick"],["class","p-1 border rounded-md",3,"ngModel","ngModelChange","selectionChange",4,"ngIf"],[1,"p-1","border","rounded-md",3,"ngModel","ngModelChange","selectionChange"],["mat-header-cell","","mat-sort-header","",1,"w-28"],["mat-cell","",1,"pe-2",3,"ngClass","dblclick"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["mat-cell",""],["mat-cell","",1,"text-gray-300"],["mat-header-cell","","mat-sort-header","",1,"w-14"],["class","p-1 border rounded-md w-12",3,"ngModel","ngModelChange","blur",4,"ngIf"],[1,"p-1","border","rounded-md","w-12",3,"ngModel","ngModelChange","blur"],["mat-header-cell","","mat-sort-header","",1,"w-16"],["class","p-1 border rounded-md w-14",3,"ngModel","ngModelChange","blur",4,"ngIf"],[1,"p-1","border","rounded-md","w-14",3,"ngModel","ngModelChange","blur"],["mat-header-cell","",1,"text-center"],[1,"flex","justify-center"],["mat-icon-button","",1,"small-icon-button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"app-breadcrumb"),o.TgZ(2,"app-blanket"),o.TgZ(3,"section",1),o.TgZ(4,"h2",2),o._uU(5," Task Management "),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"label",5),o._uU(9,"Search"),o.qZA(),o.TgZ(10,"input",6),o.NdJ("keyup",function(s){return i.applyFilter(s)}),o.qZA(),o.qZA(),o.TgZ(11,"div",4),o.TgZ(12,"label",7),o._uU(13,"Project"),o.qZA(),o.TgZ(14,"div",8),o.TgZ(15,"mat-select",9),o.NdJ("selectionChange",function(s){return i.applyProjectFilter(s.value)}),o.TgZ(16,"mat-option",10),o._uU(17,"All"),o.qZA(),o.YNc(18,Uwe,2,2,"mat-option",11),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",4),o.TgZ(20,"label",12),o._uU(21,"Status"),o.qZA(),o.TgZ(22,"div",8),o.TgZ(23,"mat-select",13),o.NdJ("selectionChange",function(s){return i.applyStatusFilter(s.value)}),o.TgZ(24,"mat-option",10),o._uU(25,"All"),o.qZA(),o.YNc(26,jwe,2,2,"mat-option",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",14),o.TgZ(28,"app-button-ui",15),o.NdJ("click",function(){return i.openNewDialog()}),o._uU(29," New Task "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"div",16),o.TgZ(31,"table",17),o.ynx(32,18),o.YNc(33,Hwe,2,0,"th",19),o.YNc(34,qwe,2,1,"td",20),o.BQk(),o.ynx(35,21),o.YNc(36,zwe,2,0,"th",22),o.YNc(37,Zwe,3,2,"td",23),o.BQk(),o.ynx(38,24),o.YNc(39,Wwe,2,0,"th",25),o.YNc(40,Jwe,3,2,"td",26),o.BQk(),o.ynx(41,27),o.YNc(42,Xwe,2,0,"th",28),o.YNc(43,nCe,4,5,"td",29),o.BQk(),o.ynx(44,30),o.YNc(45,iCe,2,0,"th",25),o.YNc(46,rCe,3,3,"td",31),o.BQk(),o.ynx(47,32),o.YNc(48,sCe,2,0,"th",25),o.YNc(49,oCe,3,3,"td",31),o.BQk(),o.ynx(50,33),o.YNc(51,aCe,2,0,"th",25),o.YNc(52,lCe,2,1,"td",34),o.BQk(),o.ynx(53,35),o.YNc(54,cCe,2,0,"th",36),o.YNc(55,hCe,3,2,"td",23),o.BQk(),o._uU(56," <"),o.ynx(57,37),o.YNc(58,fCe,2,0,"th",38),o.YNc(59,gCe,3,2,"td",23),o.BQk(),o.ynx(60,39),o.YNc(61,_Ce,2,0,"th",40),o.YNc(62,yCe,8,0,"td",31),o.BQk(),o.YNc(63,vCe,1,0,"tr",41),o.YNc(64,bCe,1,0,"tr",42),o.qZA(),o._UZ(65,"mat-paginator",43),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(18),o.Q6J("ngForOf",i.projects),o.xp6(5),o.Q6J("value",2),o.xp6(3),o.Q6J("ngForOf",i.statusParams),o.xp6(5),o.Q6J("dataSource",i.dataSource),o.xp6(32),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(8,wCe))("pageSize",i.pageSize))},directives:[V1,G$,YC,Xb,Wt,zE,pF,HA,cM,lM,aM,mF,gF,Q1,uM,dM,_4,vt,_d,Op,Tg,it,D3,Uh,q1,_F,yF],pipes:[Vwe,Bwe,Ys,I3],styles:[""]}),n})();const CCe=[{path:"login",component:Kj},{path:"logout",component:Kj},{path:"register",component:XQ},{path:"project",component:Uhe},{path:"project-detail/:id",component:jhe},{path:"task",component:i9},{path:"task/:projectId",component:i9},{path:"home",component:jJ},{path:"",redirectTo:"/home",pathMatch:"full"}];let ECe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Te,sy.forRoot(CCe)],sy]}),n})();const ft=function(n,t){if(!n)throw ax(t)},ax=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},r9=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},B6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,u=a?n[r+1]:0,f=r+2<n.length,b=f?n[r+2]:0;let R=(15&u)<<2|b>>6,B=63&b;f||(B=64,a||(R=64)),i.push(e[s>>2],e[(3&s)<<4|u>>4],e[R],e[B])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(r9(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const f=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(1023&f))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const b=r<n.length?e[n.charAt(r)]:64;++r;const D=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==u||null==b||null==D)throw new SCe;i.push(s<<2|u>>4),64!==b&&(i.push(u<<4&240|b>>2),64!==D&&i.push(b<<6&192|D))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SCe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s9=function(n){const t=r9(n);return B6.encodeByteArray(t,!0)},o9=function(n){return s9(n).replace(/\./g,"")},V6=function(n){try{return B6.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TCe(n){return a9(void 0,n)}function a9(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!ICe(e)||(n[e]=a9(n[e],t[e]));return n}function ICe(n){return"__proto__"!==n}class zl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function l9(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function LS(n){return JSON.parse(n)}function Ao(n){return JSON.stringify(n)}Error;const HO=function(n){let t={},e={},i={},r="";try{const s=n.split(".");t=LS(V6(s[0])||""),e=LS(V6(s[1])||""),r=s[2],i=e.d||{},delete e.d}catch(s){}return{header:t,claims:e,data:i,signature:r}};function Yh(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function W0(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function j6(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function qO(n,t,e){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}class $Ce{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if("string"==typeof t)for(let D=0;D<16;D++)i[D]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let D=0;D<16;D++)i[D]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let D=16;D<80;D++){const R=i[D-3]^i[D-8]^i[D-14]^i[D-16];i[D]=4294967295&(R<<1|R>>>31)}let b,x,r=this.chain_[0],s=this.chain_[1],a=this.chain_[2],u=this.chain_[3],f=this.chain_[4];for(let D=0;D<80;D++){D<40?D<20?(b=u^s&(a^u),x=1518500249):(b=s^a^u,x=1859775393):D<60?(b=s&a|u&(s|a),x=2400959708):(b=s^a^u,x=3395469782);const R=(r<<5|r>>>27)+b+f+x+i[D]&4294967295;f=u,u=a,a=4294967295&(s<<30|s>>>2),s=r,r=R}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const i=e-this.blockSize;let r=0;const s=this.buf_;let a=this.inbuf_;for(;r<e;){if(0===a)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(s[a]=t.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}else for(;r<e;)if(s[a]=t[r],++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}}const wn=function(n,t,e,i){let r;if(i<t?r="at least "+t:i>e&&(r=0===e?"none":"no more than "+e),r)throw new Error(n+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function Gl(n,t){return`${n} failed: ${t} argument `}function Xo(n,t,e,i){if((!i||e)&&"function"!=typeof e)throw new Error(Gl(n,t)+"must be a valid function.")}function u9(n,t,e,i){if((!i||e)&&("object"!=typeof e||null===e))throw new Error(Gl(n,t)+"must be a valid context object.")}const zO=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};function Fu(n){return n&&n._delegate?n._delegate:n}class q6{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Y0="[DEFAULT]";class d9{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new zl;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Y0})}catch(e){}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(t=Y0){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,be.Z)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Y0){return this.instances.has(t)}getOptions(t=Y0){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,a]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&a.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch(s){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tEe(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(r){}return i||null}normalizeInstanceIdentifier(t=Y0){return this.component?this.component.multipleInstances?t:Y0:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function tEe(n){return n===Y0?void 0:n}class iEe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new d9(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const z6=[];var tr=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(tr||(tr={})),tr))();const h9={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},rEe=tr.INFO,sEe={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},oEe=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=sEe[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class f9{constructor(t){this.name=t,this._logLevel=rEe,this._logHandler=oEe,this._userLogHandler=null,z6.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?h9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...t),this._logHandler(this,tr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...t),this._logHandler(this,tr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...t),this._logHandler(this,tr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...t),this._logHandler(this,tr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...t),this._logHandler(this,tr.ERROR,...t)}}const p9="@firebase/database";let G6="";function g9(n){G6=n}class aEe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ao(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:LS(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class lEe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return Yh(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const _9=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new aEe(t)}}catch(t){}return new lEe},K0=_9("localStorage"),$6=_9("sessionStorage"),lx=new f9("@firebase/database"),y9=function(){let n=1;return function(){return n++}}(),v9=function(n){const t=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,ft(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(n.charCodeAt(i)-56320)}r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):r<65536?(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t}(n),e=new $Ce;e.update(t);const i=e.digest();return B6.encodeByteArray(i)},BS=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=BS.apply(null,i):t+="object"==typeof i?Ao(i):i,t+=" "}return t};let Q0=null,b9=!0;const w9=function(n,t){ft(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(lx.logLevel=tr.VERBOSE,Q0=lx.log.bind(lx),t&&$6.set("logging_enabled",!0)):"function"==typeof n?Q0=n:(Q0=null,$6.remove("logging_enabled"))},ea=function(...n){if(!0===b9&&(b9=!1,null===Q0&&!0===$6.get("logging_enabled")&&w9(!0)),Q0){const t=BS.apply(null,n);Q0(t)}},VS=function(n){return function(...t){ea(n,...t)}},Z6=function(...n){const t="FIREBASE INTERNAL ERROR: "+BS(...n);lx.error(t)},rm=function(...n){const t=`FIREBASE FATAL ERROR: ${BS(...n)}`;throw lx.error(t),new Error(t)},ol=function(...n){const t="FIREBASE WARNING: "+BS(...n);lx.warn(t)},GO=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},vv="[MIN_NAME]",r_="[MAX_NAME]",J0=function(n,t){if(n===t)return 0;if(n===vv||t===r_)return-1;if(t===vv||n===r_)return 1;{const e=x9(n),i=x9(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},dEe=function(n,t){return n===t?0:n<t?-1:1},US=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+Ao(t))},W6=function(n){if("object"!=typeof n||null===n)return Ao(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=Ao(t[i]),e+=":",e+=W6(n[t[i]]);return e+="}",e},C9=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function ta(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const E9=function(n){ft(!GO(n),"Invalid JSON number");const i=1023;let r,s,a,u,f;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=u+i,a=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const b=[];for(f=52;f;f-=1)b.push(a%2?1:0),a=Math.floor(a/2);for(f=11;f;f-=1)b.push(s%2?1:0),s=Math.floor(s/2);b.push(r?1:0),b.reverse();const x=b.join("");let D="";for(f=0;f<64;f+=8){let R=parseInt(x.substr(f,8),2).toString(16);1===R.length&&(R="0"+R),D+=R}return D.toLowerCase()},mEe=new RegExp("^-?(0*)\\d{1,10}$"),x9=function(n){if(mEe.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},cx=function(n){try{n()}catch(t){setTimeout(()=>{throw ol("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},jS=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class vEe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ol(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bEe{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ea("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ol(t)}}let HS=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const I9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,O9="websocket",R9="long_polling";class K6{constructor(t,e,i,r,s=!1,a="",u=!1,f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=K0.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&K0.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function N9(n,t,e){let i;if(ft("string"==typeof t,"typeof type must == string"),ft("object"==typeof e,"typeof params must == object"),t===O9)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==R9)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return ta(e,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class CEe{constructor(){this.counters_={}}incrementCounter(t,e=1){Yh(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return TCe(this.counters_)}}const Q6={},J6={};function X6(n){const t=n.toString();return Q6[t]||(Q6[t]=new CEe),Q6[t]}class xEe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&cx(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bv{constructor(t,e,i,r,s,a,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=VS(t),this.stats_=X6(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),N9(e,R9,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new xEe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eV((...s)=>{const[a,u,f,b,x]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=u,this.password=f;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&I9.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bv.forceAllow_=!0}static forceDisallow(){bv.forceDisallow_=!0}static isAvailable(){return!(!bv.forceAllow_&&(bv.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=Ao(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=s9(e),r=C9(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=Ao(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class eV{constructor(t,e,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=y9(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=eV.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){ea("frame writing exception"),u.stack&&ea(u.stack),ea(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ea("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ea("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let ZO=null;"undefined"!=typeof MozWebSocket?ZO=MozWebSocket:"undefined"!=typeof WebSocket&&(ZO=WebSocket);let ux=(()=>{class n{constructor(e,i,r,s,a,u,f){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=VS(this.connId),this.stats_=X6(i),this.connURL=n.connectionURL_(i,u,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,a){const u={v:"5"};return"undefined"!=typeof location&&location.hostname&&I9.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),s&&(u.ac=s),a&&(u.p=a),N9(e,O9,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,K0.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new ZO(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==ZO&&!n.forceDisallow_}static previouslyFailed(){return K0.isInMemoryStorage||!0===K0.get("previous_websocket_failure")}markConnectionHealthy(){K0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=LS(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ft(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=Ao(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=C9(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),j9=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[bv,ux]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ux&&ux.isAvailable();let r=i&&!ux.previouslyFailed();if(e.webSocketOnly&&(i||ol("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ux];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class W9{constructor(t,e,i,r,s,a,u,f,b,x){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=f,this.onKill_=b,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=VS("c:"+this.id+":"),this.transportManager_=new j9(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=jS(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=US("t",t),i=US("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=US("t",t),i=US("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=US("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Z6("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Z6("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ol("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),jS(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jS(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(K0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Y9{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class K9{constructor(t){this.allowedEvents_=t,this.listeners_={},ft(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){ft(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class WO extends K9{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!l9()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new WO}getInitialEvent(t){return ft("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ki{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ci(){return new ki("")}function ei(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function wv(n){return n.pieces_.length-n.pieceNum_}function lr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ki(n.pieces_,t)}function nV(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qS(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function X9(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ki(t,0)}function Yr(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ki)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ki(e,0)}function ti(n){return n.pieceNum_>=n.pieces_.length}function $l(n,t){const e=ei(n),i=ei(t);if(null===e)return t;if(e===i)return $l(lr(n),lr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function $Ee(n,t){const e=qS(n,0),i=qS(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=J0(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function iV(n,t){if(wv(n)!==wv(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Md(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(wv(n)>wv(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class ZEe{constructor(t,e){this.errorPrefix_=e,this.parts_=qS(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=zO(this.parts_[i]);eW(this)}}function eW(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+X0(n))}function X0(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class rV extends K9{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new rV}getInitialEvent(t){return ft("visible"===t,"Unknown event type: "+t),[this.visible_]}}const zS=1e3;let KO,ew=(()=>{class n extends Y9{constructor(e,i,r,s,a,u,f,b){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=b,this.id=n.nextPersistentConnectionId_++,this.log_=VS("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zS,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rV.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&WO.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,a={r:s,a:e,b:i};this.log_(Ao(a)),ft(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new zl,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:u=>{const f=u.d;"ok"===u.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),ft(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ft(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(u).set(a,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,f=>{const b=f.d,x=f.s;n.warnOnListenWarnings_(b,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",f),"ok"!==x&&this.removeListen_(r,s),e.onComplete&&e.onComplete(x,b))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&Yh(e,"w")){const r=W0(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();ol(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(n){const t=HO(n).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=function(n){const e=HO(n).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,u=s.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ft(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const a={p:e};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,a){this.initConnection_();const u={p:i,d:r};void 0!==a&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ao(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Z6("Unrecognized action received from server: "+Ao(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ft(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zS,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zS,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zS),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,be.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let f=!1,b=null;const x=function(){b?b.close():(f=!0,s())};e.realtime_={close:x,sendRequest:function(B){ft(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(B)}};const R=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,z]=yield Promise.all([e.authTokenProvider_.getToken(R),e.appCheckTokenProvider_.getToken(R)]);f?ea("getToken() completed but was canceled"):(ea("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=z&&z.token,b=new W9(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ee=>{ol(ee+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(B){e.log_("Failed to get token: "+B),f||(e.repoInfo_.nodeAdmin&&ol(B),x())}}})()}interrupt(e){ea("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ea("Resuming connection for reason: "+e),delete this.interruptReasons_[e],j6(this.interruptReasons_)&&(this.reconnectDelay_=zS,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>W6(a)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new ki(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ea("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ea("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+G6.replace(/\./g,"-")]=1,l9()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=WO.getInstance().currentlyOnline();return j6(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ni{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new ni(t,e)}}class YO{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new ni(vv,t),r=new ni(vv,e);return 0!==this.compare(i,r)}minPost(){return ni.MIN}}class iW extends YO{static get __EMPTY_NODE(){return KO}static set __EMPTY_NODE(t){KO=t}compare(t,e){return J0(t.name,e.name)}isDefinedOn(t){throw ax("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ni.MIN}maxPost(){return new ni(r_,KO)}makePost(t,e){return ft("string"==typeof t,"KeyIndex indexValue must always be a string."),new ni(t,KO)}toString(){return".key"}}const sm=new iW;class QO{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let oV,Kh=(()=>{class n{constructor(e,i,r,s,a){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Sc.EMPTY_NODE,this.right=null!=a?a:Sc.EMPTY_NODE}copy(e,i,r,s,a){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=a?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sc.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Sc.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Sc{constructor(t,e=Sc.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Sc(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Kh.BLACK,null,null))}remove(t){return new Sc(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Kh.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new QO(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new QO(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new QO(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new QO(this.root_,null,this.comparator_,!0,t)}}function txe(n,t){return J0(n.name,t.name)}function sV(n,t){return J0(n,t)}Sc.EMPTY_NODE=new class{copy(t,e,i,r,s){return this}insert(t,e,i){return new Kh(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const rW=function(n){return"number"==typeof n?"number:"+E9(n):"string:"+n},sW=function(n){if(n.isLeafNode()){const t=n.val();ft("string"==typeof t||"number"==typeof t||"object"==typeof t&&Yh(t,".sv"),"Priority must be a string or number.")}else ft(n===oV||n.isEmpty(),"priority of unexpected type.");ft(n===oV||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let oW,aW,lW,dx=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,ft(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),sW(this.priorityNode_)}static set __childrenNodeConstructor(e){oW=e}static get __childrenNodeConstructor(){return oW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ti(e)?this:".priority"===ei(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=ei(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:(ft(".priority"!==r||1===wv(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(lr(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+rW(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?E9(this.value_):this.value_,this.lazyHash_=v9(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:(ft(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return ft(s>=0,"Unknown leaf type: "+i),ft(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const mr=new class extends YO{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?J0(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ni.MIN}maxPost(){return new ni(r_,new dx("[PRIORITY-POST]",lW))}makePost(t,e){const i=aW(t);return new ni(e,new dx("[PRIORITY-POST]",i))}toString(){return".priority"}},oxe=Math.log(2);class axe{constructor(t){this.count=parseInt(Math.log(t+1)/oxe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const JO=function(n,t,e,i){n.sort(t);const r=function(f,b){const x=b-f;let D,R;if(0===x)return null;if(1===x)return D=n[f],R=e?e(D):D,new Kh(R,D.node,Kh.BLACK,null,null);{const B=parseInt(x/2,10)+f,z=r(f,B),ee=r(B+1,b);return D=n[B],R=e?e(D):D,new Kh(R,D.node,Kh.BLACK,z,ee)}},u=function(f){let b=null,x=null,D=n.length;const R=function(z,ee){const ae=D-z,we=D;D-=z;const qe=r(ae+1,we),Ye=n[ae],at=e?e(Ye):Ye;B(new Kh(at,Ye.node,ee,null,qe))},B=function(z){b?(b.left=z,b=z):(x=z,b=z)};for(let z=0;z<f.count;++z){const ee=f.nextBitIsOne(),ae=Math.pow(2,f.count-(z+1));ee?R(ae,Kh.BLACK):(R(ae,Kh.BLACK),R(ae,Kh.RED))}return x}(new axe(n.length));return new Sc(i||t,u)};let aV;const hx={};class s_{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return ft(hx&&mr,"ChildrenNode.ts has not been loaded"),aV=aV||new s_({".priority":hx},{".priority":mr}),aV}get(t){const e=W0(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Sc?e:null}hasIndex(t){return Yh(this.indexSet_,t.toString())}addIndex(t,e){ft(t!==sm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(ni.Wrap);let u,a=s.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=s.getNext();u=r?JO(i,t.getCompare()):hx;const f=t.toString(),b=Object.assign({},this.indexSet_);b[f]=t;const x=Object.assign({},this.indexes_);return x[f]=u,new s_(x,b)}addToIndexes(t,e){const i=qO(this.indexes_,(r,s)=>{const a=W0(this.indexSet_,s);if(ft(a,"Missing index implementation for "+s),r===hx){if(a.isDefinedOn(t.node)){const u=[],f=e.getIterator(ni.Wrap);let b=f.getNext();for(;b;)b.name!==t.name&&u.push(b),b=f.getNext();return u.push(t),JO(u,a.getCompare())}return hx}{const u=e.get(t.name);let f=r;return u&&(f=f.remove(new ni(t.name,u))),f.insert(t,t.node)}});return new s_(i,this.indexSet_)}removeFromIndexes(t,e){const i=qO(this.indexes_,r=>{if(r===hx)return r;{const s=e.get(t.name);return s?r.remove(new ni(t.name,s)):r}});return new s_(i,this.indexSet_)}}let GS,Vn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&sW(this.priorityNode_),this.children_.isEmpty()&&ft(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return GS||(GS=new n(new Sc(sV),null,s_.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||GS}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?GS:i}}getChild(e){const i=ei(e);return null===i?this:this.getImmediateChild(i).getChild(lr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if(ft(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new ni(e,i);let s,a;i.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?GS:this.priorityNode_;return new n(s,u,a)}}updateChild(e,i){const r=ei(e);if(null===r)return i;{ft(".priority"!==ei(e)||1===wv(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(lr(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(mr,(u,f)=>{i[u]=f.val(e),r++,a&&n.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):a=!1}),!e&&a&&s<2*r){const u=[];for(const f in i)u[f]=i[f];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+rW(this.getPriority().val())+":"),this.forEachChild(mr,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":v9(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new ni(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ni(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ni(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ni.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ni.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$S?-1:0}withIndex(e){if(e===sm||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===sm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(mr),s=i.getIterator(mr);let a=r.getNext(),u=s.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=s.getNext()}return null===a&&null===u}return!1}return!1}}resolveIndex_(e){return e===sm?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const $S=new class extends Vn{constructor(){super(new Sc(sV),Vn.EMPTY_NODE,s_.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Vn.EMPTY_NODE}isEmpty(){return!1}};function hs(n,t=null){if(null===n)return Vn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),ft(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new dx(n,hs(t));if(n instanceof Array){let e=Vn.EMPTY_NODE;return ta(n,(i,r)=>{if(Yh(n,i)&&"."!==i.substring(0,1)){const s=hs(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(hs(t))}{const e=[];let i=!1;if(ta(n,(a,u)=>{if("."!==a.substring(0,1)){const f=hs(u);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new ni(a,f)))}}),0===e.length)return Vn.EMPTY_NODE;const s=JO(e,txe,a=>a.name,sV);if(i){const a=JO(e,mr.getCompare());return new Vn(s,hs(t),new s_({".priority":a},{".priority":mr}))}return new Vn(s,hs(t),s_.Default)}}Object.defineProperties(ni,{MIN:{value:new ni(vv,Vn.EMPTY_NODE)},MAX:{value:new ni(r_,$S)}}),iW.__EMPTY_NODE=Vn.EMPTY_NODE,dx.__childrenNodeConstructor=Vn,function(n){oV=n}($S),function(n){lW=n}($S),function(n){aW=n}(hs);class lV extends YO{constructor(t){super(),this.indexPath_=t,ft(!ti(t)&&".priority"!==ei(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?J0(t.name,e.name):s}makePost(t,e){const i=hs(t),r=Vn.EMPTY_NODE.updateChild(this.indexPath_,i);return new ni(e,r)}maxPost(){const t=Vn.EMPTY_NODE.updateChild(this.indexPath_,$S);return new ni(r_,t)}toString(){return qS(this.indexPath_,0).join("/")}}const cV=new class extends YO{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?J0(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ni.MIN}maxPost(){return ni.MAX}makePost(t,e){const i=hs(t);return new ni(e,i)}toString(){return".value"}};function cW(n){return{type:"value",snapshotNode:n}}function fx(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ZS(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function WS(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class uV{constructor(t){this.index_=t}updateChild(t,e,i,r,s,a){ft(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(ZS(e,u)):ft(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(fx(e,i)):a.trackChildChange(WS(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(mr,(r,s)=>{e.hasChild(r)||i.trackChildChange(ZS(r,s))}),e.isLeafNode()||e.forEachChild(mr,(r,s)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(s)||i.trackChildChange(WS(r,s,a))}else i.trackChildChange(fx(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Vn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class YS{constructor(t){this.indexedFilter_=new uV(t.getIndex()),this.index_=t.getIndex(),this.startPost_=YS.getStartPost_(t),this.endPost_=YS.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,a){return this.matches(new ni(e,i))||(i=Vn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Vn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Vn.EMPTY_NODE);const s=this;return e.forEachChild(mr,(a,u)=>{s.matches(new ni(a,u))||(r=r.updateImmediateChild(a,Vn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class hxe{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new YS(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,a){return this.rangedFilter_.matches(new ni(e,i))||(i=Vn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,a):this.fullLimitUpdateChild_(t,e,i,s,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Vn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Vn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),a++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(Vn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;s.hasNext();){const u=s.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:r=r.updateImmediateChild(u.name,Vn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let a;if(this.reverse_){const D=this.index_.getCompare();a=(R,B)=>D(B,R)}else a=this.index_.getCompare();const u=t;ft(u.numChildren()===this.limit_,"");const f=new ni(e,i),b=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),x=this.rangedFilter_.matches(f);if(u.hasChild(e)){const D=u.getImmediateChild(e);let R=r.getChildAfterChild(this.index_,b,this.reverse_);for(;null!=R&&(R.name===e||u.hasChild(R.name));)R=r.getChildAfterChild(this.index_,R,this.reverse_);const B=null==R?1:a(R,f);if(x&&!i.isEmpty()&&B>=0)return null!=s&&s.trackChildChange(WS(e,i,D)),u.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(ZS(e,D));const ee=u.updateImmediateChild(e,Vn.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(null!=s&&s.trackChildChange(fx(R.name,R.node)),ee.updateImmediateChild(R.name,R.node)):ee}}return i.isEmpty()?t:x&&a(b,f)>=0?(null!=s&&(s.trackChildChange(ZS(b.name,b.node)),s.trackChildChange(fx(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(b.name,Vn.EMPTY_NODE)):t}}class XO{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ft(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ft(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vv}hasEnd(){return this.endSet_}getIndexEndValue(){return ft(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ft(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:r_}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ft(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const t=new XO;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function dV(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function hV(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function eR(n,t){const e=n.copy();return e.index_=t,e}function uW(n){const t={};if(n.isDefault())return t;let e;if(n.index_===mr?e="$priority":n.index_===cV?e="$value":n.index_===sm?e="$key":(ft(n.index_ instanceof lV,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=Ao(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=Ao(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+Ao(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=Ao(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+Ao(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function dW(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==mr&&(t.i=n.index_.toString()),t}class tR extends Y9{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=VS("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:(ft(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=tR.getListenId_(t,i),u={};this.listens_[a]=u;const f=uW(t._queryParams);this.restRequest_(s+".json",f,(b,x)=>{let D=x;if(404===b&&(D=null,b=null),null===b&&this.onDataUpdate_(s,D,!1,i),W0(this.listens_,a)===u){let R;R=b?401===b?"permission_denied":"rest_error:"+b:"ok",r(R,null)}})}unlisten(t,e){const i=tR.getListenId_(t,e);delete this.listens_[i]}get(t){const e=uW(t._queryParams),i=t._path.toString(),r=new zl;return this.restRequest_(i+".json",e,(s,a)=>{let u=a;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+function(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}(e);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=LS(u.responseText)}catch(b){ol("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,f)}else 401!==u.status&&404!==u.status&&ol("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}class yxe{constructor(){this.rootNode_=Vn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function nR(){return{value:null,children:new Map}}function px(n,t,e){if(ti(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=ei(t);n.children.has(i)||n.children.set(i,nR()),px(n.children.get(i),t=lr(t),e)}}function fV(n,t){if(ti(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(mr,(i,r)=>{px(n,new ki(i),r)}),fV(n,t)}}if(n.children.size>0){const e=ei(t);return t=lr(t),n.children.has(e)&&fV(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function pV(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{pV(r,new ki(t.toString()+"/"+i),e)})}class bxe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ta(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Exe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new bxe(t);const i=1e4+2e4*Math.random();jS(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ta(t,(r,s)=>{s>0&&Yh(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),jS(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var kd=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(kd||(kd={})),kd))();function _V(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class iR{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=kd.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ti(this.path)){if(null!=this.affectedTree.value)return ft(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ki(t));return new iR(Ci(),e,this.revert)}}return ft(ei(this.path)===t,"operationForChild called for unrelated child."),new iR(lr(this.path),this.affectedTree,this.revert)}}class KS{constructor(t,e){this.source=t,this.path=e,this.type=kd.LISTEN_COMPLETE}operationForChild(t){return ti(this.path)?new KS(this.source,Ci()):new KS(this.source,lr(this.path))}}class tw{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=kd.OVERWRITE}operationForChild(t){return ti(this.path)?new tw(this.source,Ci(),this.snap.getImmediateChild(t)):new tw(this.source,lr(this.path),this.snap)}}class mx{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=kd.MERGE}operationForChild(t){if(ti(this.path)){const e=this.children.subtree(new ki(t));return e.isEmpty()?null:e.value?new tw(this.source,Ci(),e.value):new mx(this.source,Ci(),e)}return ft(ei(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new mx(this.source,lr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Cv{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ti(t))return this.isFullyInitialized()&&!this.filtered_;const e=ei(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class xxe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function QS(n,t,e,i,r,s){const a=i.filter(u=>u.type===e);a.sort((u,f)=>function(n,t,e){if(null==t.childName||null==e.childName)throw ax("Should only compare child_ events.");const i=new ni(t.childName,t.snapshotNode),r=new ni(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,f)),a.forEach(u=>{const f=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,s);r.forEach(b=>{b.respondsTo(u.type)&&t.push(b.createEvent(f,n.query_))})})}function rR(n,t){return{eventCache:n,serverCache:t}}function JS(n,t,e,i){return rR(new Cv(t,e,i),n.serverCache)}function fW(n,t,e,i){return rR(n.eventCache,new Cv(t,e,i))}function sR(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function nw(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let yV;class gr{constructor(t,e=(()=>(yV||(yV=new Sc(dEe)),yV))()){this.value=t,this.children=e}static fromObject(t){let e=new gr(null);return ta(t,(i,r)=>{e=e.set(new ki(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ci(),value:this.value};if(ti(t))return null;{const i=ei(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(lr(t),e);return null!=s?{path:Yr(new ki(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ti(t))return this;{const e=ei(t),i=this.children.get(e);return null!==i?i.subtree(lr(t)):new gr(null)}}set(t,e){if(ti(t))return new gr(e,this.children);{const i=ei(t),s=(this.children.get(i)||new gr(null)).set(lr(t),e),a=this.children.insert(i,s);return new gr(this.value,a)}}remove(t){if(ti(t))return this.children.isEmpty()?new gr(null):new gr(null,this.children);{const e=ei(t),i=this.children.get(e);if(i){const r=i.remove(lr(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new gr(null):new gr(this.value,s)}return this}}get(t){if(ti(t))return this.value;{const e=ei(t),i=this.children.get(e);return i?i.get(lr(t)):null}}setTree(t,e){if(ti(t))return e;{const i=ei(t),s=(this.children.get(i)||new gr(null)).setTree(lr(t),e);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new gr(this.value,a)}}fold(t){return this.fold_(Ci(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Yr(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Ci(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(ti(t))return null;{const s=ei(t),a=this.children.get(s);return a?a.findOnPath_(lr(t),Yr(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ci(),e)}foreachOnPath_(t,e,i){if(ti(t))return this;{this.value&&i(e,this.value);const r=ei(t),s=this.children.get(r);return s?s.foreachOnPath_(lr(t),Yr(e,r),i):new gr(null)}}foreach(t){this.foreach_(Ci(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Yr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Qh{constructor(t){this.writeTree_=t}static empty(){return new Qh(new gr(null))}}function XS(n,t,e){if(ti(t))return new Qh(new gr(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=$l(r,t);return s=s.updateChild(a,e),new Qh(n.writeTree_.set(r,s))}{const r=new gr(e),s=n.writeTree_.setTree(t,r);return new Qh(s)}}}function vV(n,t,e){let i=n;return ta(e,(r,s)=>{i=XS(i,Yr(t,r),s)}),i}function pW(n,t){if(ti(t))return Qh.empty();{const e=n.writeTree_.setTree(t,new gr(null));return new Qh(e)}}function bV(n,t){return null!=iw(n,t)}function iw(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild($l(e.path,t)):null}function mW(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(mr,(i,r)=>{t.push(new ni(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new ni(i,r.value))}),t}function Ev(n,t){if(ti(t))return n;{const e=iw(n,t);return new Qh(null!=e?new gr(e):n.writeTree_.subtree(t))}}function wV(n){return n.writeTree_.isEmpty()}function gx(n,t){return gW(Ci(),n.writeTree_,t)}function gW(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?(ft(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=gW(Yr(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Yr(n,".priority"),i)),e}}function oR(n,t){return wW(t,n)}function Rxe(n,t){if(n.snap)return Md(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Md(Yr(n.path,e),t))return!0;return!1}function Pxe(n){return n.visible}function _W(n,t,e){let i=Qh.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const a=s.path;let u;if(s.snap)Md(e,a)?(u=$l(e,a),i=XS(i,u,s.snap)):Md(a,e)&&(u=$l(a,e),i=XS(i,Ci(),s.snap.getChild(u)));else{if(!s.children)throw ax("WriteRecord should have .snap or .children");if(Md(e,a))u=$l(e,a),i=vV(i,u,s.children);else if(Md(a,e))if(u=$l(a,e),ti(u))i=vV(i,Ci(),s.children);else{const f=W0(s.children,ei(u));if(f){const b=f.getChild(lr(u));i=XS(i,Ci(),b)}}}}}return i}function yW(n,t,e,i,r){if(i||r){const s=Ev(n.visibleWrites,t);return!r&&wV(s)?e:r||null!=e||bV(s,Ci())?gx(_W(n.allWrites,function(b){return(b.visible||r)&&(!i||!~i.indexOf(b.writeId))&&(Md(b.path,t)||Md(t,b.path))},t),e||Vn.EMPTY_NODE):null}{const s=iw(n.visibleWrites,t);if(null!=s)return s;{const a=Ev(n.visibleWrites,t);return wV(a)?e:null!=e||bV(a,Ci())?gx(a,e||Vn.EMPTY_NODE):null}}}function aR(n,t,e,i){return yW(n.writeTree,n.treePath,t,e,i)}function CV(n,t){return function(n,t,e){let i=Vn.EMPTY_NODE;const r=iw(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(mr,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(e){const s=Ev(n.visibleWrites,t);return e.forEachChild(mr,(a,u)=>{const f=gx(Ev(s,new ki(a)),u);i=i.updateImmediateChild(a,f)}),mW(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return mW(Ev(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function vW(n,t,e,i){return function(n,t,e,i,r){ft(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Yr(t,e);if(bV(n.visibleWrites,s))return null;{const a=Ev(n.visibleWrites,s);return wV(a)?r.getChild(e):gx(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function lR(n,t){return function(n,t){return iw(n.visibleWrites,t)}(n.writeTree,Yr(n.treePath,t))}function EV(n,t,e){return function(n,t,e,i){const r=Yr(t,e),s=iw(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?gx(Ev(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function bW(n,t){return wW(Yr(n.treePath,t),n.writeTree)}function wW(n,t){return{treePath:n,writeTree:t}}class qxe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;ft("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),ft(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,WS(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,ZS(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,fx(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw ax("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,WS(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const CW=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class xV{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Cv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return EV(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nw(this.viewCache_),s=function(n,t,e,i,r,s){return function(n,t,e,i,r,s,a){let u;const f=Ev(n.visibleWrites,t),b=iw(f,Ci());if(null!=b)u=b;else{if(null==e)return[];u=gx(f,e)}if(u=u.withIndex(a),u.isEmpty()||u.isLeafNode())return[];{const x=[],D=a.getCompare(),R=s?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let B=R.getNext();for(;B&&x.length<r;)0!==D(B,i)&&x.push(B),B=R.getNext();return x}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function EW(n,t,e,i,r,s){const a=t.eventCache;if(null!=lR(i,e))return t;{let u,f;if(ti(e))if(ft(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const b=nw(t),D=CV(i,b instanceof Vn?b:Vn.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),D,s)}else{const b=aR(i,nw(t));u=n.filter.updateFullNode(t.eventCache.getNode(),b,s)}else{const b=ei(e);if(".priority"===b){ft(1===wv(e),"Can't have a priority with additional path components");const x=a.getNode();f=t.serverCache.getNode();const D=vW(i,e,x,f);u=null!=D?n.filter.updatePriority(x,D):a.getNode()}else{const x=lr(e);let D;if(a.isCompleteForChild(b)){f=t.serverCache.getNode();const R=vW(i,e,a.getNode(),f);D=null!=R?a.getNode().getImmediateChild(b).updateChild(x,R):a.getNode().getImmediateChild(b)}else D=EV(i,b,t.serverCache);u=null!=D?n.filter.updateChild(a.getNode(),b,D,x,r,s):a.getNode()}}return JS(t,u,a.isFullyInitialized()||ti(e),n.filter.filtersNodes())}}function cR(n,t,e,i,r,s,a,u){const f=t.serverCache;let b;const x=a?n.filter:n.filter.getIndexedFilter();if(ti(e))b=x.updateFullNode(f.getNode(),i,null);else if(x.filtersNodes()&&!f.isFiltered()){const B=f.getNode().updateChild(e,i);b=x.updateFullNode(f.getNode(),B,null)}else{const B=ei(e);if(!f.isCompleteForPath(e)&&wv(e)>1)return t;const z=lr(e),ae=f.getNode().getImmediateChild(B).updateChild(z,i);b=".priority"===B?x.updatePriority(f.getNode(),ae):x.updateChild(f.getNode(),B,ae,z,CW,null)}const D=fW(t,b,f.isFullyInitialized()||ti(e),x.filtersNodes());return EW(n,D,e,r,new xV(r,D,s),u)}function AV(n,t,e,i,r,s,a){const u=t.eventCache;let f,b;const x=new xV(r,t,s);if(ti(e))b=n.filter.updateFullNode(t.eventCache.getNode(),i,a),f=JS(t,b,!0,n.filter.filtersNodes());else{const D=ei(e);if(".priority"===D)b=n.filter.updatePriority(t.eventCache.getNode(),i),f=JS(t,b,u.isFullyInitialized(),u.isFiltered());else{const R=lr(e),B=u.getNode().getImmediateChild(D);let z;if(ti(R))z=i;else{const ee=x.getCompleteChild(D);z=null!=ee?".priority"===nV(R)&&ee.getChild(X9(R)).isEmpty()?ee:ee.updateChild(R,i):Vn.EMPTY_NODE}f=B.equals(z)?t:JS(t,n.filter.updateChild(u.getNode(),D,z,R,x,a),u.isFullyInitialized(),n.filter.filtersNodes())}}return f}function xW(n,t){return n.eventCache.isCompleteForChild(t)}function AW(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function DV(n,t,e,i,r,s,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let b,f=t;b=ti(e)?i:new gr(null).setTree(e,i);const x=t.serverCache.getNode();return b.children.inorderTraversal((D,R)=>{if(x.hasChild(D)){const z=AW(0,t.serverCache.getNode().getImmediateChild(D),R);f=cR(n,f,new ki(D),z,r,s,a,u)}}),b.children.inorderTraversal((D,R)=>{const B=!t.serverCache.isCompleteForChild(D)&&null===R.value;if(!x.hasChild(D)&&!B){const ee=AW(0,t.serverCache.getNode().getImmediateChild(D),R);f=cR(n,f,new ki(D),ee,r,s,a,u)}}),f}class Xxe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new uV(i.getIndex()),s=function(n){return n.loadsAllData()?new uV(n.getIndex()):n.hasLimit()?new hxe(n):new YS(n)}(i);this.processor_=function(n){return{filter:n}}(s);const a=e.serverCache,u=e.eventCache,f=r.updateFullNode(Vn.EMPTY_NODE,a.getNode(),null),b=s.updateFullNode(Vn.EMPTY_NODE,u.getNode(),null),x=new Cv(f,a.isFullyInitialized(),r.filtersNodes()),D=new Cv(b,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=rR(D,x),this.eventGenerator_=new xxe(this.query_)}get query(){return this.query_}}function nAe(n,t){const e=nw(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!ti(t)&&!e.getImmediateChild(ei(t)).isEmpty())?e.getChild(t):null}function DW(n){return 0===n.eventRegistrations_.length}function SW(n,t,e){const i=[];if(e){ft(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function TW(n,t,e,i){t.type===kd.MERGE&&null!==t.source.queryId&&(ft(nw(n.viewCache_),"We should always have a full cache before handling merges"),ft(sR(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function(n,t,e,i,r){const s=new qxe;let a,u;if(e.type===kd.OVERWRITE){const b=e;b.source.fromUser?a=AV(n,t,b.path,b.snap,i,r,s):(ft(b.source.fromServer,"Unknown source."),u=b.source.tagged||t.serverCache.isFiltered()&&!ti(b.path),a=cR(n,t,b.path,b.snap,i,r,u,s))}else if(e.type===kd.MERGE){const b=e;b.source.fromUser?a=function(n,t,e,i,r,s,a){let u=t;return i.foreach((f,b)=>{const x=Yr(e,f);xW(t,ei(x))&&(u=AV(n,u,x,b,r,s,a))}),i.foreach((f,b)=>{const x=Yr(e,f);xW(t,ei(x))||(u=AV(n,u,x,b,r,s,a))}),u}(n,t,b.path,b.children,i,r,s):(ft(b.source.fromServer,"Unknown source."),u=b.source.tagged||t.serverCache.isFiltered(),a=DV(n,t,b.path,b.children,i,r,u,s))}else if(e.type===kd.ACK_USER_WRITE){const b=e;a=b.revert?function(n,t,e,i,r,s){let a;if(null!=lR(i,e))return t;{const u=new xV(i,t,r),f=t.eventCache.getNode();let b;if(ti(e)||".priority"===ei(e)){let x;if(t.serverCache.isFullyInitialized())x=aR(i,nw(t));else{const D=t.serverCache.getNode();ft(D instanceof Vn,"serverChildren would be complete if leaf node"),x=CV(i,D)}x=x,b=n.filter.updateFullNode(f,x,s)}else{const x=ei(e);let D=EV(i,x,t.serverCache);null==D&&t.serverCache.isCompleteForChild(x)&&(D=f.getImmediateChild(x)),b=null!=D?n.filter.updateChild(f,x,D,lr(e),u,s):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(f,x,Vn.EMPTY_NODE,lr(e),u,s):f,b.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=aR(i,nw(t)),a.isLeafNode()&&(b=n.filter.updateFullNode(b,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=lR(i,Ci()),JS(t,b,a,n.filter.filtersNodes())}}(n,t,b.path,i,r,s):function(n,t,e,i,r,s,a){if(null!=lR(r,e))return t;const u=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(ti(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return cR(n,t,e,f.getNode().getChild(e),r,s,u,a);if(ti(e)){let b=new gr(null);return f.getNode().forEachChild(sm,(x,D)=>{b=b.set(new ki(x),D)}),DV(n,t,e,b,r,s,u,a)}return t}{let b=new gr(null);return i.foreach((x,D)=>{const R=Yr(e,x);f.isCompleteForPath(R)&&(b=b.set(x,f.getNode().getChild(R)))}),DV(n,t,e,b,r,s,u,a)}}(n,t,b.path,b.affectedTree,i,r,s)}else{if(e.type!==kd.LISTEN_COMPLETE)throw ax("Unknown operation type: "+e.type);a=function(n,t,e,i,r){const s=t.serverCache;return EW(n,fW(t,s.getNode(),s.isFullyInitialized()||ti(e),s.isFiltered()),e,i,CW,r)}(n,t,e.path,i,s)}const f=s.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=sR(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(cW(sR(t)))}}(t,a,f),{viewCache:a,changes:f}}(n.processor_,r,t,e,i);return function(n,t){ft(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ft(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),ft(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,IW(n,s.changes,s.viewCache.eventCache.getNode(),null)}function IW(n,t,e,i){return function(n,t,e,i){const r=[],s=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),QS(n,r,"child_removed",t,i,e),QS(n,r,"child_added",t,i,e),QS(n,r,"child_moved",s,i,e),QS(n,r,"child_changed",t,i,e),QS(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let uR,hR;class MW{constructor(){this.views=new Map}}function SV(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return ft(null!=s,"SyncTree gave us an op for an invalid query."),TW(s,t,e,i)}{let s=[];for(const a of n.views.values())s=s.concat(TW(a,t,e,i));return s}}function kW(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let u=aR(e,r?i:null),f=!1;u?f=!0:i instanceof Vn?(u=CV(e,i),f=!1):(u=Vn.EMPTY_NODE,f=!1);const b=rR(new Cv(u,f,!1),new Cv(i,r,!1));return new Xxe(t,b)}return a}function OW(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function xv(n,t){let e=null;for(const i of n.views.values())e=e||nAe(i,t);return e}function RW(n,t){return t._queryParams.loadsAllData()?dR(n):n.views.get(t._queryIdentifier)}function NW(n,t){return null!=RW(n,t)}function Av(n){return null!=dR(n)}function dR(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let hAe=1;class PW{constructor(t){this.listenProvider_=t,this.syncPointTree_=new gr(null),this.pendingWriteTree_={visibleWrites:Qh.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TV(n,t,e,i,r){return function(n,t,e,i,r){ft(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=XS(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?_x(n,new tw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Dv(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);ft(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=e&&Rxe(u,i.path)?r=!1:Md(i.path,u.path)&&(s=!0)),a--}return!!r&&(s?(function(n){n.visibleWrites=_W(n.allWrites,Pxe,Ci()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=pW(n.visibleWrites,i.path):ta(i.children,f=>{n.visibleWrites=pW(n.visibleWrites,Yr(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let s=new gr(null);return null!=i.snap?s=s.set(Ci(),!0):ta(i.children,a=>{s=s.set(new ki(a),!0)}),_x(n,new iR(i.path,s,e))}return[]}function eT(n,t,e){return _x(n,new tw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function fR(n,t,e,i,r=!1){const s=t._path,a=n.syncPointTree_.get(s);let u=[];if(a&&("default"===t._queryIdentifier||NW(a,t))){const f=function(n,t,e,i){const r=t._queryIdentifier,s=[];let a=[];const u=Av(n);if("default"===r)for(const[f,b]of n.views.entries())a=a.concat(SW(b,e,i)),DW(b)&&(n.views.delete(f),b.query._queryParams.loadsAllData()||s.push(b.query));else{const f=n.views.get(r);f&&(a=a.concat(SW(f,e,i)),DW(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return u&&!Av(n)&&s.push(new(ft(uR,"Reference.ts has not been loaded"),uR)(t._repo,t._path)),{removed:s,events:a}}(a,t,e,i);(function(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const b=f.removed;if(u=f.events,!r){const x=-1!==b.findIndex(R=>R._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(R,B)=>Av(B));if(x&&!D){const R=n.syncPointTree_.subtree(s);if(!R.isEmpty()){const B=function(n){return n.fold((t,e,i)=>{if(e&&Av(e))return[dR(e)];{let r=[];return e&&(r=OW(e)),ta(i,(s,a)=>{r=r.concat(a)}),r}})}(R);for(let z=0;z<B.length;++z){const ee=B[z],ae=ee.query,we=VW(n,ee);n.listenProvider_.startListening(nT(ae),tT(n,ae),we.hashFn,we.onComplete)}}}if(!D&&b.length>0&&!i)if(x){const R=null;n.listenProvider_.stopListening(nT(t),R)}else b.forEach(R=>{const B=n.queryToTagMap.get(mR(R));n.listenProvider_.stopListening(nT(R),B)})}!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=mR(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,b)}return u}function FW(n,t,e,i){const r=MV(n,i);if(null!=r){const s=kV(r),a=s.path,u=s.queryId,f=$l(a,t);return OV(n,a,new tw(_V(u),f,e))}return[]}function IV(n,t,e,i=!1){const r=t._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(R,B)=>{const z=$l(R,r);s=s||xv(B,z),a=a||Av(B)});let f,u=n.syncPointTree_.get(r);u?(a=a||Av(u),s=s||xv(u,Ci())):(u=new MW,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=s?f=!0:(f=!1,s=Vn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,z)=>{const ee=xv(z,Ci());ee&&(s=s.updateImmediateChild(B,ee))}));const b=NW(u,t);if(!b&&!t._queryParams.loadsAllData()){const R=mR(t);ft(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const B=hAe++;n.queryToTagMap.set(R,B),n.tagToQueryMap.set(B,R)}let D=function(n,t,e,i,r,s){const a=kW(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function(n,t){n.eventRegistrations_.push(t)}(a,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(mr,(s,a)=>{i.push(fx(s,a))}),e.isFullyInitialized()&&i.push(cW(e.getNode())),IW(n,i,e.getNode(),t)}(a,e)}(u,t,e,oR(n.pendingWriteTree_,r),s,f);if(!b&&!a&&!i){const R=RW(u,t);D=D.concat(function(n,t,e){const i=t._path,r=tT(n,t),s=VW(n,e),a=n.listenProvider_.startListening(nT(t),r,s.hashFn,s.onComplete),u=n.syncPointTree_.subtree(i);if(r)ft(!Av(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((b,x,D)=>{if(!ti(b)&&x&&Av(x))return[dR(x).query];{let R=[];return x&&(R=R.concat(OW(x).map(B=>B.query))),ta(D,(B,z)=>{R=R.concat(z)}),R}});for(let b=0;b<f.length;++b){const x=f[b];n.listenProvider_.stopListening(nT(x),tT(n,x))}}return a}(n,t,R))}return D}function pR(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(a,u)=>{const b=xv(u,$l(a,t));if(b)return b});return yW(r,t,s,e,!0)}function _x(n,t){return LW(t,n.syncPointTree_,null,oR(n.pendingWriteTree_,Ci()))}function LW(n,t,e,i){if(ti(n.path))return BW(n,t,e,i);{const r=t.get(Ci());null==e&&null!=r&&(e=xv(r,Ci()));let s=[];const a=ei(n.path),u=n.operationForChild(a),f=t.children.get(a);if(f&&u){const b=e?e.getImmediateChild(a):null,x=bW(i,a);s=s.concat(LW(u,f,b,x))}return r&&(s=s.concat(SV(r,n,i,e))),s}}function BW(n,t,e,i){const r=t.get(Ci());null==e&&null!=r&&(e=xv(r,Ci()));let s=[];return t.children.inorderTraversal((a,u)=>{const f=e?e.getImmediateChild(a):null,b=bW(i,a),x=n.operationForChild(a);x&&(s=s.concat(BW(x,u,f,b)))}),r&&(s=s.concat(SV(r,n,i,e))),s}function VW(n,t){const e=t.query,i=tT(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||Vn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,t,e){const i=MV(n,e);if(i){const r=kV(i),s=r.path,a=r.queryId,u=$l(s,t);return OV(n,s,new KS(_V(a),u))}return[]}(n,e._path,i):function(n,t){return _x(n,new KS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return fR(n,e,null,s)}}}}function tT(n,t){const e=mR(t);return n.queryToTagMap.get(e)}function mR(n){return n._path.toString()+"$"+n._queryIdentifier}function MV(n,t){return n.tagToQueryMap.get(t)}function kV(n){const t=n.indexOf("$");return ft(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ki(n.substr(0,t))}}function OV(n,t,e){const i=n.syncPointTree_.get(t);return ft(i,"Missing sync point for query tag that we're tracking"),SV(i,e,oR(n.pendingWriteTree_,t),null)}function nT(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(ft(hR,"Reference.ts has not been loaded"),hR)(n._repo,n._path):n}class RV{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new RV(e)}node(){return this.node_}}class NV{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Yr(this.path_,t);return new NV(this.syncTree_,e)}node(){return pR(this.syncTree_,this.path_)}}const UW=function(n,t,e){return n&&"object"==typeof n?(ft(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?xAe(n[".sv"],t,e):"object"==typeof n[".sv"]?AAe(n[".sv"],t):void ft(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},xAe=function(n,t,e){if("timestamp"===n)return e.timestamp;ft(!1,"Unexpected server value: "+n)},AAe=function(n,t,e){n.hasOwnProperty("increment")||ft(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&ft(!1,"Unexpected increment value: "+i);const r=t.node();if(ft(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},jW=function(n,t,e,i){return FV(t,new NV(e,n),i)},PV=function(n,t,e){return FV(n,new RV(t),e)};function FV(n,t,e){const i=n.getPriority().val(),r=UW(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const a=n,u=UW(a.getValue(),t,e);return u!==a.getValue()||r!==a.getPriority().val()?new dx(u,hs(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new dx(r))),a.forEachChild(mr,(u,f)=>{const b=FV(f,t.getImmediateChild(u),e);b!==f&&(s=s.updateImmediateChild(u,b))}),s}}class LV{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function gR(n,t){let e=t instanceof ki?t:new ki(t),i=n,r=ei(e);for(;null!==r;){const s=W0(i.node.children,r)||{children:{},childCount:0};i=new LV(r,i,s),e=lr(e),r=ei(e)}return i}function rw(n){return n.node.value}function BV(n,t){n.node.value=t,VV(n)}function HW(n){return n.node.childCount>0}function _R(n,t){ta(n.node.children,(e,i)=>{t(new LV(e,n,i))})}function qW(n,t,e,i){e&&!i&&t(n),_R(n,r=>{qW(r,t,!0,i)}),e&&i&&t(n)}function iT(n){return new ki(null===n.parent?n.name:iT(n.parent)+"/"+n.name)}function VV(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===rw(n)&&!HW(n)}(e),r=Yh(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,VV(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,VV(n))}(n.parent,n.name,n)}const IAe=/[\[\].#$\/\u0000-\u001F\u007F]/,MAe=/[\[\].#$\u0000-\u001F\u007F]/,UV=10485760,yR=function(n){return"string"==typeof n&&0!==n.length&&!IAe.test(n)},zW=function(n){return"string"==typeof n&&0!==n.length&&!MAe.test(n)},rT=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!GO(n)||n&&"object"==typeof n&&Yh(n,".sv")},om=function(n,t,e,i){i&&void 0===t||sT(Gl(n,"value"),t,e)},sT=function(n,t,e){const i=e instanceof ki?new ZEe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+X0(i));if("function"==typeof t)throw new Error(n+"contains a function "+X0(i)+" with contents = "+t.toString());if(GO(t))throw new Error(n+"contains "+t.toString()+" "+X0(i));if("string"==typeof t&&t.length>UV/3&&zO(t)>UV)throw new Error(n+"contains a string greater than "+UV+" utf8 bytes "+X0(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(ta(t,(a,u)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!yR(a)))throw new Error(n+" contains an invalid key ("+a+") "+X0(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=zO(t),eW(n)})(i,a),sT(n,u,i),function(n){const t=n.parts_.pop();n.byteLength_-=zO(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+X0(i)+" in addition to actual children.")}},GW=function(n,t,e,i){if(i&&void 0===t)return;const r=Gl(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];ta(t,(a,u)=>{const f=new ki(a);if(sT(r,u,Yr(e,f)),".priority"===nV(f)&&!rT(u))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=qS(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!yR(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort($Ee);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Md(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},jV=function(n,t,e){if(!e||void 0!==t){if(GO(t))throw new Error(Gl(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rT(t))throw new Error(Gl(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},oT=function(n,t,e,i){if(!(i&&void 0===e||yR(e)))throw new Error(Gl(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},aT=function(n,t,e,i){if(!(i&&void 0===e||zW(e)))throw new Error(Gl(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Od=function(n,t){if(".info"===ei(t))throw new Error(n+" failed = Can't modify data under /.info/")},$W=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!yR(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zW(n)}(e))throw new Error(Gl(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class NAe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vR(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!iV(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function ZW(n,t,e){vR(n,e),WW(n,i=>iV(i,t))}function Lu(n,t,e){vR(n,e),WW(n,i=>Md(i,t)||Md(t,i))}function WW(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(PAe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function PAe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Q0&&ea("event: "+e.toString()),cx(i)}}}const YW="repo_interrupt";class LAe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NAe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nR(),this.transactionQueueTree_=new LV,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KW(n){const e=n.infoData_.getNode(new ki(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function lT(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:KW(n)})}function QW(n,t,e,i,r){n.dataUpdateCount++;const s=new ki(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const f=qO(e,b=>hs(b));a=function(n,t,e,i){const r=MV(n,i);if(r){const s=kV(r),a=s.path,u=s.queryId,f=$l(a,t),b=gr.fromObject(e);return OV(n,a,new mx(_V(u),f,b))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=hs(e);a=FW(n.serverSyncTree_,s,f,r)}else if(i){const f=qO(e,b=>hs(b));a=function(n,t,e){const i=gr.fromObject(e);return _x(n,new mx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,f)}else{const f=hs(e);a=eT(n.serverSyncTree_,s,f)}let u=s;a.length>0&&(u=vx(n,s)),Lu(n.eventQueue_,u,a)}function JW(n,t){HV(n,"connected",t),!1===t&&function(n){yx(n,"onDisconnectEvents");const t=lT(n),e=nR();pV(n.onDisconnect_,Ci(),(r,s)=>{const a=jW(r,s,n.serverSyncTree_,t);px(e,r,a)});let i=[];pV(e,Ci(),(r,s)=>{i=i.concat(eT(n.serverSyncTree_,r,s));const a=$V(n,r);vx(n,a)}),n.onDisconnect_=nR(),Lu(n.eventQueue_,Ci(),i)}(n)}function HV(n,t,e){const i=new ki("/.info/"+t),r=hs(e);n.infoData_.updateSnapshot(i,r);const s=eT(n.infoSyncTree_,i,r);Lu(n.eventQueue_,i,s)}function bR(n){return n.nextWriteId_++}function qV(n,t,e,i,r){yx(n,"set",{path:t.toString(),value:e,priority:i});const s=lT(n),a=hs(e,i),u=pR(n.serverSyncTree_,t),f=PV(a,u,s),b=bR(n),x=TV(n.serverSyncTree_,t,f,b,!0);vR(n.eventQueue_,x),n.server_.put(t.toString(),a.val(!0),(R,B)=>{const z="ok"===R;z||ol("set at "+t+" failed: "+R);const ee=Dv(n.serverSyncTree_,b,!z);Lu(n.eventQueue_,t,ee),Sv(0,r,R,B)});const D=$V(n,t);vx(n,D),Lu(n.eventQueue_,D,[])}function qAe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&fV(n.onDisconnect_,t),Sv(0,e,i,r)})}function XW(n,t,e,i){const r=hs(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,a)=>{"ok"===s&&px(n.onDisconnect_,t,r),Sv(0,i,s,a)})}function zV(n,t,e){let i;i=".info"===ei(t._path)?fR(n.infoSyncTree_,t,e):fR(n.serverSyncTree_,t,e),ZW(n.eventQueue_,t._path,i)}function eY(n){n.persistentConnection_&&n.persistentConnection_.interrupt(YW)}function yx(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ea(e,...t)}function Sv(n,t,e,i){t&&cx(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,t(a)}})}function GV(n,t,e){return pR(n.serverSyncTree_,t,e)||Vn.EMPTY_NODE}function wR(n,t=n.transactionQueueTree_){if(t||CR(n,t),rw(t)){const e=nY(n,t);ft(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function(n,t,e){const i=e.map(b=>b.currentWriteId),r=GV(n,t,i);let s=r;const a=r.hash();for(let b=0;b<e.length;b++){const x=e[b];ft(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const D=$l(t,x.path);s=s.updateChild(D,x.currentOutputSnapshotRaw)}const u=s.val(!0),f=t;n.server_.put(f.toString(),u,b=>{yx(n,"transaction put response",{path:f.toString(),status:b});let x=[];if("ok"===b){const D=[];for(let R=0;R<e.length;R++)e[R].status=2,x=x.concat(Dv(n.serverSyncTree_,e[R].currentWriteId)),e[R].onComplete&&D.push(()=>e[R].onComplete(null,!0,e[R].currentOutputSnapshotResolved)),e[R].unwatcher();CR(n,gR(n.transactionQueueTree_,t)),wR(n,n.transactionQueueTree_),Lu(n.eventQueue_,t,x);for(let R=0;R<D.length;R++)cx(D[R])}else{if("datastale"===b)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{ol("transaction at "+f.toString()+" failed: "+b);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=b}vx(n,t)}},a)}(n,iT(t),e)}else HW(t)&&_R(t,e=>{wR(n,e)})}function vx(n,t){const e=tY(n,t),i=iT(e);return function(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const f=t[u],b=$l(e,f.path);let D,x=!1;if(ft(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)x=!0,D=f.abortReason,r=r.concat(Dv(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)x=!0,D="maxretry",r=r.concat(Dv(n.serverSyncTree_,f.currentWriteId,!0));else{const R=GV(n,f.path,a);f.currentInputSnapshot=R;const B=t[u].update(R.val());if(void 0!==B){sT("transaction failed: Data returned ",B,f.path);let z=hs(B);"object"==typeof B&&null!=B&&Yh(B,".priority")||(z=z.updatePriority(R.getPriority()));const ae=f.currentWriteId,we=lT(n),qe=PV(z,R,we);f.currentOutputSnapshotRaw=z,f.currentOutputSnapshotResolved=qe,f.currentWriteId=bR(n),a.splice(a.indexOf(ae),1),r=r.concat(TV(n.serverSyncTree_,f.path,qe,f.currentWriteId,f.applyLocally)),r=r.concat(Dv(n.serverSyncTree_,ae,!0))}else x=!0,D="nodata",r=r.concat(Dv(n.serverSyncTree_,f.currentWriteId,!0))}Lu(n.eventQueue_,e,r),r=[],x&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===D?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(D),!1,null)))}CR(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)cx(i[u]);wR(n,n.transactionQueueTree_)}(n,nY(n,e),i),i}function tY(n,t){let e,i=n.transactionQueueTree_;for(e=ei(t);null!==e&&void 0===rw(i);)i=gR(i,e),e=ei(t=lr(t));return i}function nY(n,t){const e=[];return iY(n,t,e),e.sort((i,r)=>i.order-r.order),e}function iY(n,t,e){const i=rw(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);_R(t,r=>{iY(n,r,e)})}function CR(n,t){const e=rw(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,BV(t,e.length>0?e:void 0)}_R(t,i=>{CR(n,i)})}function $V(n,t){const e=iT(tY(n,t)),i=gR(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{ZV(n,r)}),ZV(n,i),qW(i,r=>{ZV(n,r)}),e}function ZV(n,t){const e=rw(t);if(e){const i=[];let r=[],s=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?(ft(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=3,e[a].abortReason="set"):(ft(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(Dv(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?BV(t,void 0):e.length=s+1,Lu(n.eventQueue_,iT(t),r);for(let a=0;a<i.length;a++)cx(i[a])}}const WV=function(n,t){const e=XAe(n),i=e.namespace;return"firebase.com"===e.domain&&rm(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&rm("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ol("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new K6(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new ki(e.pathString)}},XAe=function(n){let t="",e="",i="",r="",s="",a=!0,u="https",f=443;if("string"==typeof n){let b=n.indexOf("//");b>=0&&(u=n.substring(0,b-1),n=n.substring(b+2));let x=n.indexOf("/");-1===x&&(x=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(x,D)),x<D&&(r=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(x,D)));const R=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ol(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));b=t.indexOf(":"),b>=0?(a="https"===u||"wss"===u,f=parseInt(t.substring(b+1),10)):b=t.length;const B=t.slice(0,b);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const z=t.indexOf(".");i=t.substring(0,z).toLowerCase(),e=t.substring(z+1),s=i}"ns"in R&&(s=R.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:a,scheme:u,pathString:r,namespace:s}},rY="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",eDe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=rY.charAt(e%64),e=Math.floor(e/64);ft(0===e,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=rY.charAt(t[r]);return ft(20===a.length,"nextPushId: Length should be 20."),a}}();class sY{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ao(this.snapshot.exportVal())}}class oY{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class YV{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return ft(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class aY{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new zl;return qAe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Od("OnDisconnect.remove",this._path);const t=new zl;return XW(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Od("OnDisconnect.set",this._path),om("OnDisconnect.set",t,this._path,!1);const e=new zl;return XW(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Od("OnDisconnect.setWithPriority",this._path),om("OnDisconnect.setWithPriority",t,this._path,!1),jV("OnDisconnect.setWithPriority",e,!1);const i=new zl;return function(n,t,e,i,r){const s=hs(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(a,u)=>{"ok"===a&&px(n.onDisconnect_,t,s),Sv(0,r,a,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Od("OnDisconnect.update",this._path),GW("OnDisconnect.update",t,this._path,!1);const e=new zl;return function(n,t,e,i){if(j6(e))return ea("onDisconnect().update() called with empty data.  Don't do anything."),void Sv(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&ta(e,(a,u)=>{const f=hs(u);px(n.onDisconnect_,Yr(t,a),f)}),Sv(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Tc{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return ti(this._path)?null:nV(this._path)}get ref(){return new Rd(this._repo,this._path)}get _queryIdentifier(){const t=dW(this._queryParams),e=W6(t);return"{}"===e?"default":e}get _queryObject(){return dW(this._queryParams)}isEqual(t){if(!((t=Fu(t))instanceof Tc))return!1;const e=this._repo===t._repo,i=iV(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ER(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Tv(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===sm){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==vv)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==r_)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===mr){if(null!=t&&!rT(t)||null!=e&&!rT(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ft(n.getIndex()instanceof lV||n.getIndex()===cV,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xR(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Rd extends Tc{constructor(t,e){super(t,e,new XO,!1)}get parent(){const t=X9(this._path);return null===t?null:new Rd(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class sw{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ki(t),i=ow(this.ref,t);return new sw(this._node.getChild(e),i,mr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new sw(r,ow(this.ref,i),mr)))}hasChild(t){const e=new ki(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lY(n,t){return(n=Fu(n))._checkNotDeleted("ref"),void 0!==t?ow(n._root,t):n._root}function cY(n,t){(n=Fu(n))._checkNotDeleted("refFromURL");const e=WV(t,n._repo.repoInfo_.nodeAdmin);$W("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&rm("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),lY(n,e.path.toString())}function ow(n,t){return null===ei((n=Fu(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),aT("child","path",e,!1)):aT("child","path",t,!1),new Rd(n._repo,Yr(n._path,t));var e}function KV(n,t){n=Fu(n),Od("set",n._path),om("set",t,n._path,!1);const e=new zl;return qV(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function sDe(n,t){GW("update",t,n._path,!1);const e=new zl;return function(n,t,e,i){yx(n,"update",{path:t.toString(),value:e});let r=!0;const s=lT(n),a={};if(ta(e,(u,f)=>{r=!1,a[u]=jW(Yr(t,u),hs(f),n.serverSyncTree_,s)}),r)ea("update() called with empty data.  Don't do anything."),Sv(0,i,"ok",void 0);else{const u=bR(n),f=function(n,t,e,i){!function(n,t,e,i){ft(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=vV(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=gr.fromObject(e);return _x(n,new mx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,u);vR(n.eventQueue_,f),n.server_.merge(t.toString(),e,(b,x)=>{const D="ok"===b;D||ol("update at "+t+" failed: "+b);const R=Dv(n.serverSyncTree_,u,!D),B=R.length>0?vx(n,t):t;Lu(n.eventQueue_,B,R),Sv(0,i,b,x)}),ta(e,b=>{const x=$V(n,Yr(t,b));vx(n,x)}),Lu(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function oDe(n){n=Fu(n);const t=new YV(()=>{}),e=new cT(t);return function(n,t,e){const i=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(b,x)=>{const D=$l(b,e);i=i||xv(x,D)});let r=n.syncPointTree_.get(e);r?i=i||xv(r,Ci()):(r=new MW,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,a=s?new Cv(i,!0,!1):null;return function(n){return sR(n.viewCache_)}(kW(r,t,oR(n.pendingWriteTree_,t._path),s?a.getNode():Vn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=hs(r).withIndex(t._queryParams.getIndex());let a;if(IV(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=eT(n.serverSyncTree_,t._path,s);else{const u=tT(n.serverSyncTree_,t);a=FW(n.serverSyncTree_,t._path,s,u)}return Lu(n.eventQueue_,t._path,a),fR(n.serverSyncTree_,t,e,null,!0),s},r=>(yx(n,"get for query "+Ao(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new sw(i,new Rd(n._repo,n._path),n._queryParams.getIndex()))}class cT{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new sY("value",this,new sw(t.snapshotNode,new Rd(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new oY(this,t,e):null}matches(t){return t instanceof cT&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class AR{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new oY(this,t,e):null}createEvent(t,e){ft(null!=t.childName,"Child events should have a childName.");const i=ow(new Rd(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new sY(t.type,this,new sw(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof AR&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function uT(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=e,b=(x,D)=>{zV(n._repo,n,u),f(x,D)};b.userCallback=e.userCallback,b.context=e.context,e=b}const a=new YV(e,s||void 0),u="value"===t?new cT(a):new AR(t,a);return function(n,t,e){let i;i=".info"===ei(t._path)?IV(n.infoSyncTree_,t,e):IV(n.serverSyncTree_,t,e),ZW(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>zV(n._repo,n,u)}function QV(n,t,e,i){return uT(n,"value",t,e,i)}function uY(n,t,e,i){return uT(n,"child_added",t,e,i)}function dY(n,t,e,i){return uT(n,"child_changed",t,e,i)}function hY(n,t,e,i){return uT(n,"child_moved",t,e,i)}function fY(n,t,e,i){return uT(n,"child_removed",t,e,i)}function pY(n,t,e){let i=null;const r=e?new YV(e):null;"value"===t?i=new cT(r):t&&(i=new AR(t,r)),zV(n._repo,n,i)}class Jh{}class mY extends Jh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){om("endAt",this._value,t._path,!0);const e=hV(t._queryParams,this._value,this._key);if(xR(e),Tv(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tc(t._repo,t._path,e,t._orderByCalled)}}class lDe extends Jh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){om("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i;return i=hV(n,t,n.index_===sm||e?e:vv),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(xR(e),Tv(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tc(t._repo,t._path,e,t._orderByCalled)}}class gY extends Jh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){om("startAt",this._value,t._path,!0);const e=dV(t._queryParams,this._value,this._key);if(xR(e),Tv(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Tc(t._repo,t._path,e,t._orderByCalled)}}class dDe extends Jh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){om("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;return i=dV(n,t,n.index_===sm||e?e:r_),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(xR(e),Tv(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Tc(t._repo,t._path,e,t._orderByCalled)}}class fDe extends Jh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tc(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class mDe extends Jh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tc(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class _De extends Jh{constructor(t){super(),this._path=t}_apply(t){ER(t,"orderByChild");const e=new ki(this._path);if(ti(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new lV(e),r=eR(t._queryParams,i);return Tv(r),new Tc(t._repo,t._path,r,!0)}}class vDe extends Jh{_apply(t){ER(t,"orderByKey");const e=eR(t._queryParams,sm);return Tv(e),new Tc(t._repo,t._path,e,!0)}}class wDe extends Jh{_apply(t){ER(t,"orderByPriority");const e=eR(t._queryParams,mr);return Tv(e),new Tc(t._repo,t._path,e,!0)}}class EDe extends Jh{_apply(t){ER(t,"orderByValue");const e=eR(t._queryParams,cV);return Tv(e),new Tc(t._repo,t._path,e,!0)}}class ADe extends Jh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(om("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mY(this._value,this._key)._apply(new gY(this._value,this._key)._apply(t))}}function Xh(n,...t){let e=Fu(n);for(const i of t)e=i._apply(e);return e}(function(n){ft(!uR,"__referenceConstructor has already been defined"),uR=n})(Rd),function(n){ft(!hR,"__referenceConstructor has already been defined"),hR=n}(Rd);const JV={};function yY(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||rm("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ea("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,b,a=WV(s,r),u=a.repoInfo;"undefined"!=typeof process&&process.env&&(b=process.env.FIREBASE_DATABASE_EMULATOR_HOST),b?(f=!0,s=`http://${b}?ns=${u.namespace}`,a=WV(s,r),u=a.repoInfo):f=!a.repoInfo.secure;const x=r&&f?new HS(HS.OWNER):new bEe(n.name,n.options,t);$W("Invalid Firebase Database URL",a),ti(a.path)||rm("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function(n,t,e,i){let r=JV[t.name];r||(r={},JV[t.name]=r);let s=r[n.toURLString()];return s&&rm("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new LAe(n,false,e,i),r[n.toURLString()]=s,s}(u,n,x,new vEe(n.name,e));return new ODe(D,n)}class ODe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=X6(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new tR(n.repoInfo_,(i,r,s,a)=>{QW(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>JW(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ao(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ew(n.repoInfo_,t,(i,r,s,a)=>{QW(n,i,r,s,a)},i=>{JW(n,i)},i=>{!function(n,t){ta(t,(e,i)=>{HV(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return J6[e]||(J6[e]=t()),J6[e]}(n.repoInfo_,()=>new Exe(n.stats_,n.server_)),n.infoData_=new yxe,n.infoSyncTree_=new PW({startListening:(i,r,s,a)=>{let u=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(u=eT(n.infoSyncTree_,i._path,f),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),HV(n,"connected",!1),n.serverSyncTree_=new PW({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(u,f)=>{const b=a(u,f);Lu(n.eventQueue_,i._path,b)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rd(this._repo,Ci())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=JV[t];(!e||e[n.key]!==n)&&rm(`Database ${t}(${n.repoInfo_}) has already been deleted.`),eY(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&rm("Cannot call "+t+" on a deleted database.")}}function vY(){j9.IS_TRANSPORT_INITIALIZED&&ol("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function RDe(){vY(),bv.forceDisallow()}function NDe(){vY(),ux.forceDisallow(),bv.forceAllow()}function LDe(n,t){w9(n,t)}class HDe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ew.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ew.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},g9(Yt.SDK_VERSION),(0,Yt._registerComponent)(new q6("database",(t,{instanceIdentifier:e})=>yY(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Yt.registerVersion)(p9,"0.14.4",void 0),(0,Yt.registerVersion)(p9,"0.14.4","esm2017");const $De=new f9("@firebase/database-compat"),wY=function(n){$De.warn("FIREBASE WARNING: "+n)};class YDe{constructor(t){this._delegate=t}cancel(t){wn("OnDisconnect.cancel",0,1,arguments.length),Xo("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){wn("OnDisconnect.remove",0,1,arguments.length),Xo("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){wn("OnDisconnect.set",1,2,arguments.length),Xo("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){wn("OnDisconnect.setWithPriority",2,3,arguments.length),Xo("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if(wn("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,wY("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xo("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class KDe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return wn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Iv{constructor(t,e){this._database=t,this._delegate=e}val(){return wn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return wn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return wn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return wn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return wn("DataSnapshot.child",0,1,arguments.length),t=String(t),aT("DataSnapshot.child","path",t,!1),new Iv(this._database,this._delegate.child(t))}hasChild(t){return wn("DataSnapshot.hasChild",1,1,arguments.length),aT("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return wn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return wn("DataSnapshot.forEach",1,1,arguments.length),Xo("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Iv(this._database,e)))}hasChildren(){return wn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return wn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return wn("DataSnapshot.ref",0,0,arguments.length),new Bu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class xa{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;wn("Query.on",2,4,arguments.length),Xo("Query.on","callback",e,!1);const a=xa.getCancelAndContextArgs_("Query.on",i,r),u=(b,x)=>{e.call(a.context,new Iv(this.database,b),x)};u.userCallback=e,u.context=a.context;const f=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(t){case"value":return QV(this._delegate,u,f),e;case"child_added":return uY(this._delegate,u,f),e;case"child_removed":return fY(this._delegate,u,f),e;case"child_changed":return dY(this._delegate,u,f),e;case"child_moved":return hY(this._delegate,u,f),e;default:throw new Error(Gl("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if(wn("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Gl("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),Xo("Query.off","callback",e,!0),u9("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,pY(this._delegate,t,r)}else pY(this._delegate,t)}get(){return oDe(this._delegate).then(t=>new Iv(this.database,t))}once(t,e,i,r){wn("Query.once",1,4,arguments.length),Xo("Query.once","callback",e,!0);const s=xa.getCancelAndContextArgs_("Query.once",i,r),a=new zl,u=(b,x)=>{const D=new Iv(this.database,b);e&&e.call(s.context,D,x),a.resolve(D)};u.userCallback=e,u.context=s.context;const f=b=>{s.cancel&&s.cancel.call(s.context,b),a.reject(b)};switch(t){case"value":QV(this._delegate,u,f,{onlyOnce:!0});break;case"child_added":uY(this._delegate,u,f,{onlyOnce:!0});break;case"child_removed":fY(this._delegate,u,f,{onlyOnce:!0});break;case"child_changed":dY(this._delegate,u,f,{onlyOnce:!0});break;case"child_moved":hY(this._delegate,u,f,{onlyOnce:!0});break;default:throw new Error(Gl("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return wn("Query.limitToFirst",1,1,arguments.length),new xa(this.database,Xh(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fDe(n)}(t)))}limitToLast(t){return wn("Query.limitToLast",1,1,arguments.length),new xa(this.database,Xh(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mDe(n)}(t)))}orderByChild(t){return wn("Query.orderByChild",1,1,arguments.length),new xa(this.database,Xh(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return aT("orderByChild","path",n,!1),new _De(n)}(t)))}orderByKey(){return wn("Query.orderByKey",0,0,arguments.length),new xa(this.database,Xh(this._delegate,new vDe))}orderByPriority(){return wn("Query.orderByPriority",0,0,arguments.length),new xa(this.database,Xh(this._delegate,new wDe))}orderByValue(){return wn("Query.orderByValue",0,0,arguments.length),new xa(this.database,Xh(this._delegate,new EDe))}startAt(t=null,e){return wn("Query.startAt",0,2,arguments.length),new xa(this.database,Xh(this._delegate,function(n=null,t){return oT("startAt","key",t,!0),new gY(n,t)}(t,e)))}startAfter(t=null,e){return wn("Query.startAfter",0,2,arguments.length),new xa(this.database,Xh(this._delegate,function(n,t){return oT("startAfter","key",t,!0),new dDe(n,t)}(t,e)))}endAt(t=null,e){return wn("Query.endAt",0,2,arguments.length),new xa(this.database,Xh(this._delegate,function(n,t){return oT("endAt","key",t,!0),new mY(n,t)}(t,e)))}endBefore(t=null,e){return wn("Query.endBefore",0,2,arguments.length),new xa(this.database,Xh(this._delegate,function(n,t){return oT("endBefore","key",t,!0),new lDe(n,t)}(t,e)))}equalTo(t,e){return wn("Query.equalTo",1,2,arguments.length),new xa(this.database,Xh(this._delegate,function(n,t){return oT("equalTo","key",t,!0),new ADe(n,t)}(t,e)))}toString(){return wn("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return wn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(wn("Query.isEqual",1,1,arguments.length),!(t instanceof xa))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,Xo(t,"cancel",r.cancel,!0),r.context=i,u9(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Gl(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Bu(this.database,new Rd(this._delegate._repo,this._delegate._path))}}class Bu extends xa{constructor(t,e){super(t,new Tc(e._repo,e._path,new XO,!1)),this.database=t,this._delegate=e}getKey(){return wn("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return wn("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Bu(this.database,ow(this._delegate,t))}getParent(){wn("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Bu(this.database,t):null}getRoot(){return wn("Reference.root",0,0,arguments.length),new Bu(this.database,this._delegate.root)}set(t,e){wn("Reference.set",1,2,arguments.length),Xo("Reference.set","onComplete",e,!0);const i=KV(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if(wn("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,wY("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Od("Reference.update",this._delegate._path),Xo("Reference.update","onComplete",e,!0);const i=sDe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){wn("Reference.setWithPriority",2,3,arguments.length),Xo("Reference.setWithPriority","onComplete",i,!0);const r=function(n,t,e){if(Od("setWithPriority",n._path),om("setWithPriority",t,n._path,!1),jV("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new zl;return qV(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){wn("Reference.remove",0,1,arguments.length),Xo("Reference.remove","onComplete",t,!0);const e=function(n){return Od("remove",n._path),KV(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){wn("Reference.transaction",1,3,arguments.length),Xo("Reference.transaction","transactionUpdate",t,!1),Xo("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error(Gl("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function(n,t,e){var i;if(n=Fu(n),Od("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new zl,u=QV(n,()=>{});return function(n,t,e,i,r,s){yx(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:y9(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=GV(n,t,void 0);a.currentInputSnapshot=u;const f=a.update(u.val());if(void 0===f)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{sT("transaction failed: Data returned ",f,a.path),a.status=0;const b=gR(n.transactionQueueTree_,t),x=rw(b)||[];let D;x.push(a),BV(b,x),"object"==typeof f&&null!==f&&Yh(f,".priority")?(D=W0(f,".priority"),ft(rT(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(pR(n.serverSyncTree_,t)||Vn.EMPTY_NODE).getPriority().val();const R=lT(n),B=hs(f,D),z=PV(B,u,R);a.currentOutputSnapshotRaw=B,a.currentOutputSnapshotResolved=z,a.currentWriteId=bR(n);const ee=TV(n.serverSyncTree_,t,z,a.currentWriteId,a.applyLocally);Lu(n.eventQueue_,t,ee),wR(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,b,x)=>{let D=null;f?s.reject(f):(D=new sw(x,new Rd(n._repo,n._path),mr),s.resolve(new HDe(b,D)))},u,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new KDe(s.committed,new Iv(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){wn("Reference.setPriority",1,2,arguments.length),Xo("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=Fu(n),Od("setPriority",n._path),jV("setPriority",t,!1);const e=new zl;return qV(n._repo,Yr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){wn("Reference.push",0,2,arguments.length),Xo("Reference.push","onComplete",e,!0);const i=function(n,t){n=Fu(n),Od("push",n._path),om("push",t,n._path,!0);const e=KW(n._repo),i=eDe(e),r=ow(n,i),s=ow(n,i);let a;return a=null!=t?KV(s,t).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new Bu(this.database,a));e&&r.then(()=>e(null),a=>e(a));const s=new Bu(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Od("Reference.onDisconnect",this._delegate._path),new YDe(new aY(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class dT{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:RDe,forceLongPolling:NDe}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=Fu(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&rm("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&rm('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new HS(HS.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:function(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[o9(JSON.stringify({alg:"none",type:"JWT"})),o9(JSON.stringify(a)),""].join(".")}(i.mockUserToken,n.app.options.projectId);s=new HS(a)}!function(n,t,e,i){n.repoInfo_=new K6(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if(wn("database.ref",0,1,arguments.length),t instanceof Bu){const e=cY(this._delegate,t.toString());return new Bu(this,e)}{const e=lY(this._delegate,t);return new Bu(this,e)}}refFromURL(t){wn("database.refFromURL",1,1,arguments.length);const i=cY(this._delegate,t);return new Bu(this,i)}goOffline(){return wn("database.goOffline",0,0,arguments.length),function(n){(n=Fu(n))._checkNotDeleted("goOffline"),eY(n._repo)}(this._delegate)}goOnline(){return wn("database.goOnline",0,0,arguments.length),function(n){(n=Fu(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(YW)}(n._repo)}(this._delegate)}}dT.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var JDe=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){g9(e);const a=new d9("auth-internal",new iEe("database-standalone"));return a.setComponent(new q6("auth-internal",()=>i,"PRIVATE")),{instance:new dT(yY(n,a,void 0,t,s),n),namespace:r}}});const XDe=dT.ServerValue;function CY(n){return null==n}function EY(n){return"function"==typeof n.set}function xY(n,t){return EY(t)?t:n.ref(t)}function AY(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(EY(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function hT(n,t,e="on",i=Ig.z){return new Wn.y(r=>{let s=null;return s=n[e](t,(a,u)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,It.U)(r=>{const{snapshot:s,prevKey:a}=r;let u=null;return s.exists()&&(u=s.key),{type:t,payload:s,prevKey:a,key:u}}),(0,Tp.B)())}function DY(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function sSe(n,t){const{payload:e,prevKey:i,key:r}=t,s=DY(n,r),a=function(n,t){if(CY(t))return 0;{const e=DY(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(f=>{const b={payload:f,type:"value",prevKey:u,key:f.key};return u=f.key,n=[...n,b],!1})}return n;case"child_added":if(s>-1){const u=n[s-1];(u&&u.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(s>-1){const u=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}function SY(n){return(CY(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function TY(n,t,e){return function(n,t,e){return hT(n,"value","once",e).pipe(yi(i=>{const r=[Ct(i)];return t.forEach(s=>r.push(hT(n,s,"on",e))),(0,er.T)(...r).pipe(Tl(sSe,[]))}),Yb())}(n,t=SY(t),e)}function IY(n,t,e){const i=(t=SY(t)).map(r=>hT(n,r,"on",e));return(0,er.T)(...i)}function MY(n,t){return function(i,r){return AY(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function cSe(n){return function(e){return e?AY(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function kY(n,t){return function(){return hT(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new q6("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new dT(r,i)},"PUBLIC").setServiceProps({Reference:Bu,Query:xa,Database:dT,DataSnapshot:Iv,enableLogging:LDe,INTERNAL:JDe,ServerValue:XDe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(wF.Z);const hSe=new o.OlP("angularfire2.realtimeDatabaseURL"),fSe=new o.OlP("angularfire2.database.use-emulator");let pSe=(()=>{class n{constructor(e,i,r,s,a,u,f,b,x,D,R,B,z,ee,ae){this.schedulers=u;const we=f,qe=(0,Vi.on)(e,a,i);b&&mC(qe,a,x,R,B,z,D,ee),this.database=(0,Vi.cc)(`${qe.name}.database.${r}`,"AngularFireDatabase",qe.name,()=>{const Ye=a.runOutsideAngular(()=>qe.database(r||void 0));return we&&Ye.useEmulator(...we),Ye},[we])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>xY(this.database,e));let s=r;return i&&(s=i(r)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:MY(i,"update"),set:MY(i,"set"),push:r=>i.push(r),remove:cSe(i),snapshotChanges:r=>TY(n,r,e).pipe(ci.iC),stateChanges:r=>IY(n,r,e).pipe(ci.iC),auditTrail:r=>function(n,t,e){return function(n,t,e){return function(n,t){return hT(n,"value","on",t).pipe((0,It.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function(...n){const t=(0,sd.jO)(n);return(0,Xi.e)((e,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),u=!1;for(let f=0;f<r;f++)(0,bo.Xf)(n[f]).subscribe(new Di.Q(i,b=>{s[f]=b,!u&&!a[f]&&(a[f]=!0,(u=a.every(La.y))&&(a=null))},VC.Z));e.subscribe(new Di.Q(i,f=>{if(u){const b=[f,...s];i.next(t?t(...b):b)}}))})}(t),(0,It.U)(([r,s])=>{const a=r.lastKeyToLoad,u=s.map(f=>f.key);return{actions:s,lastKeyToLoad:a,loadedKeys:u}}),(0,Xi.e)((t,e)=>{let i=!1;t.subscribe(new Di.Q(e,s=>(i||(i=!(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad))(s)))&&e.next(s)))}),(0,It.U)(r=>r.actions))}(n,IY(n,t).pipe(Tl((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(ci.iC),valueChanges:(r,s)=>TY(n,r,e).pipe((0,It.U)(u=>u.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),ci.iC)}}(s,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>kY(n,t.schedulers.outsideAngular)().pipe(ci.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>kY(n,t.schedulers.outsideAngular)().pipe(ci.iC,(0,It.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>xY(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vi.Dh),o.LFG(Vi.xv,8),o.LFG(hSe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(ci.HU),o.LFG(fSe,8),o.LFG(Tb,8),o.LFG(nA,8),o.LFG(iA,8),o.LFG(rA,8),o.LFG(my,8),o.LFG(fC,8),o.LFG(pC,8),o.LFG(Db,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mSe=(()=>{class n{constructor(){tA.Z.registerVersion("angularfire",ci.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pSe]}),n})();function OY(n,t){return t?e=>Si(t.pipe((0,hi.q)(1),(0,Xi.e)((n,t)=>{n.subscribe(new Di.Q(t,VC.Z))})),e.pipe(OY(n))):(0,Ii.z)((e,i)=>n(e,i).pipe((0,hi.q)(1),function(n){return(0,It.U)(()=>n)}(e)))}function RY(n,t=Ig.z){const e=QP(n,t);return OY(()=>e)}const ySe=["mat-menu-item",""];function vSe(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const NY=["*"];function bSe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(r){return o.CHM(e),o.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return o.CHM(e),o.oxw()._onAnimationDone(r)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const DR={transformMenu:Wi("transformMenu",[Qn("void",Pt({opacity:0,transform:"scale(0.8)"})),kn("void => enter",Kn("120ms cubic-bezier(0, 0, 0.2, 1)",Pt({opacity:1,transform:"scale(1)"}))),kn("* => void",Kn("100ms 25ms linear",Pt({opacity:0})))]),fadeInItems:Wi("fadeInItems",[Qn("showing",Pt({opacity:1})),kn("void => *",[Pt({opacity:0}),Kn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},wSe=new o.OlP("MatMenuContent"),XV=new o.OlP("MAT_MENU_PANEL"),CSe=Ry(Fg(class{}));let SR=(()=>{class n extends CSe{constructor(e,i,r,s,a){super(),this._elementRef=e,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new kt.x,this._focused=new kt.x,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(e=i.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ue),o.Y36(Gr),o.Y36(XV,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:ySe,ngContentSelectors:NY,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,vSe,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},directives:[jp,vt],encapsulation:2,changeDetection:0}),n})();const PY=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let xSe=0,fT=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=On.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new kt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+xSe++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=jt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=jt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new UC(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Bi(this._directDescendantItems),yi(e=>(0,er.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Bi(this._directDescendantItems),yi(i=>(0,er.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:$o(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===i||40===i)&&r.setFocusOrigin("keyboard"),r.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe((0,hi.q)(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const i=this._keyManager;if(i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length){let r=this._directDescendantItems.first._getHostElement().parentElement;for(;r;){if("menu"===r.getAttribute("role")){r.focus();break}r=r.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Bi(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(PY))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,wSe,5),o.Suo(r,SR,5),o.Suo(r,SR,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),ASe=(()=>{class n extends fT{constructor(e,i,r){super(e,i,r),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(PY))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:XV,useExisting:n}]),o.qOj],ngContentSelectors:NY,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,bSe,3,6,"ng-template"))},directives:[it],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[DR.transformMenu,DR.fadeInItems]},changeDetection:0}),n})();const FY=new o.OlP("mat-menu-scroll-strategy"),SSe={provide:FY,deps:[Cd],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},BY=Pp({passive:!0});let TSe=(()=>{class n{constructor(e,i,r,s,a,u,f,b){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=u,this._dir=f,this._focusMonitor=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=On.w0.EMPTY,this._hoverSubscription=On.w0.EMPTY,this._menuCloseSubscription=On.w0.EMPTY,this._handleTouchStart=x=>{L(x)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof fT?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,BY),u&&(u._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,BY),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig();this._setPosition(i.positionStrategy),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof fT&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof fT?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(ii(r=>"void"===r.toState),(0,hi.q)(1),bn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new GA({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{this.menu.setPositionClasses("start"===i.connectionPair.overlayX?"after":"before","top"===i.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,a]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[u,f]=[s,a],[b,x]=[i,r],D=0;this.triggersSubmenu()?(x=i="before"===this.menu.xPosition?"start":"end",r=b="end"===i?"start":"end",D="bottom"===s?8:-8):this.menu.overlapTrigger||(u="top"===s?"bottom":"top",f="top"===a?"bottom":"top"),e.withPositions([{originX:i,originY:u,overlayX:b,overlayY:s,offsetY:D},{originX:r,originY:u,overlayX:x,overlayY:s,offsetY:D},{originX:i,originY:f,overlayX:b,overlayY:a,offsetY:-D},{originX:r,originY:f,overlayX:x,overlayY:a,offsetY:-D}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ct(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ii(a=>a!==this._menuItemInstance),ii(()=>this._menuOpen)):Ct();return(0,er.T)(e,r,s,i)}_handleMousedown(e){k(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ii(e=>e===this._menuItemInstance&&!e.disabled),RY(0,KP)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof fT&&this.menu._isAnimating?this.menu._animationDone.pipe((0,hi.q)(1),RY(0,KP),bn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new zA(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Cd),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(FY),o.Y36(XV,8),o.Y36(SR,10),o.Y36(cs,8),o.Y36(Gr))},n.\u0275dir=o.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),ISe=(()=>{class n extends TSe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),MSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[SSe],imports:[[Te,Zn,zC,$A],Vy,Zn]}),n})();const HY=new o.OlP("mat-chips-default-options");let qSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[LA,{provide:HY,useValue:{separatorKeyCodes:[13]}}],imports:[[Zn]]}),n})(),GSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Te,Zn,kg,Vy],Vy,Zn]}),n})(),qY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn],Zn]}),n})(),sTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Rj,zC,Zn,zP,Te],Rj,Zn,zP,qY]}),n})(),oTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn],Zn]}),n})(),ZY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[w3,Sy]]}),n})(),tK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[w3]]}),n})(),O1e=(()=>{class n{constructor(e,i){yn(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:dv,useValue:Object.assign(Object.assign({},C3),e)},{provide:E3,useValue:i,multi:!0},{provide:HE,useValue:!0}]:[{provide:dv,useValue:Object.assign(Object.assign({},C3),e)},{provide:E3,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(HE),o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ZY,q$,tK],ZY,q$,tK]}),n})();const nK_firebase={apiKey:"AIzaSyDo1ZbJhyzA89YJEYzeV0nA5JhQ8uH5e1M",authDomain:"tracking-cfa9d.firebaseapp.com",projectId:"tracking-cfa9d",storageBucket:"tracking-cfa9d.firebasestorage.app",messagingSenderId:"527750274978",appId:"1:527750274978:web:be546b2e166d1baf6b5cfb",measurementId:"G-X0SW8T5YXY"},tU=function(){return["active"]};let R1e=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-left-navigation"]],decls:17,vars:6,consts:[[1,"d-flex","flex-column","h-100"],[1,"p-4","ts-bg-primary-dark","flex-grow-0"],[1,"list-unstyled","flex-grow-1","nav-link-item"],[1,"text-center"],["routerLink","/home",1,"p-3","d-block","text-white",3,"routerLinkActive"],[1,"bi-house-fill","f-xx-large"],["routerLink","/project",1,"p-3","d-block","text-white",3,"routerLinkActive"],[1,"bi-boxes","f-xx-large"],["routerLink","/task",1,"p-3","d-block","text-white",3,"routerLinkActive"],[1,"bi-alarm-fill","f-xx-large"],[1,"flex-grow-0"],[1,"p-3","text-center"],[1,"bi-gear-fill","f-xx-large"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"b"),o._uU(3,"LOGO"),o.qZA(),o.qZA(),o.TgZ(4,"ul",2),o.TgZ(5,"li",3),o.TgZ(6,"a",4),o._UZ(7,"i",5),o.qZA(),o.qZA(),o.TgZ(8,"li",3),o.TgZ(9,"a",6),o._UZ(10,"i",7),o.qZA(),o.qZA(),o.TgZ(11,"li",3),o.TgZ(12,"a",8),o._UZ(13,"i",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",10),o.TgZ(15,"div",11),o._UZ(16,"i",12),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(6),o.Q6J("routerLinkActive",o.DdM(3,tU)),o.xp6(3),o.Q6J("routerLinkActive",o.DdM(4,tU)),o.xp6(3),o.Q6J("routerLinkActive",o.DdM(5,tU)))},directives:[C,O],styles:[".nav-link-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .2s ease-in;background:rgba(0,0,0,0)}.nav-link-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-link-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}"]}),n})(),N1e=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-top-navigation"]],decls:35,vars:1,consts:[[1,"navbar","navbar-light","p-3"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex"],[1,"d-flex","ms-2"],["mat-button","","routerLink","/register","routerLinkActive","active"],[1,"bi-card-list","f-large"],[1,"ms-2"],["mat-button","","routerLink","/login","routerLinkActive","active"],[1,"bi-key-fill","f-large"],[1,"ms-1"],["mat-button","","aria-label","Account",3,"matMenuTriggerFor"],[1,"bi-person-fill","f-large"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","","disabled",""]],template:function(e,i){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o.TgZ(2,"a",2),o._uU(3,"Tracking System"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"a",5),o._UZ(7,"i",6),o.TgZ(8,"span",7),o._uU(9,"Register"),o.qZA(),o.qZA(),o.TgZ(10,"a",8),o._UZ(11,"i",9),o.TgZ(12,"span",10),o._uU(13,"Login"),o.qZA(),o.qZA(),o.TgZ(14,"button",11),o._UZ(15,"i",12),o.TgZ(16,"span",10),o._uU(17,"Account"),o.qZA(),o.qZA(),o.TgZ(18,"mat-menu",null,13),o.TgZ(20,"button",14),o.TgZ(21,"mat-icon"),o._uU(22,"dialpad"),o.qZA(),o.TgZ(23,"span"),o._uU(24,"Logout"),o.qZA(),o.qZA(),o.TgZ(25,"button",15),o.TgZ(26,"mat-icon"),o._uU(27,"voicemail"),o.qZA(),o.TgZ(28,"span"),o._uU(29,"Check voice mail"),o.qZA(),o.qZA(),o.TgZ(30,"button",14),o.TgZ(31,"mat-icon"),o._uU(32,"notifications_off"),o.qZA(),o.TgZ(33,"span"),o._uU(34,"Disable alerts"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(19);o.xp6(14),o.Q6J("matMenuTriggerFor",r)}},directives:[JQ,C,O,Uh,ISe,ASe,SR,q1],styles:[""]}),n})(),P1e=(()=>{class n{constructor(){this.title="TrackingSystem13"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"h-100","ts-bg-primary"],[1,"h-100","d-flex","flex-row"],[1,"flex-grow-0","text-white","h-100"],[1,"flex-grow-1","p-0","h-100","bg-light","d-flex","flex-column"],[1,"bg-white","shadow-lg"],[1,"flex-grow-1"],[1,"p-3","border-top"]],template:function(e,i){1&e&&(o.TgZ(0,"main",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o._UZ(3,"app-left-navigation"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"header",4),o._UZ(6,"app-top-navigation"),o.qZA(),o.TgZ(7,"main",5),o._UZ(8,"router-outlet"),o.qZA(),o.TgZ(9,"footer",6),o._uU(10,"footer"),o.qZA(),o.qZA(),o.qZA(),o.qZA())},directives:[R1e,N1e,hp],styles:[""]}),n})(),F1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[P1e]}),n.\u0275inj=o.cJS({providers:[],imports:[[da,jf,O1e,ECe,KN,t1,Vi.hO.initializeApp(nK_firebase),Ib,mSe,nle,OJ,MSe,$P,GQ,uJ,qY,sTe,UJ,qSe,Qee,QJ,xee,mte,GSe,GP,Tde,eQ,j4,B1,Ife,oTe]]}),n})();(0,o.G48)(),rf().bootstrapModule(F1e).catch(n=>console.error(n))},7385:st=>{function o(ne,oe,Q,ge,Ae){if(ne===oe)return ne?[[0,ne]]:[];if(null!=Q){var me=function(ne,oe,Q){var ge="number"==typeof Q?{index:Q,length:0}:Q.oldRange,Ae="number"==typeof Q?null:Q.newRange,me=ne.length,Ce=oe.length;if(0===ge.length&&(null===Ae||0===Ae.length)){var Ve=ge.index,gt=ne.slice(0,Ve),mt=ne.slice(Ve),yt=Ae?Ae.index:null,wt=Ve+Ce-me;if(!(null!==yt&&yt!==wt||wt<0||wt>Ce)){var xt=oe.slice(0,wt);if((zt=oe.slice(wt))===mt){var Tt=Math.min(Ve,wt);if((Dn=gt.slice(0,Tt))===($t=xt.slice(0,Tt)))return Qe(Dn,gt.slice(Tt),xt.slice(Tt),mt)}}if(null===yt||yt===Ve){var on=Ve,zt=(xt=oe.slice(0,on),oe.slice(on));if(xt===gt){var Cn=Math.min(me-on,Ce-on);if((Hn=mt.slice(mt.length-Cn))===(qn=zt.slice(zt.length-Cn)))return Qe(gt,mt.slice(0,mt.length-Cn),zt.slice(0,zt.length-Cn),Hn)}}}if(ge.length>0&&Ae&&0===Ae.length){var Dn=ne.slice(0,ge.index),Hn=ne.slice(ge.index+ge.length);if(!(Ce<(Tt=Dn.length)+(Cn=Hn.length))){var $t=oe.slice(0,Tt),qn=oe.slice(Ce-Cn);if(Dn===$t&&Hn===qn)return Qe(Dn,ne.slice(Tt,me-Cn),oe.slice(Tt,Ce-Cn),Hn)}}return null}(ne,oe,Q);if(me)return me}var Ce=Se(ne,oe),Ve=ne.substring(0,Ce);Ce=ue(ne=ne.substring(Ce),oe=oe.substring(Ce));var gt=ne.substring(ne.length-Ce),mt=function(ne,oe){var Q;if(!ne)return[[1,oe]];if(!oe)return[[-1,ne]];var ge=ne.length>oe.length?ne:oe,Ae=ne.length>oe.length?oe:ne,me=ge.indexOf(Ae);if(-1!==me)return Q=[[1,ge.substring(0,me)],[0,Ae],[1,ge.substring(me+Ae.length)]],ne.length>oe.length&&(Q[0][0]=Q[2][0]=-1),Q;if(1===Ae.length)return[[-1,ne],[1,oe]];var Ce=function(ne,oe){var Q=ne.length>oe.length?ne:oe,ge=ne.length>oe.length?oe:ne;if(Q.length<4||2*ge.length<Q.length)return null;function Ae(zt,Tt,Dn){for(var on,Cn,Hn,qn,$t=zt.substring(Dn,Dn+Math.floor(zt.length/4)),sn=-1,mn="";-1!==(sn=Tt.indexOf($t,sn+1));){var Hi=Se(zt.substring(Dn),Tt.substring(sn)),Ei=ue(zt.substring(0,Dn),Tt.substring(0,sn));mn.length<Ei+Hi&&(mn=Tt.substring(sn-Ei,sn)+Tt.substring(sn,sn+Hi),on=zt.substring(0,Dn-Ei),Cn=zt.substring(Dn+Hi),Hn=Tt.substring(0,sn-Ei),qn=Tt.substring(sn+Hi))}return 2*mn.length>=zt.length?[on,Cn,Hn,qn,mn]:null}var Ve,gt,mt,yt,wt,me=Ae(Q,ge,Math.ceil(Q.length/4)),Ce=Ae(Q,ge,Math.ceil(Q.length/2));return me||Ce?(Ve=Ce?me&&me[4].length>Ce[4].length?me:Ce:me,ne.length>oe.length?(gt=Ve[0],mt=Ve[1],yt=Ve[2],wt=Ve[3]):(yt=Ve[0],wt=Ve[1],gt=Ve[2],mt=Ve[3]),[gt,mt,yt,wt,Ve[4]]):null}(ne,oe);if(Ce){var gt=Ce[1],yt=Ce[3],wt=Ce[4],xt=o(Ce[0],Ce[2]),zt=o(gt,yt);return xt.concat([[0,wt]],zt)}return function(ne,oe){for(var Q=ne.length,ge=oe.length,Ae=Math.ceil((Q+ge)/2),me=Ae,Ce=2*Ae,Ve=new Array(Ce),gt=new Array(Ce),mt=0;mt<Ce;mt++)Ve[mt]=-1,gt[mt]=-1;Ve[me+1]=0,gt[me+1]=0;for(var yt=Q-ge,wt=yt%2!=0,xt=0,zt=0,Tt=0,Dn=0,$t=0;$t<Ae;$t++){for(var sn=-$t+xt;sn<=$t-zt;sn+=2){for(var mn=me+sn,Cn=(on=sn===-$t||sn!==$t&&Ve[mn-1]<Ve[mn+1]?Ve[mn+1]:Ve[mn-1]+1)-sn;on<Q&&Cn<ge&&ne.charAt(on)===oe.charAt(Cn);)on++,Cn++;if(Ve[mn]=on,on>Q)zt+=2;else if(Cn>ge)xt+=2;else if(wt&&(Hn=me+yt-sn)>=0&&Hn<Ce&&-1!==gt[Hn]&&on>=(qn=Q-gt[Hn]))return Re(ne,oe,on,Cn)}for(var Hi=-$t+Tt;Hi<=$t-Dn;Hi+=2){for(var qn,Hn=me+Hi,Ei=(qn=Hi===-$t||Hi!==$t&&gt[Hn-1]<gt[Hn+1]?gt[Hn+1]:gt[Hn-1]+1)-Hi;qn<Q&&Ei<ge&&ne.charAt(Q-qn-1)===oe.charAt(ge-Ei-1);)qn++,Ei++;if(gt[Hn]=qn,qn>Q)Dn+=2;else if(Ei>ge)Tt+=2;else if(!wt){var on;if((mn=me+yt-Hi)>=0&&mn<Ce&&-1!==Ve[mn])if(Cn=me+(on=Ve[mn])-mn,on>=(qn=Q-qn))return Re(ne,oe,on,Cn)}}}return[[-1,ne],[1,oe]]}(ne,oe)}(ne=ne.substring(0,ne.length-Ce),oe=oe.substring(0,oe.length-Ce));return Ve&&mt.unshift([0,Ve]),gt&&mt.push([0,gt]),Ge(mt,Ae),ge&&function(ne){for(var oe=!1,Q=[],ge=0,Ae=null,me=0,Ce=0,Ve=0,gt=0,mt=0;me<ne.length;)0==ne[me][0]?(Q[ge++]=me,Ce=gt,Ve=mt,gt=0,mt=0,Ae=ne[me][1]):(1==ne[me][0]?gt+=ne[me][1].length:mt+=ne[me][1].length,Ae&&Ae.length<=Math.max(Ce,Ve)&&Ae.length<=Math.max(gt,mt)&&(ne.splice(Q[ge-1],0,[-1,Ae]),ne[Q[ge-1]+1][0]=1,ge--,me=--ge>0?Q[ge-1]:-1,Ce=0,Ve=0,gt=0,mt=0,Ae=null,oe=!0)),me++;for(oe&&Ge(ne),function(ne){function oe(zt,Tt){if(!zt||!Tt)return 6;var Dn=zt.charAt(zt.length-1),$t=Tt.charAt(0),sn=Dn.match(J),mn=$t.match(J),on=sn&&Dn.match(te),Cn=mn&&$t.match(te),Hn=on&&Dn.match(Ne),qn=Cn&&$t.match(Ne),Hi=Hn&&zt.match(ye),Ei=qn&&Tt.match(We);return Hi||Ei?5:Hn||qn?4:sn&&!on&&Cn?3:on||Cn?2:sn||mn?1:0}for(var Q=1;Q<ne.length-1;){if(0==ne[Q-1][0]&&0==ne[Q+1][0]){var ge=ne[Q-1][1],Ae=ne[Q][1],me=ne[Q+1][1],Ce=ue(ge,Ae);if(Ce){var Ve=Ae.substring(Ae.length-Ce);ge=ge.substring(0,ge.length-Ce),Ae=Ve+Ae.substring(0,Ae.length-Ce),me=Ve+me}for(var gt=ge,mt=Ae,yt=me,wt=oe(ge,Ae)+oe(Ae,me);Ae.charAt(0)===me.charAt(0);){ge+=Ae.charAt(0),Ae=Ae.substring(1)+me.charAt(0),me=me.substring(1);var xt=oe(ge,Ae)+oe(Ae,me);xt>=wt&&(wt=xt,gt=ge,mt=Ae,yt=me)}ne[Q-1][1]!=gt&&(gt?ne[Q-1][1]=gt:(ne.splice(Q-1,1),Q--),ne[Q][1]=mt,yt?ne[Q+1][1]=yt:(ne.splice(Q+1,1),Q--))}Q++}}(ne),me=1;me<ne.length;){if(-1==ne[me-1][0]&&1==ne[me][0]){var yt=ne[me-1][1],wt=ne[me][1],xt=Oe(yt,wt),zt=Oe(wt,yt);xt>=zt?(xt>=yt.length/2||xt>=wt.length/2)&&(ne.splice(me,0,[0,wt.substring(0,xt)]),ne[me-1][1]=yt.substring(0,yt.length-xt),ne[me+1][1]=wt.substring(xt),me++):(zt>=yt.length/2||zt>=wt.length/2)&&(ne.splice(me,0,[0,yt.substring(0,zt)]),ne[me-1][0]=1,ne[me-1][1]=wt.substring(0,wt.length-zt),ne[me+1][0]=-1,ne[me+1][1]=yt.substring(zt),me++),me++}me++}}(mt),mt}function Re(ne,oe,Q,ge){var Ae=ne.substring(0,Q),me=oe.substring(0,ge),Ce=ne.substring(Q),Ve=oe.substring(ge),gt=o(Ae,me),mt=o(Ce,Ve);return gt.concat(mt)}function Se(ne,oe){if(!ne||!oe||ne.charAt(0)!==oe.charAt(0))return 0;for(var Q=0,ge=Math.min(ne.length,oe.length),Ae=ge,me=0;Q<Ae;)ne.substring(me,Ae)==oe.substring(me,Ae)?me=Q=Ae:ge=Ae,Ae=Math.floor((ge-Q)/2+Q);return Me(ne.charCodeAt(Ae-1))&&Ae--,Ae}function Oe(ne,oe){var Q=ne.length,ge=oe.length;if(0==Q||0==ge)return 0;Q>ge?ne=ne.substring(Q-ge):Q<ge&&(oe=oe.substring(0,Q));var Ae=Math.min(Q,ge);if(ne==oe)return Ae;for(var me=0,Ce=1;;){var Ve=ne.substring(Ae-Ce),gt=oe.indexOf(Ve);if(-1==gt)return me;Ce+=gt,(0==gt||ne.substring(Ae-Ce)==oe.substring(0,Ce))&&(me=Ce,Ce++)}}function ue(ne,oe){if(!ne||!oe||ne.slice(-1)!==oe.slice(-1))return 0;for(var Q=0,ge=Math.min(ne.length,oe.length),Ae=ge,me=0;Q<Ae;)ne.substring(ne.length-Ae,ne.length-me)==oe.substring(oe.length-Ae,oe.length-me)?me=Q=Ae:ge=Ae,Ae=Math.floor((ge-Q)/2+Q);return je(ne.charCodeAt(ne.length-Ae))&&Ae--,Ae}var J=/[^a-zA-Z0-9]/,te=/\s/,Ne=/[\r\n]/,ye=/\n\r?\n$/,We=/^\r?\n\r?\n/;function Ge(ne,oe){ne.push([0,""]);for(var Ve,Q=0,ge=0,Ae=0,me="",Ce="";Q<ne.length;)if(Q<ne.length-1&&!ne[Q][1])ne.splice(Q,1);else switch(ne[Q][0]){case 1:Ae++,Ce+=ne[Q][1],Q++;break;case-1:ge++,me+=ne[Q][1],Q++;break;case 0:var gt=Q-Ae-ge-1;if(oe){if(gt>=0&&et(ne[gt][1])){var mt=ne[gt][1].slice(-1);if(ne[gt][1]=ne[gt][1].slice(0,-1),me=mt+me,Ce=mt+Ce,!ne[gt][1]){ne.splice(gt,1),Q--;var yt=gt-1;ne[yt]&&1===ne[yt][0]&&(Ae++,Ce=ne[yt][1]+Ce,yt--),ne[yt]&&-1===ne[yt][0]&&(ge++,me=ne[yt][1]+me,yt--),gt=yt}}Ke(ne[Q][1])&&(mt=ne[Q][1].charAt(0),ne[Q][1]=ne[Q][1].slice(1),me+=mt,Ce+=mt)}if(Q<ne.length-1&&!ne[Q][1]){ne.splice(Q,1);break}if(me.length>0||Ce.length>0){me.length>0&&Ce.length>0&&(0!==(Ve=Se(Ce,me))&&(gt>=0?ne[gt][1]+=Ce.substring(0,Ve):(ne.splice(0,0,[0,Ce.substring(0,Ve)]),Q++),Ce=Ce.substring(Ve),me=me.substring(Ve)),0!==(Ve=ue(Ce,me))&&(ne[Q][1]=Ce.substring(Ce.length-Ve)+ne[Q][1],Ce=Ce.substring(0,Ce.length-Ve),me=me.substring(0,me.length-Ve)));var wt=Ae+ge;0===me.length&&0===Ce.length?(ne.splice(Q-wt,wt),Q-=wt):0===me.length?(ne.splice(Q-wt,wt,[1,Ce]),Q=Q-wt+1):0===Ce.length?(ne.splice(Q-wt,wt,[-1,me]),Q=Q-wt+1):(ne.splice(Q-wt,wt,[-1,me],[1,Ce]),Q=Q-wt+2)}0!==Q&&0===ne[Q-1][0]?(ne[Q-1][1]+=ne[Q][1],ne.splice(Q,1)):Q++,Ae=0,ge=0,me="",Ce=""}""===ne[ne.length-1][1]&&ne.pop();var xt=!1;for(Q=1;Q<ne.length-1;)0===ne[Q-1][0]&&0===ne[Q+1][0]&&(ne[Q][1].substring(ne[Q][1].length-ne[Q-1][1].length)===ne[Q-1][1]?(ne[Q][1]=ne[Q-1][1]+ne[Q][1].substring(0,ne[Q][1].length-ne[Q-1][1].length),ne[Q+1][1]=ne[Q-1][1]+ne[Q+1][1],ne.splice(Q-1,1),xt=!0):ne[Q][1].substring(0,ne[Q+1][1].length)==ne[Q+1][1]&&(ne[Q-1][1]+=ne[Q+1][1],ne[Q][1]=ne[Q][1].substring(ne[Q+1][1].length)+ne[Q+1][1],ne.splice(Q+1,1),xt=!0)),Q++;xt&&Ge(ne,oe)}function Me(ne){return ne>=55296&&ne<=56319}function je(ne){return ne>=56320&&ne<=57343}function Ke(ne){return je(ne.charCodeAt(0))}function et(ne){return Me(ne.charCodeAt(ne.length-1))}function Qe(ne,oe,Q,ge){return et(ne)||Ke(ge)?null:function(ne){for(var oe=[],Q=0;Q<ne.length;Q++)ne[Q][1].length>0&&oe.push(ne[Q]);return oe}([[0,ne],[-1,oe],[1,Q],[0,ge]])}function Lt(ne,oe,Q,ge){return o(ne,oe,Q,ge,!0)}Lt.INSERT=1,Lt.DELETE=-1,Lt.EQUAL=0,st.exports=Lt},9893:(st,Ie,G)=>{st=G.nmd(st);var o="__lodash_hash_undefined__",pe=9007199254740991,De="[object Arguments]",Se="[object Boolean]",Oe="[object Date]",fe="[object Function]",xe="[object GeneratorFunction]",J="[object Map]",te="[object Number]",Ne="[object Object]",ye="[object Promise]",We="[object RegExp]",nt="[object Set]",Ge="[object String]",Me="[object Symbol]",je="[object WeakMap]",Ke="[object ArrayBuffer]",et="[object DataView]",_t="[object Float32Array]",Qe="[object Float64Array]",pt="[object Int8Array]",Lt="[object Int16Array]",ne="[object Int32Array]",oe="[object Uint8Array]",Q="[object Uint8ClampedArray]",ge="[object Uint16Array]",Ae="[object Uint32Array]",Ce=/\w*$/,Ve=/^\[object .+?Constructor\]$/,gt=/^(?:0|[1-9]\d*)$/,mt={};mt[De]=mt["[object Array]"]=mt[Ke]=mt[et]=mt[Se]=mt[Oe]=mt[_t]=mt[Qe]=mt[pt]=mt[Lt]=mt[ne]=mt[J]=mt[te]=mt[Ne]=mt[We]=mt[nt]=mt[Ge]=mt[Me]=mt[oe]=mt[Q]=mt[ge]=mt[Ae]=!0,mt["[object Error]"]=mt[fe]=mt[je]=!1;var yt="object"==typeof global&&global&&global.Object===Object&&global,wt="object"==typeof self&&self&&self.Object===Object&&self,xt=yt||wt||Function("return this")(),zt=Ie&&!Ie.nodeType&&Ie,Tt=zt&&st&&!st.nodeType&&st,Dn=Tt&&Tt.exports===zt;function $t(N,$){return N.set($[0],$[1]),N}function sn(N,$){return N.add($),N}function Cn(N,$,ie,Te){var an=-1,Bt=N?N.length:0;for(Te&&Bt&&(ie=N[++an]);++an<Bt;)ie=$(ie,N[an],an,N);return ie}function Hi(N){var $=!1;if(null!=N&&"function"!=typeof N.toString)try{$=!!(N+"")}catch(ie){}return $}function Ei(N){var $=-1,ie=Array(N.size);return N.forEach(function(Te,an){ie[++$]=[an,Te]}),ie}function ia(N,$){return function(ie){return N($(ie))}}function Zl(N){var $=-1,ie=Array(N.size);return N.forEach(function(Te){ie[++$]=Te}),ie}var N,Pd=Array.prototype,gn=Function.prototype,ra=Object.prototype,Oi=xt["__core-js_shared__"],Tr=(N=/[^.]+$/.exec(Oi&&Oi.keys&&Oi.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",ll=gn.toString,Do=ra.hasOwnProperty,Ri=ra.toString,nr=RegExp("^"+ll.call(Do).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ir=Dn?xt.Buffer:void 0,Wl=xt.Symbol,zn=xt.Uint8Array,Rt=ia(Object.getPrototypeOf,Object),un=Object.create,sa=ra.propertyIsEnumerable,oo=Pd.splice,Sn=Object.getOwnPropertySymbols,ms=Ir?Ir.isBuffer:void 0,ks=ia(Object.keys,Object),gs=lo(xt,"DataView"),Zt=lo(xt,"Map"),_s=lo(xt,"Promise"),Un=lo(xt,"Set"),oa=lo(xt,"WeakMap"),ys=lo(Object,"create"),Mr=Gn(gs),_r=Gn(Zt),cl=Gn(_s),So=Gn(Un),aa=Gn(oa),Qr=Wl?Wl.prototype:void 0,rn=Qr?Qr.valueOf:void 0;function ri(N){var $=-1,ie=N?N.length:0;for(this.clear();++$<ie;){var Te=N[$];this.set(Te[0],Te[1])}}function ut(N){var $=-1,ie=N?N.length:0;for(this.clear();++$<ie;){var Te=N[$];this.set(Te[0],Te[1])}}function wi(N){var $=-1,ie=N?N.length:0;for(this.clear();++$<ie;){var Te=N[$];this.set(Te[0],Te[1])}}function ct(N){this.__data__=new ut(N)}function Y(N,$,ie){var Te=N[$];(!Do.call(N,$)||!Mo(Te,ie)||void 0===ie&&!($ in N))&&(N[$]=ie)}function j(N,$){for(var ie=N.length;ie--;)if(Mo(N[ie][0],$))return ie;return-1}function se(N,$,ie,Te,an,Bt,En){var en;if(Te&&(en=Bt?Te(N,an,Bt,En):Te(N)),void 0!==en)return en;if(!uo(N))return N;var xn=ot(N);if(xn){if(en=function(N){var $=N.length,ie=N.constructor($);return $&&"string"==typeof N[0]&&Do.call(N,"index")&&(ie.index=N.index,ie.input=N.input),ie}(N),!$)return function(N,$){var ie=-1,Te=N.length;for($||($=Array(Te));++ie<Te;)$[ie]=N[ie];return $}(N,en)}else{var yn=zi(N),Fi=yn==fe||yn==xe;if(ko(N))return function(N,$){if($)return N.slice();var ie=new N.constructor(N.length);return N.copy(ie),ie}(N,$);if(yn==Ne||yn==De||Fi&&!Bt){if(Hi(N))return Bt?N:{};if(en=function(N){return"function"!=typeof N.constructor||_i(N)?{}:function(N){return uo(N)?un(N):{}}(Rt(N))}(Fi?{}:N),!$)return function(N,$){return Ns(N,Io(N),$)}(N,function(N,$){return N&&Ns($,Pr($),N)}(en,N))}else{if(!mt[yn])return Bt?N:{};en=function(N,$,ie,Te){var an=N.constructor;switch($){case Ke:return si(N);case Se:case Oe:return new an(+N);case et:return function(N,$){var ie=$?si(N.buffer):N.buffer;return new N.constructor(ie,N.byteOffset,N.byteLength)}(N,Te);case _t:case Qe:case pt:case Lt:case ne:case oe:case Q:case ge:case Ae:return function(N,$){var ie=$?si(N.buffer):N.buffer;return new N.constructor(ie,N.byteOffset,N.length)}(N,Te);case J:return function(N,$,ie){return Cn($?ie(Ei(N),!0):Ei(N),$t,new N.constructor)}(N,Te,ie);case te:case Ge:return new an(N);case We:return function(N){var $=new N.constructor(N.source,Ce.exec(N));return $.lastIndex=N.lastIndex,$}(N);case nt:return function(N,$,ie){return Cn($?ie(Zl(N),!0):Zl(N),sn,new N.constructor)}(N,Te,ie);case Me:return function(N){return rn?Object(rn.call(N)):{}}(N)}}(N,yn,se,$)}}En||(En=new ct);var Gi=En.get(N);if(Gi)return Gi;if(En.set(N,en),!xn)var Ti=ie?function(N){return function(N,$,ie){var Te=$(N);return ot(N)?Te:function(N,$){for(var ie=-1,Te=$.length,an=N.length;++ie<Te;)N[an+ie]=$[ie];return N}(Te,ie(N))}(N,Pr,Io)}(N):Pr(N);return function(N,$){for(var ie=-1,Te=N?N.length:0;++ie<Te&&!1!==$(N[ie],ie););}(Ti||N,function(Li,sr){Ti&&(Li=N[sr=Li]),Y(en,sr,se(Li,$,ie,Te,sr,N,En))}),en}function si(N){var $=new N.constructor(N.byteLength);return new zn($).set(new zn(N)),$}function Ns(N,$,ie,Te){ie||(ie={});for(var an=-1,Bt=$.length;++an<Bt;){var En=$[an],en=Te?Te(ie[En],N[En],En,ie,N):void 0;Y(ie,En,void 0===en?N[En]:en)}return ie}function Nr(N,$){var ie=N.__data__;return function(N){var $=typeof N;return"string"==$||"number"==$||"symbol"==$||"boolean"==$?"__proto__"!==N:null===N}($)?ie["string"==typeof $?"string":"hash"]:ie.map}function lo(N,$){var ie=function(N,$){return null==N?void 0:N[$]}(N,$);return function(N){return!(!uo(N)||function(N){return!!Tr&&Tr in N}(N))&&(Oo(N)||Hi(N)?nr:Ve).test(Gn(N))}(ie)?ie:void 0}ri.prototype.clear=function(){this.__data__=ys?ys(null):{}},ri.prototype.delete=function(N){return this.has(N)&&delete this.__data__[N]},ri.prototype.get=function(N){var $=this.__data__;if(ys){var ie=$[N];return ie===o?void 0:ie}return Do.call($,N)?$[N]:void 0},ri.prototype.has=function(N){var $=this.__data__;return ys?void 0!==$[N]:Do.call($,N)},ri.prototype.set=function(N,$){return this.__data__[N]=ys&&void 0===$?o:$,this},ut.prototype.clear=function(){this.__data__=[]},ut.prototype.delete=function(N){var $=this.__data__,ie=j($,N);return!(ie<0||(ie==$.length-1?$.pop():oo.call($,ie,1),0))},ut.prototype.get=function(N){var $=this.__data__,ie=j($,N);return ie<0?void 0:$[ie][1]},ut.prototype.has=function(N){return j(this.__data__,N)>-1},ut.prototype.set=function(N,$){var ie=this.__data__,Te=j(ie,N);return Te<0?ie.push([N,$]):ie[Te][1]=$,this},wi.prototype.clear=function(){this.__data__={hash:new ri,map:new(Zt||ut),string:new ri}},wi.prototype.delete=function(N){return Nr(this,N).delete(N)},wi.prototype.get=function(N){return Nr(this,N).get(N)},wi.prototype.has=function(N){return Nr(this,N).has(N)},wi.prototype.set=function(N,$){return Nr(this,N).set(N,$),this},ct.prototype.clear=function(){this.__data__=new ut},ct.prototype.delete=function(N){return this.__data__.delete(N)},ct.prototype.get=function(N){return this.__data__.get(N)},ct.prototype.has=function(N){return this.__data__.has(N)},ct.prototype.set=function(N,$){var ie=this.__data__;if(ie instanceof ut){var Te=ie.__data__;if(!Zt||Te.length<199)return Te.push([N,$]),this;ie=this.__data__=new wi(Te)}return ie.set(N,$),this};var Io=Sn?ia(Sn,Object):function(){return[]},zi=function(N){return Ri.call(N)};function Kl(N,$){return!!($=null==$?pe:$)&&("number"==typeof N||gt.test(N))&&N>-1&&N%1==0&&N<$}function _i(N){var $=N&&N.constructor;return N===("function"==typeof $&&$.prototype||ra)}function Gn(N){if(null!=N){try{return ll.call(N)}catch($){}try{return N+""}catch($){}}return""}function Mo(N,$){return N===$||N!=N&&$!=$}(gs&&zi(new gs(new ArrayBuffer(1)))!=et||Zt&&zi(new Zt)!=J||_s&&zi(_s.resolve())!=ye||Un&&zi(new Un)!=nt||oa&&zi(new oa)!=je)&&(zi=function(N){var $=Ri.call(N),ie=$==Ne?N.constructor:void 0,Te=ie?Gn(ie):void 0;if(Te)switch(Te){case Mr:return et;case _r:return J;case cl:return ye;case So:return nt;case aa:return je}return $});var ot=Array.isArray;function rr(N){return null!=N&&function(N){return"number"==typeof N&&N>-1&&N%1==0&&N<=pe}(N.length)&&!Oo(N)}var ko=ms||function(){return!1};function Oo(N){var $=uo(N)?Ri.call(N):"";return $==fe||$==xe}function uo(N){var $=typeof N;return!!N&&("object"==$||"function"==$)}function Pr(N){return rr(N)?function(N,$){var ie=ot(N)||function(N){return function(N){return function(N){return!!N&&"object"==typeof N}(N)&&rr(N)}(N)&&Do.call(N,"callee")&&(!sa.call(N,"callee")||Ri.call(N)==De)}(N)?function(N,$){for(var ie=-1,Te=Array(N);++ie<N;)Te[ie]=$(ie);return Te}(N.length,String):[],Te=ie.length,an=!!Te;for(var Bt in N)($||Do.call(N,Bt))&&(!an||"length"!=Bt&&!Kl(Bt,Te))&&ie.push(Bt);return ie}(N):function(N){if(!_i(N))return ks(N);var $=[];for(var ie in Object(N))Do.call(N,ie)&&"constructor"!=ie&&$.push(ie);return $}(N)}st.exports=function(N){return se(N,!0,!0)}},8222:(st,Ie,G)=>{st=G.nmd(st);var o="__lodash_hash_undefined__",Re=9007199254740991,Se="[object Arguments]",Oe="[object Array]",fe="[object Boolean]",xe="[object Date]",J="[object Error]",te="[object Function]",ye="[object Map]",We="[object Number]",Ge="[object Object]",Me="[object Promise]",Ke="[object RegExp]",et="[object Set]",_t="[object String]",Lt="[object WeakMap]",ne="[object ArrayBuffer]",oe="[object DataView]",xt=/^\[object .+?Constructor\]$/,zt=/^(?:0|[1-9]\d*)$/,Tt={};Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt[Se]=Tt[Oe]=Tt[ne]=Tt[fe]=Tt[oe]=Tt[xe]=Tt[J]=Tt[te]=Tt[ye]=Tt[We]=Tt[Ge]=Tt[Ke]=Tt[et]=Tt[_t]=Tt[Lt]=!1;var Dn="object"==typeof global&&global&&global.Object===Object&&global,$t="object"==typeof self&&self&&self.Object===Object&&self,sn=Dn||$t||Function("return this")(),mn=Ie&&!Ie.nodeType&&Ie,on=mn&&st&&!st.nodeType&&st,Cn=on&&on.exports===mn,Hn=Cn&&Dn.process,qn=function(){try{return Hn&&Hn.binding&&Hn.binding("util")}catch(N){}}(),Hi=qn&&qn.isTypedArray;function Zl(N,$){for(var ie=-1,Te=null==N?0:N.length;++ie<Te;)if($(N[ie],ie,N))return!0;return!1}function ra(N,$){return N.has($)}function Tr(N){var $=-1,ie=Array(N.size);return N.forEach(function(Te,an){ie[++$]=[an,Te]}),ie}function Do(N){var $=-1,ie=Array(N.size);return N.forEach(function(Te){ie[++$]=Te}),ie}var N,Ri=Array.prototype,Ir=Object.prototype,Wl=sn["__core-js_shared__"],zn=Function.prototype.toString,Rt=Ir.hasOwnProperty,un=(N=/[^.]+$/.exec(Wl&&Wl.keys&&Wl.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",sa=Ir.toString,oo=RegExp("^"+zn.call(Rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sn=Cn?sn.Buffer:void 0,ms=sn.Symbol,ks=sn.Uint8Array,gs=Ir.propertyIsEnumerable,Zt=Ri.splice,_s=ms?ms.toStringTag:void 0,Un=Object.getOwnPropertySymbols,oa=Sn?Sn.isBuffer:void 0,ys=function(N,$){return function(ie){return N($(ie))}}(Object.keys,Object),Mr=Io(sn,"DataView"),_r=Io(sn,"Map"),cl=Io(sn,"Promise"),So=Io(sn,"Set"),aa=Io(sn,"WeakMap"),Qr=Io(Object,"create"),rn=Gn(Mr),ri=Gn(_r),Zs=Gn(cl),Yl=Gn(So),vs=Gn(aa),mi=ms?ms.prototype:void 0,Os=mi?mi.valueOf:void 0;function ut(N){var $=-1,ie=null==N?0:N.length;for(this.clear();++$<ie;){var Te=N[$];this.set(Te[0],Te[1])}}function wi(N){var $=-1,ie=null==N?0:N.length;for(this.clear();++$<ie;){var Te=N[$];this.set(Te[0],Te[1])}}function ct(N){var $=-1,ie=null==N?0:N.length;for(this.clear();++$<ie;){var Te=N[$];this.set(Te[0],Te[1])}}function yr(N){var $=-1,ie=null==N?0:N.length;for(this.__data__=new ct;++$<ie;)this.add(N[$])}function X(N){var $=this.__data__=new wi(N);this.size=$.size}function Xt(N,$){for(var ie=N.length;ie--;)if(Ql(N[ie][0],$))return ie;return-1}function vt(N){return null==N?void 0===N?"[object Undefined]":"[object Null]":_s&&_s in Object(N)?function(N){var $=Rt.call(N,_s),ie=N[_s];try{N[_s]=void 0;var Te=!0}catch(Bt){}var an=sa.call(N);return Te&&($?N[_s]=ie:delete N[_s]),an}(N):function(N){return sa.call(N)}(N)}function Gt(N){return uo(N)&&vt(N)==Se}function Rr(N,$,ie,Te,an){return N===$||(null==N||null==$||!uo(N)&&!uo($)?N!=N&&$!=$:function(N,$,ie,Te,an,Bt){var En=Ys(N),en=Ys($),xn=En?Oe:co(N),yn=en?Oe:co($),Fi=(xn=xn==Se?Ge:xn)==Ge,Gi=(yn=yn==Se?Ge:yn)==Ge,Ti=xn==yn;if(Ti&&rr(N)){if(!rr($))return!1;En=!0,Fi=!1}if(Ti&&!Fi)return Bt||(Bt=new X),En||Da(N)?Ns(N,$,ie,Te,an,Bt):function(N,$,ie,Te,an,Bt,En){switch(ie){case oe:if(N.byteLength!=$.byteLength||N.byteOffset!=$.byteOffset)return!1;N=N.buffer,$=$.buffer;case ne:return!(N.byteLength!=$.byteLength||!Bt(new ks(N),new ks($)));case fe:case xe:case We:return Ql(+N,+$);case J:return N.name==$.name&&N.message==$.message;case Ke:case _t:return N==$+"";case ye:var en=Tr;case et:if(en||(en=Do),N.size!=$.size&&!(1&Te))return!1;var yn=En.get(N);if(yn)return yn==$;Te|=2,En.set(N,$);var Fi=Ns(en(N),en($),Te,an,Bt,En);return En.delete(N),Fi;case"[object Symbol]":if(Os)return Os.call(N)==Os.call($)}return!1}(N,$,xn,ie,Te,an,Bt);if(!(1&ie)){var Li=Fi&&Rt.call(N,"__wrapped__"),sr=Gi&&Rt.call($,"__wrapped__");if(Li||sr){var Ln=Li?N.value():N,ho=sr?$.value():$;return Bt||(Bt=new X),an(Ln,ho,ie,Te,Bt)}}return!!Ti&&(Bt||(Bt=new X),function(N,$,ie,Te,an,Bt){var En=1&ie,en=Nr(N),xn=en.length;if(xn!=Nr($).length&&!En)return!1;for(var Gi=xn;Gi--;){var Ti=en[Gi];if(!(En?Ti in $:Rt.call($,Ti)))return!1}var Li=Bt.get(N);if(Li&&Bt.get($))return Li==$;var sr=!0;Bt.set(N,$),Bt.set($,N);for(var Ln=En;++Gi<xn;){var ho=N[Ti=en[Gi]],ca=$[Ti];if(Te)var di=En?Te(ca,ho,Ti,$,N,Bt):Te(ho,ca,Ti,N,$,Bt);if(!(void 0===di?ho===ca||an(ho,ca,ie,Te,Bt):di)){sr=!1;break}Ln||(Ln="constructor"==Ti)}if(sr&&!Ln){var Mc=N.constructor,fo=$.constructor;Mc!=fo&&"constructor"in N&&"constructor"in $&&!("function"==typeof Mc&&Mc instanceof Mc&&"function"==typeof fo&&fo instanceof fo)&&(sr=!1)}return Bt.delete(N),Bt.delete($),sr}(N,$,ie,Te,an,Bt))}(N,$,ie,Te,Rr,an))}function Ns(N,$,ie,Te,an,Bt){var En=1&ie,en=N.length,xn=$.length;if(en!=xn&&!(En&&xn>en))return!1;var yn=Bt.get(N);if(yn&&Bt.get($))return yn==$;var Fi=-1,Gi=!0,Ti=2&ie?new yr:void 0;for(Bt.set(N,$),Bt.set($,N);++Fi<en;){var Li=N[Fi],sr=$[Fi];if(Te)var Ln=En?Te(sr,Li,Fi,$,N,Bt):Te(Li,sr,Fi,N,$,Bt);if(void 0!==Ln){if(Ln)continue;Gi=!1;break}if(Ti){if(!Zl($,function(ho,ca){if(!ra(Ti,ca)&&(Li===ho||an(Li,ho,ie,Te,Bt)))return Ti.push(ca)})){Gi=!1;break}}else if(Li!==sr&&!an(Li,sr,ie,Te,Bt)){Gi=!1;break}}return Bt.delete(N),Bt.delete($),Gi}function Nr(N){return function(N,$,ie){var Te=$(N);return Ys(N)?Te:function(N,$){for(var ie=-1,Te=$.length,an=N.length;++ie<Te;)N[an+ie]=$[ie];return N}(Te,ie(N))}(N,Pr,Fd)}function lo(N,$){var ie=N.__data__;return function(N){var $=typeof N;return"string"==$||"number"==$||"symbol"==$||"boolean"==$?"__proto__"!==N:null===N}($)?ie["string"==typeof $?"string":"hash"]:ie.map}function Io(N,$){var ie=function(N,$){return null==N?void 0:N[$]}(N,$);return function(N){return!(!Ic(N)||function(N){return!!un&&un in N}(N))&&(ko(N)?oo:xt).test(Gn(N))}(ie)?ie:void 0}ut.prototype.clear=function(){this.__data__=Qr?Qr(null):{},this.size=0},ut.prototype.delete=function(N){var $=this.has(N)&&delete this.__data__[N];return this.size-=$?1:0,$},ut.prototype.get=function(N){var $=this.__data__;if(Qr){var ie=$[N];return ie===o?void 0:ie}return Rt.call($,N)?$[N]:void 0},ut.prototype.has=function(N){var $=this.__data__;return Qr?void 0!==$[N]:Rt.call($,N)},ut.prototype.set=function(N,$){var ie=this.__data__;return this.size+=this.has(N)?0:1,ie[N]=Qr&&void 0===$?o:$,this},wi.prototype.clear=function(){this.__data__=[],this.size=0},wi.prototype.delete=function(N){var $=this.__data__,ie=Xt($,N);return!(ie<0||(ie==$.length-1?$.pop():Zt.call($,ie,1),--this.size,0))},wi.prototype.get=function(N){var $=this.__data__,ie=Xt($,N);return ie<0?void 0:$[ie][1]},wi.prototype.has=function(N){return Xt(this.__data__,N)>-1},wi.prototype.set=function(N,$){var ie=this.__data__,Te=Xt(ie,N);return Te<0?(++this.size,ie.push([N,$])):ie[Te][1]=$,this},ct.prototype.clear=function(){this.size=0,this.__data__={hash:new ut,map:new(_r||wi),string:new ut}},ct.prototype.delete=function(N){var $=lo(this,N).delete(N);return this.size-=$?1:0,$},ct.prototype.get=function(N){return lo(this,N).get(N)},ct.prototype.has=function(N){return lo(this,N).has(N)},ct.prototype.set=function(N,$){var ie=lo(this,N),Te=ie.size;return ie.set(N,$),this.size+=ie.size==Te?0:1,this},yr.prototype.add=yr.prototype.push=function(N){return this.__data__.set(N,o),this},yr.prototype.has=function(N){return this.__data__.has(N)},X.prototype.clear=function(){this.__data__=new wi,this.size=0},X.prototype.delete=function(N){var $=this.__data__,ie=$.delete(N);return this.size=$.size,ie},X.prototype.get=function(N){return this.__data__.get(N)},X.prototype.has=function(N){return this.__data__.has(N)},X.prototype.set=function(N,$){var ie=this.__data__;if(ie instanceof wi){var Te=ie.__data__;if(!_r||Te.length<199)return Te.push([N,$]),this.size=++ie.size,this;ie=this.__data__=new ct(Te)}return ie.set(N,$),this.size=ie.size,this};var Fd=Un?function(N){return null==N?[]:(N=Object(N),function(N,$){for(var ie=-1,Te=null==N?0:N.length,an=0,Bt=[];++ie<Te;){var En=N[ie];$(En)&&(Bt[an++]=En)}return Bt}(Un(N),function($){return gs.call(N,$)}))}:function(){return[]},co=vt;function ef(N,$){return!!($=null==$?Re:$)&&("number"==typeof N||zt.test(N))&&N>-1&&N%1==0&&N<$}function Gn(N){if(null!=N){try{return zn.call(N)}catch($){}try{return N+""}catch($){}}return""}function Ql(N,$){return N===$||N!=N&&$!=$}(Mr&&co(new Mr(new ArrayBuffer(1)))!=oe||_r&&co(new _r)!=ye||cl&&co(cl.resolve())!=Me||So&&co(new So)!=et||aa&&co(new aa)!=Lt)&&(co=function(N){var $=vt(N),ie=$==Ge?N.constructor:void 0,Te=ie?Gn(ie):"";if(Te)switch(Te){case rn:return oe;case ri:return ye;case Zs:return Me;case Yl:return et;case vs:return Lt}return $});var Mo=Gt(function(){return arguments}())?Gt:function(N){return uo(N)&&Rt.call(N,"callee")&&!gs.call(N,"callee")},Ys=Array.isArray,rr=oa||function(){return!1};function ko(N){if(!Ic(N))return!1;var $=vt(N);return $==te||"[object GeneratorFunction]"==$||"[object AsyncFunction]"==$||"[object Proxy]"==$}function Oo(N){return"number"==typeof N&&N>-1&&N%1==0&&N<=Re}function Ic(N){var $=typeof N;return null!=N&&("object"==$||"function"==$)}function uo(N){return null!=N&&"object"==typeof N}var Da=Hi?function(N){return function($){return N($)}}(Hi):function(N){return uo(N)&&Oo(N.length)&&!!Tt[vt(N)]};function Pr(N){return function(N){return null!=N&&Oo(N.length)&&!ko(N)}(N)?function(N,$){var ie=Ys(N),Te=!ie&&Mo(N),an=!ie&&!Te&&rr(N),Bt=!ie&&!Te&&!an&&Da(N),En=ie||Te||an||Bt,en=En?function(N,$){for(var ie=-1,Te=Array(N);++ie<N;)Te[ie]=$(ie);return Te}(N.length,String):[],xn=en.length;for(var yn in N)($||Rt.call(N,yn))&&(!En||!("length"==yn||an&&("offset"==yn||"parent"==yn)||Bt&&("buffer"==yn||"byteLength"==yn||"byteOffset"==yn)||ef(yn,xn)))&&en.push(yn);return en}(N):function(N){if(!function(N){var $=N&&N.constructor;return N===("function"==typeof $&&$.prototype||Ir)}(N))return ys(N);var $=[];for(var ie in Object(N))Rt.call(N,ie)&&"constructor"!=ie&&$.push(ie);return $}(N)}st.exports=function(N,$){return Rr(N,$)}},5822:(st,Ie,G)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const V=G(9893),o=G(8222);var pe,De;(De=pe||(pe={})).compose=function(fe={},xe={},J=!1){"object"!=typeof fe&&(fe={}),"object"!=typeof xe&&(xe={});let te=V(xe);J||(te=Object.keys(te).reduce((Ne,ye)=>(null!=te[ye]&&(Ne[ye]=te[ye]),Ne),{}));for(const Ne in fe)void 0!==fe[Ne]&&void 0===xe[Ne]&&(te[Ne]=fe[Ne]);return Object.keys(te).length>0?te:void 0},De.diff=function(fe={},xe={}){"object"!=typeof fe&&(fe={}),"object"!=typeof xe&&(xe={});const J=Object.keys(fe).concat(Object.keys(xe)).reduce((te,Ne)=>(o(fe[Ne],xe[Ne])||(te[Ne]=void 0===xe[Ne]?null:xe[Ne]),te),{});return Object.keys(J).length>0?J:void 0},De.invert=function(fe={},xe={}){fe=fe||{};const J=Object.keys(xe).reduce((te,Ne)=>(xe[Ne]!==fe[Ne]&&void 0!==fe[Ne]&&(te[Ne]=xe[Ne]),te),{});return Object.keys(fe).reduce((te,Ne)=>(fe[Ne]!==xe[Ne]&&void 0===xe[Ne]&&(te[Ne]=null),te),J)},De.transform=function(fe,xe,J=!1){if("object"!=typeof fe)return xe;if("object"!=typeof xe)return;if(!J)return xe;const te=Object.keys(xe).reduce((Ne,ye)=>(void 0===fe[ye]&&(Ne[ye]=xe[ye]),Ne),{});return Object.keys(te).length>0?te:void 0},Ie.default=pe},9965:(st,Ie,G)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.AttributeMap=Ie.OpIterator=Ie.Op=void 0;const V=G(7385),o=G(9893),pe=G(8222),De=G(5822);Ie.AttributeMap=De.default;const Re=G(1233);Ie.Op=Re.default;const Se=G(8489);Ie.OpIterator=Se.default;const Oe=String.fromCharCode(0),ue=(xe,J)=>{if("object"!=typeof xe||null===xe)throw new Error("cannot retain a "+typeof xe);if("object"!=typeof J||null===J)throw new Error("cannot retain a "+typeof J);const te=Object.keys(xe)[0];if(!te||te!==Object.keys(J)[0])throw new Error(`embed types not matched: ${te} != ${Object.keys(J)[0]}`);return[te,xe[te],J[te]]};class fe{constructor(J){this.ops=Array.isArray(J)?J:null!=J&&Array.isArray(J.ops)?J.ops:[]}static registerEmbed(J,te){this.handlers[J]=te}static unregisterEmbed(J){delete this.handlers[J]}static getHandler(J){const te=this.handlers[J];if(!te)throw new Error(`no handlers for embed type "${J}"`);return te}insert(J,te){const Ne={};return"string"==typeof J&&0===J.length?this:(Ne.insert=J,null!=te&&"object"==typeof te&&Object.keys(te).length>0&&(Ne.attributes=te),this.push(Ne))}delete(J){return J<=0?this:this.push({delete:J})}retain(J,te){if("number"==typeof J&&J<=0)return this;const Ne={retain:J};return null!=te&&"object"==typeof te&&Object.keys(te).length>0&&(Ne.attributes=te),this.push(Ne)}push(J){let te=this.ops.length,Ne=this.ops[te-1];if(J=o(J),"object"==typeof Ne){if("number"==typeof J.delete&&"number"==typeof Ne.delete)return this.ops[te-1]={delete:Ne.delete+J.delete},this;if("number"==typeof Ne.delete&&null!=J.insert&&(te-=1,Ne=this.ops[te-1],"object"!=typeof Ne))return this.ops.unshift(J),this;if(pe(J.attributes,Ne.attributes)){if("string"==typeof J.insert&&"string"==typeof Ne.insert)return this.ops[te-1]={insert:Ne.insert+J.insert},"object"==typeof J.attributes&&(this.ops[te-1].attributes=J.attributes),this;if("number"==typeof J.retain&&"number"==typeof Ne.retain)return this.ops[te-1]={retain:Ne.retain+J.retain},"object"==typeof J.attributes&&(this.ops[te-1].attributes=J.attributes),this}}return te===this.ops.length?this.ops.push(J):this.ops.splice(te,0,J),this}chop(){const J=this.ops[this.ops.length-1];return J&&"number"==typeof J.retain&&!J.attributes&&this.ops.pop(),this}filter(J){return this.ops.filter(J)}forEach(J){this.ops.forEach(J)}map(J){return this.ops.map(J)}partition(J){const te=[],Ne=[];return this.forEach(ye=>{(J(ye)?te:Ne).push(ye)}),[te,Ne]}reduce(J,te){return this.ops.reduce(J,te)}changeLength(){return this.reduce((J,te)=>te.insert?J+Re.default.length(te):te.delete?J-te.delete:J,0)}length(){return this.reduce((J,te)=>J+Re.default.length(te),0)}slice(J=0,te=1/0){const Ne=[],ye=new Se.default(this.ops);let We=0;for(;We<te&&ye.hasNext();){let nt;We<J?nt=ye.next(J-We):(nt=ye.next(te-We),Ne.push(nt)),We+=Re.default.length(nt)}return new fe(Ne)}compose(J){const te=new Se.default(this.ops),Ne=new Se.default(J.ops),ye=[],We=Ne.peek();if(null!=We&&"number"==typeof We.retain&&null==We.attributes){let Ge=We.retain;for(;"insert"===te.peekType()&&te.peekLength()<=Ge;)Ge-=te.peekLength(),ye.push(te.next());We.retain-Ge>0&&Ne.next(We.retain-Ge)}const nt=new fe(ye);for(;te.hasNext()||Ne.hasNext();)if("insert"===Ne.peekType())nt.push(Ne.next());else if("delete"===te.peekType())nt.push(te.next());else{const Ge=Math.min(te.peekLength(),Ne.peekLength()),Me=te.next(Ge),je=Ne.next(Ge);if(je.retain){const Ke={};if("number"==typeof Me.retain)Ke.retain="number"==typeof je.retain?Ge:je.retain;else if("number"==typeof je.retain)null==Me.retain?Ke.insert=Me.insert:Ke.retain=Me.retain;else{const _t=null==Me.retain?"insert":"retain",[Qe,pt,Lt]=ue(Me[_t],je.retain),ne=fe.getHandler(Qe);Ke[_t]={[Qe]:ne.compose(pt,Lt,"retain"===_t)}}const et=De.default.compose(Me.attributes,je.attributes,"number"==typeof Me.retain);if(et&&(Ke.attributes=et),nt.push(Ke),!Ne.hasNext()&&pe(nt.ops[nt.ops.length-1],Ke)){const _t=new fe(te.rest());return nt.concat(_t).chop()}}else"number"==typeof je.delete&&("number"==typeof Me.retain||"object"==typeof Me.retain&&null!==Me.retain)&&nt.push(je)}return nt.chop()}concat(J){const te=new fe(this.ops.slice());return J.ops.length>0&&(te.push(J.ops[0]),te.ops=te.ops.concat(J.ops.slice(1))),te}diff(J,te){if(this.ops===J.ops)return new fe;const Ne=[this,J].map(Me=>Me.map(je=>{if(null!=je.insert)return"string"==typeof je.insert?je.insert:Oe;throw new Error("diff() called "+(Me===J?"on":"with")+" non-document")}).join("")),ye=new fe,We=V(Ne[0],Ne[1],te,!0),nt=new Se.default(this.ops),Ge=new Se.default(J.ops);return We.forEach(Me=>{let je=Me[1].length;for(;je>0;){let Ke=0;switch(Me[0]){case V.INSERT:Ke=Math.min(Ge.peekLength(),je),ye.push(Ge.next(Ke));break;case V.DELETE:Ke=Math.min(je,nt.peekLength()),nt.next(Ke),ye.delete(Ke);break;case V.EQUAL:Ke=Math.min(nt.peekLength(),Ge.peekLength(),je);const et=nt.next(Ke),_t=Ge.next(Ke);pe(et.insert,_t.insert)?ye.retain(Ke,De.default.diff(et.attributes,_t.attributes)):ye.push(_t).delete(Ke)}je-=Ke}}),ye.chop()}eachLine(J,te="\n"){const Ne=new Se.default(this.ops);let ye=new fe,We=0;for(;Ne.hasNext();){if("insert"!==Ne.peekType())return;const nt=Ne.peek(),Ge=Re.default.length(nt)-Ne.peekLength(),Me="string"==typeof nt.insert?nt.insert.indexOf(te,Ge)-Ge:-1;if(Me<0)ye.push(Ne.next());else if(Me>0)ye.push(Ne.next(Me));else{if(!1===J(ye,Ne.next(1).attributes||{},We))return;We+=1,ye=new fe}}ye.length()>0&&J(ye,{},We)}invert(J){const te=new fe;return this.reduce((Ne,ye)=>{if(ye.insert)te.delete(Re.default.length(ye));else{if("number"==typeof ye.retain&&null==ye.attributes)return te.retain(ye.retain),Ne+ye.retain;if(ye.delete||"number"==typeof ye.retain){const We=ye.delete||ye.retain;return J.slice(Ne,Ne+We).forEach(Ge=>{ye.delete?te.push(Ge):ye.retain&&ye.attributes&&te.retain(Re.default.length(Ge),De.default.invert(ye.attributes,Ge.attributes))}),Ne+We}if("object"==typeof ye.retain&&null!==ye.retain){const We=J.slice(Ne,Ne+1),nt=new Se.default(We.ops).next(),[Ge,Me,je]=ue(ye.retain,nt.insert),Ke=fe.getHandler(Ge);return te.retain({[Ge]:Ke.invert(Me,je)},De.default.invert(ye.attributes,nt.attributes)),Ne+1}}return Ne},0),te.chop()}transform(J,te=!1){if(te=!!te,"number"==typeof J)return this.transformPosition(J,te);const Ne=J,ye=new Se.default(this.ops),We=new Se.default(Ne.ops),nt=new fe;for(;ye.hasNext()||We.hasNext();)if("insert"!==ye.peekType()||!te&&"insert"===We.peekType())if("insert"===We.peekType())nt.push(We.next());else{const Ge=Math.min(ye.peekLength(),We.peekLength()),Me=ye.next(Ge),je=We.next(Ge);if(Me.delete)continue;if(je.delete)nt.push(je);else{const Ke=Me.retain,et=je.retain;let _t="object"==typeof et&&null!==et?et:Ge;if("object"==typeof Ke&&null!==Ke&&"object"==typeof et&&null!==et){const Qe=Object.keys(Ke)[0];if(Qe===Object.keys(et)[0]){const pt=fe.getHandler(Qe);pt&&(_t={[Qe]:pt.transform(Ke[Qe],et[Qe],te)})}}nt.retain(_t,De.default.transform(Me.attributes,je.attributes,te))}}else nt.retain(Re.default.length(ye.next()));return nt.chop()}transformPosition(J,te=!1){te=!!te;const Ne=new Se.default(this.ops);let ye=0;for(;Ne.hasNext()&&ye<=J;){const We=Ne.peekLength(),nt=Ne.peekType();Ne.next(),"delete"!==nt?("insert"===nt&&(ye<J||!te)&&(J+=We),ye+=We):J-=Math.min(We,J-ye)}return J}}fe.Op=Re.default,fe.OpIterator=Se.default,fe.AttributeMap=De.default,fe.handlers={},Ie.default=fe,st.exports=fe,st.exports.default=fe},1233:(st,Ie)=>{"use strict";var G;Object.defineProperty(Ie,"__esModule",{value:!0}),(G||(G={})).length=function(pe){return"number"==typeof pe.delete?pe.delete:"number"==typeof pe.retain?pe.retain:"object"==typeof pe.retain&&null!==pe.retain?1:"string"==typeof pe.insert?pe.insert.length:1},Ie.default=G},8489:(st,Ie,G)=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});const V=G(1233);Ie.default=class{constructor(De){this.ops=De,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(De){De||(De=1/0);const Re=this.ops[this.index];if(Re){const Se=this.offset,Oe=V.default.length(Re);if(De>=Oe-Se?(De=Oe-Se,this.index+=1,this.offset=0):this.offset+=De,"number"==typeof Re.delete)return{delete:De};{const ue={};return Re.attributes&&(ue.attributes=Re.attributes),"number"==typeof Re.retain?ue.retain=De:"object"==typeof Re.retain&&null!==Re.retain?ue.retain=Re.retain:ue.insert="string"==typeof Re.insert?Re.insert.substr(Se,De):Re.insert,ue}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?V.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const De=this.ops[this.index];return De?"number"==typeof De.delete?"delete":"number"==typeof De.retain||"object"==typeof De.retain&&null!==De.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const De=this.offset,Re=this.index,Se=this.next(),Oe=this.ops.slice(this.index);return this.offset=De,this.index=Re,[Se].concat(Oe)}}return[]}}},7745:st=>{"use strict";var Ie=Object.prototype.hasOwnProperty,G="~";function V(){}function o(Se,Oe,ue){this.fn=Se,this.context=Oe,this.once=ue||!1}function pe(Se,Oe,ue,fe,xe){if("function"!=typeof ue)throw new TypeError("The listener must be a function");var J=new o(ue,fe||Se,xe),te=G?G+Oe:Oe;return Se._events[te]?Se._events[te].fn?Se._events[te]=[Se._events[te],J]:Se._events[te].push(J):(Se._events[te]=J,Se._eventsCount++),Se}function De(Se,Oe){0==--Se._eventsCount?Se._events=new V:delete Se._events[Oe]}function Re(){this._events=new V,this._eventsCount=0}Object.create&&(V.prototype=Object.create(null),(new V).__proto__||(G=!1)),Re.prototype.eventNames=function(){var ue,fe,Oe=[];if(0===this._eventsCount)return Oe;for(fe in ue=this._events)Ie.call(ue,fe)&&Oe.push(G?fe.slice(1):fe);return Object.getOwnPropertySymbols?Oe.concat(Object.getOwnPropertySymbols(ue)):Oe},Re.prototype.listeners=function(Oe){var fe=this._events[G?G+Oe:Oe];if(!fe)return[];if(fe.fn)return[fe.fn];for(var xe=0,J=fe.length,te=new Array(J);xe<J;xe++)te[xe]=fe[xe].fn;return te},Re.prototype.listenerCount=function(Oe){var fe=this._events[G?G+Oe:Oe];return fe?fe.fn?1:fe.length:0},Re.prototype.emit=function(Oe,ue,fe,xe,J,te){var Ne=G?G+Oe:Oe;if(!this._events[Ne])return!1;var nt,Ge,ye=this._events[Ne],We=arguments.length;if(ye.fn){switch(ye.once&&this.removeListener(Oe,ye.fn,void 0,!0),We){case 1:return ye.fn.call(ye.context),!0;case 2:return ye.fn.call(ye.context,ue),!0;case 3:return ye.fn.call(ye.context,ue,fe),!0;case 4:return ye.fn.call(ye.context,ue,fe,xe),!0;case 5:return ye.fn.call(ye.context,ue,fe,xe,J),!0;case 6:return ye.fn.call(ye.context,ue,fe,xe,J,te),!0}for(Ge=1,nt=new Array(We-1);Ge<We;Ge++)nt[Ge-1]=arguments[Ge];ye.fn.apply(ye.context,nt)}else{var je,Me=ye.length;for(Ge=0;Ge<Me;Ge++)switch(ye[Ge].once&&this.removeListener(Oe,ye[Ge].fn,void 0,!0),We){case 1:ye[Ge].fn.call(ye[Ge].context);break;case 2:ye[Ge].fn.call(ye[Ge].context,ue);break;case 3:ye[Ge].fn.call(ye[Ge].context,ue,fe);break;case 4:ye[Ge].fn.call(ye[Ge].context,ue,fe,xe);break;default:if(!nt)for(je=1,nt=new Array(We-1);je<We;je++)nt[je-1]=arguments[je];ye[Ge].fn.apply(ye[Ge].context,nt)}}return!0},Re.prototype.on=function(Oe,ue,fe){return pe(this,Oe,ue,fe,!1)},Re.prototype.once=function(Oe,ue,fe){return pe(this,Oe,ue,fe,!0)},Re.prototype.removeListener=function(Oe,ue,fe,xe){var J=G?G+Oe:Oe;if(!this._events[J])return this;if(!ue)return De(this,J),this;var te=this._events[J];if(te.fn)te.fn===ue&&(!xe||te.once)&&(!fe||te.context===fe)&&De(this,J);else{for(var Ne=0,ye=[],We=te.length;Ne<We;Ne++)(te[Ne].fn!==ue||xe&&!te[Ne].once||fe&&te[Ne].context!==fe)&&ye.push(te[Ne]);ye.length?this._events[J]=1===ye.length?ye[0]:ye:De(this,J)}return this},Re.prototype.removeAllListeners=function(Oe){var ue;return Oe?this._events[ue=G?G+Oe:Oe]&&De(this,ue):(this._events=new V,this._eventsCount=0),this},Re.prototype.off=Re.prototype.removeListener,Re.prototype.addListener=Re.prototype.on,Re.prefixed=G,Re.EventEmitter=Re,st.exports=Re},8306:(st,Ie,G)=>{"use strict";G.d(Ie,{y:()=>xe});var V=G(930),o=G(727),pe=G(8822),De=G(4671);var Oe=G(2416),ue=G(576),fe=G(2806);let xe=(()=>{class ye{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const Ge=new ye;return Ge.source=this,Ge.operator=nt,Ge}subscribe(nt,Ge,Me){const je=function(ye){return ye&&ye instanceof V.Lv||function(ye){return ye&&(0,ue.m)(ye.next)&&(0,ue.m)(ye.error)&&(0,ue.m)(ye.complete)}(ye)&&(0,o.Nn)(ye)}(nt)?nt:new V.Hp(nt,Ge,Me);return(0,fe.x)(()=>{const{operator:Ke,source:et}=this;je.add(Ke?Ke.call(je,et):et?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(nt){try{return this._subscribe(nt)}catch(Ge){nt.error(Ge)}}forEach(nt,Ge){return new(Ge=J(Ge))((Me,je)=>{let Ke;Ke=this.subscribe(et=>{try{nt(et)}catch(_t){je(_t),null==Ke||Ke.unsubscribe()}},je,Me)})}_subscribe(nt){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(nt)}[pe.L](){return this}pipe(...nt){return function(ye){return 0===ye.length?De.y:1===ye.length?ye[0]:function(nt){return ye.reduce((Ge,Me)=>Me(Ge),nt)}}(nt)(this)}toPromise(nt){return new(nt=J(nt))((Ge,Me)=>{let je;this.subscribe(Ke=>je=Ke,Ke=>Me(Ke),()=>Ge(je))})}}return ye.create=We=>new ye(We),ye})();function J(ye){var We;return null!==(We=null!=ye?ye:Oe.v.Promise)&&void 0!==We?We:Promise}},7579:(st,Ie,G)=>{"use strict";G.d(Ie,{x:()=>Oe});var V=G(8306),o=G(727);const De=(0,G(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=G(8737),Se=G(2806);let Oe=(()=>{class fe extends V.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const te=new ue(this,this);return te.operator=J,te}_throwIfClosed(){if(this.closed)throw new De}next(J){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const te=this.observers.slice();for(const Ne of te)Ne.next(J)}})}error(J){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:te}=this;for(;te.length;)te.shift().error(J)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:te,isStopped:Ne,observers:ye}=this;return te||Ne?o.Lc:(ye.push(J),new o.w0(()=>(0,Re.P)(ye,J)))}_checkFinalizedStatuses(J){const{hasError:te,thrownError:Ne,isStopped:ye}=this;te?J.error(Ne):ye&&J.complete()}asObservable(){const J=new V.y;return J.source=this,J}}return fe.create=(xe,J)=>new ue(xe,J),fe})();class ue extends Oe{constructor(xe,J){super(),this.destination=xe,this.source=J}next(xe){var J,te;null===(te=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===te||te.call(J,xe)}error(xe){var J,te;null===(te=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===te||te.call(J,xe)}complete(){var xe,J;null===(J=null===(xe=this.destination)||void 0===xe?void 0:xe.complete)||void 0===J||J.call(xe)}_subscribe(xe){var J,te;return null!==(te=null===(J=this.source)||void 0===J?void 0:J.subscribe(xe))&&void 0!==te?te:o.Lc}}},930:(st,Ie,G)=>{"use strict";G.d(Ie,{Hp:()=>Ne,Lv:()=>te});var V=G(576),o=G(727),pe=G(2416),De=G(7849),Re=G(5032);const Se=fe("C",void 0,void 0);function fe(Me,je,Ke){return{kind:Me,value:je,error:Ke}}var xe=G(3410),J=G(2806);class te extends o.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,o.Nn)(je)&&je.add(this)):this.destination=Ge}static create(je,Ke,et){return new Ne(je,Ke,et)}next(je){this.isStopped?nt(fe("N",je,void 0),this):this._next(je)}error(je){this.isStopped?nt(fe("E",void 0,je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?nt(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ne extends te{constructor(je,Ke,et){let _t;if(super(),(0,V.m)(je))_t=je;else if(je){let Qe;({next:_t,error:Ke,complete:et}=je),this&&pe.v.useDeprecatedNextContext?(Qe=Object.create(je),Qe.unsubscribe=()=>this.unsubscribe()):Qe=je,_t=null==_t?void 0:_t.bind(Qe),Ke=null==Ke?void 0:Ke.bind(Qe),et=null==et?void 0:et.bind(Qe)}this.destination={next:_t?ye(_t):Re.Z,error:ye(null!=Ke?Ke:We),complete:et?ye(et):Re.Z}}}function ye(Me,je){return(...Ke)=>{try{Me(...Ke)}catch(et){pe.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(et):(0,De.h)(et)}}}function We(Me){throw Me}function nt(Me,je){const{onStoppedNotification:Ke}=pe.v;Ke&&xe.z.setTimeout(()=>Ke(Me,je))}const Ge={closed:!0,next:Re.Z,error:We,complete:Re.Z}},727:(st,Ie,G)=>{"use strict";G.d(Ie,{Lc:()=>Se,w0:()=>Re,Nn:()=>Oe});var V=G(576);const pe=(0,G(3888).d)(fe=>function(J){fe(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((te,Ne)=>`${Ne+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var De=G(8737);class Re{constructor(xe){this.initialTeardown=xe,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let xe;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const ye of J)ye.remove(this);else J.remove(this);const{initialTeardown:te}=this;if((0,V.m)(te))try{te()}catch(ye){xe=ye instanceof pe?ye.errors:[ye]}const{_teardowns:Ne}=this;if(Ne){this._teardowns=null;for(const ye of Ne)try{ue(ye)}catch(We){xe=null!=xe?xe:[],We instanceof pe?xe=[...xe,...We.errors]:xe.push(We)}}if(xe)throw new pe(xe)}}add(xe){var J;if(xe&&xe!==this)if(this.closed)ue(xe);else{if(xe instanceof Re){if(xe.closed||xe._hasParent(this))return;xe._addParent(this)}(this._teardowns=null!==(J=this._teardowns)&&void 0!==J?J:[]).push(xe)}}_hasParent(xe){const{_parentage:J}=this;return J===xe||Array.isArray(J)&&J.includes(xe)}_addParent(xe){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(xe),J):J?[J,xe]:xe}_removeParent(xe){const{_parentage:J}=this;J===xe?this._parentage=null:Array.isArray(J)&&(0,De.P)(J,xe)}remove(xe){const{_teardowns:J}=this;J&&(0,De.P)(J,xe),xe instanceof Re&&xe._removeParent(this)}}Re.EMPTY=(()=>{const fe=new Re;return fe.closed=!0,fe})();const Se=Re.EMPTY;function Oe(fe){return fe instanceof Re||fe&&"closed"in fe&&(0,V.m)(fe.remove)&&(0,V.m)(fe.add)&&(0,V.m)(fe.unsubscribe)}function ue(fe){(0,V.m)(fe)?fe():fe.unsubscribe()}},2416:(st,Ie,G)=>{"use strict";G.d(Ie,{v:()=>V});const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ie,G)=>{"use strict";G.d(Ie,{E:()=>o});const o=new(G(8306).y)(Re=>Re.complete())},8996:(st,Ie,G)=>{"use strict";G.d(Ie,{D:()=>_t});var V=G(8421),o=G(5363),pe=G(9468),Se=G(8306),ue=G(2202),fe=G(576),xe=G(9672);function te(Qe,pt){if(!Qe)throw new Error("Iterable cannot be null");return new Se.y(Lt=>{(0,xe.f)(Lt,pt,()=>{const ne=Qe[Symbol.asyncIterator]();(0,xe.f)(Lt,pt,()=>{ne.next().then(oe=>{oe.done?Lt.complete():Lt.next(oe.value)})},0,!0)})})}var Ne=G(3670),ye=G(8239),We=G(1144),nt=G(6495),Ge=G(2206),Me=G(4532),je=G(3260);function _t(Qe,pt){return pt?function(Qe,pt){if(null!=Qe){if((0,Ne.c)(Qe))return function(Qe,pt){return(0,V.Xf)(Qe).pipe((0,pe.R)(pt),(0,o.Q)(pt))}(Qe,pt);if((0,We.z)(Qe))return function(Qe,pt){return new Se.y(Lt=>{let ne=0;return pt.schedule(function(){ne===Qe.length?Lt.complete():(Lt.next(Qe[ne++]),Lt.closed||this.schedule())})})}(Qe,pt);if((0,ye.t)(Qe))return function(Qe,pt){return(0,V.Xf)(Qe).pipe((0,pe.R)(pt),(0,o.Q)(pt))}(Qe,pt);if((0,Ge.D)(Qe))return te(Qe,pt);if((0,nt.T)(Qe))return function(Qe,pt){return new Se.y(Lt=>{let ne;return(0,xe.f)(Lt,pt,()=>{ne=Qe[ue.h](),(0,xe.f)(Lt,pt,()=>{let oe,Q;try{({value:oe,done:Q}=ne.next())}catch(ge){return void Lt.error(ge)}Q?Lt.complete():Lt.next(oe)},0,!0)}),()=>(0,fe.m)(null==ne?void 0:ne.return)&&ne.return()})}(Qe,pt);if((0,je.L)(Qe))return function(Qe,pt){return te((0,je.Q)(Qe),pt)}(Qe,pt)}throw(0,Me.z)(Qe)}(Qe,pt):(0,V.Xf)(Qe)}},8421:(st,Ie,G)=>{"use strict";G.d(Ie,{Xf:()=>Ne});var V=G(5987),o=G(1144),pe=G(8239),De=G(8306),Re=G(3670),Se=G(2206),Oe=G(4532),ue=G(6495),fe=G(3260),xe=G(576),J=G(7849),te=G(8822);function Ne(et){if(et instanceof De.y)return et;if(null!=et){if((0,Re.c)(et))return function(et){return new De.y(_t=>{const Qe=et[te.L]();if((0,xe.m)(Qe.subscribe))return Qe.subscribe(_t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(et);if((0,o.z)(et))return function(et){return new De.y(_t=>{for(let Qe=0;Qe<et.length&&!_t.closed;Qe++)_t.next(et[Qe]);_t.complete()})}(et);if((0,pe.t)(et))return function(et){return new De.y(_t=>{et.then(Qe=>{_t.closed||(_t.next(Qe),_t.complete())},Qe=>_t.error(Qe)).then(null,J.h)})}(et);if((0,Se.D)(et))return Me(et);if((0,ue.T)(et))return function(et){return new De.y(_t=>{for(const Qe of et)if(_t.next(Qe),_t.closed)return;_t.complete()})}(et);if((0,fe.L)(et))return function(et){return Me((0,fe.Q)(et))}(et)}throw(0,Oe.z)(et)}function Me(et){return new De.y(_t=>{(function(et,_t){var Qe,pt,Lt,ne;return(0,V.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,V.KL)(et);!(pt=yield Qe.next()).done;)if(_t.next(pt.value),_t.closed)return}catch(oe){Lt={error:oe}}finally{try{pt&&!pt.done&&(ne=Qe.return)&&(yield ne.call(Qe))}finally{if(Lt)throw Lt.error}}_t.complete()})})(et,_t).catch(Qe=>_t.error(Qe))})}},6451:(st,Ie,G)=>{"use strict";G.d(Ie,{T:()=>Se});var V=G(8189),o=G(8421),pe=G(515),De=G(3269),Re=G(8996);function Se(...Oe){const ue=(0,De.yG)(Oe),fe=(0,De._6)(Oe,1/0),xe=Oe;return xe.length?1===xe.length?(0,o.Xf)(xe[0]):(0,V.J)(fe)((0,Re.D)(xe,ue)):pe.E}},5403:(st,Ie,G)=>{"use strict";G.d(Ie,{Q:()=>o});var V=G(930);class o extends V.Lv{constructor(De,Re,Se,Oe,ue){super(De),this.onFinalize=ue,this._next=Re?function(fe){try{Re(fe)}catch(xe){De.error(xe)}}:super._next,this._error=Oe?function(fe){try{Oe(fe)}catch(xe){De.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(fe){De.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;const{closed:Re}=this;super.unsubscribe(),!Re&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}},4004:(st,Ie,G)=>{"use strict";G.d(Ie,{U:()=>pe});var V=G(4482),o=G(5403);function pe(De,Re){return(0,V.e)((Se,Oe)=>{let ue=0;Se.subscribe(new o.Q(Oe,fe=>{Oe.next(De.call(Re,fe,ue++))}))})}},8189:(st,Ie,G)=>{"use strict";G.d(Ie,{J:()=>pe});var V=G(5577),o=G(4671);function pe(De=1/0){return(0,V.z)(o.y,De)}},5577:(st,Ie,G)=>{"use strict";G.d(Ie,{z:()=>ue});var V=G(4004),o=G(8421),pe=G(4482),Re=(G(9672),G(5403)),Oe=G(576);function ue(fe,xe,J=1/0){return(0,Oe.m)(xe)?ue((te,Ne)=>(0,V.U)((ye,We)=>xe(te,ye,Ne,We))((0,o.Xf)(fe(te,Ne))),J):("number"==typeof xe&&(J=xe),(0,pe.e)((te,Ne)=>function(fe,xe,J,te,Ne,ye,We,nt){const Ge=[];let Me=0,je=0,Ke=!1;const et=()=>{Ke&&!Ge.length&&!Me&&xe.complete()},_t=pt=>Me<te?Qe(pt):Ge.push(pt),Qe=pt=>{Me++;let Lt=!1;(0,o.Xf)(J(pt,je++)).subscribe(new Re.Q(xe,ne=>{xe.next(ne)},()=>{Lt=!0},void 0,()=>{if(Lt)try{for(Me--;Ge.length&&Me<te;){const ne=Ge.shift();Qe(ne)}et()}catch(ne){xe.error(ne)}}))};return fe.subscribe(new Re.Q(xe,_t,()=>{Ke=!0,et()})),()=>{}}(te,Ne,fe,J)))}},5363:(st,Ie,G)=>{"use strict";G.d(Ie,{Q:()=>De});var V=G(9672),o=G(4482),pe=G(5403);function De(Re,Se=0){return(0,o.e)((Oe,ue)=>{Oe.subscribe(new pe.Q(ue,fe=>(0,V.f)(ue,Re,()=>ue.next(fe),Se),()=>(0,V.f)(ue,Re,()=>ue.complete(),Se),fe=>(0,V.f)(ue,Re,()=>ue.error(fe),Se)))})}},3099:(st,Ie,G)=>{"use strict";G.d(Ie,{B:()=>Se});var V=G(8996),o=G(5698),pe=G(7579),De=G(930),Re=G(4482);function Se(ue={}){const{connector:fe=(()=>new pe.x),resetOnError:xe=!0,resetOnComplete:J=!0,resetOnRefCountZero:te=!0}=ue;return Ne=>{let ye=null,We=null,nt=null,Ge=0,Me=!1,je=!1;const Ke=()=>{null==We||We.unsubscribe(),We=null},et=()=>{Ke(),ye=nt=null,Me=je=!1},_t=()=>{const Qe=ye;et(),null==Qe||Qe.unsubscribe()};return(0,Re.e)((Qe,pt)=>{Ge++,!je&&!Me&&Ke();const Lt=nt=null!=nt?nt:fe();pt.add(()=>{Ge--,0===Ge&&!je&&!Me&&(We=Oe(_t,te))}),Lt.subscribe(pt),ye||(ye=new De.Hp({next:ne=>Lt.next(ne),error:ne=>{je=!0,Ke(),We=Oe(et,xe,ne),Lt.error(ne)},complete:()=>{Me=!0,Ke(),We=Oe(et,J),Lt.complete()}}),(0,V.D)(Qe).subscribe(ye))})(Ne)}}function Oe(ue,fe,...xe){return!0===fe?(ue(),null):!1===fe?null:fe(...xe).pipe((0,o.q)(1)).subscribe(()=>ue())}},9468:(st,Ie,G)=>{"use strict";G.d(Ie,{R:()=>o});var V=G(4482);function o(pe,De=0){return(0,V.e)((Re,Se)=>{Se.add(pe.schedule(()=>Re.subscribe(Se),De))})}},5698:(st,Ie,G)=>{"use strict";G.d(Ie,{q:()=>De});var V=G(515),o=G(4482),pe=G(5403);function De(Re){return Re<=0?()=>V.E:(0,o.e)((Se,Oe)=>{let ue=0;Se.subscribe(new pe.Q(Oe,fe=>{++ue<=Re&&(Oe.next(fe),Re<=ue&&Oe.complete())}))})}},8505:(st,Ie,G)=>{"use strict";G.d(Ie,{b:()=>Re});var V=G(576),o=G(4482),pe=G(5403),De=G(4671);function Re(Se,Oe,ue){const fe=(0,V.m)(Se)||Oe||ue?{next:Se,error:Oe,complete:ue}:Se;return fe?(0,o.e)((xe,J)=>{var te;null===(te=fe.subscribe)||void 0===te||te.call(fe);let Ne=!0;xe.subscribe(new pe.Q(J,ye=>{var We;null===(We=fe.next)||void 0===We||We.call(fe,ye),J.next(ye)},()=>{var ye;Ne=!1,null===(ye=fe.complete)||void 0===ye||ye.call(fe),J.complete()},ye=>{var We;Ne=!1,null===(We=fe.error)||void 0===We||We.call(fe,ye),J.error(ye)},()=>{var ye,We;Ne&&(null===(ye=fe.unsubscribe)||void 0===ye||ye.call(fe)),null===(We=fe.finalize)||void 0===We||We.call(fe)}))}):De.y}},4408:(st,Ie,G)=>{"use strict";G.d(Ie,{o:()=>Re});var V=G(727);class o extends V.w0{constructor(Oe,ue){super()}schedule(Oe,ue=0){return this}}const pe={setInterval(...Se){const{delegate:Oe}=pe;return((null==Oe?void 0:Oe.setInterval)||setInterval)(...Se)},clearInterval(Se){const{delegate:Oe}=pe;return((null==Oe?void 0:Oe.clearInterval)||clearInterval)(Se)},delegate:void 0};var De=G(8737);class Re extends o{constructor(Oe,ue){super(Oe,ue),this.scheduler=Oe,this.work=ue,this.pending=!1}schedule(Oe,ue=0){if(this.closed)return this;this.state=Oe;const fe=this.id,xe=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(xe,fe,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(xe,this.id,ue),this}requestAsyncId(Oe,ue,fe=0){return pe.setInterval(Oe.flush.bind(Oe,this),fe)}recycleAsyncId(Oe,ue,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return ue;pe.clearInterval(ue)}execute(Oe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(Oe,ue);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,ue){let xe,fe=!1;try{this.work(Oe)}catch(J){fe=!0,xe=J||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),xe}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:ue}=this,{actions:fe}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(fe,this),null!=Oe&&(this.id=this.recycleAsyncId(ue,Oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ie,G)=>{"use strict";G.d(Ie,{v:()=>pe});var V=G(6063);class o{constructor(Re,Se=o.now){this.schedulerActionCtor=Re,this.now=Se}schedule(Re,Se=0,Oe){return new this.schedulerActionCtor(this,Re).schedule(Oe,Se)}}o.now=V.l.now;class pe extends o{constructor(Re,Se=o.now){super(Re,Se),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Re){const{actions:Se}=this;if(this._active)return void Se.push(Re);let Oe;this._active=!0;do{if(Oe=Re.execute(Re.state,Re.delay))break}while(Re=Se.shift());if(this._active=!1,Oe){for(;Re=Se.shift();)Re.unsubscribe();throw Oe}}}},4986:(st,Ie,G)=>{"use strict";G.d(Ie,{z:()=>pe,P:()=>De});var V=G(4408);const pe=new(G(7565).v)(V.o),De=pe},6063:(st,Ie,G)=>{"use strict";G.d(Ie,{l:()=>V});const V={now:()=>(V.delegate||Date).now(),delegate:void 0}},3410:(st,Ie,G)=>{"use strict";G.d(Ie,{z:()=>V});const V={setTimeout(...o){const{delegate:pe}=V;return((null==pe?void 0:pe.setTimeout)||setTimeout)(...o)},clearTimeout(o){const{delegate:pe}=V;return((null==pe?void 0:pe.clearTimeout)||clearTimeout)(o)},delegate:void 0}},2202:(st,Ie,G)=>{"use strict";G.d(Ie,{h:()=>o});const o="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(st,Ie,G)=>{"use strict";G.d(Ie,{L:()=>V});const V="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ie,G)=>{"use strict";G.d(Ie,{jO:()=>De,yG:()=>Re,_6:()=>Se});var V=G(576),o=G(3532);function pe(Oe){return Oe[Oe.length-1]}function De(Oe){return(0,V.m)(pe(Oe))?Oe.pop():void 0}function Re(Oe){return(0,o.K)(pe(Oe))?Oe.pop():void 0}function Se(Oe,ue){return"number"==typeof pe(Oe)?Oe.pop():ue}},8737:(st,Ie,G)=>{"use strict";function V(o,pe){if(o){const De=o.indexOf(pe);0<=De&&o.splice(De,1)}}G.d(Ie,{P:()=>V})},3888:(st,Ie,G)=>{"use strict";function V(o){const De=o(Re=>{Error.call(Re),Re.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}G.d(Ie,{d:()=>V})},2806:(st,Ie,G)=>{"use strict";G.d(Ie,{x:()=>pe,O:()=>De});var V=G(2416);let o=null;function pe(Re){if(V.v.useDeprecatedSynchronousErrorHandling){const Se=!o;if(Se&&(o={errorThrown:!1,error:null}),Re(),Se){const{errorThrown:Oe,error:ue}=o;if(o=null,Oe)throw ue}}else Re()}function De(Re){V.v.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=Re)}},9672:(st,Ie,G)=>{"use strict";function V(o,pe,De,Re=0,Se=!1){const Oe=pe.schedule(function(){De(),Se?o.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(o.add(Oe),!Se)return Oe}G.d(Ie,{f:()=>V})},4671:(st,Ie,G)=>{"use strict";function V(o){return o}G.d(Ie,{y:()=>V})},1144:(st,Ie,G)=>{"use strict";G.d(Ie,{z:()=>V});const V=o=>o&&"number"==typeof o.length&&"function"!=typeof o},2206:(st,Ie,G)=>{"use strict";G.d(Ie,{D:()=>o});var V=G(576);function o(pe){return Symbol.asyncIterator&&(0,V.m)(null==pe?void 0:pe[Symbol.asyncIterator])}},576:(st,Ie,G)=>{"use strict";function V(o){return"function"==typeof o}G.d(Ie,{m:()=>V})},3670:(st,Ie,G)=>{"use strict";G.d(Ie,{c:()=>pe});var V=G(8822),o=G(576);function pe(De){return(0,o.m)(De[V.L])}},6495:(st,Ie,G)=>{"use strict";G.d(Ie,{T:()=>pe});var V=G(2202),o=G(576);function pe(De){return(0,o.m)(null==De?void 0:De[V.h])}},8239:(st,Ie,G)=>{"use strict";G.d(Ie,{t:()=>o});var V=G(576);function o(pe){return(0,V.m)(null==pe?void 0:pe.then)}},3260:(st,Ie,G)=>{"use strict";G.d(Ie,{Q:()=>pe,L:()=>De});var V=G(5987),o=G(576);function pe(Re){return(0,V.FC)(this,arguments,function*(){const Oe=Re.getReader();try{for(;;){const{value:ue,done:fe}=yield(0,V.qq)(Oe.read());if(fe)return yield(0,V.qq)(void 0);yield yield(0,V.qq)(ue)}}finally{Oe.releaseLock()}})}function De(Re){return(0,o.m)(null==Re?void 0:Re.getReader)}},3532:(st,Ie,G)=>{"use strict";G.d(Ie,{K:()=>o});var V=G(576);function o(pe){return pe&&(0,V.m)(pe.schedule)}},4482:(st,Ie,G)=>{"use strict";G.d(Ie,{A:()=>o,e:()=>pe});var V=G(576);function o(De){return(0,V.m)(null==De?void 0:De.lift)}function pe(De){return Re=>{if(o(Re))return Re.lift(function(Se){try{return De(Se,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ie,G)=>{"use strict";function V(){}G.d(Ie,{Z:()=>V})},7849:(st,Ie,G)=>{"use strict";G.d(Ie,{h:()=>pe});var V=G(2416),o=G(3410);function pe(De){o.z.setTimeout(()=>{const{onUnhandledError:Re}=V.v;if(!Re)throw De;Re(De)})}},4532:(st,Ie,G)=>{"use strict";function V(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Ie,{z:()=>V})},5987:(st,Ie,G)=>{"use strict";function ue(oe,Q,ge,Ae){return new(ge||(ge=Promise))(function(Ce,Ve){function gt(wt){try{yt(Ae.next(wt))}catch(xt){Ve(xt)}}function mt(wt){try{yt(Ae.throw(wt))}catch(xt){Ve(xt)}}function yt(wt){wt.done?Ce(wt.value):function(Ce){return Ce instanceof ge?Ce:new ge(function(Ve){Ve(Ce)})}(wt.value).then(gt,mt)}yt((Ae=Ae.apply(oe,Q||[])).next())})}function Ge(oe){return this instanceof Ge?(this.v=oe,this):new Ge(oe)}function Me(oe,Q,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Ae=ge.apply(oe,Q||[]),Ce=[];return me={},Ve("next"),Ve("throw"),Ve("return"),me[Symbol.asyncIterator]=function(){return this},me;function Ve(zt){Ae[zt]&&(me[zt]=function(Tt){return new Promise(function(Dn,$t){Ce.push([zt,Tt,Dn,$t])>1||gt(zt,Tt)})})}function gt(zt,Tt){try{!function(zt){zt.value instanceof Ge?Promise.resolve(zt.value.v).then(yt,wt):xt(Ce[0][2],zt)}(Ae[zt](Tt))}catch(Dn){xt(Ce[0][3],Dn)}}function yt(zt){gt("next",zt)}function wt(zt){gt("throw",zt)}function xt(zt,Tt){zt(Tt),Ce.shift(),Ce.length&&gt(Ce[0][0],Ce[0][1])}}function Ke(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,Q=oe[Symbol.asyncIterator];return Q?Q.call(oe):(oe=function(oe){var Q="function"==typeof Symbol&&Symbol.iterator,ge=Q&&oe[Q],Ae=0;if(ge)return ge.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Ae>=oe.length&&(oe=void 0),{value:oe&&oe[Ae++],done:!oe}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ge={},Ae("next"),Ae("throw"),Ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Ae(Ce){ge[Ce]=oe[Ce]&&function(Ve){return new Promise(function(gt,mt){!function(Ce,Ve,gt,mt){Promise.resolve(mt).then(function(yt){Ce({value:yt,done:gt})},Ve)}(gt,mt,(Ve=oe[Ce](Ve)).done,Ve.value)})}}}G.d(Ie,{mG:()=>ue,qq:()=>Ge,FC:()=>Me,KL:()=>Ke})},5e3:(st,Ie,G)=>{"use strict";G.d(Ie,{deG:()=>Lc,tb:()=>d1,AFp:()=>lP,ip1:()=>c1,CZH:()=>Wb,hGG:()=>BP,z2F:()=>BC,sBO:()=>pj,Sil:()=>f1,_Vd:()=>Eg,EJc:()=>hP,SBq:()=>Ag,qLn:()=>Wn,vpe:()=>Cc,tBr:()=>eh,XFs:()=>gn,OlP:()=>Yi,zs3:()=>g,ZZ4:()=>Ng,aQg:()=>Pg,soG:()=>OA,YKP:()=>UI,h0i:()=>Lb,PXZ:()=>oj,R0b:()=>Ec,FiY:()=>Fa,Lbi:()=>uP,g9A:()=>cP,n_E:()=>Ub,Qsj:()=>CC,FYo:()=>wy,JOm:()=>Ba,q3G:()=>Ji,tp0:()=>yo,Rgc:()=>Dy,dDg:()=>mP,q4F:()=>fA,GfV:()=>EC,s_b:()=>jb,ifc:()=>zn,eFA:()=>bP,G48:()=>fj,Gpc:()=>J,f3M:()=>Dm,X6Q:()=>hj,_c5:()=>M1,VLi:()=>rj,c2e:()=>dP,zSh:()=>wp,wAp:()=>hn,vHH:()=>We,EiD:()=>ah,mCW:()=>id,qzn:()=>Xs,JVY:()=>Yc,pB0:()=>Gv,eBb:()=>yw,L6k:()=>Mm,LAX:()=>rh,cg1:()=>Ab,kL8:()=>_N,yhl:()=>_w,dqk:()=>Sn,sIi:()=>pg,CqO:()=>FT,QGY:()=>NT,F4k:()=>PT,RDi:()=>Ti,AaK:()=>ue,z3N:()=>Wc,qOj:()=>gb,TTD:()=>ws,_Bn:()=>NI,xp6:()=>N_,uIk:()=>Fe,Gre:()=>qx,ekj:()=>dy,Suo:()=>Ya,Xpm:()=>So,lG2:()=>mi,Yz7:()=>$t,cJS:()=>mn,oAB:()=>Zs,Yjl:()=>Os,Y36:()=>Kw,_UZ:()=>$R,GkF:()=>ZR,BQk:()=>RT,ynx:()=>OT,qZA:()=>vb,TgZ:()=>Mx,EpF:()=>WR,n5z:()=>gl,Ikx:()=>uC,LFG:()=>cr,$8M:()=>Zd,$Z:()=>GR,NdJ:()=>kx,CRH:()=>DA,kcU:()=>gm,O4$:()=>Ai,oxw:()=>Rx,ALo:()=>Vb,lcZ:()=>wA,Hsn:()=>UT,F$t:()=>VT,Q6J:()=>MT,s9C:()=>Nx,DdM:()=>_A,VKq:()=>zI,WLB:()=>yA,iGM:()=>QN,MAs:()=>ET,CHM:()=>An,oJD:()=>lh,LSH:()=>w_,Udp:()=>uy,WFA:()=>Ox,d8E:()=>dC,YNc:()=>CT,_uU:()=>rC,Oqu:()=>Hx,hij:()=>fy,Gf:()=>jt});var V=G(7579),o=G(727),pe=G(8306),De=G(6451),Re=G(3099);function Se(l){for(let c in l)if(l[c]===Se)return c;throw Error("Could not find renamed property on target object.")}function Oe(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function ue(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(ue).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function fe(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const xe=Se({__forward_ref__:Se});function J(l){return l.__forward_ref__=J,l.toString=function(){return ue(this())},l}function te(l){return Ne(l)?l():l}function Ne(l){return"function"==typeof l&&l.hasOwnProperty(xe)&&l.__forward_ref__===J}class We extends Error{constructor(c,d){super(function(l,c){return`${l?`NG0${l}: `:""}${c}`}(c,d)),this.code=c}}function Me(l){return"string"==typeof l?l:null==l?"":String(l)}function je(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Me(l)}function Qe(l,c){const d=c?` in ${c}`:"";throw new We("201",`No provider for ${je(l)} found${d}`)}function wt(l,c){null==l&&function(l,c,d,m){throw new Error(`ASSERTION ERROR: ${l}`+(null==m?"":` [Expected=> ${d} ${m} ${c} <=Actual]`))}(c,l,null,"!=")}function $t(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function mn(l){return{providers:l.providers||[],imports:l.imports||[]}}function on(l){return Cn(l,Ei)||Cn(l,Zl)}function Cn(l,c){return l.hasOwnProperty(c)?l[c]:null}function Hi(l){return l&&(l.hasOwnProperty(ia)||l.hasOwnProperty(Pd))?l[ia]:null}const Ei=Se({\u0275prov:Se}),ia=Se({\u0275inj:Se}),Zl=Se({ngInjectableDef:Se}),Pd=Se({ngInjectorDef:Se});var gn=(()=>((gn=gn||{})[gn.Default=0]="Default",gn[gn.Host=1]="Host",gn[gn.Self=2]="Self",gn[gn.SkipSelf=4]="SkipSelf",gn[gn.Optional=8]="Optional",gn))();let ra;function Tr(l){const c=ra;return ra=l,c}function ll(l,c,d){const m=on(l);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:d&gn.Optional?null:void 0!==c?c:void Qe(ue(l),"Injector")}function Ri(l){return{toString:l}.toString()}var nr=(()=>((nr=nr||{})[nr.OnPush=0]="OnPush",nr[nr.Default=1]="Default",nr))(),zn=(()=>{return(l=zn||(zn={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",zn;var l})();const Rt="undefined"!=typeof globalThis&&globalThis,un="undefined"!=typeof window&&window,sa="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Sn=Rt||"undefined"!=typeof global&&global||un||sa,gs={},Zt=[],_s=Se({\u0275cmp:Se}),Un=Se({\u0275dir:Se}),oa=Se({\u0275pipe:Se}),ys=Se({\u0275mod:Se}),Mr=Se({\u0275fac:Se}),_r=Se({__NG_ELEMENT_ID__:Se});let cl=0;function So(l){return Ri(()=>{const d={},m={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===nr.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||Zt,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||zn.Emulated,id:"c",styles:l.styles||Zt,_:null,setInput:null,schemas:l.schemas||null,tView:null},y=l.directives,E=l.features,I=l.pipes;return m.id+=cl++,m.inputs=vs(l.inputs,d),m.outputs=vs(l.outputs),E&&E.forEach(M=>M(m)),m.directiveDefs=y?()=>("function"==typeof y?y():y).map(Qr):null,m.pipeDefs=I?()=>("function"==typeof I?I():I).map(rn):null,m})}function Qr(l){return ut(l)||function(l){return l[Un]||null}(l)}function rn(l){return function(l){return l[oa]||null}(l)}const ri={};function Zs(l){return Ri(()=>{const c={type:l.type,bootstrap:l.bootstrap||Zt,declarations:l.declarations||Zt,imports:l.imports||Zt,exports:l.exports||Zt,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(ri[l.id]=l.type),c})}function vs(l,c){if(null==l)return gs;const d={};for(const m in l)if(l.hasOwnProperty(m)){let y=l[m],E=y;Array.isArray(y)&&(E=y[1],y=y[0]),d[y]=m,c&&(c[y]=E)}return d}const mi=So;function Os(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function ut(l){return l[_s]||null}function dn(l,c){const d=l[ys]||null;if(!d&&!0===c)throw new Error(`Type ${ue(l)} does not have '\u0275mod' property.`);return d}function qi(l){return Array.isArray(l)&&"object"==typeof l[1]}function Pi(l){return Array.isArray(l)&&!0===l[1]}function Ws(l){return 0!=(8&l.flags)}function Ns(l){return 2==(2&l.flags)}function ul(l){return 1==(1&l.flags)}function Ps(l){return null!==l.template}function Nr(l){return 0!=(512&l[2])}function Pr(l,c){return l.hasOwnProperty(Mr)?l[Mr]:null}class Ls{constructor(c,d,m){this.previousValue=c,this.currentValue=d,this.firstChange=m}isFirstChange(){return this.firstChange}}function ws(){return N}function N(l){return l.type.prototype.ngOnChanges&&(l.setInput=ie),$}function $(){const l=an(this),c=null==l?void 0:l.current;if(c){const d=l.previous;if(d===gs)l.previous=c;else for(let m in c)d[m]=c[m];l.current=null,this.ngOnChanges(c)}}function ie(l,c,d,m){const y=an(l)||function(l,c){return l[Te]=c}(l,{previous:gs,current:null}),E=y.current||(y.current={}),I=y.previous,M=this.declaredInputs[d],k=I[M];E[M]=new Ls(k&&k.currentValue,c,I===gs),l[m]=c}ws.ngInherit=!0;const Te="__ngSimpleChanges__";function an(l){return l[Te]||null}const yn="http://www.w3.org/2000/svg";let Gi;function Ti(l){Gi=l}function Li(){return void 0!==Gi?Gi:"undefined"!=typeof document?document:void 0}function Ln(l){return!!l.listen}const ho={createRenderer:(l,c)=>Li()};function di(l){for(;Array.isArray(l);)l=l[0];return l}function Ks(l,c){return di(c[l])}function Xr(l,c){return di(c[l.index])}function ju(l,c){return l.data[c]}function Fr(l,c){return l[c]}function Lr(l,c){const d=c[l];return qi(d)?d:d[0]}function Hu(l){return 4==(4&l[2])}function po(l){return 128==(128&l[2])}function es(l,c){return null==c?null:l[c]}function Sa(l){l[18]=0}function Ld(l,c){l[5]+=c;let d=l,m=l[3];for(;null!==m&&(1===c&&1===d[5]||-1===c&&0===d[5]);)m[5]+=c,d=m,m=m[3]}const ln={lFrame:lf(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Z(){return ln.bindingsEnabled}function de(){return ln.lFrame.lView}function $e(){return ln.lFrame.tView}function An(l){return ln.lFrame.contextLView=l,l[8]}function Dt(){let l=Yn();for(;null!==l&&64===l.type;)l=l.parent;return l}function Yn(){return ln.lFrame.currentTNode}function vn(l,c){const d=ln.lFrame;d.currentTNode=l,d.isParent=c}function Cs(){return ln.lFrame.isParent}function ts(){ln.lFrame.isParent=!1}function kc(){return ln.isInCheckNoChangesMode}function Vd(l){ln.isInCheckNoChangesMode=l}function ns(){const l=ln.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function ec(){return ln.lFrame.bindingIndex++}function ua(l){const c=ln.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function hm(l,c){const d=ln.lFrame;d.bindingIndex=d.bindingRootIndex=l,Ud(c)}function Ud(l){ln.lFrame.currentDirectiveIndex=l}function nf(l){const c=ln.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function rf(){return ln.lFrame.currentQueryIndex}function sf(l){ln.lFrame.currentQueryIndex=l}function da(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function fm(l,c,d){if(d&gn.SkipSelf){let y=c,E=l;for(;!(y=y.parent,null!==y||d&gn.Host||(y=da(E),null===y||(E=E[15],10&y.type))););if(null===y)return!1;c=y,l=E}const m=ln.lFrame=af();return m.currentTNode=c,m.lView=l,!0}function zu(l){const c=af(),d=l[1];ln.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function af(){const l=ln.lFrame,c=null===l?null:l.child;return null===c?lf(l):c}function lf(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function cf(){const l=ln.lFrame;return ln.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const pm=cf;function jd(){const l=cf();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Br(){return ln.lFrame.selectedIndex}function Bs(l){ln.lFrame.selectedIndex=l}function Zi(){const l=ln.lFrame;return ju(l.tView,l.selectedIndex)}function Ai(){ln.lFrame.currentNamespace=yn}function gm(){ln.lFrame.currentNamespace=null}function uf(l,c){for(let d=c.directiveStart,m=c.directiveEnd;d<m;d++){const E=l.data[d].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:M,ngAfterViewInit:k,ngAfterViewChecked:L,ngOnDestroy:U}=E;I&&(l.contentHooks||(l.contentHooks=[])).push(-d,I),M&&((l.contentHooks||(l.contentHooks=[])).push(d,M),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,M)),k&&(l.viewHooks||(l.viewHooks=[])).push(-d,k),L&&((l.viewHooks||(l.viewHooks=[])).push(d,L),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,L)),null!=U&&(l.destroyHooks||(l.destroyHooks=[])).push(d,U)}}function fl(l,c,d){l_(l,c,3,d)}function pl(l,c,d,m){(3&l[2])===d&&l_(l,c,d,m)}function tc(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function l_(l,c,d,m){const E=null!=m?m:-1,I=c.length-1;let M=0;for(let k=void 0!==m?65535&l[18]:0;k<I;k++)if("number"==typeof c[k+1]){if(M=c[k],null!=m&&M>=m)break}else c[k]<0&&(l[18]+=65536),(M<E||-1==E)&&(c_(l,d,c,k),l[18]=(4294901760&l[18])+k+2),k++}function c_(l,c,d,m){const y=d[m]<0,E=d[m+1],M=l[y?-d[m]:d[m]];if(y){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{E.call(M)}finally{}}}else try{E.call(M)}finally{}}class Gu{constructor(c,d,m){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=m}}function nc(l,c,d){const m=Ln(l);let y=0;for(;y<d.length;){const E=d[y];if("number"==typeof E){if(0!==E)break;y++;const I=d[y++],M=d[y++],k=d[y++];m?l.setAttribute(c,M,k,I):c.setAttributeNS(I,M,k)}else{const I=E,M=d[++y];Nc(I)?m&&l.setProperty(c,I,M):m?l.setAttribute(c,I,M):c.setAttribute(I,M),y++}}return y}function Rc(l){return 3===l||4===l||6===l}function Nc(l){return 64===l.charCodeAt(0)}function xs(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let m=0;m<c.length;m++){const y=c[m];"number"==typeof y?d=y:0===d||Wi(l,d,y,null,-1===d||2===d?c[++m]:null)}}return l}function Wi(l,c,d,m,y){let E=0,I=l.length;if(-1===c)I=-1;else for(;E<l.length;){const M=l[E++];if("number"==typeof M){if(M===c){I=-1;break}if(M>c){I=E-1;break}}}for(;E<l.length;){const M=l[E];if("number"==typeof M)break;if(M===d){if(null===m)return void(null!==y&&(l[E+1]=y));if(m===l[E+1])return void(l[E+2]=y)}E++,null!==m&&E++,null!==y&&E++}-1!==I&&(l.splice(I,0,c),E=I+1),l.splice(E++,0,d),null!==m&&l.splice(E++,0,m),null!==y&&l.splice(E++,0,y)}function Kn(l){return-1!==l}function Pc(l){return 32767&l}function Pt(l,c){let d=function(l){return l>>16}(l),m=c;for(;d>0;)m=m[15],d--;return m}let Qn=!0;function Qs(l){const c=Qn;return Qn=l,c}let Ia=0;function Wu(l,c){const d=No(l,c);if(-1!==d)return d;const m=c[1];m.firstCreatePass&&(l.injectorIndex=c.length,hf(m.data,l),hf(c,null),hf(m.blueprint,null));const y=Gd(l,c),E=l.injectorIndex;if(Kn(y)){const I=Pc(y),M=Pt(y,c),k=M[1].data;for(let L=0;L<8;L++)c[E+L]=M[I+L]|k[I+L]}return c[E+8]=y,E}function hf(l,c){l.push(0,0,0,0,0,0,0,0,c)}function No(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Gd(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,m=null,y=c;for(;null!==y;){const E=y[1],I=E.type;if(m=2===I?E.declTNode:1===I?y[6]:null,null===m)return-1;if(d++,y=y[15],-1!==m.injectorIndex)return m.injectorIndex|d<<16}return-1}function Ma(l,c,d){!function(l,c,d){let m;"string"==typeof d?m=d.charCodeAt(0)||0:d.hasOwnProperty(_r)&&(m=d[_r]),null==m&&(m=d[_r]=Ia++);const y=255&m;c.data[l+(y>>5)]|=1<<y}(l,c,d)}function pf(l,c,d){if(d&gn.Optional)return l;Qe(c,"NodeInjector")}function mo(l,c,d,m){if(d&gn.Optional&&void 0===m&&(m=null),0==(d&(gn.Self|gn.Host))){const y=l[9],E=Tr(void 0);try{return y?y.get(c,m,d&gn.Optional):ll(c,m,d&gn.Optional)}finally{Tr(E)}}return pf(m,c,d)}function ka(l,c,d,m=gn.Default,y){if(null!==l){const E=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(_r)?l[_r]:void 0;return"number"==typeof c?c>=0?255&c:$d:c}(d);if("function"==typeof E){if(!fm(c,l,m))return m&gn.Host?pf(y,d,m):mo(c,d,m,y);try{const I=E(m);if(null!=I||m&gn.Optional)return I;Qe(d)}finally{pm()}}else if("number"==typeof E){let I=null,M=No(l,c),k=-1,L=m&gn.Host?c[16][6]:null;for((-1===M||m&gn.SkipSelf)&&(k=-1===M?Gd(l,c):c[M+8],-1!==k&&Yu(m,!1)?(I=c[1],M=Pc(k),c=Pt(k,c)):M=-1);-1!==M;){const U=c[1];if(sc(E,M,U.data)){const K=ic(M,c,d,I,m,L);if(K!==mf)return K}k=c[M+8],-1!==k&&Yu(m,c[1].data[M+8]===L)&&sc(E,M,c)?(I=U,M=Pc(k),c=Pt(k,c)):M=-1}}}return mo(c,d,m,y)}const mf={};function $d(){return new ml(Dt(),de())}function ic(l,c,d,m,y,E){const I=c[1],M=I.data[l+8],U=Vs(M,I,d,null==m?Ns(M)&&Qn:m!=I&&0!=(3&M.type),y&gn.Host&&E===M);return null!==U?rc(c,I,U,M):mf}function Vs(l,c,d,m,y){const E=l.providerIndexes,I=c.data,M=1048575&E,k=l.directiveStart,U=E>>20,he=y?M+U:l.directiveEnd;for(let Ee=m?M:M+U;Ee<he;Ee++){const ze=I[Ee];if(Ee<k&&d===ze||Ee>=k&&ze.type===d)return Ee}if(y){const Ee=I[k];if(Ee&&Ps(Ee)&&Ee.type===d)return k}return null}function rc(l,c,d,m){let y=l[d];const E=c.data;if(function(l){return l instanceof Gu}(y)){const I=y;I.resolving&&function(l,c){throw new We("200",`Circular dependency in DI detected for ${l}`)}(je(E[d]));const M=Qs(I.canSeeViewProviders);I.resolving=!0;const k=I.injectImpl?Tr(I.injectImpl):null;fm(l,m,gn.Default);try{y=l[d]=I.factory(void 0,E,l,m),c.firstCreatePass&&d>=m.directiveStart&&function(l,c,d){const{ngOnChanges:m,ngOnInit:y,ngDoCheck:E}=c.type.prototype;if(m){const I=N(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,I),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,I)}y&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,y),E&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,E),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,E))}(d,E[d],c)}finally{null!==k&&Tr(k),Qs(M),I.resolving=!1,pm()}}return y}function sc(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function Yu(l,c){return!(l&gn.Self||l&gn.Host&&c)}class ml{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,m){return ka(this._tNode,this._lView,c,m,d)}}function gl(l){return Ri(()=>{const c=l.prototype.constructor,d=c[Mr]||Fc(c),m=Object.prototype;let y=Object.getPrototypeOf(l.prototype).constructor;for(;y&&y!==m;){const E=y[Mr]||Fc(y);if(E&&E!==d)return E;y=Object.getPrototypeOf(y)}return E=>new E})}function Fc(l){return Ne(l)?()=>{const c=Fc(te(l));return c&&c()}:Pr(l)}function Zd(l){return function(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const m=d.length;let y=0;for(;y<m;){const E=d[y];if(Rc(E))break;if(0===E)y+=2;else if("number"==typeof E)for(y++;y<m&&"string"==typeof d[y];)y++;else{if(E===c)return d[y+1];y+=2}}}return null}(Dt(),l)}const oc="__parameters__";function Po(l,c,d){return Ri(()=>{const m=function(l){return function(...d){if(l){const m=l(...d);for(const y in m)this[y]=m[y]}}}(c);function y(...E){if(this instanceof y)return m.apply(this,E),this;const I=new y(...E);return M.annotation=I,M;function M(k,L,U){const K=k.hasOwnProperty(oc)?k[oc]:Object.defineProperty(k,oc,{value:[]})[oc];for(;K.length<=U;)K.push(null);return(K[U]=K[U]||[]).push(I),k}}return d&&(y.prototype=Object.create(d.prototype)),y.prototype.ngMetadataName=l,y.annotationCls=y,y})}class Yi{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=$t({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Lc=new Yi("AnalyzeForEntryComponents");function As(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let m=l[d];Array.isArray(m)?(c===l&&(c=l.slice(0,d)),As(m,c)):c!==l&&c.push(m)}return c}function Qi(l,c){l.forEach(d=>Array.isArray(d)?Qi(d,c):c(d))}function yl(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function Fo(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function Wd(l,c){const d=[];for(let m=0;m<l;m++)d.push(c);return d}function Js(l,c,d){let m=fa(l,c);return m>=0?l[1|m]=d:(m=~m,function(l,c,d,m){let y=l.length;if(y==c)l.push(d,m);else if(1===y)l.push(m,l[0]),l[0]=d;else{for(y--,l.push(l[y-1],l[y]);y>c;)l[y]=l[y-2],y--;l[c]=d,l[c+1]=m}}(l,m,c,d)),m}function Yd(l,c){const d=fa(l,c);if(d>=0)return l[1|d]}function fa(l,c){return function(l,c,d){let m=0,y=l.length>>d;for(;y!==m;){const E=m+(y-m>>1),I=l[E<<d];if(c===I)return E<<d;I>c?y=E:m=E+1}return~(y<<d)}(l,c,1)}const vl={},Hc="__NG_DI_FLAG__",Pa="ngTempTokenPath",Bv=/\n/gm,Af="__source",Df=Se({provide:String,useValue:Se});let qc;function zc(l){const c=qc;return qc=l,c}function Gc(l,c=gn.Default){if(void 0===qc)throw new Error("inject() must be called from an injection context");return null===qc?ll(l,void 0,c):qc.get(l,c&gn.Optional?null:void 0,c)}function cr(l,c=gn.Default){return(ra||Gc)(te(l),c)}const Dm=cr;function Jd(l){const c=[];for(let d=0;d<l.length;d++){const m=te(l[d]);if(Array.isArray(m)){if(0===m.length)throw new Error("Arguments array must have arguments.");let y,E=gn.Default;for(let I=0;I<m.length;I++){const M=m[I],k=Sf(M);"number"==typeof k?-1===k?y=M.token:E|=k:y=M}c.push(cr(y,E))}else c.push(cr(m))}return c}function Xd(l,c){return l[Hc]=c,l.prototype[Hc]=c,l}function Sf(l){return l[Hc]}const eh=Xd(Po("Inject",l=>({token:l})),-1),Fa=Xd(Po("Optional"),8),yo=Xd(Po("SkipSelf"),4);let nd,f_;function $c(l){var c;return(null===(c=function(){if(void 0===nd&&(nd=null,Sn.trustedTypes))try{nd=Sn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return nd}())||void 0===c?void 0:c.createHTML(l))||l}function m_(l){var c;return(null===(c=function(){if(void 0===f_&&(f_=null,Sn.trustedTypes))try{f_=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return f_}())||void 0===c?void 0:c.createHTML(l))||l}class Zc{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class is extends Zc{getTypeName(){return"HTML"}}class nh extends Zc{getTypeName(){return"Style"}}class ih extends Zc{getTypeName(){return"Script"}}class Im extends Zc{getTypeName(){return"URL"}}class g_ extends Zc{getTypeName(){return"ResourceURL"}}function Wc(l){return l instanceof Zc?l.changingThisBreaksApplicationSecurity:l}function Xs(l,c){const d=_w(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function _w(l){return l instanceof Zc&&l.getTypeName()||null}function Yc(l){return new is(l)}function Mm(l){return new nh(l)}function yw(l){return new ih(l)}function rh(l){return new Im(l)}function Gv(l){return new g_(l)}class pa{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString($c(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class cc{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const m=this.inertDocument.createElement("body");d.appendChild(m)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=$c(c),d;const m=this.inertDocument.createElement("body");return m.innerHTML=$c(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(m),m}stripCustomNsAttrs(c){const d=c.attributes;for(let y=d.length-1;0<y;y--){const I=d.item(y).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&c.removeAttribute(I)}let m=c.firstChild;for(;m;)m.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(m),m=m.nextSibling}}const y_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function id(l){return(l=String(l)).match(y_)||l.match(bw)?l:"unsafe:"+l}function vo(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function rd(...l){const c={};for(const d of l)for(const m in d)d.hasOwnProperty(m)&&(c[m]=!0);return c}const Kc=vo("area,br,col,hr,img,wbr"),sh=vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rf=vo("rp,rt"),b_=rd(Kc,rd(sh,vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rd(Rf,vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rd(Rf,sh)),oh=vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),km=vo("srcset"),Om=rd(oh,km,vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qc=vo("script,style,template");class Pf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,m=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?m=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,m&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let y=this.checkClobberedElement(d,d.nextSibling);if(y){d=y;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!b_.hasOwnProperty(d))return this.sanitizedSomething=!0,!Qc.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const m=c.attributes;for(let y=0;y<m.length;y++){const E=m.item(y),I=E.name,M=I.toLowerCase();if(!Om.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let k=E.value;oh[M]&&(k=id(k)),km[M]&&(l=k,k=(l=String(l)).split(",").map(c=>id(c.trim())).join(", ")),this.buf.push(" ",I,'="',Zv(k),'"')}var l;return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();b_.hasOwnProperty(d)&&!Kc.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Zv(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Rm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cw=/([^\#-~ |!])/g;function Zv(l){return l.replace(/&/g,"&amp;").replace(Rm,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Cw,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ff;function ah(l,c){let d=null;try{Ff=Ff||function(l){const c=new cc(l);return function(){try{return!!(new window.DOMParser).parseFromString($c(""),"text/html")}catch(l){return!1}}()?new pa(c):c}(l);let m=c?String(c):"";d=Ff.getInertBodyElement(m);let y=5,E=m;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,m=E,E=d.innerHTML,d=Ff.getInertBodyElement(m)}while(m!==E);return $c((new Pf).sanitizeChildren(Lf(d)||d))}finally{if(d){const m=Lf(d)||d;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function Lf(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Ji=(()=>((Ji=Ji||{})[Ji.NONE=0]="NONE",Ji[Ji.HTML=1]="HTML",Ji[Ji.STYLE=2]="STYLE",Ji[Ji.SCRIPT=3]="SCRIPT",Ji[Ji.URL=4]="URL",Ji[Ji.RESOURCE_URL=5]="RESOURCE_URL",Ji))();function lh(l){const c=Xc();return c?m_(c.sanitize(Ji.HTML,l)||""):Xs(l,"HTML")?m_(Wc(l)):ah(Li(),Me(l))}function w_(l){const c=Xc();return c?c.sanitize(Ji.URL,l)||"":Xs(l,"URL")?Wc(l):id(Me(l))}function Xc(){const l=de();return l&&l[12]}const ch="__ngContext__";function Vr(l,c){l[ch]=c}function uh(l){const c=function(l){return l[ch]||null}(l);return c?Array.isArray(c)?c:c.lView:null}function Ct(l){return l.ngOriginalError}function Ur(l,...c){l.error(...c)}class Wn{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c),m=(l=c)&&l.ngErrorLogger||Ur;var l;m(this._console,"ERROR",c),d&&m(this._console,"ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&Ct(c);for(;d&&Ct(d);)d=Ct(d);return d||null}}const ma=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Sn))();function Bo(l){return l instanceof Function?l():l}var Ba=(()=>((Ba=Ba||{})[Ba.Important=1]="Important",Ba[Ba.DashCase=2]="DashCase",Ba))();function bo(l,c){return undefined(l,c)}function On(l){const c=l[3];return Pi(c)?c[3]:c}function ad(l){return hi(l[13])}function yi(l){return hi(l[4])}function hi(l){for(;null!==l&&!Pi(l);)l=l[4];return l}function dc(l,c,d,m,y){if(null!=m){let E,I=!1;Pi(m)?E=m:qi(m)&&(I=!0,m=m[0]);const M=di(m);0===l&&null!==d?null==y?S_(c,d,M):Ml(c,d,M,y||null,!0):1===l&&null!==d?Ml(c,d,M,y||null,!0):2===l?function(l,c,d){const m=Wf(l,c);m&&function(l,c,d,m){Ln(l)?l.removeChild(c,d,m):c.removeChild(d)}(l,m,c,d)}(c,M,I):3===l&&c.destroyNode(M),null!=E&&function(l,c,d,m,y){const E=d[7];E!==di(d)&&dc(c,l,m,E,y);for(let M=10;M<d.length;M++){const k=d[M];au(k[1],k,l,c,m,E)}}(c,l,E,d,y)}}function Ii(l,c,d){return Ln(l)?l.createElement(c,d):null===d?l.createElement(c):l.createElementNS(d,c)}function D_(l,c){const d=l[9],m=d.indexOf(c),y=c[3];1024&c[2]&&(c[2]&=-1025,Ld(y,-1)),d.splice(m,1)}function Ua(l,c){if(l.length<=10)return;const d=10+c,m=l[d];if(m){const y=m[17];null!==y&&y!==l&&D_(y,m),c>0&&(l[d-1][4]=m[4]);const E=Fo(l,10+c);!function(l,c){au(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(m[1],m);const I=E[19];null!==I&&I.detachView(E[1]),m[3]=null,m[4]=null,m[2]&=-129}return m}function br(l,c){if(!(256&c[2])){const d=c[11];Ln(d)&&d.destroyNode&&au(l,c,d,3,null,null),function(l){let c=l[13];if(!c)return ld(l[1],l);for(;c;){let d=null;if(qi(c))d=c[13];else{const m=c[10];m&&(d=m)}if(!d){for(;c&&!c[4]&&c!==l;)qi(c)&&ld(c[1],c),c=c[3];null===c&&(c=l),qi(c)&&ld(c[1],c),d=c&&c[4]}c=d}}(c)}}function ld(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let m=0;m<d.length;m+=2){const y=c[d[m]];if(!(y instanceof Gu)){const E=d[m+1];if(Array.isArray(E))for(let I=0;I<E.length;I+=2){const M=y[E[I]],k=E[I+1];try{k.call(M)}finally{}}else try{E.call(y)}finally{}}}}(l,c),function(l,c){const d=l.cleanup,m=c[7];let y=-1;if(null!==d)for(let E=0;E<d.length-1;E+=2)if("string"==typeof d[E]){const I=d[E+1],M="function"==typeof I?I(c):di(c[I]),k=m[y=d[E+2]],L=d[E+3];"boolean"==typeof L?M.removeEventListener(d[E],k,L):L>=0?m[y=L]():m[y=-L].unsubscribe(),E+=2}else{const I=m[y=d[E+1]];d[E].call(I)}if(null!==m){for(let E=y+1;E<m.length;E++)m[E]();c[7]=null}}(l,c),1===c[1].type&&Ln(c[11])&&c[11].destroy();const d=c[17];if(null!==d&&Pi(c[3])){d!==c[3]&&D_(d,c);const m=c[19];null!==m&&m.detachView(l)}}}function ru(l,c,d){return function(l,c,d){let m=c;for(;null!==m&&40&m.type;)m=(c=m).parent;if(null===m)return d[0];if(2&m.flags){const y=l.data[m.directiveStart].encapsulation;if(y===zn.None||y===zn.Emulated)return null}return Xr(m,d)}(l,c.parent,d)}function Ml(l,c,d,m,y){Ln(l)?l.insertBefore(c,d,m,y):c.insertBefore(d,m,y)}function S_(l,c,d){Ln(l)?l.appendChild(c,d):c.appendChild(d)}function Hm(l,c,d,m,y){null!==m?Ml(l,c,d,m,y):S_(l,c,d)}function Wf(l,c){return Ln(l)?l.parentNode(c):c.parentNode}function zm(l,c,d){return Gm(l,c,d)}let Gm=function(l,c,d){return 40&l.type?Xr(l,d):null};function fc(l,c,d,m){const y=ru(l,m,c),E=c[11],M=zm(m.parent||c[6],m,c);if(null!=y)if(Array.isArray(d))for(let k=0;k<d.length;k++)Hm(E,y,d[k],M,!1);else Hm(E,y,d,M,!1)}function su(l,c){if(null!==c){const d=c.type;if(3&d)return Xr(c,l);if(4&d)return ou(-1,l[c.index]);if(8&d){const m=c.child;if(null!==m)return su(l,m);{const y=l[c.index];return Pi(y)?ou(-1,y):di(y)}}if(32&d)return bo(c,l)()||di(l[c.index]);{const m=Rn(l,c);return null!==m?Array.isArray(m)?m[0]:su(On(l[16]),m):su(l,c.next)}}return null}function Rn(l,c){return null!==c?l[16][6].projection[c.projection]:null}function ou(l,c){const d=10+l+1;if(d<c.length){const m=c[d],y=m[1].firstChild;if(null!==y)return su(m,y)}return c[7]}function cd(l,c,d,m,y,E,I){for(;null!=d;){const M=m[d.index],k=d.type;if(I&&0===c&&(M&&Vr(di(M),m),d.flags|=4),64!=(64&d.flags))if(8&k)cd(l,c,d.child,m,y,E,!1),dc(c,l,y,M,E);else if(32&k){const L=bo(d,m);let U;for(;U=L();)dc(c,l,y,U,E);dc(c,l,y,M,E)}else 16&k?I_(l,c,m,d,y,E):dc(c,l,y,M,E);d=I?d.projectionNext:d.next}}function au(l,c,d,m,y,E){cd(d,m,l.firstChild,c,y,E,!1)}function I_(l,c,d,m,y,E){const I=d[16],k=I[6].projection[m.projection];if(Array.isArray(k))for(let L=0;L<k.length;L++)dc(c,l,y,k[L],E);else cd(l,c,k,I[3],y,E,!0)}function Kf(l,c,d){Ln(l)?l.setAttribute(c,"style",d):c.style.cssText=d}function kl(l,c,d){Ln(l)?""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d):c.className=d}function Qf(l,c,d){let m=l.length;for(;;){const y=l.indexOf(c,d);if(-1===y)return y;if(0===y||l.charCodeAt(y-1)<=32){const E=c.length;if(y+E===m||l.charCodeAt(y+E)<=32)return y}d=y+1}}const rs="ng-template";function Uo(l,c,d){let m=0;for(;m<l.length;){let y=l[m++];if(d&&"class"===y){if(y=l[m],-1!==Qf(y.toLowerCase(),c,0))return!0}else if(1===y){for(;m<l.length&&"string"==typeof(y=l[m++]);)if(y.toLowerCase()===c)return!0;return!1}}return!1}function eb(l){return 4===l.type&&l.value!==rs}function Aw(l,c,d){return c===(4!==l.type||d?l.value:rs)}function Jf(l,c,d){let m=4;const y=l.attrs||[],E=function(l){for(let c=0;c<l.length;c++)if(Rc(l[c]))return c;return l.length}(y);let I=!1;for(let M=0;M<c.length;M++){const k=c[M];if("number"!=typeof k){if(!I)if(4&m){if(m=2|1&m,""!==k&&!Aw(l,k,d)||""===k&&1===c.length){if(Nn(m))return!1;I=!0}}else{const L=8&m?k:c[++M];if(8&m&&null!==l.attrs){if(!Uo(l.attrs,L,d)){if(Nn(m))return!1;I=!0}continue}const K=M_(8&m?"class":k,y,eb(l),d);if(-1===K){if(Nn(m))return!1;I=!0;continue}if(""!==L){let he;he=K>E?"":y[K+1].toLowerCase();const Ee=8&m?he:null;if(Ee&&-1!==Qf(Ee,L,0)||2&m&&L!==he){if(Nn(m))return!1;I=!0}}}}else{if(!I&&!Nn(m)&&!Nn(k))return!1;if(I&&Nn(k))continue;I=!1,m=k|1&m}}return Nn(m)||I}function Nn(l){return 0==(1&l)}function M_(l,c,d,m){if(null===c)return-1;let y=0;if(m||!d){let E=!1;for(;y<c.length;){const I=c[y];if(I===l)return y;if(3===I||6===I)E=!0;else{if(1===I||2===I){let M=c[++y];for(;"string"==typeof M;)M=c[++y];continue}if(4===I)break;if(0===I){y+=4;continue}}y+=E?1:2}return-1}return function(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const m=l[d];if("number"==typeof m)return-1;if(m===c)return d;d++}return-1}(c,l)}function k_(l,c,d=!1){for(let m=0;m<c.length;m++)if(Jf(l,c[m],d))return!0;return!1}function vh(l,c){e:for(let d=0;d<c.length;d++){const m=c[d];if(l.length===m.length){for(let y=0;y<l.length;y++)if(l[y]!==m[y])continue e;return!0}}return!1}function cu(l,c){return l?":not("+c.trim()+")":c}function In(l){let c=l[0],d=1,m=2,y="",E=!1;for(;d<l.length;){let I=l[d];if("string"==typeof I)if(2&m){const M=l[++d];y+="["+I+(M.length>0?'="'+M+'"':"")+"]"}else 8&m?y+="."+I:4&m&&(y+=" "+I);else""!==y&&!Nn(I)&&(c+=cu(E,y),y=""),m=I,E=E||!Nn(m);d++}return""!==y&&(c+=cu(E,y)),c}const tn={};function N_(l){Xf($e(),de(),Br()+l,kc())}function Xf(l,c,d,m){if(!m)if(3==(3&c[2])){const E=l.preOrderCheckHooks;null!==E&&fl(c,E,d)}else{const E=l.preOrderHooks;null!==E&&pl(c,E,0,d)}Bs(d)}function ep(l,c){return l<<17|c<<2}function js(l){return l>>17&32767}function uu(l){return 2|l}function ja(l){return(131068&l)>>2}function du(l,c){return-131069&l|c<<2}function tp(l){return 1|l}function kw(l,c){const d=l.contentQueries;if(null!==d)for(let m=0;m<d.length;m+=2){const y=d[m],E=d[m+1];if(-1!==E){const I=l.data[E];sf(y),I.contentQueries(2,c[E],E)}}}function cp(l,c,d,m,y,E,I,M,k,L){const U=c.blueprint.slice();return U[0]=y,U[2]=140|m,Sa(U),U[3]=U[15]=l,U[8]=d,U[10]=I||l&&l[10],U[11]=M||l&&l[11],U[12]=k||l&&l[12]||null,U[9]=L||l&&l[9]||null,U[6]=E,U[16]=2==c.type?l[16]:U,U}function fu(l,c,d,m,y){let E=l.data[c];if(null===E)E=function(l,c,d,m,y){const E=Yn(),I=Cs(),k=l.data[c]=function(l,c,d,m,y,E){return{type:d,index:m,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?E:E&&E.parent,d,c,m,y);return null===l.firstChild&&(l.firstChild=k),null!==E&&(I?null==E.child&&null!==k.parent&&(E.child=k):null===E.next&&(E.next=k)),k}(l,c,d,m,y),ln.lFrame.inI18n&&(E.flags|=64);else if(64&E.type){E.type=d,E.value=m,E.attrs=y;const I=function(){const l=ln.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();E.injectorIndex=null===I?-1:I.injectorIndex}return vn(E,!0),E}function Sh(l,c,d,m){if(0===d)return-1;const y=c.length;for(let E=0;E<d;E++)c.push(m),l.blueprint.push(m),l.data.push(null);return y}function pu(l,c,d){zu(c);try{const m=l.viewQuery;null!==m&&Fh(1,m,d);const y=l.template;null!==y&&Rw(l,c,y,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&kw(l,c),l.staticViewQueries&&Fh(2,l.viewQuery,d);const E=l.components;null!==E&&function(l,c){for(let d=0;d<c.length;d++)Rh(l,c[d])}(c,E)}catch(m){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),m}finally{c[2]&=-5,jd()}}function mu(l,c,d,m){const y=c[2];if(256==(256&y))return;zu(c);const E=kc();try{Sa(c),function(l){ln.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&Rw(l,c,d,2,m);const I=3==(3&y);if(!E)if(I){const L=l.preOrderCheckHooks;null!==L&&fl(c,L,null)}else{const L=l.preOrderHooks;null!==L&&pl(c,L,0,null),tc(c,0)}if(function(l){for(let c=ad(l);null!==c;c=yi(c)){if(!c[2])continue;const d=c[9];for(let m=0;m<d.length;m++){const y=d[m],E=y[3];0==(1024&y[2])&&Ld(E,1),y[2]|=1024}}}(c),function(l){for(let c=ad(l);null!==c;c=yi(c))for(let d=10;d<c.length;d++){const m=c[d],y=m[1];po(m)&&mu(y,m,y.template,m[8])}}(c),null!==l.contentQueries&&kw(l,c),!E)if(I){const L=l.contentCheckHooks;null!==L&&fl(c,L)}else{const L=l.contentHooks;null!==L&&pl(c,L,1),tc(c,1)}!function(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let m=0;m<d.length;m++){const y=d[m];if(y<0)Bs(~y);else{const E=y,I=d[++m],M=d[++m];hm(I,E),M(2,c[E])}}}finally{Bs(-1)}}(l,c);const M=l.components;null!==M&&function(l,c){for(let d=0;d<c.length;d++)_p(l,c[d])}(c,M);const k=l.viewQuery;if(null!==k&&Fh(2,k,m),!E)if(I){const L=l.viewCheckHooks;null!==L&&fl(c,L)}else{const L=l.viewHooks;null!==L&&pl(c,L,2),tc(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),E||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,Ld(c[3],-1))}finally{jd()}}function _c(l,c,d,m){const y=c[10],E=!kc(),I=Hu(c);try{E&&!I&&y.begin&&y.begin(),I&&pu(l,c,m),mu(l,c,d,m)}finally{E&&!I&&y.end&&y.end()}}function Rw(l,c,d,m,y){const E=Br(),I=2&m;try{Bs(-1),I&&c.length>20&&Xf(l,c,20,kc()),d(m,y)}finally{Bs(E)}}function za(l,c,d){if(Ws(c)){const y=c.directiveEnd;for(let E=c.directiveStart;E<y;E++){const I=l.data[E];I.contentQueries&&I.contentQueries(1,d[E],E)}}}function ob(l,c,d){!Z()||(function(l,c,d,m){const y=d.directiveStart,E=d.directiveEnd;l.firstCreatePass||Wu(d,c),Vr(m,c);const I=d.initialInputs;for(let M=y;M<E;M++){const k=l.data[M],L=Ps(k);L&&Y_(c,d,k);const U=rc(c,l,M,d);Vr(U,c),null!==I&&rg(0,M-y,U,k,0,I),L&&(Lr(d.index,c)[8]=U)}}(l,c,d,Xr(d,c)),128==(128&d.flags)&&function(l,c,d){const m=d.directiveStart,y=d.directiveEnd,I=d.index,M=ln.lFrame.currentDirectiveIndex;try{Bs(I);for(let k=m;k<y;k++){const L=l.data[k],U=c[k];Ud(k),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&ng(L,U)}}finally{Bs(-1),Ud(M)}}(l,c,d))}function ab(l,c,d=Xr){const m=c.localNames;if(null!==m){let y=c.index+1;for(let E=0;E<m.length;E+=2){const I=m[E+1],M=-1===I?d(c,l):l[I];l[y++]=M}}}function lb(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=eg(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function eg(l,c,d,m,y,E,I,M,k,L){const U=20+m,K=U+y,he=function(l,c){const d=[];for(let m=0;m<c;m++)d.push(m<l?null:tn);return d}(U,K),Ee="function"==typeof L?L():L;return he[1]={type:l,blueprint:he,template:d,queries:null,viewQuery:M,declTNode:c,data:he.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:k,consts:Ee,incompleteFirstPass:!1}}function hp(l,c,d,m){const y=bu(c);null===d?y.push(m):(y.push(d),l.firstCreatePass&&X_(l).push(m,y.length-1))}function tg(l,c,d){for(let m in l)if(l.hasOwnProperty(m)){const y=l[m];(d=null===d?{}:d).hasOwnProperty(m)?d[m].push(c,y):d[m]=[c,y]}return d}function Ho(l,c,d,m,y,E,I,M){const k=Xr(c,d);let U,L=c.inputs;!M&&null!=L&&(U=L[m])?(Lh(l,d,U,m,y),Ns(c)&&function(l,c){const d=Lr(c,l);16&d[2]||(d[2]|=64)}(d,c.index)):3&c.type&&(m=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(m),y=null!=I?I(y,c.value||"",m):y,Ln(E)?E.setProperty(k,m,y):Nc(m)||(k.setProperty?k.setProperty(m,y):k[m]=y))}function _u(l,c,d,m){let y=!1;if(Z()){const E=function(l,c,d){const m=l.directiveRegistry;let y=null;if(m)for(let E=0;E<m.length;E++){const I=m[E];k_(d,I.selectors,!1)&&(y||(y=[]),Ma(Wu(d,c),l,I.type),Ps(I)?(ig(l,d),y.unshift(I)):y.push(I))}return y}(l,c,d),I=null===m?null:{"":-1};if(null!==E){y=!0,gp(d,l.data.length,E.length);for(let U=0;U<E.length;U++){const K=E[U];K.providersResolver&&K.providersResolver(K)}let M=!1,k=!1,L=Sh(l,c,E.length,null);for(let U=0;U<E.length;U++){const K=E[U];d.mergedAttrs=xs(d.mergedAttrs,K.hostAttrs),ub(l,d,c,L,K),W_(L,K,I),null!==K.contentQueries&&(d.flags|=8),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(d.flags|=128);const he=K.type.prototype;!M&&(he.ngOnChanges||he.ngOnInit||he.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),M=!0),!k&&(he.ngOnChanges||he.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),k=!0),L++}!function(l,c){const m=c.directiveEnd,y=l.data,E=c.attrs,I=[];let M=null,k=null;for(let L=c.directiveStart;L<m;L++){const U=y[L],K=U.inputs,he=null===E||eb(c)?null:yu(K,E);I.push(he),M=tg(K,L,M),k=tg(U.outputs,L,k)}null!==M&&(M.hasOwnProperty("class")&&(c.flags|=16),M.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=I,c.inputs=M,c.outputs=k}(l,d)}I&&function(l,c,d){if(c){const m=l.localNames=[];for(let y=0;y<c.length;y+=2){const E=d[c[y+1]];if(null==E)throw new We("301",`Export of name '${c[y+1]}' not found!`);m.push(c[y],E)}}}(d,m,I)}return d.mergedAttrs=xs(d.mergedAttrs,d.attrs),y}function jr(l,c,d,m,y,E){const I=E.hostBindings;if(I){let M=l.hostBindingOpCodes;null===M&&(M=l.hostBindingOpCodes=[]);const k=~c.index;(function(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(M)!=k&&M.push(k),M.push(m,y,I)}}function ng(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function ig(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function W_(l,c,d){if(d){if(c.exportAs)for(let m=0;m<c.exportAs.length;m++)d[c.exportAs[m]]=l;Ps(c)&&(d[""]=l)}}function gp(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}function ub(l,c,d,m,y){l.data[m]=y;const E=y.factory||(y.factory=Pr(y.type)),I=new Gu(E,Ps(y),null);l.blueprint[m]=I,d[m]=I,jr(l,c,0,m,Sh(l,d,y.hostVars,tn),y)}function Y_(l,c,d){const m=Xr(c,l),y=lb(d),E=l[10],I=Nh(l,cp(l,y,null,d.onPush?64:16,m,c,E,E.createRenderer(m,d),null,null));l[c.index]=I}function $a(l,c,d,m,y,E){const I=Xr(l,c);!function(l,c,d,m,y,E,I){if(null==E)Ln(l)?l.removeAttribute(c,y,d):c.removeAttribute(y);else{const M=null==I?Me(E):I(E,m||"",y);Ln(l)?l.setAttribute(c,y,M,d):d?c.setAttributeNS(d,y,M):c.setAttribute(y,M)}}(c[11],I,E,l.value,d,m,y)}function rg(l,c,d,m,y,E){const I=E[c];if(null!==I){const M=m.setInput;for(let k=0;k<I.length;){const L=I[k++],U=I[k++],K=I[k++];null!==M?m.setInput(d,K,L,U):d[U]=K}}}function yu(l,c){let d=null,m=0;for(;m<c.length;){const y=c[m];if(0!==y)if(5!==y){if("number"==typeof y)break;l.hasOwnProperty(y)&&(null===d&&(d=[]),d.push(y,l[y],c[m+1])),m+=2}else m+=2;else m+=4}return d}function kh(l,c,d,m){return new Array(l,!0,!1,c,null,0,m,d,null,null)}function _p(l,c){const d=Lr(c,l);if(po(d)){const m=d[1];80&d[2]?mu(m,d,m.template,d[8]):d[5]>0&&Oh(d)}}function Oh(l){for(let m=ad(l);null!==m;m=yi(m))for(let y=10;y<m.length;y++){const E=m[y];if(1024&E[2]){const I=E[1];mu(I,E,I.template,E[8])}else E[5]>0&&Oh(E)}const d=l[1].components;if(null!==d)for(let m=0;m<d.length;m++){const y=Lr(d[m],l);po(y)&&y[5]>0&&Oh(y)}}function Rh(l,c){const d=Lr(c,l),m=d[1];(function(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(m,d),pu(m,d,d[8])}function Nh(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function Za(l){for(;l;){l[2]|=64;const c=On(l);if(Nr(l)&&!c)return l;l=c}return null}function og(l,c,d){const m=c[10];m.begin&&m.begin();try{mu(l,c,l.template,d)}catch(y){throw dd(c,y),y}finally{m.end&&m.end()}}function yp(l){!function(l){for(let c=0;c<l.components.length;c++){const d=l.components[c],m=uh(d),y=m[1];_c(y,m,y.template,d)}}(l[8])}function Fh(l,c,d){sf(0),c(l,d)}const fb=(()=>Promise.resolve(null))();function bu(l){return l[7]||(l[7]=[])}function X_(l){return l.cleanup||(l.cleanup=[])}function Ds(l,c,d){return(null===l||Ps(l))&&(d=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function dd(l,c){const d=l[9],m=d?d.get(Wn,null):null;m&&m.handleError(c)}function Lh(l,c,d,m,y){for(let E=0;E<d.length;){const I=d[E++],M=d[E++],k=c[I],L=l.data[I];null!==L.setInput?L.setInput(k,y,m,M):k[M]=y}}function Nl(l,c,d){const m=Ks(c,l);!function(l,c,d){Ln(l)?l.setValue(c,d):c.textContent=d}(l[11],m,d)}function Pl(l,c,d){let m=d?l.styles:null,y=d?l.classes:null,E=0;if(null!==c)for(let I=0;I<c.length;I++){const M=c[I];"number"==typeof M?E=M:1==E?y=fe(y,M):2==E&&(m=fe(m,M+": "+c[++I]+";"))}d?l.styles=m:l.stylesWithoutHost=m,d?l.classes=y:l.classesWithoutHost=y}const bp=new Yi("INJECTOR",-1);class qo{get(c,d=vl){if(d===vl){const m=new Error(`NullInjectorError: No provider for ${ue(c)}!`);throw m.name="NullInjectorError",m}return d}}const wp=new Yi("Set Injector scope."),wu={},pb={};let zo;function Cp(){return void 0===zo&&(zo=new qo),zo}function Hr(l,c=null,d=null,m){const y=Cu(l,c,d,m);return y._resolveInjectorDefTypes(),y}function Cu(l,c=null,d=null,m){return new Ep(l,d,c||Cp(),m)}class Ep{constructor(c,d,m,y=null){this.parent=m,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const E=[];d&&Qi(d,M=>this.processProvider(M,c,d)),Qi([c],M=>this.processInjectorType(M,[],E)),this.records.set(bp,Eu(void 0,this));const I=this.records.get(wp);this.scope=null!=I?I.value:null,this.source=y||("object"==typeof c?null:ue(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,d=vl,m=gn.Default){this.assertNotDestroyed();const y=zc(this),E=Tr(void 0);try{if(!(m&gn.SkipSelf)){let M=this.records.get(c);if(void 0===M){const k=("function"==typeof(l=c)||"object"==typeof l&&l instanceof Yi)&&on(c);M=k&&this.injectableDefInScope(k)?Eu(xp(c),wu):null,this.records.set(c,M)}if(null!=M)return this.hydrate(c,M)}return(m&gn.Self?Cp():this.parent).get(c,d=m&gn.Optional&&d===vl?null:d)}catch(I){if("NullInjectorError"===I.name){if((I[Pa]=I[Pa]||[]).unshift(ue(c)),y)throw I;return function(l,c,d,m){const y=l[Pa];throw c[Af]&&y.unshift(c[Af]),l.message=function(l,c,d,m=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let y=ue(c);if(Array.isArray(c))y=c.map(ue).join(" -> ");else if("object"==typeof c){let E=[];for(let I in c)if(c.hasOwnProperty(I)){let M=c[I];E.push(I+":"+("string"==typeof M?JSON.stringify(M):ue(M)))}y=`{${E.join(", ")}}`}return`${d}${m?"("+m+")":""}[${y}]: ${l.replace(Bv,"\n  ")}`}("\n"+l.message,y,d,m),l.ngTokenPath=y,l[Pa]=null,l}(I,c,"R3InjectorError",this.source)}throw I}finally{Tr(E),zc(y)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((m,y)=>c.push(ue(y))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(c,d,m){if(!(c=te(c)))return!1;let y=Hi(c);const E=null==y&&c.ngModule||void 0,I=void 0===E?c:E,M=-1!==m.indexOf(I);if(void 0!==E&&(y=Hi(E)),null==y)return!1;if(null!=y.imports&&!M){let U;m.push(I);try{Qi(y.imports,K=>{this.processInjectorType(K,d,m)&&(void 0===U&&(U=[]),U.push(K))})}finally{}if(void 0!==U)for(let K=0;K<U.length;K++){const{ngModule:he,providers:Ee}=U[K];Qi(Ee,ze=>this.processProvider(ze,he,Ee||Zt))}}this.injectorDefTypes.add(I);const k=Pr(I)||(()=>new I);this.records.set(I,Eu(k,wu));const L=y.providers;if(null!=L&&!M){const U=c;Qi(L,K=>this.processProvider(K,U,L))}return void 0!==E&&void 0!==c.providers}processProvider(c,d,m){let y=hd(c=te(c))?c:te(c&&c.provide);const E=(l=c,ty(l)?Eu(void 0,l.useValue):Eu(ey(l),wu));var l;if(hd(c)||!0!==c.multi)this.records.get(y);else{let I=this.records.get(y);I||(I=Eu(void 0,wu,!0),I.factory=()=>Jd(I.multi),this.records.set(y,I)),y=c,I.multi.push(c)}this.records.set(y,E)}hydrate(c,d){return d.value===wu&&(d.value=pb,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(l=d.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var l}injectableDefInScope(c){if(!c.providedIn)return!1;const d=te(c.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function xp(l){const c=on(l),d=null!==c?c.factory:Pr(l);if(null!==d)return d;if(l instanceof Yi)throw new Error(`Token ${ue(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const c=l.length;if(c>0){const m=Wd(c,"?");throw new Error(`Can't resolve all parameters for ${ue(l)}: (${m.join(", ")}).`)}const d=function(l){const c=l&&(l[Ei]||l[Zl]);if(c){const d=function(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new Error("unreachable")}function ey(l,c,d){let m;if(hd(l)){const y=te(l);return Pr(y)||xp(y)}if(ty(l))m=()=>te(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))m=()=>l.useFactory(...Jd(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))m=()=>cr(te(l.useExisting));else{const y=te(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return Pr(y)||xp(y);m=()=>new y(...Jd(l.deps))}return m}function Eu(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function ty(l){return null!==l&&"object"==typeof l&&Df in l}function hd(l){return"function"==typeof l}let g=(()=>{class l{static create(d,m){var y;if(Array.isArray(d))return Hr({name:""},m,d,"");{const E=null!==(y=d.name)&&void 0!==y?y:"";return Hr({name:E},d.parent,d.providers,E)}}}return l.THROW_IF_NOT_FOUND=vl,l.NULL=new qo,l.\u0275prov=$t({token:l,providedIn:"any",factory:()=>cr(bp)}),l.__NG_ELEMENT_ID__=-1,l})();function kR(l,c){uf(uh(l)[1],Dt())}function gb(l){let c=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const m=[l];for(;c;){let y;if(Ps(l))y=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Error("Directives cannot inherit Components");y=c.\u0275dir}if(y){if(d){m.push(y);const I=l;I.inputs=Tp(l.inputs),I.declaredInputs=Tp(l.declaredInputs),I.outputs=Tp(l.outputs);const M=y.hostBindings;M&&xu(l,M);const k=y.viewQuery,L=y.contentQueries;if(k&&Uw(l,k),L&&jw(l,L),Oe(l.inputs,y.inputs),Oe(l.declaredInputs,y.declaredInputs),Oe(l.outputs,y.outputs),Ps(y)&&y.data.animation){const U=l.data;U.animation=(U.animation||[]).concat(y.data.animation)}}const E=y.features;if(E)for(let I=0;I<E.length;I++){const M=E[I];M&&M.ngInherit&&M(l),M===gb&&(d=!1)}}c=Object.getPrototypeOf(c)}!function(l){let c=0,d=null;for(let m=l.length-1;m>=0;m--){const y=l[m];y.hostVars=c+=y.hostVars,y.hostAttrs=xs(y.hostAttrs,d=xs(d,y.hostAttrs))}}(m)}function Tp(l){return l===gs?{}:l===Zt?[]:l}function Uw(l,c){const d=l.viewQuery;l.viewQuery=d?(m,y)=>{c(m,y),d(m,y)}:c}function jw(l,c){const d=l.contentQueries;l.contentQueries=d?(m,y,E)=>{c(m,y,E),d(m,y,E)}:c}function xu(l,c){const d=l.hostBindings;l.hostBindings=d?(m,y)=>{c(m,y),d(m,y)}:c}let Ip=null;function Bh(){if(!Ip){const l=Sn.Symbol;if(l&&l.iterator)Ip=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const m=c[d];"entries"!==m&&"size"!==m&&Map.prototype[m]===Map.prototype.entries&&(Ip=m)}}}return Ip}function pg(l){return!!p(l)&&(Array.isArray(l)||!(l instanceof Map)&&Bh()in l)}function p(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function w(l,c,d){return l[c]=d}function S(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function Fe(l,c,d,m){const y=de();return S(y,ec(),c)&&($e(),$a(Zi(),y,l,c,d,m)),Fe}function ht(l,c,d,m){return S(l,ec(),d)?c+Me(d)+m:tn}function CT(l,c,d,m,y,E,I,M){const k=de(),L=$e(),U=l+20,K=L.firstCreatePass?function(l,c,d,m,y,E,I,M,k){const L=c.consts,U=fu(c,l,4,I||null,es(L,M));_u(c,d,U,es(L,k)),uf(c,U);const K=U.tViews=eg(2,U,m,y,E,c.directiveRegistry,c.pipeRegistry,null,c.schemas,L);return null!==c.queries&&(c.queries.template(c,U),K.queries=c.queries.embeddedTView(U)),U}(U,L,k,c,d,m,y,E,I):L.data[U];vn(K,!1);const he=k[11].createComment("");fc(L,k,he,K),Vr(he,k),Nh(k,k[U]=kh(he,k,he,K)),ul(K)&&ob(L,k,K),null!=I&&ab(k,K,M)}function ET(l){return Fr(ln.lFrame.contextLView,20+l)}function Kw(l,c=gn.Default){const d=de();return null===d?cr(l,c):ka(Dt(),d,te(l),c)}function GR(){throw new Error("invalid")}function MT(l,c,d){const m=de();return S(m,ec(),c)&&Ho($e(),Zi(),m,l,c,m[11],d,!1),MT}function Ix(l,c,d,m,y){const I=y?"class":"style";Lh(l,d,c.inputs[I],I,m)}function Mx(l,c,d,m){const y=de(),E=$e(),I=20+l,M=y[11],k=y[I]=Ii(M,c,ln.lFrame.currentNamespace),L=E.firstCreatePass?function(l,c,d,m,y,E,I){const M=c.consts,L=fu(c,l,2,y,es(M,E));return _u(c,d,L,es(M,I)),null!==L.attrs&&Pl(L,L.attrs,!1),null!==L.mergedAttrs&&Pl(L,L.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,L),L}(I,E,y,0,c,d,m):E.data[I];vn(L,!0);const U=L.mergedAttrs;null!==U&&nc(M,k,U);const K=L.classes;null!==K&&kl(M,k,K);const he=L.styles;null!==he&&Kf(M,k,he),64!=(64&L.flags)&&fc(E,y,k,L),0===ln.lFrame.elementDepthCount&&Vr(k,y),ln.lFrame.elementDepthCount++,ul(L)&&(ob(E,y,L),za(E,L,y)),null!==m&&ab(y,L)}function vb(){let l=Dt();Cs()?ts():(l=l.parent,vn(l,!1));const c=l;ln.lFrame.elementDepthCount--;const d=$e();d.firstCreatePass&&(uf(d,l),Ws(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(c)&&Ix(d,c,de(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(c)&&Ix(d,c,de(),c.stylesWithoutHost,!1)}function $R(l,c,d,m){Mx(l,c,d,m),vb()}function OT(l,c,d){const m=de(),y=$e(),E=l+20,I=y.firstCreatePass?function(l,c,d,m,y){const E=c.consts,I=es(E,m),M=fu(c,l,8,"ng-container",I);return null!==I&&Pl(M,I,!0),_u(c,d,M,es(E,y)),null!==c.queries&&c.queries.elementStart(c,M),M}(E,y,m,c,d):y.data[E];vn(I,!0);const M=m[E]=m[11].createComment("");fc(y,m,M,I),Vr(M,m),ul(I)&&(ob(y,m,I),za(y,I,m)),null!=d&&ab(m,I)}function RT(){let l=Dt();const c=$e();Cs()?ts():(l=l.parent,vn(l,!1)),c.firstCreatePass&&(uf(c,l),Ws(l)&&c.queries.elementEnd(l))}function ZR(l,c,d){OT(l,c,d),RT()}function WR(){return de()}function NT(l){return!!l&&"function"==typeof l.then}function PT(l){return!!l&&"function"==typeof l.subscribe}const FT=PT;function kx(l,c,d,m){const y=de(),E=$e(),I=Dt();return YR(E,y,y[11],I,l,c,!!d,m),kx}function Ox(l,c){const d=Dt(),m=de(),y=$e();return YR(y,m,Ds(nf(y.data),d,m),d,l,c,!1),Ox}function YR(l,c,d,m,y,E,I,M){const k=ul(m),U=l.firstCreatePass&&X_(l),K=c[8],he=bu(c);let Ee=!0;if(3&m.type||M){const bt=Xr(m,c),Ft=M?M(bt):bt,Je=he.length,cn=M?Xn=>M(di(Xn[m.index])):m.index;if(Ln(d)){let Xn=null;if(!M&&k&&(Xn=function(l,c,d,m){const y=l.cleanup;if(null!=y)for(let E=0;E<y.length-1;E+=2){const I=y[E];if(I===d&&y[E+1]===m){const M=c[7],k=y[E+2];return M.length>k?M[k]:null}"string"==typeof I&&(E+=2)}return null}(l,c,y,m.index)),null!==Xn)(Xn.__ngLastListenerFn__||Xn).__ngNextListenerFn__=E,Xn.__ngLastListenerFn__=E,Ee=!1;else{E=BT(m,c,K,E,!1);const ui=d.listen(Ft,y,E);he.push(E,ui),U&&U.push(y,cn,Je,Je+1)}}else E=BT(m,c,K,E,!0),Ft.addEventListener(y,E,I),he.push(E),U&&U.push(y,cn,Je,I)}else E=BT(m,c,K,E,!1);const ze=m.outputs;let dt;if(Ee&&null!==ze&&(dt=ze[y])){const bt=dt.length;if(bt)for(let Ft=0;Ft<bt;Ft+=2){const Gr=c[dt[Ft]][dt[Ft+1]].subscribe(E),Up=he.length;he.push(E,Gr),U&&U.push(y,m.index,Up,-(Up+1))}}}function LT(l,c,d,m){try{return!1!==d(m)}catch(y){return dd(l,y),!1}}function BT(l,c,d,m,y){return function E(I){if(I===Function)return m;const M=2&l.flags?Lr(l.index,c):c;0==(32&c[2])&&Za(M);let k=LT(c,0,m,I),L=E.__ngNextListenerFn__;for(;L;)k=LT(c,0,L,I)&&k,L=L.__ngNextListenerFn__;return y&&!1===k&&(I.preventDefault(),I.returnValue=!1),k}}function Rx(l=1){return function(l){return(ln.lFrame.contextLView=function(l,c){for(;l>0;)c=c[15],l--;return c}(l,ln.lFrame.contextLView))[8]}(l)}function gg(l,c){let d=null;const m=function(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let y=0;y<c.length;y++){const E=c[y];if("*"!==E){if(null===m?k_(l,E,!0):vh(m,E))return y}else d=y}return d}function VT(l){const c=de()[16][6];if(!c.projection){const m=c.projection=Wd(l?l.length:1,null),y=m.slice();let E=c.child;for(;null!==E;){const I=l?gg(E,l):0;null!==I&&(y[I]?y[I].projectionNext=E:m[I]=E,y[I]=E),E=E.next}}}function UT(l,c=0,d){const m=de(),y=$e(),E=fu(y,20+l,16,null,d||null);null===E.projection&&(E.projection=c),ts(),64!=(64&E.flags)&&function(l,c,d){I_(c[11],0,c,d,ru(l,d,c),zm(d.parent||c[6],d,c))}(y,m,E)}function Nx(l,c,d){return jT(l,"",c,"",d),Nx}function jT(l,c,d,m,y){const E=de(),I=ht(E,c,d,m);return I!==tn&&Ho($e(),Zi(),E,l,I,E[11],y,!1),jT}function ZT(l,c,d,m,y){const E=l[d+1],I=null===c;let M=m?js(E):ja(E),k=!1;for(;0!==M&&(!1===k||I);){const U=l[M+1];qr(l[M],c)&&(k=!0,l[M+1]=m?tp(U):uu(U)),M=m?js(U):ja(U)}k&&(l[d+1]=m?uu(E):tp(E))}function qr(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&fa(l,c)>=0}const qs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(l){return l.substring(qs.key,qs.keyEnd)}function WT(l,c){const d=qs.textEnd;return d===c?-1:(c=qs.keyEnd=function(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,qs.key=c,d),cy(l,c,d))}function cy(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function uy(l,c,d){return Su(l,c,d,!1),uy}function dy(l,c){return Su(l,c,null,!0),dy}function Du(l,c){for(let d=function(l){return function(l){qs.key=0,qs.keyEnd=0,qs.value=0,qs.valueEnd=0,qs.textEnd=l.length}(l),WT(l,cy(l,0,qs.textEnd))}(c);d>=0;d=WT(c,d))Js(l,bb(c),!0)}function Su(l,c,d,m){const y=de(),E=$e(),I=ua(2);E.firstUpdatePass&&Vx(E,l,I,m),c!==tn&&S(y,I,c)&&nC(E,E.data[Br()],y,y[11],l,y[I+1]=function(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=ue(Wc(l)))),l}(c,d),m,I)}function hy(l,c){return c>=l.expandoStartIndex}function Vx(l,c,d,m){const y=l.data;if(null===y[d+1]){const E=y[Br()],I=hy(l,d);iC(E,m)&&null===c&&!I&&(c=!1),c=function(l,c,d,m){const y=nf(l);let E=m?c.residualClasses:c.residualStyles;if(null===y)0===(m?c.classBindings:c.styleBindings)&&(d=wb(d=Ux(null,l,c,d,m),c.attrs,m),E=null);else{const I=c.directiveStylingLast;if(-1===I||l[I]!==y)if(d=Ux(y,l,c,d,m),null===E){let k=function(l,c,d){const m=d?c.classBindings:c.styleBindings;if(0!==ja(m))return l[js(m)]}(l,c,m);void 0!==k&&Array.isArray(k)&&(k=Ux(null,l,c,k[1],m),k=wb(k,c.attrs,m),function(l,c,d,m){l[js(d?c.classBindings:c.styleBindings)]=m}(l,c,m,k))}else E=function(l,c,d){let m;const y=c.directiveEnd;for(let E=1+c.directiveStylingLast;E<y;E++)m=wb(m,l[E].hostAttrs,d);return wb(m,c.attrs,d)}(l,c,m)}return void 0!==E&&(m?c.residualClasses=E:c.residualStyles=E),d}(y,E,c,m),function(l,c,d,m,y,E){let I=E?c.classBindings:c.styleBindings,M=js(I),k=ja(I);l[m]=d;let U,L=!1;if(Array.isArray(d)){const K=d;U=K[1],(null===U||fa(K,U)>0)&&(L=!0)}else U=d;if(y)if(0!==k){const he=js(l[M+1]);l[m+1]=ep(he,M),0!==he&&(l[he+1]=du(l[he+1],m)),l[M+1]=function(l,c){return 131071&l|c<<17}(l[M+1],m)}else l[m+1]=ep(M,0),0!==M&&(l[M+1]=du(l[M+1],m)),M=m;else l[m+1]=ep(k,0),0===M?M=m:l[k+1]=du(l[k+1],m),k=m;L&&(l[m+1]=uu(l[m+1])),ZT(l,U,m,!0),ZT(l,U,m,!1),function(l,c,d,m,y){const E=y?l.residualClasses:l.residualStyles;null!=E&&"string"==typeof c&&fa(E,c)>=0&&(d[m+1]=tp(d[m+1]))}(c,U,l,m,E),I=ep(M,k),E?c.classBindings=I:c.styleBindings=I}(y,E,c,d,I,m)}}function Ux(l,c,d,m,y){let E=null;const I=d.directiveEnd;let M=d.directiveStylingLast;for(-1===M?M=d.directiveStart:M++;M<I&&(E=c[M],m=wb(m,E.hostAttrs,y),E!==l);)M++;return null!==l&&(d.directiveStylingLast=M),m}function wb(l,c,d){const m=d?1:2;let y=-1;if(null!==c)for(let E=0;E<c.length;E++){const I=c[E];"number"==typeof I?y=I:y===m&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Js(l,I,!!d||c[++E]))}return void 0===l?null:l}function nC(l,c,d,m,y,E,I,M){if(!(3&c.type))return;const k=l.data,L=k[M+1];Mp(function(l){return 1==(1&l)}(L)?jx(k,c,d,y,ja(L),I):void 0)||(Mp(E)||function(l){return 2==(2&l)}(L)&&(E=jx(k,null,d,y,M,I)),function(l,c,d,m,y){const E=Ln(l);if(c)y?E?l.addClass(d,m):d.classList.add(m):E?l.removeClass(d,m):d.classList.remove(m);else{let I=-1===m.indexOf("-")?void 0:Ba.DashCase;if(null==y)E?l.removeStyle(d,m,I):d.style.removeProperty(m);else{const M="string"==typeof y&&y.endsWith("!important");M&&(y=y.slice(0,-10),I|=Ba.Important),E?l.setStyle(d,m,y,I):d.style.setProperty(m,y,M?"important":"")}}}(m,I,Ks(Br(),d),y,E))}function jx(l,c,d,m,y,E){const I=null===c;let M;for(;y>0;){const k=l[y],L=Array.isArray(k),U=L?k[1]:k,K=null===U;let he=d[y+1];he===tn&&(he=K?Zt:void 0);let Ee=K?Yd(he,m):U===m?he:void 0;if(L&&!Mp(Ee)&&(Ee=Yd(k,m)),Mp(Ee)&&(M=Ee,I))return M;const ze=l[y+1];y=I?js(ze):ja(ze)}if(null!==c){let k=E?c.residualClasses:c.residualStyles;null!=k&&(M=Yd(k,m))}return M}function Mp(l){return void 0!==l}function iC(l,c){return 0!=(l.flags&(c?16:32))}function rC(l,c=""){const d=de(),m=$e(),y=l+20,E=m.firstCreatePass?fu(m,y,1,c,null):m.data[y],I=d[y]=function(l,c){return Ln(l)?l.createText(c):l.createTextNode(c)}(d[11],c);fc(m,d,I,E),vn(E,!1)}function Hx(l){return fy("",l,""),Hx}function fy(l,c,d){const m=de(),y=ht(m,l,c,d);return y!==tn&&Nl(m,Br(),y),fy}function qx(l,c,d){!function(l,c,d,m){const y=$e(),E=ua(2);y.firstUpdatePass&&Vx(y,null,E,m);const I=de();if(d!==tn&&S(I,E,d)){const M=y.data[Br()];if(iC(M,m)&&!hy(y,E)){let k=m?M.classesWithoutHost:M.stylesWithoutHost;null!==k&&(d=fe(k,d||"")),Ix(y,M,I,d,m)}else!function(l,c,d,m,y,E,I,M){y===tn&&(y=Zt);let k=0,L=0,U=0<y.length?y[0]:null,K=0<E.length?E[0]:null;for(;null!==U||null!==K;){const he=k<y.length?y[k+1]:void 0,Ee=L<E.length?E[L+1]:void 0;let dt,ze=null;U===K?(k+=2,L+=2,he!==Ee&&(ze=K,dt=Ee)):null===K||null!==U&&U<K?(k+=2,ze=U):(L+=2,ze=K,dt=Ee),null!==ze&&nC(l,c,d,m,ze,dt,I,M),U=k<y.length?y[k]:null,K=L<E.length?E[L]:null}}(y,M,I,I[11],I[E+1],I[E+1]=function(l,c,d){if(null==d||""===d)return Zt;const m=[],y=Wc(d);if(Array.isArray(y))for(let E=0;E<y.length;E++)l(m,y[E],!0);else if("object"==typeof y)for(const E in y)y.hasOwnProperty(E)&&l(m,E,y[E]);else"string"==typeof y&&c(m,y);return m}(l,c,d),m,E)}}(Js,Du,ht(de(),l,c,d),!0)}function uC(l,c,d){const m=de();return S(m,ec(),c)&&Ho($e(),Zi(),m,l,c,m[11],d,!0),uC}function dC(l,c,d){const m=de();if(S(m,ec(),c)){const E=$e(),I=Zi();Ho(E,I,m,l,c,Ds(nf(E.data),I,m),d,!0)}return dC}const kp=void 0;var gN=["en",[["a","p"],["AM","PM"],kp],[["AM","PM"],kp,kp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kp,"{1} 'at' {0}",kp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const d=Math.floor(Math.abs(l)),m=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===m?1:5}];let xb={};function Ab(l){const c=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=cI(c);if(d)return d;const m=c.split("-")[0];if(d=cI(m),d)return d;if("en"===m)return gN;throw new Error(`Missing locale data for the locale "${l}".`)}function _N(l){return Ab(l)[hn.PluralCase]}function cI(l){return l in xb||(xb[l]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[l]),xb[l]}var hn=(()=>((hn=hn||{})[hn.LocaleId=0]="LocaleId",hn[hn.DayPeriodsFormat=1]="DayPeriodsFormat",hn[hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",hn[hn.DaysFormat=3]="DaysFormat",hn[hn.DaysStandalone=4]="DaysStandalone",hn[hn.MonthsFormat=5]="MonthsFormat",hn[hn.MonthsStandalone=6]="MonthsStandalone",hn[hn.Eras=7]="Eras",hn[hn.FirstDayOfWeek=8]="FirstDayOfWeek",hn[hn.WeekendRange=9]="WeekendRange",hn[hn.DateFormat=10]="DateFormat",hn[hn.TimeFormat=11]="TimeFormat",hn[hn.DateTimeFormat=12]="DateTimeFormat",hn[hn.NumberSymbols=13]="NumberSymbols",hn[hn.NumberFormats=14]="NumberFormats",hn[hn.CurrencyCode=15]="CurrencyCode",hn[hn.CurrencySymbol=16]="CurrencySymbol",hn[hn.CurrencyName=17]="CurrencyName",hn[hn.Currencies=18]="Currencies",hn[hn.Directionality=19]="Directionality",hn[hn.PluralCase=20]="PluralCase",hn[hn.ExtraData=21]="ExtraData",hn))();const Jx="en-US";let dI=Jx;function yy(l,c,d,m,y){if(l=te(l),Array.isArray(l))for(let E=0;E<l.length;E++)yy(l[E],c,d,m,y);else{const E=$e(),I=de();let M=hd(l)?l:te(l.provide),k=ey(l);const L=Dt(),U=1048575&L.providerIndexes,K=L.directiveStart,he=L.providerIndexes>>20;if(hd(l)||!l.multi){const Ee=new Gu(k,y,Kw),ze=vy(M,c,y?U:U+he,K);-1===ze?(Ma(Wu(L,I),E,M),Cg(E,l,c.length),c.push(M),L.directiveStart++,L.directiveEnd++,y&&(L.providerIndexes+=1048576),d.push(Ee),I.push(Ee)):(d[ze]=Ee,I[ze]=Ee)}else{const Ee=vy(M,c,U+he,K),ze=vy(M,c,U,U+he),dt=Ee>=0&&d[Ee],bt=ze>=0&&d[ze];if(y&&!bt||!y&&!dt){Ma(Wu(L,I),E,M);const Ft=function(l,c,d,m,y){const E=new Gu(l,d,Kw);return E.multi=[],E.index=c,E.componentProviders=0,Ob(E,y,m&&!d),E}(y?hA:MN,d.length,y,m,k);!y&&bt&&(d[ze].providerFactory=Ft),Cg(E,l,c.length,0),c.push(M),L.directiveStart++,L.directiveEnd++,y&&(L.providerIndexes+=1048576),d.push(Ft),I.push(Ft)}else Cg(E,l,Ee>-1?Ee:ze,Ob(d[y?ze:Ee],k,!y&&m));!y&&m&&bt&&d[ze].componentProviders++}}}function Cg(l,c,d,m){const y=hd(c),E=function(l){return!!l.useClass}(c);if(y||E){const k=(E?te(c.useClass):c).prototype.ngOnDestroy;if(k){const L=l.destroyHooks||(l.destroyHooks=[]);if(!y&&c.multi){const U=L.indexOf(d);-1===U?L.push(d,[m,k]):L[U+1].push(m,k)}else L.push(d,k)}}}function Ob(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function vy(l,c,d,m){for(let y=d;y<m;y++)if(c[y]===l)return y;return-1}function MN(l,c,d,m){return by(this.multi,[])}function hA(l,c,d,m){const y=this.multi;let E;if(this.providerFactory){const I=this.providerFactory.componentProviders,M=rc(d,d[1],this.providerFactory.index,m);E=M.slice(0,I),by(y,E);for(let k=I;k<M.length;k++)E.push(M[k])}else E=[],by(y,E);return E}function by(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function NI(l,c=[]){return d=>{d.providersResolver=(m,y)=>function(l,c,d){const m=$e();if(m.firstCreatePass){const y=Ps(l);yy(d,m.data,m.blueprint,y,!0),yy(c,m.data,m.blueprint,y,!1)}}(m,y?y(l):l,c)}}class FI{}class ON{resolveComponentFactory(c){throw function(l){const c=Error(`No component factory found for ${ue(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Eg=(()=>{class l{}return l.NULL=new ON,l})();function RN(){return xg(Dt(),de())}function xg(l,c){return new Ag(Xr(l,c))}let Ag=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=RN,l})();function wC(l){return l instanceof Ag?l.nativeElement:l}class wy{}let CC=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function(){const l=de(),d=Lr(Dt().index,l);return function(l){return l[11]}(qi(d)?d:l)}(),l})(),NN=(()=>{class l{}return l.\u0275prov=$t({token:l,providedIn:"root",factory:()=>null}),l})();class EC{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const fA=new EC("13.1.1"),Nb={};function Pb(l,c,d,m,y=!1){for(;null!==d;){const E=c[d.index];if(null!==E&&m.push(di(E)),Pi(E))for(let M=10;M<E.length;M++){const k=E[M],L=k[1].firstChild;null!==L&&Pb(k[1],k,L,m)}const I=d.type;if(8&I)Pb(l,c,d.child,m);else if(32&I){const M=bo(d,c);let k;for(;k=M();)m.push(k)}else if(16&I){const M=Rn(c,d);if(Array.isArray(M))m.push(...M);else{const k=On(c[16]);Pb(k[1],k,M,m,!0)}}d=y?d.projectionNext:d.next}return m}class Dg{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return Pb(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Pi(c)){const d=c[8],m=d?d.indexOf(this):-1;m>-1&&(Ua(c,m),Fo(d,m))}this._attachedToViewContainer=!1}br(this._lView[1],this._lView)}onDestroy(c){hp(this._lView[1],this._lView,null,c)}markForCheck(){Za(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){og(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,c,d){Vd(!0);try{og(l,c,d)}finally{Vd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var c;this._appRef=null,au(this._lView[1],c=this._lView,c[11],2,null,null)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}}class pA extends Dg{constructor(c){super(c),this._view=c}detectChanges(){yp(this._view)}checkNoChanges(){!function(l){Vd(!0);try{yp(l)}finally{Vd(!1)}}(this._view)}get context(){return null}}class Rp extends Eg{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=ut(c);return new wc(d,this.ngModule)}}function Ey(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}const PN=new Yi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ma});class wc extends FI{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=c.selectors.map(In).join(","),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return Ey(this.componentDef.inputs)}get outputs(){return Ey(this.componentDef.outputs)}create(c,d,m,y){const E=(y=y||this.ngModule)?function(l,c){return{get:(d,m,y)=>{const E=l.get(d,Nb,y);return E!==Nb||m===Nb?E:c.get(d,m,y)}}}(c,y.injector):c,I=E.get(wy,ho),M=E.get(NN,null),k=I.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",U=m?function(l,c,d){if(Ln(l))return l.selectRootElement(c,d===zn.ShadowDom);let m="string"==typeof c?l.querySelector(c):c;return m.textContent="",m}(k,m,this.componentDef.encapsulation):Ii(I.createRenderer(null,this.componentDef),L,function(l){const c=l.toLowerCase();return"svg"===c?yn:"math"===c?"http://www.w3.org/1998/MathML/":null}(L)),K=this.componentDef.onPush?576:528,he=function(l,c){return{components:[],scheduler:l||ma,clean:fb,playerHandler:c||null,flags:0}}(),Ee=eg(0,null,null,1,0,null,null,null,null,null),ze=cp(null,Ee,he,K,null,null,I,k,M,E);let dt,bt;zu(ze);try{const Ft=function(l,c,d,m,y,E){const I=d[1];d[20]=l;const k=fu(I,20,2,"#host",null),L=k.mergedAttrs=c.hostAttrs;null!==L&&(Pl(k,L,!0),null!==l&&(nc(y,l,L),null!==k.classes&&kl(y,l,k.classes),null!==k.styles&&Kf(y,l,k.styles)));const U=m.createRenderer(l,c),K=cp(d,lb(c),null,c.onPush?64:16,d[20],k,m,U,E||null,null);return I.firstCreatePass&&(Ma(Wu(k,d),I,c.type),ig(I,k),gp(k,d.length,1)),Nh(d,K),d[20]=K}(U,this.componentDef,ze,I,k);if(U)if(m)nc(k,U,["ng-version",fA.full]);else{const{attrs:Je,classes:cn}=function(l){const c=[],d=[];let m=1,y=2;for(;m<l.length;){let E=l[m];if("string"==typeof E)2===y?""!==E&&c.push(E,l[++m]):8===y&&d.push(E);else{if(!Nn(y))break;y=E}m++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);Je&&nc(k,U,Je),cn&&cn.length>0&&kl(k,U,cn.join(" "))}if(bt=ju(Ee,20),void 0!==d){const Je=bt.projection=[];for(let cn=0;cn<this.ngContentSelectors.length;cn++){const Xn=d[cn];Je.push(null!=Xn?Array.from(Xn):null)}}dt=function(l,c,d,m,y){const E=d[1],I=function(l,c,d){const m=Dt();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),ub(l,m,c,Sh(l,c,1,null),d));const y=rc(c,l,m.directiveStart,m);Vr(y,c);const E=Xr(m,c);return E&&Vr(E,c),y}(E,d,c);if(m.components.push(I),l[8]=I,y&&y.forEach(k=>k(I,c)),c.contentQueries){const k=Dt();c.contentQueries(1,I,k.directiveStart)}const M=Dt();return!E.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Bs(M.index),jr(d[1],M,0,M.directiveStart,M.directiveEnd,c),ng(c,I)),I}(Ft,this.componentDef,ze,he,[kR]),pu(Ee,ze,null)}finally{jd()}return new LU(this.componentType,dt,xg(bt,ze),ze,bt)}}class LU extends class{}{constructor(c,d,m,y,E){super(),this.location=m,this._rootLView=y,this._tNode=E,this.instance=d,this.hostView=this.changeDetectorRef=new pA(y),this.componentType=c}get injector(){return new ml(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}class Lb{}class UI{}const Sg=new Map;class HI extends Lb{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Rp(this);const m=dn(c);this._bootstrapComponents=Bo(m.bootstrap),this._r3Injector=Cu(c,d,[{provide:Lb,useValue:this},{provide:Eg,useValue:this.componentFactoryResolver}],ue(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,d=g.THROW_IF_NOT_FOUND,m=gn.Default){return c===g||c===Lb||c===bp?this:this._r3Injector.get(c,d,m)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class qI extends UI{constructor(c){super(),this.moduleType=c,null!==dn(c)&&function(l){const c=new Set;!function d(m){const y=dn(m,!0),E=y.id;null!==E&&(function(l,c,d){if(c&&c!==d)throw new Error(`Duplicate module registered for ${l} - ${ue(c)} vs ${ue(c.name)}`)}(E,Sg.get(E),m),Sg.set(E,m));const I=Bo(y.imports);for(const M of I)c.has(M)||(c.add(M),d(M))}(l)}(c)}create(c){return new HI(this.moduleType,c)}}function _A(l,c,d){const m=ns()+l,y=de();return y[m]===tn?w(y,m,d?c.call(d):c()):function(l,c){return l[c]}(y,m)}function zI(l,c,d,m){return xC(de(),ns(),l,c,d,m)}function yA(l,c,d,m,y){return function(l,c,d,m,y,E,I){const M=c+d;return function(l,c,d,m){const y=S(l,c,d);return S(l,c+1,m)||y}(l,M,y,E)?w(l,M+2,I?m.call(I,y,E):m(y,E)):Bb(l,M+2)}(de(),ns(),l,c,d,m,y)}function Bb(l,c){const d=l[c];return d===tn?void 0:d}function xC(l,c,d,m,y,E){const I=c+d;return S(l,I,y)?w(l,I+1,E?m.call(E,y):m(y)):Bb(l,I+1)}function Vb(l,c){const d=$e();let m;const y=l+20;d.firstCreatePass?(m=function(l,c){if(c)for(let d=c.length-1;d>=0;d--){const m=c[d];if(l===m.name)return m}}(c,d.pipeRegistry),d.data[y]=m,m.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(y,m.onDestroy)):m=d.data[y];const E=m.factory||(m.factory=Pr(m.type)),I=Tr(Kw);try{const M=Qs(!1),k=E();return Qs(M),function(l,c,d,m){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=m}(d,de(),y,k),k}finally{Tr(I)}}function wA(l,c,d){const m=l+20,y=de(),E=Fr(y,m);return function(l,c){return l[1].data[c].pure}(y,m)?xC(y,ns(),c,E.transform,d,E):E.transform(d)}function YI(l){return c=>{setTimeout(l,void 0,c)}}const Cc=class extends V.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,m){var y,E,I;let M=c,k=d||(()=>null),L=m;if(c&&"object"==typeof c){const K=c;M=null===(y=K.next)||void 0===y?void 0:y.bind(K),k=null===(E=K.error)||void 0===E?void 0:E.bind(K),L=null===(I=K.complete)||void 0===I?void 0:I.bind(K)}this.__isAsync&&(k=YI(k),M&&(M=YI(M)),L&&(L=YI(L)));const U=super.subscribe({next:M,error:k,complete:L});return c instanceof o.w0&&c.add(U),U}};function GN(){return this._results[Bh()]()}class Ub{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Bh(),m=Ub.prototype;m[d]||(m[d]=GN)}get changes(){return this._changes||(this._changes=new Cc)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const m=this;m.dirty=!1;const y=As(c);(this._changesDetected=!function(l,c,d){if(l.length!==c.length)return!1;for(let m=0;m<l.length;m++){let y=l[m],E=c[m];if(d&&(y=d(y),E=d(E)),E!==y)return!1}return!0}(m._results,y,d))&&(m._results=y,m.length=y.length,m.last=y[this.length-1],m.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Dy=(()=>{class l{}return l.__NG_ELEMENT_ID__=KI,l})();const DC=Dy,$N=class extends DC{constructor(c,d,m){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=m}createEmbeddedView(c){const d=this._declarationTContainer.tViews,m=cp(this._declarationLView,d,c,16,null,d.declTNode,null,null,null,null);m[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(m[19]=E.createEmbeddedView(d)),pu(d,m,c),new Dg(m)}};function KI(){return SC(Dt(),de())}function SC(l,c){return 4&l.type?new $N(c,l,xg(l,c)):null}let jb=(()=>{class l{}return l.__NG_ELEMENT_ID__=ZN,l})();function ZN(){return Hb(Dt(),de())}const WN=jb,yd=class extends WN{constructor(c,d,m){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=m}get element(){return xg(this._hostTNode,this._hostLView)}get injector(){return new ml(this._hostTNode,this._hostLView)}get parentInjector(){const c=Gd(this._hostTNode,this._hostLView);if(Kn(c)){const d=Pt(c,this._hostLView),m=Pc(c);return new ml(d[1].data[m+8],d)}return new ml(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=TC(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,m){const y=c.createEmbeddedView(d||{});return this.insert(y,m),y}createComponent(c,d,m,y,E){const I=c&&!("function"==typeof c);let M;if(I)M=d;else{const K=d||{};M=K.index,m=K.injector,y=K.projectableNodes,E=K.ngModuleRef}const k=I?c:new wc(ut(c)),L=m||this.parentInjector;if(!E&&null==k.ngModule&&L){const K=L.get(Lb,null);K&&(E=K)}const U=k.create(L,y,void 0,E);return this.insert(U.hostView,M),U}insert(c,d){const m=c._lView,y=m[1];if(Pi(m[3])){const U=this.indexOf(c);if(-1!==U)this.detach(U);else{const K=m[3],he=new yd(K,K[6],K[3]);he.detach(he.indexOf(c))}}const E=this._adjustIndex(d),I=this._lContainer;!function(l,c,d,m){const y=10+m,E=d.length;m>0&&(d[y-1][4]=c),m<E-10?(c[4]=d[y],yl(d,10+m,c)):(d.push(c),c[4]=null),c[3]=d;const I=c[17];null!==I&&d!==I&&function(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(I,c);const M=c[19];null!==M&&M.insertView(l),c[2]|=128}(y,m,I,E);const M=ou(E,I),k=m[11],L=Wf(k,I[7]);return null!==L&&function(l,c,d,m,y,E){m[0]=y,m[6]=c,au(l,m,d,1,y,E)}(y,I[6],k,m,L,M),c.attachToViewContainerRef(),yl(EA(I),E,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=TC(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),m=Ua(this._lContainer,d);m&&(Fo(EA(this._lContainer),d),br(m[1],m))}detach(c){const d=this._adjustIndex(c,-1),m=Ua(this._lContainer,d);return m&&null!=Fo(EA(this._lContainer),d)?new Dg(m):null}_adjustIndex(c,d=0){return null==c?this.length+d:c}};function TC(l){return l[8]}function EA(l){return l[8]||(l[8]=[])}function Hb(l,c){let d;const m=c[l.index];if(Pi(m))d=m;else{let y;if(8&l.type)y=di(m);else{const E=c[11];y=E.createComment("");const I=Xr(l,c);Ml(E,Wf(E,I),y,function(l,c){return Ln(l)?l.nextSibling(c):c.nextSibling}(E,I),!1)}c[l.index]=d=kh(m,c,y,l),Nh(c,d)}return new yd(d,l,c)}class IC{constructor(c){this.queryList=c,this.matches=null}clone(){return new IC(this.queryList)}setDirty(){this.queryList.setDirty()}}class xA{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const m=null!==c.contentQueries?c.contentQueries[0]:d.length,y=[];for(let E=0;E<m;E++){const I=d.getByIndex(E);y.push(this.queries[I.indexInDeclarationView].clone())}return new xA(y)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==Ig(c,d).matches&&this.queries[d].setDirty()}}class AA{constructor(c,d,m=null){this.predicate=c,this.flags=d,this.read=m}}class JI{constructor(c=[]){this.queries=c}elementStart(c,d){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let m=0;m<this.length;m++){const y=null!==d?d.length:0,E=this.getByIndex(m).embeddedTView(c,y);E&&(E.indexInDeclarationView=m,null!==d?d.push(E):d=[E])}return null!==d?new JI(d):null}template(c,d){for(let m=0;m<this.queries.length;m++)this.queries[m].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class XI{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new XI(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let m=c.parent;for(;null!==m&&8&m.type&&m.index!==d;)m=m.parent;return d===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const m=this.metadata.predicate;if(Array.isArray(m))for(let y=0;y<m.length;y++){const E=m[y];this.matchTNodeWithReadOption(c,d,jU(d,E)),this.matchTNodeWithReadOption(c,d,Vs(d,c,E,!1,!1))}else m===Dy?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Vs(d,c,m,!1,!1))}matchTNodeWithReadOption(c,d,m){if(null!==m){const y=this.metadata.read;if(null!==y)if(y===Ag||y===jb||y===Dy&&4&d.type)this.addMatch(d.index,-2);else{const E=Vs(d,c,y,!1,!1);null!==E&&this.addMatch(d.index,E)}else this.addMatch(d.index,m)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function jU(l,c){const d=l.localNames;if(null!==d)for(let m=0;m<d.length;m+=2)if(d[m]===c)return d[m+1];return null}function KN(l,c,d,m){return-1===d?function(l,c){return 11&l.type?xg(l,c):4&l.type?SC(l,c):null}(c,l):-2===d?function(l,c,d){return d===Ag?xg(c,l):d===Dy?SC(c,l):d===jb?Hb(c,l):void 0}(l,c,m):rc(l,l[1],d,c)}function n1(l,c,d,m){const y=c[19].queries[m];if(null===y.matches){const E=l.data,I=d.matches,M=[];for(let k=0;k<I.length;k+=2){const L=I[k];M.push(L<0?null:KN(c,E[L],I[k+1],d.metadata.read))}y.matches=M}return y.matches}function MC(l,c,d,m){const y=l.queries.getByIndex(d),E=y.matches;if(null!==E){const I=n1(l,c,y,d);for(let M=0;M<E.length;M+=2){const k=E[M];if(k>0)m.push(I[M/2]);else{const L=E[M+1],U=c[-k];for(let K=10;K<U.length;K++){const he=U[K];he[17]===he[3]&&MC(he[1],he,L,m)}if(null!==U[9]){const K=U[9];for(let he=0;he<K.length;he++){const Ee=K[he];MC(Ee[1],Ee,L,m)}}}}}return m}function QN(l){const c=de(),d=$e(),m=rf();sf(m+1);const y=Ig(d,m);if(l.dirty&&Hu(c)===(2==(2&y.metadata.flags))){if(null===y.matches)l.reset([]);else{const E=y.crossesNgTemplate?MC(d,c,m,[]):n1(d,c,y,m);l.reset(E,wC),l.notifyOnChanges()}return!0}return!1}function jt(l,c,d){const m=$e();m.firstCreatePass&&(vd(m,new AA(l,c,d),-1),2==(2&c)&&(m.staticViewQueries=!0)),ls(m,de(),c)}function Ya(l,c,d,m){const y=$e();if(y.firstCreatePass){const E=Dt();vd(y,new AA(c,d,m),E.index),function(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(y,l),2==(2&d)&&(y.staticContentQueries=!0)}ls(y,de(),d)}function DA(){return l=de(),c=rf(),l[19].queries[c].queryList;var l,c}function ls(l,c,d){const m=new Ub(4==(4&d));hp(l,c,m,m.destroy),null===c[19]&&(c[19]=new xA),c[19].queries.push(new IC(m))}function vd(l,c,d){null===l.queries&&(l.queries=new JI),l.queries.track(new XI(c,d))}function Ig(l,c){return l.queries.getByIndex(c)}function LC(...l){}const c1=new Yi("Application Initializer");let Wb=(()=>{class l{constructor(d){this.appInits=d,this.resolve=LC,this.reject=LC,this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,y)=>{this.resolve=m,this.reject=y})}runInitializers(){if(this.initialized)return;const d=[],m=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let y=0;y<this.appInits.length;y++){const E=this.appInits[y]();if(NT(E))d.push(E);else if(FT(E)){const I=new Promise((M,k)=>{E.subscribe({complete:M,error:k})});d.push(I)}}Promise.all(d).then(()=>{m()}).catch(y=>{this.reject(y)}),0===d.length&&m(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(cr(c1,8))},l.\u0275prov=$t({token:l,factory:l.\u0275fac}),l})();const lP=new Yi("AppId"),WU={provide:lP,useFactory:function(){return`${u1()}${u1()}${u1()}`},deps:[]};function u1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cP=new Yi("Platform Initializer"),uP=new Yi("Platform ID"),d1=new Yi("appBootstrapListener");let dP=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=$t({token:l,factory:l.\u0275fac}),l})();const OA=new Yi("LocaleId"),hP=new Yi("DefaultCurrencyCode");class YU{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let f1=(()=>{class l{compileModuleSync(d){return new qI(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const m=this.compileModuleSync(d),E=Bo(dn(d).declarations).reduce((I,M)=>{const k=ut(M);return k&&I.push(new wc(k)),I},[]);return new YU(m,E)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=$t({token:l,factory:l.\u0275fac}),l})();const QU=(()=>Promise.resolve(0))();function p1(l){"undefined"==typeof Zone?QU.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Ec{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cc(!1),this.onMicrotaskEmpty=new Cc(!1),this.onStable=new Cc(!1),this.onError=new Cc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!m&&d,y.shouldCoalesceRunChangeDetection=m,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function(){let l=Sn.requestAnimationFrame,c=Sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const m=c[Zone.__symbol__("OriginalDelegate")];m&&(c=m)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function(l){const c=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Sn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,g1(l),l.isCheckStableRunning=!0,m1(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),g1(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,m,y,E,I,M)=>{try{return fP(l),d.invokeTask(y,E,I,M)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||l.shouldCoalesceRunChangeDetection)&&c(),pP(l)}},onInvoke:(d,m,y,E,I,M,k)=>{try{return fP(l),d.invoke(y,E,I,M,k)}finally{l.shouldCoalesceRunChangeDetection&&c(),pP(l)}},onHasTask:(d,m,y,E)=>{d.hasTask(y,E),m===y&&("microTask"==E.change?(l._hasPendingMicrotasks=E.microTask,g1(l),m1(l)):"macroTask"==E.change&&(l.hasPendingMacrotasks=E.macroTask))},onHandleError:(d,m,y,E)=>(d.handleError(y,E),l.runOutsideAngular(()=>l.onError.emit(E)),!1)})}(y)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ec.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ec.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,d,m){return this._inner.run(c,d,m)}runTask(c,d,m,y){const E=this._inner,I=E.scheduleEventTask("NgZoneEvent: "+y,c,XU,LC,LC);try{return E.runTask(I,d,m)}finally{E.cancelTask(I)}}runGuarded(c,d,m){return this._inner.runGuarded(c,d,m)}runOutsideAngular(c){return this._outer.run(c)}}const XU={};function m1(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function g1(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function fP(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function pP(l){l._nesting--,m1(l)}class nj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cc,this.onMicrotaskEmpty=new Cc,this.onStable=new Cc,this.onError=new Cc}run(c,d,m){return c.apply(d,m)}runGuarded(c,d,m){return c.apply(d,m)}runOutsideAngular(c){return c()}runTask(c,d,m,y){return c.apply(d,m)}}let mP=(()=>{class l{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ec.assertNotInAngularZone(),p1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())p1(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(d)||(clearTimeout(m.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,m,y){let E=-1;m&&m>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==E),d(this._didWork,this.getPendingTasks())},m)),this._callbacks.push({doneCb:d,timeoutId:E,updateCb:y})}whenStable(d,m,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,m,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,m,y){return[]}}return l.\u0275fac=function(d){return new(d||l)(cr(Ec))},l.\u0275prov=$t({token:l,factory:l.\u0275fac}),l})(),gP=(()=>{class l{constructor(){this._applications=new Map,_1.addToWindow(this)}registerApplication(d,m){this._applications.set(d,m)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,m=!0){return _1.findTestabilityInTree(this,d,m)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=$t({token:l,factory:l.\u0275fac}),l})();class ij{addToWindow(c){}findTestabilityInTree(c,d,m){return null}}function rj(l){_1=l}let bd,_1=new ij;const vP=new Yi("AllowMultipleToken");class oj{constructor(c,d){this.name=c,this.token=d}}function bP(l,c,d=[]){const m=`Platform: ${c}`,y=new Yi(m);return(E=[])=>{let I=wP();if(!I||I.injector.get(vP,!1))if(l)l(d.concat(E).concat({provide:y,useValue:!0}));else{const M=d.concat(E).concat({provide:y,useValue:!0},{provide:wp,useValue:"platform"});!function(l){if(bd&&!bd.destroyed&&!bd.injector.get(vP,!1))throw new We("400","");bd=l.get(CP);const c=l.get(cP,null);c&&c.forEach(d=>d())}(g.create({providers:M,name:m}))}return function(l){const c=wP();if(!c)throw new We("401","");return c}()}}function wP(){return bd&&!bd.destroyed?bd:null}let CP=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,m){const M=function(l,c){let d;return d="noop"===l?new nj:("zone.js"===l?void 0:l)||new Ec({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),d}(m?m.ngZone:void 0,{ngZoneEventCoalescing:m&&m.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:m&&m.ngZoneRunCoalescing||!1}),k=[{provide:Ec,useValue:M}];return M.run(()=>{const L=g.create({providers:k,parent:this.injector,name:d.moduleType.name}),U=d.create(L),K=U.injector.get(Wn,null);if(!K)throw new We("402","");return M.runOutsideAngular(()=>{const he=M.onError.subscribe({next:Ee=>{K.handleError(Ee)}});U.onDestroy(()=>{y1(this._modules,U),he.unsubscribe()})}),function(l,c,d){try{const m=d();return NT(m)?m.catch(y=>{throw c.runOutsideAngular(()=>l.handleError(y)),y}):m}catch(m){throw c.runOutsideAngular(()=>l.handleError(m)),m}}(K,M,()=>{const he=U.injector.get(Wb);return he.runInitializers(),he.donePromise.then(()=>(function(l){wt(l,"Expected localeId to be defined"),"string"==typeof l&&(dI=l.toLowerCase().replace(/_/g,"-"))}(U.injector.get(OA,Jx)||Jx),this._moduleDoBootstrap(U),U))})})}bootstrapModule(d,m=[]){const y=EP({},m);return function(l,c,d){const m=new qI(d);return Promise.resolve(m)}(0,0,d).then(E=>this.bootstrapModuleFactory(E,y))}_moduleDoBootstrap(d){const m=d.injector.get(BC);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(y=>m.bootstrap(y));else{if(!d.instance.ngDoBootstrap)throw new We("403","");d.instance.ngDoBootstrap(m)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We("404","");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(cr(g))},l.\u0275prov=$t({token:l,factory:l.\u0275fac}),l})();function EP(l,c){return Array.isArray(c)?c.reduce(EP,l):Object.assign(Object.assign({},l),c)}let BC=(()=>{class l{constructor(d,m,y,E,I){this._zone=d,this._injector=m,this._exceptionHandler=y,this._componentFactoryResolver=E,this._initStatus=I,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const M=new pe.y(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),k=new pe.y(L=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Ec.assertNotInAngularZone(),p1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{Ec.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{U.unsubscribe(),K.unsubscribe()}});this.isStable=(0,De.T)(M,k.pipe((0,Re.B)()))}bootstrap(d,m){if(!this._initStatus.done)throw new We("405","");let y;y=d instanceof FI?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(y.componentType);const E=function(l){return l.isBoundToModule}(y)?void 0:this._injector.get(Lb),M=y.create(g.NULL,[],m||y.selector,E),k=M.location.nativeElement,L=M.injector.get(mP,null),U=L&&M.injector.get(gP);return L&&U&&U.registerApplication(k,L),M.onDestroy(()=>{this.detachView(M.hostView),y1(this.components,M),U&&U.unregisterApplication(k)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new We("101","");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const m=d;this._views.push(m),m.attachToAppRef(this)}detachView(d){const m=d;y1(this._views,m),m.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(d1,[]).concat(this._bootstrapListeners).forEach(y=>y(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(d){return new(d||l)(cr(Ec),cr(g),cr(Wn),cr(Eg),cr(Wb))},l.\u0275prov=$t({token:l,factory:l.\u0275fac}),l})();function y1(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}let AP=!0,DP=!1;function hj(){return DP=!0,AP}function fj(){if(DP)throw new Error("Cannot enable prod mode after platform setup.");AP=!1}let pj=(()=>{class l{}return l.__NG_ELEMENT_ID__=mj,l})();function mj(l){return function(l,c,d){if(Ns(l)&&!d){const m=Lr(l.index,c);return new Dg(m,m)}return 47&l.type?new Dg(c[16],c):null}(Dt(),de(),16==(16&l))}class OP{constructor(){}supports(c){return pg(c)}create(c){return new $o(c)}}const RP=(l,c)=>c;class $o{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||RP}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,m=this._removalsHead,y=0,E=null;for(;d||m;){const I=!m||d&&d.currentIndex<VC(m,y,E)?d:m,M=VC(I,y,E),k=I.currentIndex;if(I===m)y--,m=m._nextRemoved;else if(d=d._next,null==I.previousIndex)y++;else{E||(E=[]);const L=M-y,U=k-y;if(L!=U){for(let he=0;he<L;he++){const Ee=he<E.length?E[he]:E[he]=0,ze=Ee+he;U<=ze&&ze<L&&(E[he]=Ee+1)}E[I.previousIndex]=U-L}}M!==k&&c(I,M,k)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!pg(c))throw new Error(`Error trying to diff '${ue(c)}'. Only arrays and iterables are allowed`);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let y,E,I,d=this._itHead,m=!1;if(Array.isArray(c)){this.length=c.length;for(let M=0;M<this.length;M++)E=c[M],I=this._trackByFn(M,E),null!==d&&Object.is(d.trackById,I)?(m&&(d=this._verifyReinsertion(d,E,I,M)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,I,M),m=!0),d=d._next}else y=0,function(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[Bh()]();let m;for(;!(m=d.next()).done;)c(m.value)}}(c,M=>{I=this._trackByFn(y,M),null!==d&&Object.is(d.trackById,I)?(m&&(d=this._verifyReinsertion(d,M,I,y)),Object.is(d.item,M)||this._addIdentityChange(d,M)):(d=this._mismatch(d,M,I,y),m=!0),d=d._next,y++}),this.length=y;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,m,y){let E;return null===c?E=this._itTail:(E=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,E,y)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(m,y))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,E,y)):c=this._addAfter(new E1(d,m),E,y),c}_verifyReinsertion(c,d,m,y){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==E?c=this._reinsertAfter(E,c._prev,y):c.currentIndex!=y&&(c.currentIndex=y,this._addToMoves(c,y)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const y=c._prevRemoved,E=c._nextRemoved;return null===y?this._removalsHead=E:y._nextRemoved=E,null===E?this._removalsTail=y:E._prevRemoved=y,this._insertAfter(c,d,m),this._addToMoves(c,m),c}_moveAfter(c,d,m){return this._unlink(c),this._insertAfter(c,d,m),this._addToMoves(c,m),c}_addAfter(c,d,m){return this._insertAfter(c,d,m),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,m){const y=null===d?this._itHead:d._next;return c._next=y,c._prev=d,null===y?this._itTail=c:y._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new x1),this._linkedRecords.put(c),c.currentIndex=m,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,m=c._next;return null===d?this._itHead=m:d._next=m,null===m?this._itTail=d:m._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new x1),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class E1{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yb{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===d||d<=m.currentIndex)&&Object.is(m.trackById,c))return m;return null}remove(c){const d=c._prevDup,m=c._nextDup;return null===d?this._head=m:d._nextDup=m,null===m?this._tail=d:m._prevDup=d,null===this._head}}class x1{constructor(){this.map=new Map}put(c){const d=c.trackById;let m=this.map.get(d);m||(m=new Yb,this.map.set(d,m)),m.add(c)}get(c,d){const y=this.map.get(c);return y?y.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VC(l,c,d){const m=l.previousIndex;if(null===m)return m;let y=0;return d&&m<d.length&&(y=d[m]),m+c+y}class bn{constructor(){}supports(c){return c instanceof Map||p(c)}create(){return new A1}}class A1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||p(c)))throw new Error(`Error trying to diff '${ue(c)}'. Only maps and objects are allowed`)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(m,y)=>{if(d&&d.key===y)this._maybeAddToChanges(d,m),this._appendAfter=d,d=d._next;else{const E=this._getOrCreateRecordForKey(y,m);d=this._insertBeforeOrAppend(d,E)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let m=d;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const m=c._prev;return d._next=c,d._prev=m,c._prev=d,m&&(m._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const y=this._records.get(c);this._maybeAddToChanges(y,d);const E=y._prev,I=y._next;return E&&(E._next=I),I&&(I._prev=E),y._next=null,y._prev=null,y}const m=new NP(c);return this._records.set(c,m),m.currentValue=d,this._addToAdditions(m),m}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(m=>d(c[m],m))}}class NP{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function D1(){return new Ng([new OP])}let Ng=(()=>{class l{constructor(d){this.factories=d}static create(d,m){if(null!=m){const y=m.factories.slice();d=d.concat(y)}return new l(d)}static extend(d){return{provide:l,useFactory:m=>l.create(d,m||D1()),deps:[[l,new yo,new Fa]]}}find(d){const m=this.factories.find(y=>y.supports(d));if(null!=m)return m;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(l){return l.name||typeof l}(d)}'`)}}return l.\u0275prov=$t({token:l,providedIn:"root",factory:D1}),l})();function NA(){return new Pg([new bn])}let Pg=(()=>{class l{constructor(d){this.factories=d}static create(d,m){if(m){const y=m.factories.slice();d=d.concat(y)}return new l(d)}static extend(d){return{provide:l,useFactory:m=>l.create(d,m||NA()),deps:[[l,new yo,new Fa]]}}find(d){const m=this.factories.find(y=>y.supports(d));if(m)return m;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return l.\u0275prov=$t({token:l,providedIn:"root",factory:NA}),l})();const PP=[new bn],Ll=new Ng([new OP]),T1=new Pg(PP),M1=bP(null,"core",[{provide:uP,useValue:"unknown"},{provide:CP,deps:[g]},{provide:gP,deps:[]},{provide:dP,deps:[]}]),O1=[{provide:BC,useClass:BC,deps:[Ec,g,Wn,Eg,Wb]},{provide:PN,deps:[Ec],useFactory:function(l){let c=[];return l.onStable.subscribe(()=>{for(;c.length;)c.pop()()}),function(d){c.push(d)}}},{provide:Wb,useClass:Wb,deps:[[new Fa,c1]]},{provide:f1,useClass:f1,deps:[]},WU,{provide:Ng,useFactory:function(){return Ll},deps:[]},{provide:Pg,useFactory:function(){return T1},deps:[]},{provide:OA,useFactory:function(l){return l||"undefined"!=typeof $localize&&$localize.locale||Jx},deps:[[new eh(OA),new Fa,new yo]]},{provide:hP,useValue:"USD"}];let BP=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(cr(BC))},l.\u0275mod=Zs({type:l}),l.\u0275inj=mn({providers:O1}),l})()},8001:(st,Ie,G)=>{"use strict";G.d(Ie,{Z:()=>yr});Error;function te(Y,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return j}for(const X in j)!j.hasOwnProperty(X)||!Ne(X)||(Y[X]=te(Y[X],j[X]));return Y}function Ne(Y){return"__proto__"!==Y}class Tt extends Error{constructor(j,X,se){super(X),this.code=j,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}}class Dn{constructor(j,X,se){this.service=j,this.serviceName=X,this.errors=se}create(j,...X){const se=X[0]||{},_e=`${this.service}/${j}`,it=this.errors[j],Vt=it?function(Y,j){return Y.replace(sn,(X,se)=>{const _e=j[se];return null!=_e?String(_e):`<${se}?>`})}(it,se):"Error";return new Tt(_e,`${this.serviceName}: ${Vt} (${_e}).`,se)}}const sn=/\{\$([^}]+)}/g;function ia(Y,j){return Object.prototype.hasOwnProperty.call(Y,j)}function Ir(Y,j){const X=new Wl(Y,j);return X.subscribe.bind(X)}class Wl{constructor(j,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{j(this)}).catch(se=>{this.error(se)})}next(j){this.forEachObserver(X=>{X.next(j)})}error(j){this.forEachObserver(X=>{X.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,X,se){let _e;if(void 0===j&&void 0===X&&void 0===se)throw new Error("Missing Observer.");_e=function(Y,j){if("object"!=typeof Y||null===Y)return!1;for(const X of["next","error","complete"])if(X in Y&&"function"==typeof Y[X])return!0;return!1}(j)?j:{next:j,error:X,complete:se},void 0===_e.next&&(_e.next=un),void 0===_e.error&&(_e.error=un),void 0===_e.complete&&(_e.complete=un);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_e.error(this.finalError):_e.complete()}catch(Vt){}}),this.observers.push(_e),it}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,j)}sendOne(j,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{X(this.observers[j])}catch(se){"undefined"!=typeof console&&console.error&&console.error(se)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function un(){}class Qr{constructor(j,X,se){this.name=j,this.instanceFactory=X,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}var mi=G(3035);const Os=[];var ut=(()=>{return(Y=ut||(ut={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",ut;var Y})();const bs={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},Jr=ut.INFO,dn={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},kr=(Y,j,...X)=>{if(j<Y.logLevel)return;const se=(new Date).toISOString(),_e=dn[j];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[_e](`[${se}]  ${Y.name}:`,...X)};class Rs{constructor(j,X){this._delegate=j,this.firebase=X,(0,mi._addComponent)(j,new Qr("app-compat",()=>this,"PUBLIC")),this.container=j.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this._delegate.automaticDataCollectionEnabled=j}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(j=>{this._delegate.checkDestroyed(),j()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,mi.deleteApp)(this._delegate)))}_getService(j,X=mi._DEFAULT_ENTRY_NAME){var se;this._delegate.checkDestroyed();const _e=this._delegate.container.getProvider(j);return!_e.isInitialized()&&"EXPLICIT"===(null===(se=_e.getComponent())||void 0===se?void 0:se.instantiationMode)&&_e.initialize(),_e.getImmediate({identifier:X})}_removeServiceInstance(j,X=mi._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(j).clearInstance(X)}_addComponent(j){(0,mi._addComponent)(this._delegate,j)}_addOrOverwriteComponent(j){(0,mi._addOrOverwriteComponent)(this._delegate,j)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const la=new Dn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_n=function ct(){const Y=function(Y){const j={},X={__esModule:!0,initializeApp:function(Xt,si={}){const vt=mi.initializeApp(Xt,si);if(ia(j,vt.name))return j[vt.name];const Gt=new Y(vt,X);return j[vt.name]=Gt,Gt},app:_e,registerVersion:mi.registerVersion,setLogLevel:mi.setLogLevel,onLog:mi.onLog,apps:null,SDK_VERSION:mi.SDK_VERSION,INTERNAL:{registerComponent:function(Xt){const si=Xt.name,vt=si.replace("-compat","");if(mi._registerComponent(Xt)&&"PUBLIC"===Xt.type){const Gt=(Rr=_e())=>{if("function"!=typeof Rr[vt])throw la.create("invalid-app-argument",{appName:si});return Rr[vt]()};void 0!==Xt.serviceProps&&te(Gt,Xt.serviceProps),X[vt]=Gt,Y.prototype[vt]=function(...Rr){return this._getService.bind(this,si).apply(this,Xt.multipleInstances?Rr:[])}}return"PUBLIC"===Xt.type?X[vt]:null},removeApp:function(Xt){delete j[Xt]},useAsService:function(Xt,si){return"serverAuth"===si?null:si},modularAPIs:mi}};function _e(Xt){if(!ia(j,Xt=Xt||mi._DEFAULT_ENTRY_NAME))throw la.create("no-app",{appName:Xt});return j[Xt]}return X.default=X,Object.defineProperty(X,"apps",{get:function(){return Object.keys(j).map(Xt=>j[Xt])}}),_e.App=Y,X}(Rs);return Y.INTERNAL=Object.assign(Object.assign({},Y.INTERNAL),{createFirebaseNamespace:ct,extendNamespace:function(X){te(Y,X)},createSubscribe:Ir,ErrorFactory:Dn,deepExtend:te}),Y}(),Bn=new class{constructor(j){this.name=j,this._logLevel=Jr,this._logHandler=kr,this._userLogHandler=null,Os.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ut))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?bs[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...j),this._logHandler(this,ut.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...j),this._logHandler(this,ut.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...j),this._logHandler(this,ut.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...j),this._logHandler(this,ut.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...j),this._logHandler(this,ut.ERROR,...j)}}("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Bn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Y=self.firebase.SDK_VERSION;Y&&Y.indexOf("LITE")>=0&&Bn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yr=_n;(0,mi.registerVersion)("@firebase/app-compat","0.2.13",undefined)},3035:(st,Ie,G)=>{"use strict";G.r(Ie),G.d(Ie,{FirebaseError:()=>Dn,SDK_VERSION:()=>yn,_DEFAULT_ENTRY_NAME:()=>Da,_addComponent:()=>N,_addOrOverwriteComponent:()=>$,_apps:()=>Ls,_clearComponents:()=>Bt,_components:()=>ws,_getProvider:()=>Te,_registerComponent:()=>ie,_removeServiceInstance:()=>an,deleteApp:()=>Li,getApp:()=>Gi,getApps:()=>Ti,initializeApp:()=>Fi,onLog:()=>ho,registerVersion:()=>Ln,setLogLevel:()=>ca});var V=G(5861);const Re=function(H){const P=[];let Z=0;for(let ce=0;ce<H.length;ce++){let le=H.charCodeAt(ce);le<128?P[Z++]=le:le<2048?(P[Z++]=le>>6|192,P[Z++]=63&le|128):55296==(64512&le)&&ce+1<H.length&&56320==(64512&H.charCodeAt(ce+1))?(le=65536+((1023&le)<<10)+(1023&H.charCodeAt(++ce)),P[Z++]=le>>18|240,P[Z++]=le>>12&63|128,P[Z++]=le>>6&63|128,P[Z++]=63&le|128):(P[Z++]=le>>12|224,P[Z++]=le>>6&63|128,P[Z++]=63&le|128)}return P},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,P){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let le=0;le<H.length;le+=3){const de=H[le],$e=le+1<H.length,An=$e?H[le+1]:0,Dt=le+2<H.length,Yn=Dt?H[le+2]:0;let Cs=(15&An)<<2|Yn>>6,ts=63&Yn;Dt||(ts=64,$e||(Cs=64)),ce.push(Z[de>>2],Z[(3&de)<<4|An>>4],Z[Cs],Z[ts])}return ce.join("")},encodeString(H,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(H):this.encodeByteArray(Re(H),P)},decodeString(H,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(H):function(H){const P=[];let Z=0,ce=0;for(;Z<H.length;){const le=H[Z++];if(le<128)P[ce++]=String.fromCharCode(le);else if(le>191&&le<224){const de=H[Z++];P[ce++]=String.fromCharCode((31&le)<<6|63&de)}else if(le>239&&le<365){const Dt=((7&le)<<18|(63&H[Z++])<<12|(63&H[Z++])<<6|63&H[Z++])-65536;P[ce++]=String.fromCharCode(55296+(Dt>>10)),P[ce++]=String.fromCharCode(56320+(1023&Dt))}else{const de=H[Z++],$e=H[Z++];P[ce++]=String.fromCharCode((15&le)<<12|(63&de)<<6|63&$e)}}return P.join("")}(this.decodeStringToByteArray(H,P))},decodeStringToByteArray(H,P){this.init_();const Z=P?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let le=0;le<H.length;){const de=Z[H.charAt(le++)],An=le<H.length?Z[H.charAt(le)]:0;++le;const Yn=le<H.length?Z[H.charAt(le)]:64;++le;const vn=le<H.length?Z[H.charAt(le)]:64;if(++le,null==de||null==An||null==Yn||null==vn)throw new ue;ce.push(de<<2|An>>4),64!==Yn&&(ce.push(An<<4&240|Yn>>2),64!==vn&&ce.push(Yn<<6&192|vn))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(H){return function(H){const P=Re(H);return Oe.encodeByteArray(P,!0)}(H).replace(/\./g,"")},je=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if("undefined"==typeof document)return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Z){return}const P=H&&function(H){try{return Oe.decodeString(H,!0)}catch(P){console.error("base64Decode failed: ",P)}return null}(H[1]);return P&&JSON.parse(P)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},_t=()=>{var H;return null===(H=je())||void 0===H?void 0:H.config};class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,Z)=>{this.resolve=P,this.reject=Z})}wrapCallback(P){return(Z,ce)=>{Z?this.reject(Z):this.resolve(ce),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(Z):P(Z,ce))}}}class Dn extends Error{constructor(P,Z,ce){super(Z),this.code=P,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(P,Z,ce){this.service=P,this.serviceName=Z,this.errors=ce}create(P,...Z){const ce=Z[0]||{},le=`${this.service}/${P}`,de=this.errors[P],$e=de?function(H,P){return H.replace(mn,(Z,ce)=>{const le=P[ce];return null!=le?String(le):`<${ce}?>`})}(de,ce):"Error";return new Dn(le,`${this.serviceName}: ${$e} (${le}).`,ce)}}const mn=/\{\$([^}]+)}/g;function Oi(H,P){if(H===P)return!0;const Z=Object.keys(H),ce=Object.keys(P);for(const le of Z){if(!ce.includes(le))return!1;const de=H[le],$e=P[le];if(Tr(de)&&Tr($e)){if(!Oi(de,$e))return!1}else if(de!==$e)return!1}for(const le of ce)if(!Z.includes(le))return!1;return!0}function Tr(H){return null!==H&&"object"==typeof H}class rn{constructor(P,Z,ce){this.name=P,this.instanceFactory=Z,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const ri="[DEFAULT]";class Zs{constructor(P,Z){this.name=P,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const Z=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(Z)){const ce=new pt;if(this.instancesDeferred.set(Z,ce),this.isInitialized(Z)||this.shouldAutoInitialize())try{const le=this.getOrInitializeService({instanceIdentifier:Z});le&&ce.resolve(le)}catch(le){}}return this.instancesDeferred.get(Z).promise}getImmediate(P){var Z;const ce=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),le=null!==(Z=null==P?void 0:P.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(de){if(le)return null;throw de}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if("EAGER"===P.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ri})}catch(Z){}for(const[Z,ce]of this.instancesDeferred.entries()){const le=this.normalizeInstanceIdentifier(Z);try{const de=this.getOrInitializeService({instanceIdentifier:le});ce.resolve(de)}catch(de){}}}}clearInstance(P=ri){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,V.Z)(function*(){const Z=Array.from(P.instances.values());yield Promise.all([...Z.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...Z.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=ri){return this.instances.has(P)}getOptions(P=ri){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:Z={}}=P,ce=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const le=this.getOrInitializeService({instanceIdentifier:ce,options:Z});for(const[de,$e]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(de)&&$e.resolve(le);return le}onInit(P,Z){var ce;const le=this.normalizeInstanceIdentifier(Z),de=null!==(ce=this.onInitCallbacks.get(le))&&void 0!==ce?ce:new Set;de.add(P),this.onInitCallbacks.set(le,de);const $e=this.instances.get(le);return $e&&P($e,le),()=>{de.delete(P)}}invokeOnInitCallbacks(P,Z){const ce=this.onInitCallbacks.get(Z);if(ce)for(const le of ce)try{le(P,Z)}catch(de){}}getOrInitializeService({instanceIdentifier:P,options:Z={}}){let ce=this.instances.get(P);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(H=P,H===ri?void 0:H),options:Z}),this.instances.set(P,ce),this.instancesOptions.set(P,Z),this.invokeOnInitCallbacks(ce,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,ce)}catch(le){}var H;return ce||null}normalizeInstanceIdentifier(P=ri){return this.component?this.component.multipleInstances?P:ri:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mi{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const Z=this.getProvider(P.name);if(Z.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);Z.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const Z=new Zs(P,this);return this.providers.set(P,Z),Z}getProviders(){return Array.from(this.providers.values())}}const Os=[];var ut=(()=>{return(H=ut||(ut={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",ut;var H})();const bs={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},Jr=ut.INFO,dn={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},kr=(H,P,...Z)=>{if(P<H.logLevel)return;const ce=(new Date).toISOString(),le=dn[P];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${P})`);console[le](`[${ce}]  ${H.name}:`,...Z)};let Ni,la;const _n=new WeakMap,Bn=new WeakMap,ir=new WeakMap,Or=new WeakMap,gi=new WeakMap;let j={get(H,P,Z){if(H instanceof IDBTransaction){if("done"===P)return Bn.get(H);if("objectStoreNames"===P)return H.objectStoreNames||ir.get(H);if("store"===P)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return it(H[P])},set:(H,P,Z)=>(H[P]=Z,!0),has:(H,P)=>H instanceof IDBTransaction&&("done"===P||"store"===P)||P in H};function _e(H){return"function"==typeof H?function(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(la||(la=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(H)?function(...P){return H.apply(Vt(this),P),it(_n.get(this))}:function(...P){return it(H.apply(Vt(this),P))}:function(P,...Z){const ce=H.call(Vt(this),P,...Z);return ir.set(ce,P.sort?P.sort():[P]),it(ce)}}(H):(H instanceof IDBTransaction&&function(H){if(Bn.has(H))return;const P=new Promise((Z,ce)=>{const le=()=>{H.removeEventListener("complete",de),H.removeEventListener("error",$e),H.removeEventListener("abort",$e)},de=()=>{Z(),le()},$e=()=>{ce(H.error||new DOMException("AbortError","AbortError")),le()};H.addEventListener("complete",de),H.addEventListener("error",$e),H.addEventListener("abort",$e)});Bn.set(H,P)}(H),((H,P)=>P.some(Z=>H instanceof Z))(H,Ni||(Ni=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(H,j):H)}function it(H){if(H instanceof IDBRequest)return function(H){const P=new Promise((Z,ce)=>{const le=()=>{H.removeEventListener("success",de),H.removeEventListener("error",$e)},de=()=>{Z(it(H.result)),le()},$e=()=>{ce(H.error),le()};H.addEventListener("success",de),H.addEventListener("error",$e)});return P.then(Z=>{Z instanceof IDBCursor&&_n.set(Z,H)}).catch(()=>{}),gi.set(P,H),P}(H);if(Or.has(H))return Or.get(H);const P=_e(H);return P!==H&&(Or.set(H,P),gi.set(P,H)),P}const Vt=H=>gi.get(H),Xt=["get","getKey","getAll","getAllKeys","count"],si=["put","add","delete","clear"],vt=new Map;function Gt(H,P){if(!(H instanceof IDBDatabase)||P in H||"string"!=typeof P)return;if(vt.get(P))return vt.get(P);const Z=P.replace(/FromIndex$/,""),ce=P!==Z,le=si.includes(Z);if(!(Z in(ce?IDBIndex:IDBObjectStore).prototype)||!le&&!Xt.includes(Z))return;const de=function(){var $e=(0,V.Z)(function*(An,...Dt){const Yn=this.transaction(An,le?"readwrite":"readonly");let $i=Yn.store;return ce&&($i=$i.index(Dt.shift())),(yield Promise.all([$i[Z](...Dt),le&&Yn.done]))[0]});return function(Dt){return $e.apply(this,arguments)}}();return vt.set(P,de),de}var H;j=lm(Kr({},H=j),{get:(P,Z,ce)=>Gt(P,Z)||H.get(P,Z,ce),has:(P,Z)=>!!Gt(P,Z)||H.has(P,Z)});class Rr{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map(Z=>{if(function(H){const P=H.getComponent();return"VERSION"===(null==P?void 0:P.type)}(Z)){const ce=Z.getImmediate();return`${ce.library}/${ce.version}`}return null}).filter(Z=>Z).join(" ")}}const qi="@firebase/app",Ws=new class{constructor(P){this.name=P,this._logLevel=Jr,this._logHandler=kr,this._userLogHandler=null,Os.push(this)}get logLevel(){return this._logLevel}set logLevel(P){if(!(P in ut))throw new TypeError(`Invalid value "${P}" assigned to \`logLevel\``);this._logLevel=P}setLogLevel(P){this._logLevel="string"==typeof P?bs[P]:P}get logHandler(){return this._logHandler}set logHandler(P){if("function"!=typeof P)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=P}get userLogHandler(){return this._userLogHandler}set userLogHandler(P){this._userLogHandler=P}debug(...P){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...P),this._logHandler(this,ut.DEBUG,...P)}log(...P){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...P),this._logHandler(this,ut.VERBOSE,...P)}info(...P){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...P),this._logHandler(this,ut.INFO,...P)}warn(...P){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...P),this._logHandler(this,ut.WARN,...P)}error(...P){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...P),this._logHandler(this,ut.ERROR,...P)}}("@firebase/app"),Da="[DEFAULT]",Pr={[qi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ls=new Map,ws=new Map;function N(H,P){try{H.container.addComponent(P)}catch(Z){Ws.debug(`Component ${P.name} failed to register with FirebaseApp ${H.name}`,Z)}}function $(H,P){H.container.addOrOverwriteComponent(P)}function ie(H){const P=H.name;if(ws.has(P))return Ws.debug(`There were multiple attempts to register component ${P}.`),!1;ws.set(P,H);for(const Z of Ls.values())N(Z,H);return!0}function Te(H,P){const Z=H.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),H.container.getProvider(P)}function an(H,P,Z=Da){Te(H,P).clearInstance(Z)}function Bt(){ws.clear()}const en=new $t("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xn{constructor(P,Z,ce){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=ce,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const yn="9.23.0";function Fi(H,P={}){let Z=H;"object"!=typeof P&&(P={name:P});const ce=Object.assign({name:Da,automaticDataCollectionEnabled:!1},P),le=ce.name;if("string"!=typeof le||!le)throw en.create("bad-app-name",{appName:String(le)});if(Z||(Z=_t()),!Z)throw en.create("no-options");const de=Ls.get(le);if(de){if(Oi(Z,de.options)&&Oi(ce,de.config))return de;throw en.create("duplicate-app",{appName:le})}const $e=new mi(le);for(const Dt of ws.values())$e.addComponent(Dt);const An=new xn(Z,ce,$e);return Ls.set(le,An),An}function Gi(H=Da){const P=Ls.get(H);if(!P&&H===Da&&_t())return Fi();if(!P)throw en.create("no-app",{appName:H});return P}function Ti(){return Array.from(Ls.values())}function Li(H){return sr.apply(this,arguments)}function sr(){return sr=(0,V.Z)(function*(H){const P=H.name;Ls.has(P)&&(Ls.delete(P),yield Promise.all(H.container.getProviders().map(Z=>Z.delete())),H.isDeleted=!0)}),sr.apply(this,arguments)}function Ln(H,P,Z){var ce;let le=null!==(ce=Pr[H])&&void 0!==ce?ce:H;Z&&(le+=`-${Z}`);const de=le.match(/\s|\//),$e=P.match(/\s|\//);if(de||$e){const An=[`Unable to register library "${le}" with version "${P}":`];return de&&An.push(`library name "${le}" contains illegal characters (whitespace or "/")`),de&&$e&&An.push("and"),$e&&An.push(`version name "${P}" contains illegal characters (whitespace or "/")`),void Ws.warn(An.join(" "))}ie(new rn(`${le}-version`,()=>({library:le,version:P}),"VERSION"))}function ho(H,P){if(null!==H&&"function"!=typeof H)throw en.create("invalid-log-argument");!function(H,P){for(const Z of Os){let ce=null;P&&P.level&&(ce=bs[P.level]),Z.userLogHandler=null===H?null:(le,de,...$e)=>{const An=$e.map(Dt=>{if(null==Dt)return null;if("string"==typeof Dt)return Dt;if("number"==typeof Dt||"boolean"==typeof Dt)return Dt.toString();if(Dt instanceof Error)return Dt.message;try{return JSON.stringify(Dt)}catch(Yn){return null}}).filter(Dt=>Dt).join(" ");de>=(null!=ce?ce:le.logLevel)&&H({level:ut[de].toLowerCase(),message:An,args:$e,type:le.name})}}}(H,P)}function ca(H){!function(H){Os.forEach(P=>{P.setLogLevel(H)})}(H)}const fo="firebase-heartbeat-store";let Ks=null;function Xr(){return Ks||(Ks=function(H,P,{blocked:Z,upgrade:ce,blocking:le,terminated:de}={}){const $e=indexedDB.open(H,P),An=it($e);return ce&&$e.addEventListener("upgradeneeded",Dt=>{ce(it($e.result),Dt.oldVersion,Dt.newVersion,it($e.transaction),Dt)}),Z&&$e.addEventListener("blocked",Dt=>Z(Dt.oldVersion,Dt.newVersion,Dt)),An.then(Dt=>{de&&Dt.addEventListener("close",()=>de()),le&&Dt.addEventListener("versionchange",Yn=>le(Yn.oldVersion,Yn.newVersion,Yn))}).catch(()=>{}),An}("firebase-heartbeat-database",1,{upgrade:(H,P)=>{0===P&&H.createObjectStore(fo)}}).catch(H=>{throw en.create("idb-open",{originalErrorMessage:H.message})})),Ks}function ju(){return ju=(0,V.Z)(function*(H){try{return yield(yield Xr()).transaction(fo).objectStore(fo).get(Hu(H))}catch(P){if(P instanceof Dn)Ws.warn(P.message);else{const Z=en.create("idb-get",{originalErrorMessage:null==P?void 0:P.message});Ws.warn(Z.message)}}}),ju.apply(this,arguments)}function Fr(H,P){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,V.Z)(function*(H,P){try{const ce=(yield Xr()).transaction(fo,"readwrite");yield ce.objectStore(fo).put(P,Hu(H)),yield ce.done}catch(Z){if(Z instanceof Dn)Ws.warn(Z.message);else{const ce=en.create("idb-set",{originalErrorMessage:null==Z?void 0:Z.message});Ws.warn(ce.message)}}}),Lr.apply(this,arguments)}function Hu(H){return`${H.name}!${H.options.appId}`}class es{constructor(P){this.container=P,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this._storage=new ln(Z),this._heartbeatsCachePromise=this._storage.read().then(ce=>(this._heartbeatsCache=ce,ce))}triggerHeartbeat(){var P=this;return(0,V.Z)(function*(){const ce=P.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),le=Sa();if(null===P._heartbeatsCache&&(P._heartbeatsCache=yield P._heartbeatsCachePromise),P._heartbeatsCache.lastSentHeartbeatDate!==le&&!P._heartbeatsCache.heartbeats.some(de=>de.date===le))return P._heartbeatsCache.heartbeats.push({date:le,agent:ce}),P._heartbeatsCache.heartbeats=P._heartbeatsCache.heartbeats.filter(de=>{const $e=new Date(de.date).valueOf();return Date.now()-$e<=2592e6}),P._storage.overwrite(P._heartbeatsCache)})()}getHeartbeatsHeader(){var P=this;return(0,V.Z)(function*(){if(null===P._heartbeatsCache&&(yield P._heartbeatsCachePromise),null===P._heartbeatsCache||0===P._heartbeatsCache.heartbeats.length)return"";const Z=Sa(),{heartbeatsToSend:ce,unsentEntries:le}=function(H,P=1024){const Z=[];let ce=H.slice();for(const le of H){const de=Z.find($e=>$e.agent===le.agent);if(de){if(de.dates.push(le.date),Xl(Z)>P){de.dates.pop();break}}else if(Z.push({agent:le.agent,dates:[le.date]}),Xl(Z)>P){Z.pop();break}ce=ce.slice(1)}return{heartbeatsToSend:Z,unsentEntries:ce}}(P._heartbeatsCache.heartbeats),de=xe(JSON.stringify({version:2,heartbeats:ce}));return P._heartbeatsCache.lastSentHeartbeatDate=Z,le.length>0?(P._heartbeatsCache.heartbeats=le,yield P._storage.overwrite(P._heartbeatsCache)):(P._heartbeatsCache.heartbeats=[],P._storage.overwrite(P._heartbeatsCache)),de})()}}function Sa(){return(new Date).toISOString().substring(0,10)}class ln{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,V.Z)(function*(){return!!function(){try{return"object"==typeof indexedDB}catch(H){return!1}}()&&new Promise((H,P)=>{try{let Z=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(ce);le.onsuccess=()=>{le.result.close(),Z||self.indexedDB.deleteDatabase(ce),H(!0)},le.onupgradeneeded=()=>{Z=!1},le.onerror=()=>{var de;P((null===(de=le.error)||void 0===de?void 0:de.message)||"")}}catch(Z){P(Z)}}).then(()=>!0).catch(()=>!1)})()}read(){var P=this;return(0,V.Z)(function*(){return(yield P._canUseIndexedDBPromise)&&(yield function(H){return ju.apply(this,arguments)}(P.app))||{heartbeats:[]}})()}overwrite(P){var Z=this;return(0,V.Z)(function*(){var ce;if(yield Z._canUseIndexedDBPromise){const de=yield Z.read();return Fr(Z.app,{lastSentHeartbeatDate:null!==(ce=P.lastSentHeartbeatDate)&&void 0!==ce?ce:de.lastSentHeartbeatDate,heartbeats:P.heartbeats})}})()}add(P){var Z=this;return(0,V.Z)(function*(){var ce;if(yield Z._canUseIndexedDBPromise){const de=yield Z.read();return Fr(Z.app,{lastSentHeartbeatDate:null!==(ce=P.lastSentHeartbeatDate)&&void 0!==ce?ce:de.lastSentHeartbeatDate,heartbeats:[...de.heartbeats,...P.heartbeats]})}})()}}function Xl(H){return xe(JSON.stringify({version:2,heartbeats:H})).length}ie(new rn("platform-logger",P=>new Rr(P),"PRIVATE")),ie(new rn("heartbeat",P=>new es(P),"PRIVATE")),Ln(qi,"0.9.13",""),Ln(qi,"0.9.13","esm2017"),Ln("fire-js","")},259:(st,Ie,G)=>{"use strict";G.d(Ie,{Mq:()=>V.getApp,C6:()=>V.getApps});var V=G(3035);(0,V.registerVersion)("firebase","9.23.0","app")},9260:(st,Ie,G)=>{"use strict";G.d(Ie,{Z:()=>V.Z});var V=G(8001);V.Z.registerVersion("firebase","9.23.0","app-compat")},4844:(st,Ie,G)=>{"use strict";G.r(Ie);var V=G(5861),o=G(8001);const ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(v,h){if(!Array.isArray(v))throw Error("encodeByteArray takes an array as a parameter");this.init_();const g=h?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let A=0;A<v.length;A+=3){const O=v[A],q=A+1<v.length,re=q?v[A+1]:0,Le=A+2<v.length,Pe=Le?v[A+2]:0;let Ut=(15&re)<<2|Pe>>6,Jn=63&Pe;Le||(Jn=64,q||(Ut=64)),C.push(g[O>>2],g[(3&O)<<4|re>>4],g[Ut],g[Jn])}return C.join("")},encodeString(v,h){return this.HAS_NATIVE_SUPPORT&&!h?btoa(v):this.encodeByteArray(function(v){const h=[];let g=0;for(let C=0;C<v.length;C++){let A=v.charCodeAt(C);A<128?h[g++]=A:A<2048?(h[g++]=A>>6|192,h[g++]=63&A|128):55296==(64512&A)&&C+1<v.length&&56320==(64512&v.charCodeAt(C+1))?(A=65536+((1023&A)<<10)+(1023&v.charCodeAt(++C)),h[g++]=A>>18|240,h[g++]=A>>12&63|128,h[g++]=A>>6&63|128,h[g++]=63&A|128):(h[g++]=A>>12|224,h[g++]=A>>6&63|128,h[g++]=63&A|128)}return h}(v),h)},decodeString(v,h){return this.HAS_NATIVE_SUPPORT&&!h?atob(v):function(v){const h=[];let g=0,C=0;for(;g<v.length;){const A=v[g++];if(A<128)h[C++]=String.fromCharCode(A);else if(A>191&&A<224){const O=v[g++];h[C++]=String.fromCharCode((31&A)<<6|63&O)}else if(A>239&&A<365){const Le=((7&A)<<18|(63&v[g++])<<12|(63&v[g++])<<6|63&v[g++])-65536;h[C++]=String.fromCharCode(55296+(Le>>10)),h[C++]=String.fromCharCode(56320+(1023&Le))}else{const O=v[g++],q=v[g++];h[C++]=String.fromCharCode((15&A)<<12|(63&O)<<6|63&q)}}return h.join("")}(this.decodeStringToByteArray(v,h))},decodeStringToByteArray(v,h){this.init_();const g=h?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let A=0;A<v.length;){const O=g[v.charAt(A++)],re=A<v.length?g[v.charAt(A)]:0;++A;const Pe=A<v.length?g[v.charAt(A)]:64;++A;const He=A<v.length?g[v.charAt(A)]:64;if(++A,null==O||null==re||null==Pe||null==He)throw new fe;C.push(O<<2|re>>4),64!==Pe&&(C.push(re<<4&240|Pe>>2),64!==He&&C.push(Pe<<6&192|He))}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let v=0;v<this.ENCODED_VALS.length;v++)this.byteToCharMap_[v]=this.ENCODED_VALS.charAt(v),this.charToByteMap_[this.byteToCharMap_[v]]=v,this.byteToCharMapWebSafe_[v]=this.ENCODED_VALS_WEBSAFE.charAt(v),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[v]]=v,v>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(v)]=v,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(v)]=v)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const te=function(v){try{return ue.decodeString(v,!0)}catch(h){console.error("base64Decode failed: ",h)}return null};function oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class $t extends Error{constructor(h,g,C){super(g),this.code=h,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sn.prototype.create)}}class sn{constructor(h,g,C){this.service=h,this.serviceName=g,this.errors=C}create(h,...g){const C=g[0]||{},A=`${this.service}/${h}`,O=this.errors[h],q=O?function(v,h){return v.replace(on,(g,C)=>{const A=h[C];return null!=A?String(A):`<${C}?>`})}(O,C):"Error";return new $t(A,`${this.serviceName}: ${q} (${A}).`,C)}}const on=/\{\$([^}]+)}/g;function ra(v){for(const h in v)if(Object.prototype.hasOwnProperty.call(v,h))return!1;return!0}function Ri(v){const h=[];for(const[g,C]of Object.entries(v))Array.isArray(C)?C.forEach(A=>{h.push(encodeURIComponent(g)+"="+encodeURIComponent(A))}):h.push(encodeURIComponent(g)+"="+encodeURIComponent(C));return h.length?"&"+h.join("&"):""}function nr(v){const h={};return v.replace(/^\?/,"").split("&").forEach(C=>{if(C){const[A,O]=C.split("=");h[decodeURIComponent(A)]=decodeURIComponent(O)}}),h}function Ir(v){const h=v.indexOf("?");if(!h)return"";const g=v.indexOf("#",h);return v.substring(h,g>0?g:void 0)}class Rt{constructor(h,g){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=g,this.task.then(()=>{h(this)}).catch(C=>{this.error(C)})}next(h){this.forEachObserver(g=>{g.next(h)})}error(h){this.forEachObserver(g=>{g.error(h)}),this.close(h)}complete(){this.forEachObserver(h=>{h.complete()}),this.close()}subscribe(h,g,C){let A;if(void 0===h&&void 0===g&&void 0===C)throw new Error("Missing Observer.");A=function(v,h){if("object"!=typeof v||null===v)return!1;for(const g of["next","error","complete"])if(g in v&&"function"==typeof v[g])return!0;return!1}(h)?h:{next:h,error:g,complete:C},void 0===A.next&&(A.next=oo),void 0===A.error&&(A.error=oo),void 0===A.complete&&(A.complete=oo);const O=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch(q){}}),this.observers.push(A),O}unsubscribeOne(h){void 0===this.observers||void 0===this.observers[h]||(delete this.observers[h],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(h){if(!this.finalized)for(let g=0;g<this.observers.length;g++)this.sendOne(g,h)}sendOne(h,g){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[h])try{g(this.observers[h])}catch(C){"undefined"!=typeof console&&console.error&&console.error(C)}})}close(h){this.finalized||(this.finalized=!0,void 0!==h&&(this.finalError=h),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oo(){}function rn(v){return v&&v._delegate?v._delegate:v}var ri=G(3035);function mi(v,h){var g={};for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&h.indexOf(C)<0&&(g[C]=v[C]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(C=Object.getOwnPropertySymbols(v);A<C.length;A++)h.indexOf(C[A])<0&&Object.prototype.propertyIsEnumerable.call(v,C[A])&&(g[C[A]]=v[C[A]])}return g}const X=[];var se=(()=>{return(v=se||(se={}))[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT",se;var v})();const _e={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},it=se.INFO,Vt={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Tn=(v,h,...g)=>{if(h<v.logLevel)return;const C=(new Date).toISOString(),A=Vt[h];if(!A)throw new Error(`Attempted to log a message with an invalid logType (value: ${h})`);console[A](`[${C}]  ${v.name}:`,...g)};class vt{constructor(h,g,C){this.name=h,this.instanceFactory=g,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(h){return this.instantiationMode=h,this}setMultipleInstances(h){return this.multipleInstances=h,this}setServiceProps(h){return this.serviceProps=h,this}setInstanceCreatedCallback(h){return this.onInstanceCreated=h,this}}const zi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Fd=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},co=new sn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kl=new class{constructor(h){this.name=h,this._logLevel=it,this._logHandler=Tn,this._userLogHandler=null,X.push(this)}get logLevel(){return this._logLevel}set logLevel(h){if(!(h in se))throw new TypeError(`Invalid value "${h}" assigned to \`logLevel\``);this._logLevel=h}setLogLevel(h){this._logLevel="string"==typeof h?_e[h]:h}get logHandler(){return this._logHandler}set logHandler(h){if("function"!=typeof h)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=h}get userLogHandler(){return this._userLogHandler}set userLogHandler(h){this._userLogHandler=h}debug(...h){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...h),this._logHandler(this,se.DEBUG,...h)}log(...h){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...h),this._logHandler(this,se.VERBOSE,...h)}info(...h){this._userLogHandler&&this._userLogHandler(this,se.INFO,...h),this._logHandler(this,se.INFO,...h)}warn(...h){this._userLogHandler&&this._userLogHandler(this,se.WARN,...h),this._logHandler(this,se.WARN,...h)}error(...h){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...h),this._logHandler(this,se.ERROR,...h)}}("@firebase/auth");function dl(v,...h){Kl.logLevel<=se.ERROR&&Kl.error(`Auth (${ri.SDK_VERSION}): ${v}`,...h)}function _i(v,...h){throw Ys(v,...h)}function Gn(v,...h){return Ys(v,...h)}function Ql(v,h,g){const C=Object.assign(Object.assign({},Fd()),{[h]:g});return new sn("auth","Firebase",C).create(h,{appName:v.name})}function Mo(v,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&_i(v,"argument-error"),Ql(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ys(v,...h){if("string"!=typeof v){const g=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(g,...C)}return co.create(v,...h)}function ot(v,h,...g){if(!v)throw Ys(h,...g)}function rr(v){const h="INTERNAL ASSERTION FAILED: "+v;throw dl(h),new Error(h)}function Fs(v,h){v||rr(h)}function ko(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Oo(){return"http:"===Ic()||"https:"===Ic()}function Ic(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Pr{constructor(h,g){this.shortDelay=h,this.longDelay=g,Fs(g>h,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Oo()||function(){const v="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof v&&void 0!==v.id}()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ls(v,h){Fs(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class ws{static initialize(h,g,C){this.fetchImpl=h,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$=new Pr(3e4,6e4);function ie(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function Te(v,h,g,C){return an.apply(this,arguments)}function an(){return(an=(0,V.Z)(function*(v,h,g,C,A={}){return Bt(v,A,(0,V.Z)(function*(){let O={},q={};C&&("GET"===h?q=C:O={body:JSON.stringify(C)});const re=Ri(Object.assign({key:v.config.apiKey},q)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),ws.fetch()(yn(v,v.config.apiHost,g,re),Object.assign({method:h,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Bt(v,h,g){return En.apply(this,arguments)}function En(){return(En=(0,V.Z)(function*(v,h,g){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},N),h);try{const A=new Fi(v),O=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield O.json();if("needConfirmation"in q)throw Gi(v,"account-exists-with-different-credential",q);if(O.ok&&!("errorMessage"in q))return q;{const re=O.ok?q.errorMessage:q.error.message,[Le,Pe]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Gi(v,"credential-already-in-use",q);if("EMAIL_EXISTS"===Le)throw Gi(v,"email-already-in-use",q);if("USER_DISABLED"===Le)throw Gi(v,"user-disabled",q);const rt=C[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Pe)throw Ql(v,rt,Pe);_i(v,rt)}}catch(A){if(A instanceof $t)throw A;_i(v,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function en(v,h,g,C){return xn.apply(this,arguments)}function xn(){return(xn=(0,V.Z)(function*(v,h,g,C,A={}){const O=yield Te(v,h,g,C,A);return"mfaPendingCredential"in O&&_i(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function yn(v,h,g,C){const A=`${h}${g}?${C}`;return v.config.emulator?Ls(v.config,A):`${v.config.apiScheme}://${A}`}class Fi{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Gn(this.auth,"network-request-failed")),$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gi(v,h,g){const C={appName:v.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const A=Gn(v,h,C);return A.customData._tokenResponse=g,A}function Li(){return(Li=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function sr(v,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ho(v,h){return ca.apply(this,arguments)}function ca(){return(ca=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function di(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Ks(){return(Ks=(0,V.Z)(function*(v,h=!1){const g=rn(v),C=yield g.getIdToken(h),A=Jl(C);ot(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,q=null==O?void 0:O.sign_in_provider;return{claims:A,token:C,authTime:di(Xr(A.auth_time)),issuedAtTime:di(Xr(A.iat)),expirationTime:di(Xr(A.exp)),signInProvider:q||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Xr(v){return 1e3*Number(v)}function Jl(v){const[h,g,C]=v.split(".");if(void 0===h||void 0===g||void 0===C)return dl("JWT malformed, contained fewer than 3 sections"),null;try{const A=te(g);return A?JSON.parse(A):(dl("Failed to decode base64 JWT payload"),null)}catch(A){return dl("Caught error parsing JWT payload as JSON",null==A?void 0:A.toString()),null}}function Fr(v,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,V.Z)(function*(v,h,g=!1){if(g)return h;try{return yield h}catch(C){throw C instanceof $t&&Hu(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function Hu({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class po{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,V.Z)(function*(){yield g.iteration()}),C)}iteration(){var h=this;return(0,V.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class tf{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function es(v){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,V.Z)(function*(v){var h;const g=v.auth,C=yield v.getIdToken(),A=yield Fr(v,ho(g,{idToken:C}));ot(null==A?void 0:A.users.length,g,"internal-error");const O=A.users[0];v._notifyReloadListener(O);const q=(null===(h=O.providerUserInfo)||void 0===h?void 0:h.length)?Bd(O.providerUserInfo):[],re=Xl(v.providerData,q),rt=!!v.isAnonymous&&!(v.email&&O.passwordHash||(null==re?void 0:re.length)),He={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:re,metadata:new tf(O.createdAt,O.lastLoginAt),isAnonymous:rt};Object.assign(v,He)})).apply(this,arguments)}function ln(){return(ln=(0,V.Z)(function*(v){const h=rn(v);yield es(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Xl(v,h){return[...v.filter(C=>!h.some(A=>A.providerId===C.providerId)),...h]}function Bd(v){return v.map(h=>{var{providerId:g}=h,C=mi(h,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function P(){return(P=(0,V.Z)(function*(v,h){const g=yield Bt(v,{},(0,V.Z)(function*(){const C=Ri({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:A,apiKey:O}=v.config,q=yn(v,A,"/v1/token",`key=${O}`),re=yield v._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",ws.fetch()(q,{method:"POST",headers:re,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ot(h.idToken,"internal-error"),ot(void 0!==h.idToken,"internal-error"),ot(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(v){const h=Jl(v);return ot(h,"internal-error"),ot(void 0!==h.exp,"internal-error"),ot(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var C=this;return(0,V.Z)(function*(){return ot(!C.accessToken||C.refreshToken,h,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var C=this;return(0,V.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:q}=yield function(v,h){return P.apply(this,arguments)}(h,g);C.updateTokensAndExpiration(A,O,Number(q))})()}updateTokensAndExpiration(h,g,C){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,g){const{refreshToken:C,accessToken:A,expirationTime:O}=g,q=new Z;return C&&(ot("string"==typeof C,"internal-error",{appName:h}),q.refreshToken=C),A&&(ot("string"==typeof A,"internal-error",{appName:h}),q.accessToken=A),O&&(ot("number"==typeof O,"internal-error",{appName:h}),q.expirationTime=O),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return rr("not implemented")}}function ce(v,h){ot("string"==typeof v||void 0===v,"internal-error",{appName:h})}class le{constructor(h){var{uid:g,auth:C,stsTokenManager:A}=h,O=mi(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new po(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new tf(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,V.Z)(function*(){const C=yield Fr(g,g.stsTokenManager.getToken(g.auth,h));return ot(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(h){return function(v){return Ks.apply(this,arguments)}(this,h)}reload(){return function(v){return ln.apply(this,arguments)}(this)}_assign(h){this!==h&&(ot(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new le(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var C=this;return(0,V.Z)(function*(){let A=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),A=!0),g&&(yield es(C)),yield C.auth._persistUserIfCurrent(C),A&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,V.Z)(function*(){const g=yield h.getIdToken();return yield Fr(h,function(v,h){return Li.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var C,A,O,q,re,Le,Pe,rt;const He=null!==(C=g.displayName)&&void 0!==C?C:void 0,Ut=null!==(A=g.email)&&void 0!==A?A:void 0,Jn=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,no=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Ap=null!==(re=g.tenantId)&&void 0!==re?re:void 0,ry=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,sy=null!==(Pe=g.createdAt)&&void 0!==Pe?Pe:void 0,mb=null!==(rt=g.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:fd,emailVerified:oy,isAnonymous:Dp,providerData:pd,stsTokenManager:dg}=g;ot(fd&&dg,h,"internal-error");const wo=Z.fromJSON(this.name,dg);ot("string"==typeof fd,h,"internal-error"),ce(He,h.name),ce(Ut,h.name),ot("boolean"==typeof oy,h,"internal-error"),ot("boolean"==typeof Dp,h,"internal-error"),ce(Jn,h.name),ce(no,h.name),ce(Ap,h.name),ce(ry,h.name),ce(sy,h.name),ce(mb,h.name);const md=new le({uid:fd,auth:h,email:Ut,emailVerified:oy,displayName:He,isAnonymous:Dp,photoURL:no,phoneNumber:Jn,tenantId:Ap,stsTokenManager:wo,createdAt:sy,lastLoginAt:mb});return pd&&Array.isArray(pd)&&(md.providerData=pd.map(ay=>Object.assign({},ay))),ry&&(md._redirectEventId=ry),md}static _fromIdTokenResponse(h,g,C=!1){return(0,V.Z)(function*(){const A=new Z;A.updateFromServerResponse(g);const O=new le({uid:g.localId,auth:h,stsTokenManager:A,isAnonymous:C});return yield es(O),O})()}}const de=new Map;function $e(v){Fs(v instanceof Function,"Expected a class definition");let h=de.get(v);return h?(Fs(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,de.set(v,h),h)}const Dt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,V.Z)(function*(){return!0})()}_set(g,C){var A=this;return(0,V.Z)(function*(){A.storage[g]=C})()}_get(g){var C=this;return(0,V.Z)(function*(){const A=C.storage[g];return void 0===A?null:A})()}_remove(g){var C=this;return(0,V.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return v.type="NONE",v})();function Yn(v,h,g){return`firebase:${v}:${h}:${g}`}class $i{constructor(h,g,C){this.persistence=h,this.auth=g,this.userKey=C;const{config:A,name:O}=this.auth;this.fullUserKey=Yn(this.userKey,A.apiKey,O),this.fullPersistenceKey=Yn("persistence",A.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,V.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?le._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,V.Z)(function*(){if(g.persistence===h)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,C="authUser"){return(0,V.Z)(function*(){if(!g.length)return new $i($e(Dt),h,C);const A=(yield Promise.all(g.map(function(){var Pe=(0,V.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Pe.apply(this,arguments)}}()))).filter(Pe=>Pe);let O=A[0]||$e(Dt);const q=Yn(C,h.config.apiKey,h.name);let re=null;for(const Pe of g)try{const rt=yield Pe._get(q);if(rt){const He=le._fromJSON(h,rt);Pe!==O&&(re=He),O=Pe;break}}catch(rt){}const Le=A.filter(Pe=>Pe._shouldAllowMigration);return O._shouldAllowMigration&&Le.length?(O=Le[0],re&&(yield O._set(q,re.toJSON())),yield Promise.all(g.map(function(){var Pe=(0,V.Z)(function*(rt){if(rt!==O)try{yield rt._remove(q)}catch(He){}});return function(rt){return Pe.apply(this,arguments)}}())),new $i(O,h,C)):new $i(O,h,C)})()}}function vn(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(a_(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Cs(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Vd(h))return"Blackberry";if(ns(h))return"Webos";if(ts(h))return"Safari";if((h.includes("chrome/")||qu(h))&&!h.includes("edge/"))return"Chrome";if(kc(h))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Cs(v=oe()){return/firefox\//i.test(v)}function ts(v=oe()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function qu(v=oe()){return/crios\//i.test(v)}function a_(v=oe()){return/iemobile/i.test(v)}function kc(v=oe()){return/android/i.test(v)}function Vd(v=oe()){return/blackberry/i.test(v)}function ns(v=oe()){return/webos/i.test(v)}function Es(v=oe()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function um(v=oe()){return Es(v)||kc(v)||ns(v)||Vd(v)||/windows phone/i.test(v)||a_(v)}function hm(v,h=[]){let g;switch(v){case"Browser":g=vn(oe());break;case"Worker":g=`${vn(oe())}-${v}`;break;default:g=v}const C=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${ri.SDK_VERSION}/${C}`}function Ud(){return(Ud=(0,V.Z)(function*(v){return(yield Te(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function nf(v,h){return rf.apply(this,arguments)}function rf(){return(rf=(0,V.Z)(function*(v,h){return Te(v,"GET","/v2/recaptchaConfig",ie(v,h))})).apply(this,arguments)}function sf(v){return void 0!==v&&void 0!==v.getResponse}function da(v){return void 0!==v&&void 0!==v.enterprise}class fm{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function af(v){return new Promise((h,g)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=h,C.onerror=A=>{const O=Gn("internal-error");O.customData=A,g(O)},C.type="text/javascript",C.charset="UTF-8",function(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(C)})}function lf(v){return`__${v}${Math.floor(1e6*Math.random())}`}class mm{constructor(h){this.type="recaptcha-enterprise",this.auth=Ai(h)}verify(h="verify",g=!1){var C=this;return(0,V.Z)(function*(){function O(){return O=(0,V.Z)(function*(re){if(!g){if(null==re.tenantId&&null!=re._agentRecaptchaConfig)return re._agentRecaptchaConfig.siteKey;if(null!=re.tenantId&&void 0!==re._tenantRecaptchaConfigs[re.tenantId])return re._tenantRecaptchaConfigs[re.tenantId].siteKey}return new Promise(function(){var Le=(0,V.Z)(function*(Pe,rt){nf(re,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(He=>{if(void 0!==He.recaptchaKey){const Ut=new fm(He);return null==re.tenantId?re._agentRecaptchaConfig=Ut:re._tenantRecaptchaConfigs[re.tenantId]=Ut,Pe(Ut.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(He=>{rt(He)})});return function(Pe,rt){return Le.apply(this,arguments)}}())}),O.apply(this,arguments)}function q(re,Le,Pe){const rt=window.grecaptcha;da(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(re,{action:h}).then(He=>{Le(He)}).catch(()=>{Le("NO_RECAPTCHA")})}):Pe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((re,Le)=>{(function(re){return O.apply(this,arguments)})(C.auth).then(Pe=>{if(!g&&da(window.grecaptcha))q(Pe,re,Le);else{if("undefined"==typeof window)return void Le(new Error("RecaptchaVerifier is only supported in browser"));af("https://www.google.com/recaptcha/enterprise.js?render="+Pe).then(()=>{q(Pe,re,Le)}).catch(rt=>{Le(rt)})}}).catch(Pe=>{Le(Pe)})})})()}}function hl(v,h,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,V.Z)(function*(v,h,g,C=!1){const A=new mm(v);let O;try{O=yield A.verify(g)}catch(re){O=yield A.verify(g,!0)}const q=Object.assign({},h);return Object.assign(q,C?{captchaResp:O}:{captchaResponse:O}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class Bs{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const C=O=>new Promise((q,re)=>{try{q(h(O))}catch(Le){re(Le)}});C.onAbort=g,this.queue.push(C);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,V.Z)(function*(){if(g.auth.currentUser===h)return;const C=[];try{for(const A of g.queue)yield A(h),A.onAbort&&C.push(A.onAbort)}catch(A){C.reverse();for(const O of C)try{O()}catch(q){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==A?void 0:A.message})}})()}}class Zi{constructor(h,g,C,A){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hd(this),this.idTokenSubscription=new Hd(this),this.beforeStateQueue=new Bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=co,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(h,g){var C=this;return g&&(this._popupRedirectResolver=$e(g)),this._initializationPromise=this.queue((0,V.Z)(function*(){var A,O;if(!C._deleted&&(C.persistenceManager=yield $i.create(C,h),!C._deleted)){if(null===(A=C._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(q){}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(O=C.currentUser)||void 0===O?void 0:O.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,V.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,V.Z)(function*(){var C;const A=yield g.assertedPersistence.getCurrentUser();let O=A,q=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const re=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,Le=null==O?void 0:O._redirectEventId,Pe=yield g.tryRedirectSignIn(h);(!re||re===Le)&&(null==Pe?void 0:Pe.user)&&(O=Pe.user,q=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(O)}catch(re){O=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(re))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return ot(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(h){var g=this;return(0,V.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(A){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,V.Z)(function*(){try{yield es(h)}catch(C){if("auth/network-request-failed"!==(null==C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,V.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,V.Z)(function*(){const C=h?rn(h):null;return C&&ot(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(h,g=!1){var C=this;return(0,V.Z)(function*(){if(!C._deleted)return h&&ot(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,V.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,V.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,V.Z)(function*(){yield g.assertedPersistence.setPersistence($e(h))}))}initializeRecaptchaConfig(){var h=this;return(0,V.Z)(function*(){const g=yield nf(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new fm(g);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new mm(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new sn("auth","Firebase",h())}onAuthStateChanged(h,g,C){return this.registerStateListener(this.authStateSubscription,h,g,C)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,C){return this.registerStateListener(this.idTokenSubscription,h,g,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var C=this;return(0,V.Z)(function*(){const A=yield C.getOrInitRedirectPersistenceManager(g);return null===h?A.removeCurrentUser():A.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,V.Z)(function*(){if(!g.redirectPersistenceManager){const C=h&&$e(h)||g._popupRedirectResolver;ot(C,g,"argument-error"),g.redirectPersistenceManager=yield $i.create(g,[$e(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,V.Z)(function*(){var C,A;return g._isInitialized&&(yield g.queue((0,V.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===h?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,V.Z)(function*(){if(h===g.currentUser)return g.queue((0,V.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,C,A){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return ot(q,this,"internal-error"),q.then(()=>O(this.currentUser)),"function"==typeof g?h.addObserver(g,C,A):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,V.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=hm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,V.Z)(function*(){var g;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const A=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();A&&(C["X-Firebase-Client"]=A);const O=yield h._getAppCheckToken();return O&&(C["X-Firebase-AppCheck"]=O),C})()}_getAppCheckToken(){var h=this;return(0,V.Z)(function*(){var g;const C=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return(null==C?void 0:C.error)&&function(v,...h){Kl.logLevel<=se.WARN&&Kl.warn(`Auth (${ri.SDK_VERSION}): ${v}`,...[])}(`Error while retrieving App Check token: ${C.error}`),null==C?void 0:C.token})()}}function Ai(v){return rn(v)}class Hd{constructor(h){this.auth=h,this.observer=null,this.addObserver=function(v,h){const g=new Rt(v,void 0);return g.subscribe.bind(g)}(g=>this.observer=g)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pv(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function fl(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class tc{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return rr("not implemented")}_getIdTokenResponse(h){return rr("not implemented")}_linkToIdToken(h,g){return rr("not implemented")}_getReauthenticationResolver(h){return rr("not implemented")}}function l_(v,h){return c_.apply(this,arguments)}function c_(){return(c_=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:resetPassword",ie(v,h))})).apply(this,arguments)}function Ta(v,h){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function $u(v,h){return ym.apply(this,arguments)}function ym(){return(ym=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:update",ie(v,h))})).apply(this,arguments)}function Oc(v,h){return df.apply(this,arguments)}function df(){return(df=(0,V.Z)(function*(v,h){return en(v,"POST","/v1/accounts:signInWithPassword",ie(v,h))})).apply(this,arguments)}function vm(v,h){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:sendOobCode",ie(v,h))})).apply(this,arguments)}function u_(v,h){return qd.apply(this,arguments)}function qd(){return(qd=(0,V.Z)(function*(v,h){return vm(v,h)})).apply(this,arguments)}function nc(v,h){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,V.Z)(function*(v,h){return vm(v,h)})).apply(this,arguments)}function Nc(v,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,V.Z)(function*(v,h){return vm(v,h)})).apply(this,arguments)}function Wi(v,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,V.Z)(function*(v,h){return vm(v,h)})).apply(this,arguments)}function Zu(){return(Zu=(0,V.Z)(function*(v,h){return en(v,"POST","/v1/accounts:signInWithEmailLink",ie(v,h))})).apply(this,arguments)}function Qn(){return(Qn=(0,V.Z)(function*(v,h){return en(v,"POST","/v1/accounts:signInWithEmailLink",ie(v,h))})).apply(this,arguments)}class Qs extends tc{constructor(h,g,C,A=null){super("password",C),this._email=h,this._password=g,this._tenantId=A}static _fromEmailAndPassword(h,g){return new Qs(h,g,"password")}static _fromEmailAndCode(h,g,C=null){return new Qs(h,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,V.Z)(function*(){var C;switch(g.signInMethod){case"password":const A={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null===(C=h._getRecaptchaConfig())||void 0===C?void 0:C.emailPasswordEnabled){const O=yield hl(h,A,"signInWithPassword");return Oc(h,O)}return Oc(h,A).catch(function(){var O=(0,V.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const re=yield hl(h,A,"signInWithPassword");return Oc(h,re)}return Promise.reject(q)});return function(q){return O.apply(this,arguments)}}());case"emailLink":return function(v,h){return Zu.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:_i(h,"internal-error")}})()}_linkToIdToken(h,g){var C=this;return(0,V.Z)(function*(){switch(C.signInMethod){case"password":return Ta(h,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(v,h){return Qn.apply(this,arguments)}(h,{idToken:g,email:C._email,oobCode:C._password});default:_i(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function kn(v,h){return bm.apply(this,arguments)}function bm(){return(bm=(0,V.Z)(function*(v,h){return en(v,"POST","/v1/accounts:signInWithIdp",ie(v,h))})).apply(this,arguments)}class Ia extends tc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Ia(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):_i("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:A}=g,O=mi(g,["providerId","signInMethod"]);if(!C||!A)return null;const q=new Ia(C,A);return q.idToken=O.idToken||void 0,q.accessToken=O.accessToken||void 0,q.secret=O.secret,q.nonce=O.nonce,q.pendingToken=O.pendingToken||null,q}_getIdTokenResponse(h){return kn(h,this.buildRequest())}_linkToIdToken(h,g){const C=this.buildRequest();return C.idToken=g,kn(h,C)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,kn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=Ri(g)}return h}}function wm(v,h){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:sendVerificationCode",ie(v,h))})).apply(this,arguments)}function No(){return(No=(0,V.Z)(function*(v,h){return en(v,"POST","/v1/accounts:signInWithPhoneNumber",ie(v,h))})).apply(this,arguments)}function Ma(){return(Ma=(0,V.Z)(function*(v,h){const g=yield en(v,"POST","/v1/accounts:signInWithPhoneNumber",ie(v,h));if(g.temporaryProof)throw Gi(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ff={USER_NOT_FOUND:"user-not-found"};function mo(){return(mo=(0,V.Z)(function*(v,h){return en(v,"POST","/v1/accounts:signInWithPhoneNumber",ie(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ff)})).apply(this,arguments)}class ka extends tc{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new ka({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new ka({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function(v,h){return No.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function(v,h){return Ma.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(v,h){return mo.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:C,verificationCode:A}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:C,code:A}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:C,phoneNumber:A,temporaryProof:O}=h;return C||g||A||O?new ka({verificationId:g,verificationCode:C,phoneNumber:A,temporaryProof:O}):null}}class ic{constructor(h){var g,C,A,O,q,re;const Le=nr(Ir(h)),Pe=null!==(g=Le.apiKey)&&void 0!==g?g:null,rt=null!==(C=Le.oobCode)&&void 0!==C?C:null,He=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);ot(Pe&&rt&&He,"argument-error"),this.apiKey=Pe,this.operation=He,this.code=rt,this.continueUrl=null!==(O=Le.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(q=Le.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(re=Le.tenantId)&&void 0!==re?re:null}static parseLink(h){const g=function(v){const h=nr(Ir(v)).link,g=h?nr(Ir(h)).deep_link_id:null,C=nr(Ir(v)).deep_link_id;return(C?nr(Ir(C)).link:null)||C||g||h||v}(h);try{return new ic(g)}catch(C){return null}}}let rc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,C){return Qs._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const A=ic.parseLink(C);return ot(A,"argument-error"),Qs._fromEmailAndCode(g,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ha{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class sc extends ha{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Yu extends sc{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ot("providerId"in g&&"signInMethod"in g,"argument-error"),Ia._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ot(h.idToken||h.accessToken,"argument-error"),Ia._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Yu.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Yu.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:A,pendingToken:O,nonce:q,providerId:re}=h;if(!C&&!A&&!g&&!O||!re)return null;try{return new Yu(re)._credential({idToken:g,accessToken:C,nonce:q,pendingToken:O})}catch(Le){return null}}}let ml=(()=>{class v extends sc{constructor(){super("facebook.com")}static credential(g){return Ia._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),gl=(()=>{class v extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return Ia._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:A}=g;if(!C&&!A)return null;try{return v.credential(C,A)}catch(O){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Fc=(()=>{class v extends sc{constructor(){super("github.com")}static credential(g){return Ia._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class go extends tc{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return kn(h,this.buildRequest())}_linkToIdToken(h,g){const C=this.buildRequest();return C.idToken=g,kn(h,C)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,kn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:A,pendingToken:O}=g;return C&&A&&O&&C===A?new go(C,O):null}static _create(h,g){return new go(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _o extends ha{constructor(h){ot(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return _o.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return _o.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=go.fromJSON(h);return ot(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:C}=h;if(!g||!C)return null;try{return go._create(C,g)}catch(A){return null}}}let gf=(()=>{class v extends sc{constructor(){super("twitter.com")}static credential(g,C){return Ia._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:A}=g;if(!C||!A)return null;try{return v.credential(C,A)}catch(O){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ku(v,h){return Po.apply(this,arguments)}function Po(){return(Po=(0,V.Z)(function*(v,h){return en(v,"POST","/v1/accounts:signUp",ie(v,h))})).apply(this,arguments)}class Oa{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,C,A=!1){return(0,V.Z)(function*(){const O=yield le._fromIdTokenResponse(h,C,A),q=d_(C);return new Oa({user:O,providerId:q,_tokenResponse:C,operationType:g})})()}static _forOperation(h,g,C){return(0,V.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const A=d_(C);return new Oa({user:h,providerId:A,_tokenResponse:C,operationType:g})})()}}function d_(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Lc(){return(Lc=(0,V.Z)(function*(v){var h;const g=Ai(v);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new Oa({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Ku(g,{returnSecureToken:!0}),A=yield Oa._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Bc extends $t{constructor(h,g,C,A){var O;super(g.code,g.message),this.operationType=C,this.user=A,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:h.name,tenantId:null!==(O=h.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,g,C,A){return new Bc(h,g,C,A)}}function _f(v,h,g,C){return("reauthenticate"===h?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Bc._fromErrorAndOperation(v,O,h,C):O})}function yf(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function vf(){return(vf=(0,V.Z)(function*(v,h){const g=rn(v);yield Qu(!0,g,h);const{providerUserInfo:C}=yield sr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),A=yf(C||[]);return g.providerData=g.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ra(v,h){return Na.apply(this,arguments)}function Na(){return(Na=(0,V.Z)(function*(v,h,g=!1){const C=yield Fr(v,h._linkToIdToken(v.auth,yield v.getIdToken()),g);return Oa._forOperation(v,"link",C)})).apply(this,arguments)}function Qu(v,h,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,V.Z)(function*(v,h,g){yield es(h);const A=!1===v?"provider-already-linked":"no-such-provider";ot(yf(h.providerData).has(g)===v,h.auth,A)})).apply(this,arguments)}function _l(v,h){return or.apply(this,arguments)}function or(){return(or=(0,V.Z)(function*(v,h,g=!1){const{auth:C}=v,A="reauthenticate";try{const O=yield Fr(v,_f(C,A,h,v),g);ot(O.idToken,C,"internal-error");const q=Jl(O.idToken);ot(q,C,"internal-error");const{sub:re}=q;return ot(v.uid===re,C,"user-mismatch"),Oa._forOperation(v,A,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&_i(C,"user-mismatch"),O}})).apply(this,arguments)}function ac(v,h){return bf.apply(this,arguments)}function bf(){return(bf=(0,V.Z)(function*(v,h,g=!1){const C="signIn",A=yield _f(v,C,h),O=yield Oa._fromIdTokenResponse(v,C,A);return g||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function As(v,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,V.Z)(function*(v,h){return ac(Ai(v),h)})).apply(this,arguments)}function yl(v,h){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,V.Z)(function*(v,h){const g=rn(v);return yield Qu(!1,g,h.providerId),Ra(g,h)})).apply(this,arguments)}function Wd(v,h){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,V.Z)(function*(v,h){return _l(rn(v),h)})).apply(this,arguments)}function wf(v,h){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,V.Z)(function*(v,h){return en(v,"POST","/v1/accounts:signInWithCustomToken",ie(v,h))})).apply(this,arguments)}function Cf(){return(Cf=(0,V.Z)(function*(v,h){const g=Ai(v),C=yield wf(g,{token:h,returnSecureToken:!0}),A=yield Oa._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Vc{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Js._fromServerResponse(h,g):"totpInfo"in g?Yd._fromServerResponse(h,g):_i(h,"internal-error")}}class Js extends Vc{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Js(g)}}class Yd extends Vc{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Yd(g)}}function fa(v,h,g){var C;ot((null===(C=g.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ot(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ot(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ot(g.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Kd(){return Kd=(0,V.Z)(function*(v,h,g){var C;const A=Ai(v),O={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null===(C=A._getRecaptchaConfig())||void 0===C?void 0:C.emailPasswordEnabled){const q=yield hl(A,O,"getOobCode",!0);g&&fa(A,q,g),yield nc(A,q)}else g&&fa(A,O,g),yield nc(A,O).catch(function(){var q=(0,V.Z)(function*(re){if("auth/missing-recaptcha-token"!==re.code)return Promise.reject(re);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Le=yield hl(A,O,"getOobCode",!0);g&&fa(A,Le,g),yield nc(A,Le)}});return function(re){return q.apply(this,arguments)}}())}),Kd.apply(this,arguments)}function Em(){return(Em=(0,V.Z)(function*(v,h,g){yield l_(rn(v),{oobCode:h,newPassword:g})})).apply(this,arguments)}function xm(){return(xm=(0,V.Z)(function*(v,h){yield $u(rn(v),{oobCode:h})})).apply(this,arguments)}function Qd(v,h){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,V.Z)(function*(v,h){const g=rn(v),C=yield l_(g,{oobCode:h}),A=C.requestType;switch(ot(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ot(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ot(C.mfaInfo,g,"internal-error");default:ot(C.email,g,"internal-error")}let O=null;return C.mfaInfo&&(O=Vc._fromServerResponse(Ai(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function jc(){return(jc=(0,V.Z)(function*(v,h){const{data:g}=yield Qd(rn(v),h);return g.email})).apply(this,arguments)}function vl(){return vl=(0,V.Z)(function*(v,h,g){var C;const A=Ai(v),O={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let q;if(null===(C=A._getRecaptchaConfig())||void 0===C?void 0:C.emailPasswordEnabled){const Pe=yield hl(A,O,"signUpPassword");q=Ku(A,Pe)}else q=Ku(A,O).catch(function(){var Pe=(0,V.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const He=yield hl(A,O,"signUpPassword");return Ku(A,He)}return Promise.reject(rt)});return function(rt){return Pe.apply(this,arguments)}}());const re=yield q.catch(Pe=>Promise.reject(Pe)),Le=yield Oa._fromIdTokenResponse(A,"signIn",re);return yield A._updateCurrentUser(Le.user),Le}),vl.apply(this,arguments)}function Am(){return Am=(0,V.Z)(function*(v,h,g){var C;const A=Ai(v),O={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function q(re,Le){ot(Le.handleCodeInApp,A,"argument-error"),Le&&fa(A,re,Le)}if(null===(C=A._getRecaptchaConfig())||void 0===C?void 0:C.emailPasswordEnabled){const re=yield hl(A,O,"getOobCode",!0);q(re,g),yield Nc(A,re)}else q(O,g),yield Nc(A,O).catch(function(){var re=(0,V.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pe=yield hl(A,O,"getOobCode",!0);q(Pe,g),yield Nc(A,Pe)}});return function(Le){return re.apply(this,arguments)}}())}),Am.apply(this,arguments)}function Af(){return(Af=(0,V.Z)(function*(v,h,g){const C=rn(v),A=rc.credentialWithLink(h,g||ko());return ot(A._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),As(C,A)})).apply(this,arguments)}function Df(v,h){return qc.apply(this,arguments)}function qc(){return(qc=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:createAuthUri",ie(v,h))})).apply(this,arguments)}function Gc(){return(Gc=(0,V.Z)(function*(v,h){const C={identifier:h,continueUri:Oo()?ko():"http://localhost"},{signinMethods:A}=yield Df(rn(v),C);return A||[]})).apply(this,arguments)}function bl(){return(bl=(0,V.Z)(function*(v,h){const g=rn(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&fa(g.auth,A,h);const{email:O}=yield u_(g.auth,A);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function Jd(){return(Jd=(0,V.Z)(function*(v,h,g){const C=rn(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};g&&fa(C.auth,O,g);const{email:q}=yield Wi(C.auth,O);q!==v.email&&(yield v.reload())})).apply(this,arguments)}function Xd(v,h){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,V.Z)(function*(v,h){return Te(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ed(){return(ed=(0,V.Z)(function*(v,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const C=rn(v),O={idToken:yield C.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},q=yield Fr(C,Xd(C.auth,O));C.displayName=q.displayName||null,C.photoURL=q.photoUrl||null;const re=C.providerData.find(({providerId:Le})=>"password"===Le);re&&(re.displayName=C.displayName,re.photoURL=C.photoURL),yield C._updateTokensIfNecessary(q)})).apply(this,arguments)}function td(v,h,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,V.Z)(function*(v,h,g){const{auth:C}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(O.email=h),g&&(O.password=g);const q=yield Fr(v,Ta(C,O));yield v._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class wl{constructor(h,g,C={}){this.isNewUser=h,this.providerId=g,this.profile=C}}class Tf extends wl{constructor(h,g,C,A){super(h,g,C),this.username=A}}class Sm extends wl{constructor(h,g){super(h,"facebook.com",g)}}class If extends Tf{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class hw extends wl{constructor(h,g){super(h,"google.com",g)}}class jv extends Tf{constructor(h,g,C){super(h,"twitter.com",g,C)}}function Cl(v){const{user:h,_tokenResponse:g}=v;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var h,g;if(!v)return null;const{providerId:C}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const q=null===(g=null===(h=Jl(v.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new wl(O,"anonymous"!==q&&"custom"!==q?q:null)}if(!C)return null;switch(C){case"facebook.com":return new Sm(O,A);case"github.com":return new If(O,A);case"google.com":return new hw(O,A);case"twitter.com":return new jv(O,A,v.screenName||null);case"custom":case"anonymous":return new wl(O,null);default:return new wl(O,C,A)}}(g)}class lc{constructor(h,g,C){this.type=h,this.credential=g,this.auth=C}static _fromIdtoken(h,g){return new lc("enroll",h,g)}static _fromMfaPendingCredential(h){return new lc("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,C;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return lc._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(C=h.multiFactorSession)||void 0===C?void 0:C.idToken)return lc._fromIdtoken(h.multiFactorSession.idToken)}return null}}class $c{constructor(h,g,C){this.session=h,this.hints=g,this.signInResolver=C}static _fromError(h,g){const C=Ai(h),A=g.customData._serverResponse,O=(A.mfaInfo||[]).map(re=>Vc._fromServerResponse(C,re));ot(A.mfaPendingCredential,C,"internal-error");const q=lc._fromMfaPendingCredential(A.mfaPendingCredential);return new $c(q,O,function(){var re=(0,V.Z)(function*(Le){const Pe=yield Le._process(C,q);delete A.mfaInfo,delete A.mfaPendingCredential;const rt=Object.assign(Object.assign({},A),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(g.operationType){case"signIn":const He=yield Oa._fromIdTokenResponse(C,g.operationType,rt);return yield C._updateCurrentUser(He.user),He;case"reauthenticate":return ot(g.user,C,"internal-error"),Oa._forOperation(g.user,g.operationType,rt);default:_i(C,"internal-error")}});return function(Le){return re.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,V.Z)(function*(){return g.signInResolver(h)})()}}function gw(v,h){return Te(v,"POST","/v2/accounts/mfaEnrollment:start",ie(v,h))}class kf{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Vc._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new kf(h)}getSession(){var h=this;return(0,V.Z)(function*(){return lc._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var C=this;return(0,V.Z)(function*(){const A=h,O=yield C.getSession(),q=yield Fr(C.user,A._process(C.user.auth,O,g));return yield C.user._updateTokensIfNecessary(q),C.user.reload()})()}unenroll(h){var g=this;return(0,V.Z)(function*(){const C="string"==typeof h?h:h.uid,A=yield g.user.getIdToken();try{const O=yield Fr(g.user,function(v,h){return Te(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ie(v,h))}(g.user.auth,{idToken:A,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==C),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const th=new WeakMap,is="__sak";class nh{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(is,"1"),this.storage.removeItem(is),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xs=(()=>{class v extends nh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=oe();return ts(v)||Es(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=um(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const A=this.storage.getItem(C),O=this.localCache[C];A!==O&&g(C,O,A)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((re,Le,Pe)=>{this.notifyListeners(re,Pe)});const A=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(A);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!C)return}const O=()=>{const re=this.storage.getItem(A);!C&&this.localCache[A]===re||this.notifyListeners(A,re)},q=this.storage.getItem(A);!function(){const v=oe();return v.indexOf("MSIE ")>=0||v.indexOf("Trident/")>=0}()||10!==document.documentMode||q===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,C){this.localCache[g]=C;const A=this.listeners[g];if(A)for(const O of Array.from(A))O(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var A=()=>super._set,O=this;return(0,V.Z)(function*(){yield A().call(O,g,C),O.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,A=this;return(0,V.Z)(function*(){const O=yield C().call(A,g);return A.localCache[g]=JSON.stringify(O),O})()}_remove(g){var C=()=>super._remove,A=this;return(0,V.Z)(function*(){yield C().call(A,g),delete A.localCache[g]})()}}return v.type="LOCAL",v})(),Yc=(()=>{class v extends nh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return v.type="SESSION",v})();let yw=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(O=>O.isListeningto(g));if(C)return C;const A=new v(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,V.Z)(function*(){const A=g,{eventId:O,eventType:q,data:re}=A.data,Le=C.handlersMap[q];if(!(null==Le?void 0:Le.size))return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:q});const Pe=Array.from(Le).map(function(){var He=(0,V.Z)(function*(Ut){return Ut(A.origin,re)});return function(Ut){return He.apply(this,arguments)}}()),rt=yield function(v){return Promise.all(v.map(function(){var h=(0,V.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return h.apply(this,arguments)}}()))}(Pe);A.ports[0].postMessage({status:"done",eventId:O,eventType:q,response:rt})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function rh(v="",h=10){let g="";for(let C=0;C<h;C++)g+=Math.floor(10*Math.random());return v+g}class Gv{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,C=50){var A=this;return(0,V.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let q,re;return new Promise((Le,Pe)=>{const rt=rh("",20);O.port1.start();const He=setTimeout(()=>{Pe(new Error("unsupported_event"))},C);re={messageChannel:O,onMessage(Ut){const Jn=Ut;if(Jn.data.eventId===rt)switch(Jn.data.status){case"ack":clearTimeout(He),q=setTimeout(()=>{Pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Le(Jn.data.response);break;default:clearTimeout(He),clearTimeout(q),Pe(new Error("invalid_response"))}}},A.handlers.add(re),O.port1.addEventListener("message",re.onMessage),A.target.postMessage({eventType:h,eventId:rt,data:g},[O.port2])}).finally(()=>{re&&A.removeMessageHandler(re)})})()}}function ar(){return window}function cc(){return void 0!==ar().WorkerGlobalScope&&"function"==typeof ar().importScripts}function y_(){return(y_=(0,V.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const id="firebaseLocalStorageDb",vo="firebaseLocalStorage",rd="fbase_key";class Kc{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function sh(v,h){return v.transaction([vo],h?"readwrite":"readonly").objectStore(vo)}function v_(){const v=indexedDB.open(id,1);return new Promise((h,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(vo,{keyPath:rd})}catch(A){g(A)}}),v.addEventListener("success",(0,V.Z)(function*(){const C=v.result;C.objectStoreNames.contains(vo)?h(C):(C.close(),yield function(){const v=indexedDB.deleteDatabase(id);return new Kc(v).toPromise()}(),h(yield v_()))}))})}function Nf(v,h,g){return $v.apply(this,arguments)}function $v(){return($v=(0,V.Z)(function*(v,h,g){const C=sh(v,!0).put({[rd]:h,value:g});return new Kc(C).toPromise()})).apply(this,arguments)}function oh(){return(oh=(0,V.Z)(function*(v,h){const g=sh(v,!1).get(h),C=yield new Kc(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function km(v,h){const g=sh(v,!0).delete(h);return new Kc(g).toPromise()}const Qc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,V.Z)(function*(){return g.db||(g.db=yield v_()),g.db})()}_withRetries(g){var C=this;return(0,V.Z)(function*(){let A=0;for(;;)try{const O=yield C._openDb();return yield g(O)}catch(O){if(A++>3)throw O;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,V.Z)(function*(){return cc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,V.Z)(function*(){g.receiver=yw._getInstance(cc()?self:null),g.receiver._subscribe("keyChanged",function(){var C=(0,V.Z)(function*(A,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(A,O){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,V.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,V.Z)(function*(){var C,A;if(g.activeServiceWorker=yield function(){return y_.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Gv(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(C=O[0])||void 0===C?void 0:C.fulfilled)&&(null===(A=O[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,V.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,V.Z)(function*(){try{if(!indexedDB)return!1;const g=yield v_();return yield Nf(g,is,"1"),yield km(g,is),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,V.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var A=this;return(0,V.Z)(function*(){return A._withPendingWrite((0,V.Z)(function*(){return yield A._withRetries(O=>Nf(O,g,C)),A.localCache[g]=C,A.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,V.Z)(function*(){const A=yield C._withRetries(O=>function(v,h){return oh.apply(this,arguments)}(O,g));return C.localCache[g]=A,A})()}_remove(g){var C=this;return(0,V.Z)(function*(){return C._withPendingWrite((0,V.Z)(function*(){return yield C._withRetries(A=>km(A,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,V.Z)(function*(){const C=yield g._withRetries(q=>{const re=sh(q,!1).getAll();return new Kc(re).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:q,value:re}of C)O.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(re)&&(g.notifyListeners(q,re),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!O.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,C){this.localCache[g]=C;const A=this.listeners[g];if(A)for(const O of Array.from(A))O(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,V.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Pf(v,h){return Te(v,"POST","/v2/accounts/mfaSignIn:start",ie(v,h))}const ah=1e12;class Lf{constructor(h){this.auth=h,this.counter=ah,this._widgets=new Map}render(h,g){const C=this.counter;return this._widgets.set(C,new Jc(h,this.auth.name,g||{})),this.counter++,C}reset(h){var g;const C=h||ah;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(h){var g;return(null===(g=this._widgets.get(h||ah))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,V.Z)(function*(){var C;return null===(C=g._widgets.get(h||ah))||void 0===C||C.execute(),""})()}}class Jc{constructor(h,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof h?document.getElementById(h):h;ot(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}();const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lh=lf("rcb"),Wv=new Pr(3e4,6e4);class C_{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(h=ar().grecaptcha)||void 0===h?void 0:h.render)}load(h,g=""){return ot((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),h,"argument-error"),this.shouldResolveImmediately(g)&&sf(ar().grecaptcha)?Promise.resolve(ar().grecaptcha):new Promise((C,A)=>{const O=ar().setTimeout(()=>{A(Gn(h,"network-request-failed"))},Wv.get());ar()[lh]=()=>{ar().clearTimeout(O),delete ar()[lh];const re=ar().grecaptcha;if(!re||!sf(re))return void A(Gn(h,"internal-error"));const Le=re.render;re.render=(Pe,rt)=>{const He=Le(Pe,rt);return this.counter++,He},this.hostLanguage=g,C(re)},af(`https://www.google.com/recaptcha/api.js??${Ri({onload:lh,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),A(Gn(h,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!!(null===(g=ar().grecaptcha)||void 0===g?void 0:g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yv{load(h){return(0,V.Z)(function*(){return new Lf(h)})()}clearedOneInstance(){}}const Pm="recaptcha",Kv={theme:"light",type:"image"};class E_{constructor(h,g=Object.assign({},Kv),C){this.parameters=g,this.type=Pm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ai(C),this.isInvisible="invisible"===this.parameters.size,ot("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof h?document.getElementById(h):h;ot(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yv:new C_,this.validateStartingState()}verify(){var h=this;return(0,V.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(g)||new Promise(O=>{const q=re=>{!re||(h.tokenChangeListeners.delete(q),O(re))};h.tokenChangeListeners.add(q),h.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ot(!this.parameters.sitekey,this.auth,"argument-error"),ot(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ot("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof h)h(g);else if("string"==typeof h){const C=ar()[h];"function"==typeof C&&C(g)}}}assertNotDestroyed(){ot(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,V.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,V.Z)(function*(){ot(Oo()&&!cc(),h.auth,"internal-error"),yield function(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function(v){return Ud.apply(this,arguments)}(h.auth);ot(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ot(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Lm{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=ka._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function vr(){return(vr=(0,V.Z)(function*(v,h,g){const C=Ai(v),A=yield El(C,h,rn(g));return new Lm(A,O=>As(C,O))})).apply(this,arguments)}function eu(){return(eu=(0,V.Z)(function*(v,h,g){const C=rn(v);yield Qu(!1,C,"phone");const A=yield El(C.auth,h,rn(g));return new Lm(A,O=>yl(C,O))})).apply(this,arguments)}function Vr(){return(Vr=(0,V.Z)(function*(v,h,g){const C=rn(v),A=yield El(C.auth,h,rn(g));return new Lm(A,O=>Wd(C,O))})).apply(this,arguments)}function El(v,h,g){return uh.apply(this,arguments)}function uh(){return(uh=(0,V.Z)(function*(v,h,g){var C;const A=yield g.verify();try{let O;if(ot("string"==typeof A,v,"argument-error"),ot(g.type===Pm,v,"argument-error"),O="string"==typeof h?{phoneNumber:h}:h,"session"in O){const q=O.session;if("phoneNumber"in O)return ot("enroll"===q.type,v,"internal-error"),(yield gw(v,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ot("signin"===q.type,v,"internal-error");const re=(null===(C=O.multiFactorHint)||void 0===C?void 0:C.uid)||O.multiFactorUid;return ot(re,v,"missing-multi-factor-info"),(yield Pf(v,{mfaPendingCredential:q.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield wm(v,{phoneNumber:O.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function dh(){return(dh=(0,V.Z)(function*(v,h){yield Ra(rn(v),h)})).apply(this,arguments)}let tu=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Ai(g)}verifyPhoneNumber(g,C){return El(this.auth,g,rn(C))}static credential(g,C){return ka._fromVerification(g,C)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:A}=g;return C&&A?ka._fromTokenResponse(C,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Al(v,h){return h?$e(h):(ot(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Vf extends tc{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return kn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return kn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return kn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Qv(v){return ac(v.auth,new Vf(v),v.bypassAuthState)}function ur(v){const{auth:h,user:g}=v;return ot(g,h,"internal-error"),_l(g,new Vf(v),v.bypassAuthState)}function Bm(v){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,V.Z)(function*(v){const{auth:h,user:g}=v;return ot(g,h,"internal-error"),Ra(g,new Vf(v),v.bypassAuthState)})).apply(this,arguments)}class x_{constructor(h,g,C,A,O=!1){this.auth=h,this.resolver=C,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,V.Z)(function*(C,A){h.pendingPromise={resolve:C,reject:A};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(O){h.reject(O)}});return function(C,A){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,V.Z)(function*(){const{urlResponse:C,sessionId:A,postBody:O,tenantId:q,error:re,type:Le}=h;if(re)return void g.reject(re);const Pe={auth:g.auth,requestUri:C,sessionId:A,tenantId:q||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Pe))}catch(rt){g.reject(rt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Qv;case"linkViaPopup":case"linkViaRedirect":return Bm;case"reauthViaPopup":case"reauthViaRedirect":return ur;default:_i(this.auth,"internal-error")}}resolve(h){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jf=new Pr(2e3,1e4);function $n(){return($n=(0,V.Z)(function*(v,h,g){const C=Ai(v);Mo(v,h,ha);const A=Al(C,g);return new Wn(C,"signInViaPopup",h,A).executeNotNull()})).apply(this,arguments)}function Ct(){return(Ct=(0,V.Z)(function*(v,h,g){const C=rn(v);Mo(C.auth,h,ha);const A=Al(C.auth,g);return new Wn(C.auth,"reauthViaPopup",h,A,C).executeNotNull()})).apply(this,arguments)}function Ur(){return(Ur=(0,V.Z)(function*(v,h,g){const C=rn(v);Mo(C.auth,h,ha);const A=Al(C.auth,g);return new Wn(C.auth,"linkViaPopup",h,A,C).executeNotNull()})).apply(this,arguments)}let Wn=(()=>{class v extends x_{constructor(g,C,A,O,q){super(g,C,O,q),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,V.Z)(function*(){const C=yield g.execute();return ot(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,V.Z)(function*(){Fs(1===g.filter.length,"Popup operations only handle one event");const C=rh();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Gn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,A;this.pollId=(null===(A=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,jf.get())};g()}}return v.currentPopupAction=null,v})();const hh=new Map;class Vm extends x_{constructor(h,g,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,V.Z)(function*(){let C=hh.get(g.auth._key());if(!C){try{const O=(yield function(v,h){return fh.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;C=()=>Promise.resolve(O)}catch(A){C=()=>Promise.reject(A)}hh.set(g.auth._key(),C)}return g.bypassAuthState||hh.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,C=this;return(0,V.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(C,h);if("unknown"!==h.type){if(h.eventId){const A=yield C.auth._redirectUserForId(h.eventId);if(A)return C.user=A,g().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,V.Z)(function*(){})()}cleanUp(){}}function fh(){return(fh=(0,V.Z)(function*(v,h){const g=ma(h),C=A_(v);if(!(yield C._isAvailable()))return!1;const A="true"===(yield C._get(g));return yield C._remove(g),A})).apply(this,arguments)}function Hf(v,h){return La.apply(this,arguments)}function La(){return(La=(0,V.Z)(function*(v,h){return A_(v)._set(ma(h),"true")})).apply(this,arguments)}function Um(v,h){hh.set(v._key(),h)}function A_(v){return $e(v._redirectPersistence)}function ma(v){return Yn("pendingRedirect",v.config.apiKey,v.name)}function zf(){return(zf=(0,V.Z)(function*(v,h,g){const C=Ai(v);Mo(v,h,ha),yield C._initializationPromise;const A=Al(C,g);return yield Hf(A,C),A._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function ph(){return(ph=(0,V.Z)(function*(v,h,g){const C=rn(v);Mo(C.auth,h,ha),yield C.auth._initializationPromise;const A=Al(C.auth,g);yield Hf(A,C.auth);const O=yield Sl(C);return A._openRedirect(C.auth,h,"reauthViaRedirect",O)})).apply(this,arguments)}function iu(){return(iu=(0,V.Z)(function*(v,h,g){const C=rn(v);Mo(C.auth,h,ha),yield C.auth._initializationPromise;const A=Al(C.auth,g);yield Qu(!1,C,h.providerId),yield Hf(A,C.auth);const O=yield Sl(C);return A._openRedirect(C.auth,h,"linkViaRedirect",O)})).apply(this,arguments)}function Si(){return(Si=(0,V.Z)(function*(v,h){return yield Ai(v)._initializationPromise,bo(v,h,!1)})).apply(this,arguments)}function bo(v,h){return uc.apply(this,arguments)}function uc(){return(uc=(0,V.Z)(function*(v,h,g=!1){const C=Ai(v),A=Al(C,h),q=yield new Vm(C,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield C._persistUserIfCurrent(q.user),yield C._setRedirectUser(null,h)),q})).apply(this,arguments)}function Sl(v){return On.apply(this,arguments)}function On(){return(On=(0,V.Z)(function*(v){const h=rh(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class od{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(g=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yi(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var C;if(h.error&&!yi(h)){const A=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Gn(this.auth,A))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const C=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ad(h))}saveEventToCache(h){this.cachedEventUids.add(ad(h)),this.lastProcessedEventTime=Date.now()}}function ad(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function yi({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Bi(v){return dc.apply(this,arguments)}function dc(){return(dc=(0,V.Z)(function*(v,h={}){return Te(v,"GET","/v1/projects",h)})).apply(this,arguments)}const Tl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ii=/^https?/;function Ii(){return(Ii=(0,V.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield Bi(v);for(const g of h)try{if(Vo(g))return}catch(C){}_i(v,"unauthorized-domain")})).apply(this,arguments)}function Vo(v){const h=ko(),{protocol:g,hostname:C}=new URL(h);if(v.startsWith("chrome-extension://")){const q=new URL(v);return""===q.hostname&&""===C?"chrome-extension:"===g&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===C}if(!ii.test(g))return!1;if(Tl.test(v))return C===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)}const hc=new Pr(3e4,6e4);function mh(){const v=ar().___jsl;if(null==v?void 0:v.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let $f=null;function Zf(v){return $f=$f||function(v){return new Promise((h,g)=>{var C,A,O;function q(){mh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{mh(),g(Gn(v,"network-request-failed"))},timeout:hc.get()})}if(null===(A=null===(C=ar().gapi)||void 0===C?void 0:C.iframes)||void 0===A?void 0:A.Iframe)h(gapi.iframes.getContext());else{if(!(null===(O=ar().gapi)||void 0===O?void 0:O.load)){const re=lf("iframefcb");return ar()[re]=()=>{gapi.load?q():g(Gn(v,"network-request-failed"))},af(`https://apis.google.com/js/api.js?onload=${re}`).catch(Le=>g(Le))}q()}}).catch(h=>{throw $f=null,h})}(v),$f}const D_=new Pr(5e3,15e3),ld={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Il=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jm(v){const h=v.config;ot(h.authDomain,v,"auth-domain-config-required");const g=h.emulator?Ls(h,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:h.apiKey,appName:v.name,v:ri.SDK_VERSION},A=Il.get(v.config.apiHost);A&&(C.eid=A);const O=v._getFrameworks();return O.length&&(C.fw=O.join(",")),`${g}?${Ri(C).slice(1)}`}function gh(){return gh=(0,V.Z)(function*(v){const h=yield Zf(v),g=ar().gapi;return ot(g,v,"internal-error"),h.open({where:document.body,url:jm(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ld,dontclear:!0},C=>new Promise(function(){var A=(0,V.Z)(function*(O,q){yield C.restyle({setHideOnLeave:!1});const re=Gn(v,"network-request-failed"),Le=ar().setTimeout(()=>{q(re)},D_.get());function Pe(){ar().clearTimeout(Le),O(C)}C.ping(Pe).then(Pe,()=>{q(re)})});return function(O,q){return A.apply(this,arguments)}}()))}),gh.apply(this,arguments)}const Ml={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}const T_=encodeURIComponent("fac");function fc(v,h,g,C,A,O){return su.apply(this,arguments)}function su(){return(su=(0,V.Z)(function*(v,h,g,C,A,O){ot(v.config.authDomain,v,"auth-domain-config-required"),ot(v.config.apiKey,v,"invalid-api-key");const q={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:C,v:ri.SDK_VERSION,eventId:A};if(h instanceof ha){h.setDefaultLanguage(v.languageCode),q.providerId=h.providerId||"",ra(h.getCustomParameters())||(q.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rt,He]of Object.entries(O||{}))q[rt]=He}if(h instanceof sc){const rt=h.getScopes().filter(He=>""!==He);rt.length>0&&(q.scopes=rt.join(","))}v.tenantId&&(q.tid=v.tenantId);const re=q;for(const rt of Object.keys(re))void 0===re[rt]&&delete re[rt];const Le=yield v._getAppCheckToken(),Pe=Le?`#${T_}=${encodeURIComponent(Le)}`:"";return`${Rn(v)}?${Ri(re).slice(1)}${Pe}`})).apply(this,arguments)}function Rn({config:v}){return v.emulator?Ls(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}const ou="webStorageSupport";class $m extends class{constructor(h){this.factorId=h}_process(h,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,C);case"signin":return this._finalizeSignIn(h,g.credential);default:return rr("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new $m(h)}_finalizeEnroll(h,g,C){return function(v,h){return Te(v,"POST","/v2/accounts/mfaEnrollment:finalize",ie(v,h))}(h,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function(v,h){return Te(v,"POST","/v2/accounts/mfaSignIn:finalize",ie(v,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let I_=(()=>{class v{constructor(){}static assertion(g){return $m._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Qf="@firebase/auth";class rs{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,V.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(C=>{h((null==C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lu(){return window}function vh(){return vh=(0,V.Z)(function*(v,h,g){var C;const{BuildInfo:A}=lu();Fs(h.sessionId,"AuthEvent did not contain a session ID");const O=yield Xf(h.sessionId),q={};return Es()?q.ibi=A.packageName:kc()?q.apn=A.packageName:_i(v,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=O,fc(v,g,h.type,void 0,null!==(C=h.eventId)&&void 0!==C?C:void 0,q)}),vh.apply(this,arguments)}function In(){return In=(0,V.Z)(function*(v){const{BuildInfo:h}=lu(),g={};Es()?g.iosBundleId=h.packageName:kc()?g.androidPackageName=h.packageName:_i(v,"operation-not-supported-in-this-environment"),yield Bi(v,g)}),In.apply(this,arguments)}function tn(){return tn=(0,V.Z)(function*(v,h,g){const{cordova:C}=lu();let A=()=>{};try{yield new Promise((O,q)=>{let re=null;function Le(){var He;O();const Ut=null===(He=C.plugins.browsertab)||void 0===He?void 0:He.close;"function"==typeof Ut&&Ut(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Pe(){re||(re=window.setTimeout(()=>{q(Gn(v,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===(null==document?void 0:document.visibilityState)&&Pe()}h.addPassiveListener(Le),document.addEventListener("resume",Pe,!1),kc()&&document.addEventListener("visibilitychange",rt,!1),A=()=>{h.removePassiveListener(Le),document.removeEventListener("resume",Pe,!1),document.removeEventListener("visibilitychange",rt,!1),re&&window.clearTimeout(re)}})}finally{A()}}),tn.apply(this,arguments)}function Xf(v){return wh.apply(this,arguments)}function wh(){return wh=(0,V.Z)(function*(v){const h=ep(v),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")}),wh.apply(this,arguments)}function ep(v){if(Fs(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const h=new ArrayBuffer(v.length),g=new Uint8Array(h);for(let C=0;C<v.length;C++)g[C]=v.charCodeAt(C);return g}(()=>{try{(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const v=process.env.__FIREBASE_DEFAULTS__;return v?JSON.parse(v):void 0})()||(()=>{if("undefined"==typeof document)return;let v;try{v=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(g){return}const h=v&&te(v[1]);h&&JSON.parse(h)})()}catch(v){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${v}`)}})(),function(v){(0,ri._registerComponent)(new vt("auth",(h,{options:g})=>{const C=h.getProvider("app").getImmediate(),A=h.getProvider("heartbeat"),O=h.getProvider("app-check-internal"),{apiKey:q,authDomain:re}=C.options;ot(q&&!q.includes(":"),"invalid-api-key",{appName:C.name});const Le={apiKey:q,authDomain:re,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hm(v)},Pe=new Zi(C,A,O,Le);return function(v,h){const g=(null==h?void 0:h.persistence)||[],C=(Array.isArray(g)?g:[g]).map($e);(null==h?void 0:h.errorMap)&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(C,null==h?void 0:h.popupRedirectResolver)}(Pe,g),Pe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,C)=>{h.getProvider("auth-internal").initialize()})),(0,ri._registerComponent)(new vt("auth-internal",h=>{const g=Ai(h.getProvider("auth").getImmediate());return new rs(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ri.registerVersion)(Qf,"0.23.2",void 0),(0,ri.registerVersion)(Qf,"0.23.2","esm2017")}("Browser");class mc extends od{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,V.Z)(function*(){yield h.initPromise})()}}function ja(v){return du.apply(this,arguments)}function du(){return du=(0,V.Z)(function*(v){const h=yield Zm()._get(hu(v));return h&&(yield Zm()._remove(hu(v))),h}),du.apply(this,arguments)}function tp(){const v=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*h.length);v.push(h.charAt(C))}return v.join("")}function Zm(){return $e(Xs)}function hu(v){return Yn("authEvent",v.config.apiKey,v.name)}function Ol(v){if(!(null==v?void 0:v.includes("?")))return{};const[h,...g]=v.split("?");return nr(g.join("?"))}function np(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Gn("no-auth-event")}}const B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(v,h){if(!Array.isArray(v))throw Error("encodeByteArray takes an array as a parameter");this.init_();const g=h?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let A=0;A<v.length;A+=3){const O=v[A],q=A+1<v.length,re=q?v[A+1]:0,Le=A+2<v.length,Pe=Le?v[A+2]:0;let Ut=(15&re)<<2|Pe>>6,Jn=63&Pe;Le||(Jn=64,q||(Ut=64)),C.push(g[O>>2],g[(3&O)<<4|re>>4],g[Ut],g[Jn])}return C.join("")},encodeString(v,h){return this.HAS_NATIVE_SUPPORT&&!h?btoa(v):this.encodeByteArray(function(v){const h=[];let g=0;for(let C=0;C<v.length;C++){let A=v.charCodeAt(C);A<128?h[g++]=A:A<2048?(h[g++]=A>>6|192,h[g++]=63&A|128):55296==(64512&A)&&C+1<v.length&&56320==(64512&v.charCodeAt(C+1))?(A=65536+((1023&A)<<10)+(1023&v.charCodeAt(++C)),h[g++]=A>>18|240,h[g++]=A>>12&63|128,h[g++]=A>>6&63|128,h[g++]=63&A|128):(h[g++]=A>>12|224,h[g++]=A>>6&63|128,h[g++]=63&A|128)}return h}(v),h)},decodeString(v,h){return this.HAS_NATIVE_SUPPORT&&!h?atob(v):function(v){const h=[];let g=0,C=0;for(;g<v.length;){const A=v[g++];if(A<128)h[C++]=String.fromCharCode(A);else if(A>191&&A<224){const O=v[g++];h[C++]=String.fromCharCode((31&A)<<6|63&O)}else if(A>239&&A<365){const Le=((7&A)<<18|(63&v[g++])<<12|(63&v[g++])<<6|63&v[g++])-65536;h[C++]=String.fromCharCode(55296+(Le>>10)),h[C++]=String.fromCharCode(56320+(1023&Le))}else{const O=v[g++],q=v[g++];h[C++]=String.fromCharCode((15&A)<<12|(63&O)<<6|63&q)}}return h.join("")}(this.decodeStringToByteArray(v,h))},decodeStringToByteArray(v,h){this.init_();const g=h?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let A=0;A<v.length;){const O=g[v.charAt(A++)],re=A<v.length?g[v.charAt(A)]:0;++A;const Pe=A<v.length?g[v.charAt(A)]:64;++A;const He=A<v.length?g[v.charAt(A)]:64;if(++A,null==O||null==re||null==Pe||null==He)throw new Tw;C.push(O<<2|re>>4),64!==Pe&&(C.push(re<<4&240|Pe>>2),64!==He&&C.push(Pe<<6&192|He))}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let v=0;v<this.ENCODED_VALS.length;v++)this.byteToCharMap_[v]=this.ENCODED_VALS.charAt(v),this.charToByteMap_[this.byteToCharMap_[v]]=v,this.byteToCharMapWebSafe_[v]=this.ENCODED_VALS_WEBSAFE.charAt(v),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[v]]=v,v>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(v)]=v,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(v)]=v)}}};class Tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const op=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const v=process.env.__FIREBASE_DEFAULTS__;return v?JSON.parse(v):void 0})()||(()=>{if("undefined"==typeof document)return;let v;try{v=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(g){return}const h=v&&function(v){try{return B_.decodeString(v,!0)}catch(h){console.error("base64Decode failed: ",h)}return null}(v[1]);return h&&JSON.parse(h)})()}catch(v){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${v}`)}};function Rl(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ap(){var v;const h=null===(v=op())||void 0===v?void 0:v.forceEnvironment;if("node"===h)return!0;if("browser"===h)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(g){return!1}}function qa(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lp(){try{return"object"==typeof indexedDB}catch(v){return!1}}class jo extends Error{constructor(h,g,C){super(g),this.code=h,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sh.prototype.create)}}class Sh{constructor(h,g,C){this.service=h,this.serviceName=g,this.errors=C}create(h,...g){const C=g[0]||{},A=`${this.service}/${h}`,O=this.errors[h],q=O?function(v,h){return v.replace(mu,(g,C)=>{const A=h[C];return null!=A?String(A):`<${C}?>`})}(O,C):"Error";return new jo(A,`${this.serviceName}: ${q} (${A}).`,C)}}const mu=/\{\$([^}]+)}/g;class rg{constructor(h,g,C){this.name=h,this.instanceFactory=g,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(h){return this.instantiationMode=h,this}setMultipleInstances(h){return this.multipleInstances=h,this}setServiceProps(h){return this.serviceProps=h,this}setInstanceCreatedCallback(h){return this.onInstanceCreated=h,this}}function vu(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Za(v=Rl()){return!("file:"!==vu()&&"ionic:"!==vu()&&"capacitor:"!==vu()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function yp(v=Rl()){return function(){const v=Rl();return v.indexOf("MSIE ")>=0||v.indexOf("Trident/")>=0}()&&11===(null==document?void 0:document.documentMode)||function(v=Rl()){return/Edge\/\d+/.test(v)}(v)}function J_(){try{const v=self.localStorage,h=rh();if(v)return v.setItem(h,"1"),v.removeItem(h),!yp()||lp()}catch(v){return Ph()&&lp()}return!1}function Ph(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fh(){return("http:"===vu()||"https:"===vu()||function(){const v="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof v&&void 0!==v.id}()||Za())&&!(qa()||ap())&&J_()&&!Ph()}function ag(){return Za()&&"undefined"!=typeof document}function bu(){return bu=(0,V.Z)(function*(){return!!ag()&&new Promise(v=>{const h=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),v(!0)})})}),bu.apply(this,arguments)}const Ds={LOCAL:"local",NONE:"none",SESSION:"session"},dd=ot,Lh="persistence";function Pl(v){return vp.apply(this,arguments)}function vp(){return vp=(0,V.Z)(function*(v){yield v._initializationPromise;const h=cg(),g=Yn(Lh,v.config.apiKey,v.name);h&&h.setItem(g,v._getPersistence())}),vp.apply(this,arguments)}function cg(){var v;try{return(null===(v="undefined"!=typeof window?window:null)||void 0===v?void 0:v.sessionStorage)||null}catch(h){return null}}const bp=ot;class qo{constructor(){this.browserResolver=$e(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yc,this._completeRedirectFn=bo,this._overrideRedirectResult=Um}_openPopup(h,g,C,A){var O=this;return(0,V.Z)(function*(){var q;Fs(null===(q=O.eventManagers[h._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const re=yield fc(h,g,C,ko(),A);return function(v,h,g,C=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-C)/2,0).toString();let re="";const Le=Object.assign(Object.assign({},Ml),{width:C.toString(),height:A.toString(),top:O,left:q}),Pe=oe().toLowerCase();g&&(re=qu(Pe)?"_blank":g),Cs(Pe)&&(h=h||"http://localhost",Le.scrollbars="yes");const rt=Object.entries(Le).reduce((Ut,[Jn,no])=>`${Ut}${Jn}=${no},`,"");if(function(v=oe()){var h;return Es(v)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Pe)&&"_self"!==re)return function(v,h){const g=document.createElement("a");g.href=v,g.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(h||"",re),new Yf(null);const He=window.open(h||"",re,rt);ot(He,v,"popup-blocked");try{He.focus()}catch(Ut){}return new Yf(He)}(h,re,rh())})()}_openRedirect(h,g,C,A){var O=this;return(0,V.Z)(function*(){return yield O._originValidation(h),v=yield fc(h,g,C,ko(),A),ar().location.href=v,new Promise(()=>{});var v})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:A,promise:O}=this.eventManagers[g];return A?Promise.resolve(A):(Fs(O,"If manager is not set, promise should be"),O)}const C=this.initAndGetManager(h);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(h){var g=this;return(0,V.Z)(function*(){const C=yield function(v){return gh.apply(this,arguments)}(h),A=new od(h);return C.register("authEvent",O=>(ot(null==O?void 0:O.authEvent,h,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:A},g.iframes[h._key()]=C,A})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(ou,{type:ou},A=>{var O;const q=null===(O=null==A?void 0:A[0])||void 0===O?void 0:O[ou];void 0!==q&&g(!!q),_i(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Ii.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return um()||ts()||Es()}}),this.cordovaResolver=$e(class{constructor(){this._redirectPersistence=Yc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bo,this._overrideRedirectResult=Um}_initialize(h){var g=this;return(0,V.Z)(function*(){const C=h._key();let A=g.eventManagers.get(C);return A||(A=new mc(h),g.eventManagers.set(C,A),g.attachCallbackListeners(h,A)),A})()}_openPopup(h){_i(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,C,A){var O=this;return(0,V.Z)(function*(){!function(v){var h,g,C,A,O,q,re,Le,Pe,rt;const He=lu();ot("function"==typeof(null===(h=null==He?void 0:He.universalLinks)||void 0===h?void 0:h.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ot(void 0!==(null===(g=null==He?void 0:He.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ot("function"==typeof(null===(O=null===(A=null===(C=null==He?void 0:He.cordova)||void 0===C?void 0:C.plugins)||void 0===A?void 0:A.browsertab)||void 0===O?void 0:O.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ot("function"==typeof(null===(Le=null===(re=null===(q=null==He?void 0:He.cordova)||void 0===q?void 0:q.plugins)||void 0===re?void 0:re.browsertab)||void 0===Le?void 0:Le.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ot("function"==typeof(null===(rt=null===(Pe=null==He?void 0:He.cordova)||void 0===Pe?void 0:Pe.InAppBrowser)||void 0===rt?void 0:rt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const q=yield O._initialize(h);yield q.initialized(),q.resetRedirect(),hh.clear(),yield O._originValidation(h);const re=function(v,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:tp(),postBody:null,tenantId:v.tenantId,error:Gn(v,"no-auth-event")}}(h,C,A);yield function(v,h){return Zm()._set(hu(v),h)}(h,re);const Le=yield function(v,h,g){return vh.apply(this,arguments)}(h,re,g),Pe=yield function(v){const{cordova:h}=lu();return new Promise(g=>{h.plugins.browsertab.isAvailable(C=>{let A=null;C?h.plugins.browsertab.openUrl(v):A=h.InAppBrowser.open(v,function(v=oe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(A)})})}(Le);return function(v,h,g){return tn.apply(this,arguments)}(h,q,Pe)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return In.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:C,handleOpenURL:A,BuildInfo:O}=lu(),q=setTimeout((0,V.Z)(function*(){yield ja(h),g.onEvent(np())}),500),re=function(){var rt=(0,V.Z)(function*(He){clearTimeout(q);const Ut=yield ja(h);let Jn=null;Ut&&(null==He?void 0:He.url)&&(Jn=function(v,h){var g,C;const A=function(v){const h=Ol(v),g=h.link?decodeURIComponent(h.link):void 0,C=Ol(g).link,A=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Ol(A).link||A||C||g||v}(h);if(A.includes("/__/auth/callback")){const O=Ol(A),q=O.firebaseError?function(v){try{return JSON.parse(v)}catch(h){return null}}(decodeURIComponent(O.firebaseError)):null,re=null===(C=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],Le=re?Gn(re):null;return Le?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(Ut,He.url)),g.onEvent(Jn||np())});return function(Ut){return rt.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,re);const Le=A,Pe=`${O.packageName.toLowerCase()}://`;lu().handleOpenURL=function(){var rt=(0,V.Z)(function*(He){if(He.toLowerCase().startsWith(Pe)&&re({url:He}),"function"==typeof Le)try{Le(He)}catch(Ut){console.error(Ut)}});return function(He){return rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Yc,this._completeRedirectFn=bo,this._overrideRedirectResult=Um}_initialize(h){var g=this;return(0,V.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,C,A){var O=this;return(0,V.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(h,g,C,A)})()}_openRedirect(h,g,C,A){var O=this;return(0,V.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(h,g,C,A)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return ag()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,V.Z)(function*(){if(h.underlyingResolver)return;const g=yield function(){return bu.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function wp(v){return v.unwrap()}function pb(v){return Cp(v)}function Cp(v){const{_tokenResponse:h}=v instanceof jo?v.customData:v;if(!h)return null;if(!(v instanceof jo)&&"temporaryProof"in h&&"phoneNumber"in h)return tu.credentialFromResult(v);const g=h.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=gl;break;case"facebook.com":C=ml;break;case"github.com":C=Fc;break;case"twitter.com":C=gf;break;default:const{oauthIdToken:A,oauthAccessToken:O,oauthTokenSecret:q,pendingToken:re,nonce:Le}=h;return O||q||A||re?re?g.startsWith("saml.")?go._create(g,re):Ia._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:A,accessToken:O}):new Yu(g).credential({idToken:A,accessToken:O,rawNonce:Le}):null}return v instanceof jo?C.credentialFromError(v):C.credentialFromResult(v)}function Hr(v,h){return h.catch(g=>{throw g instanceof jo&&function(v,h){var g;const C=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new xp(v,function(v,h){var g;const C=rn(v),A=h;return ot(h.customData.operationType,C,"argument-error"),ot(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),$c._fromError(C,A)}(v,h));else if(C){const A=Cp(h),O=h;A&&(O.credential=A,O.tenantId=C.tenantId||void 0,O.email=C.email||void 0,O.phoneNumber=C.phoneNumber||void 0)}}(v,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:pb(g),additionalUserInfo:Cl(g),user:dr.getOrCreate(A)}})}function Cu(v,h){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,V.Z)(function*(v,h){const g=yield h;return{verificationId:g.verificationId,confirm:C=>Hr(v,g.confirm(C))}}),Ep.apply(this,arguments)}class xp{constructor(h,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Hr(wp(this.auth),this.resolver.resolveSignIn(h))}}class dr{constructor(h){this._delegate=h,this.multiFactor=function(v){const h=rn(v);return th.has(h)||th.set(h,kf._fromUser(h)),th.get(h)}(h)}static getOrCreate(h){return dr.USER_MAP.has(h)||dr.USER_MAP.set(h,new dr(h)),dr.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,V.Z)(function*(){return Hr(g.auth,yl(g._delegate,h))})()}linkWithPhoneNumber(h,g){var C=this;return(0,V.Z)(function*(){return Cu(C.auth,function(v,h,g){return eu.apply(this,arguments)}(C._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,V.Z)(function*(){return Hr(g.auth,function(v,h,g){return Ur.apply(this,arguments)}(g._delegate,h,qo))})()}linkWithRedirect(h){var g=this;return(0,V.Z)(function*(){return yield Pl(Ai(g.auth)),function(v,h,g){return function(v,h,g){return iu.apply(this,arguments)}(v,h,g)}(g._delegate,h,qo)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,V.Z)(function*(){return Hr(g.auth,Wd(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return Cu(this.auth,function(v,h,g){return Vr.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Hr(this.auth,function(v,h,g){return Ct.apply(this,arguments)}(this._delegate,h,qo))}reauthenticateWithRedirect(h){var g=this;return(0,V.Z)(function*(){return yield Pl(Ai(g.auth)),function(v,h,g){return function(v,h,g){return ph.apply(this,arguments)}(v,h,g)}(g._delegate,h,qo)})()}sendEmailVerification(h){return function(v,h){return bl.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,V.Z)(function*(){return yield function(v,h){return vf.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function(v,h){return td(rn(v),h,null)}(this._delegate,h)}updatePassword(h){return function(v,h){return td(rn(v),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(v,h){return dh.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(v,h){return ed.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function(v,h,g){return Jd.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}dr.USER_MAP=new WeakMap;const yc=ot;let ey=(()=>{class v{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;yc(A,"invalid-api-key",{appName:g.name}),yc(A,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?qo:void 0;this._delegate=C.initialize({options:{persistence:ty(A,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(zi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?dr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function(v,h,g){const C=Ai(v);ot(C._canInitEmulator,C,"emulator-config-failed"),ot(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),O=Pv(h),{host:q,port:re}=function(v){const h=Pv(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(C);if(A){const O=A[1];return{host:O,port:fl(C.substr(O.length+1))}}{const[O,q]=C.split(":");return{host:O,port:fl(q)}}}(h);C.config.emulator={url:`${O}//${q}${null===re?"":`:${re}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:q,port:re,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function v(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,C)}applyActionCode(g){return function(v,h){return xm.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Qd(this._delegate,g)}confirmPasswordReset(g,C){return function(v,h,g){return Em.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var A=this;return(0,V.Z)(function*(){return Hr(A._delegate,function(v,h,g){return vl.apply(this,arguments)}(A._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,h){return Gc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,h){const g=ic.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,V.Z)(function*(){yc(Fh(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function(v,h){return Si.apply(this,arguments)}(g._delegate,qo);return C?Hr(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,h){Ai(v)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,C,A){const{next:O,error:q,complete:re}=Eu(g,C,A);return this._delegate.onAuthStateChanged(O,q,re)}onIdTokenChanged(g,C,A){const{next:O,error:q,complete:re}=Eu(g,C,A);return this._delegate.onIdTokenChanged(O,q,re)}sendSignInLinkToEmail(g,C){return function(v,h,g){return Am.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function(v,h,g){return Kd.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,V.Z)(function*(){let A;switch(function(v,h){dd(Object.values(Ds).includes(h),v,"invalid-persistence-type"),qa()?dd(h!==Ds.SESSION,v,"unsupported-persistence-type"):ap()?dd(h===Ds.NONE,v,"unsupported-persistence-type"):Ph()?dd(h===Ds.NONE||h===Ds.LOCAL&&lp(),v,"unsupported-persistence-type"):dd(h===Ds.NONE||J_(),v,"unsupported-persistence-type")}(C._delegate,g),g){case Ds.SESSION:A=Yc;break;case Ds.LOCAL:A=(yield $e(Qc)._isAvailable())?Qc:Xs;break;case Ds.NONE:A=Dt;break;default:return _i("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Hr(this._delegate,function(v){return Lc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Hr(this._delegate,As(this._delegate,g))}signInWithCustomToken(g){return Hr(this._delegate,function(v,h){return Cf.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return Hr(this._delegate,function(v,h,g){return As(rn(v),rc.credential(h,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return Hr(this._delegate,function(v,h,g){return Af.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return Cu(this._delegate,function(v,h,g){return vr.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,V.Z)(function*(){return yc(Fh(),C._delegate,"operation-not-supported-in-this-environment"),Hr(C._delegate,function(v,h,g){return $n.apply(this,arguments)}(C._delegate,g,qo))})()}signInWithRedirect(g){var C=this;return(0,V.Z)(function*(){return yc(Fh(),C._delegate,"operation-not-supported-in-this-environment"),yield Pl(C._delegate),function(v,h,g){return function(v,h,g){return zf.apply(this,arguments)}(v,h,g)}(C._delegate,g,qo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,h){return jc.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Ds,v})();function Eu(v,h,g){let C=v;"function"!=typeof v&&({next:C,error:h,complete:g}=v);const A=C;return{next:q=>A(q&&dr.getOrCreate(q)),error:h,complete:g}}function ty(v,h){const g=function(v,h){const g=cg();if(!g)return[];const C=Yn(Lh,v,h);switch(g.getItem(C)){case Ds.NONE:return[Dt];case Ds.LOCAL:return[Qc,Yc];case Ds.SESSION:return[Yc];default:return[]}}(v,h);if("undefined"!=typeof self&&!g.includes(Qc)&&g.push(Qc),"undefined"!=typeof window)for(const C of[Xs,Yc])g.includes(C)||g.push(C);return g.includes(Dt)||g.push(Dt),g}class ny{constructor(){this.providerId="phone",this._delegate=new tu(wp(o.Z.auth()))}static credential(h,g){return tu.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}ny.PHONE_SIGN_IN_METHOD=tu.PHONE_SIGN_IN_METHOD,ny.PROVIDER_ID=tu.PROVIDER_ID;const iy=ot;class hd{constructor(h,g,C=o.Z.app()){var A;iy(null===(A=C.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new E_(h,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new rg("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),C=h.getProvider("auth");return new ey(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:rc,FacebookAuthProvider:ml,GithubAuthProvider:Fc,GoogleAuthProvider:gl,OAuthProvider:Yu,SAMLAuthProvider:_o,PhoneAuthProvider:ny,PhoneMultiFactorGenerator:I_,RecaptchaVerifier:hd,TwitterAuthProvider:gf,Auth:ey,AuthCredential:tc,Error:jo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(o.Z)},5861:(st,Ie,G)=>{"use strict";function V(pe,De,Re,Se,Oe,ue,fe){try{var xe=pe[ue](fe),J=xe.value}catch(te){return void Re(te)}xe.done?De(J):Promise.resolve(J).then(Se,Oe)}function o(pe){return function(){var De=this,Re=arguments;return new Promise(function(Se,Oe){var ue=pe.apply(De,Re);function fe(J){V(ue,Se,Oe,fe,xe,"next",J)}function xe(J){V(ue,Se,Oe,fe,xe,"throw",J)}fe(void 0)})}}G.d(Ie,{Z:()=>o})}},st=>{st(st.s=3111)}]);