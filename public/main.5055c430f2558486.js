"use strict";var wge=Object.defineProperty,Cge=Object.defineProperties,Ege=Object.getOwnPropertyDescriptors,P5=Object.getOwnPropertySymbols,xge=Object.prototype.hasOwnProperty,Dge=Object.prototype.propertyIsEnumerable,N5=(ht,Ie,Z)=>Ie in ht?wge(ht,Ie,{enumerable:!0,configurable:!0,writable:!0,value:Z}):ht[Ie]=Z,E1=(ht,Ie)=>{for(var Z in Ie||(Ie={}))xge.call(Ie,Z)&&N5(ht,Z,Ie[Z]);if(P5)for(var Z of P5(Ie))Dge.call(Ie,Z)&&N5(ht,Z,Ie[Z]);return ht},x1=(ht,Ie)=>Cge(ht,Ege(Ie));(self.webpackChunkTrackingSystem13=self.webpackChunkTrackingSystem13||[]).push([[179],{2011:(ht,Ie,Z)=>{Z.d(Ie,{hO:()=>Ft,xv:()=>Re,Dh:()=>be,GT:()=>ke,cc:()=>Ze,on:()=>Ee,pX:()=>Oe});var o=Z(5e3),ge=Z(9260),oe=Z(5103);ht=Z.hmd(ht);const Te=["ngOnDestroy"],Oe=(Se,Ue,et,Qe={})=>new Proxy(Se,{get:(gt,qe)=>et.runOutsideAngular(()=>{var st;if(Se[qe])return(null===(st=null==Qe?void 0:Qe.spy)||void 0===st?void 0:st.get)&&Qe.spy.get(qe,Se[qe]),Se[qe];if(Te.indexOf(qe)>-1)return()=>{};const Rt=Ue.toPromise().then($t=>{const le=$t&&$t[qe];return"function"==typeof le?le.bind($t):le&&le.then?le.then(ve=>et.run(()=>ve)):et.run(()=>le)});return new Proxy(()=>{},{get:($t,le)=>Rt[le],apply:($t,le,ve)=>Rt.then(Ae=>{var Ne;const Ke=Ae&&Ae(...ve);return(null===(Ne=null==Qe?void 0:Qe.spy)||void 0===Ne?void 0:Ne.apply)&&Qe.spy.apply(qe,ve,Ke),Ke})})})}),ke=(Se,Ue)=>{Ue.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Qe=>{Object.defineProperty(Se.prototype,Qe,Object.getOwnPropertyDescriptor(et.prototype||et,Qe))})})};class ce{constructor(Ue){return Ue}}const be=new o.OlP("angularfire2.app.options"),Re=new o.OlP("angularfire2.app.name");function Ee(Se,Ue,et){const gt="object"==typeof et&&et||{};gt.name=gt.name||"string"==typeof et&&et||"[DEFAULT]";const st=ge.Z.apps.filter(Rt=>Rt&&Rt.name===gt.name)[0]||Ue.runOutsideAngular(()=>ge.Z.initializeApp(Se,gt));try{JSON.stringify(Se)!==JSON.stringify(st.options)&&ye("error",`${st.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Rt){}return new ce(st)}const ye=(Se,...Ue)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ue)},Me={provide:ce,useFactory:Ee,deps:[be,o.R0b,[new o.FiY,Re]]};let Ft=(()=>{class Se{constructor(et){ge.Z.registerVersion("angularfire",oe.q4.full,"core"),ge.Z.registerVersion("angularfire",oe.q4.full,"app-compat"),ge.Z.registerVersion("angular",o.q4F.full,et.toString())}static initializeApp(et,Qe){return{ngModule:Se,providers:[{provide:be,useValue:et},{provide:Re,useValue:Qe}]}}}return Se.\u0275fac=function(et){return new(et||Se)(o.LFG(o.Lbi))},Se.\u0275mod=o.oAB({type:Se}),Se.\u0275inj=o.cJS({providers:[Me]}),Se})();function Ze(Se,Ue,et,Qe,gt){const[,qe,st]=globalThis.\u0275AngularfireInstanceCache.find(Rt=>Rt[0]===Se)||[];if(qe)return function(Se,Ue){try{return Se.toString()===Ue.toString()}catch(et){return Se===Ue}}(gt,st)||(wt("error",`${Ue} was already initialized on the ${et} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),wt("warn",{is:gt,was:st})),qe;{const Rt=Qe();return globalThis.\u0275AngularfireInstanceCache.push([Se,Rt,gt]),Rt}}const yt=!!ht.hot,wt=(Se,...Ue)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5103:(ht,Ie,Z)=>{Z.d(Ie,{q4:()=>ym,iC:()=>Ef,fc:()=>l_,HU:()=>Ov,vb:()=>Rv,JM:()=>G0});var o=Z(5e3),ge=Z(259),oe=Z(5861),Te=Z(3035);Error;function vs(){try{return"object"==typeof indexedDB}catch(_){return!1}}function Wi(){return new Promise((_,f)=>{try{let b=!0;const S="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(S);D.onsuccess=()=>{D.result.close(),b||self.indexedDB.deleteDatabase(S),_(!0)},D.onupgradeneeded=()=>{b=!1},D.onerror=()=>{var N;f((null===(N=D.error)||void 0===N?void 0:N.message)||"")}}catch(b){f(b)}})}class ci extends Error{constructor(f,b,S){super(b),this.code=f,this.customData=S,this.name="FirebaseError",Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(f,b,S){this.service=f,this.serviceName=b,this.errors=S}create(f,...b){const S=b[0]||{},D=`${this.service}/${f}`,N=this.errors[f],z=N?function(_,f){return _.replace(Hu,(b,S)=>{const D=f[S];return null!=D?String(D):`<${S}?>`})}(N,S):"Error";return new ci(D,`${this.serviceName}: ${z} (${D}).`,S)}}const Hu=/\{\$([^}]+)}/g;function Ol(_,f=1e3,b=2){const S=f*Math.pow(b,_),D=Math.round(.5*S*(Math.random()-.5)*2);return Math.min(144e5,S+D)}const Lr=[];var Lt=(()=>{return(_=Lt||(Lt={}))[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT",Lt;var _})();const xo={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Oc=Lt.INFO,Ws={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},$a=(_,f,...b)=>{if(f<_.logLevel)return;const S=(new Date).toISOString(),D=Ws[f];if(!D)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);console[D](`[${S}]  ${_.name}:`,...b)};class Do{constructor(f){this.name=f,this._logLevel=Oc,this._logHandler=$a,this._userLogHandler=null,Lr.push(this)}get logLevel(){return this._logLevel}set logLevel(f){if(!(f in Lt))throw new TypeError(`Invalid value "${f}" assigned to \`logLevel\``);this._logLevel=f}setLogLevel(f){this._logLevel="string"==typeof f?xo[f]:f}get logHandler(){return this._logHandler}set logHandler(f){if("function"!=typeof f)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f}get userLogHandler(){return this._userLogHandler}set userLogHandler(f){this._userLogHandler=f}debug(...f){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...f),this._logHandler(this,Lt.DEBUG,...f)}log(...f){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...f),this._logHandler(this,Lt.VERBOSE,...f)}info(...f){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...f),this._logHandler(this,Lt.INFO,...f)}warn(...f){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...f),this._logHandler(this,Lt.WARN,...f)}error(...f){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...f),this._logHandler(this,Lt.ERROR,...f)}}Error;class mi extends Error{constructor(f,b,S){super(b),this.code=f,this.customData=S,this.name="FirebaseError",Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fi.prototype.create)}}class Fi{constructor(f,b,S){this.service=f,this.serviceName=b,this.errors=S}create(f,...b){const S=b[0]||{},D=`${this.service}/${f}`,N=this.errors[f],z=N?function(_,f){return _.replace(ea,(b,S)=>{const D=f[S];return null!=D?String(D):`<${S}?>`})}(N,S):"Error";return new mi(D,`${this.serviceName}: ${z} (${D}).`,S)}}const ea=/\{\$([^}]+)}/g;class Wa{constructor(f,b,S){this.name=f,this.instanceFactory=b,this.type=S,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}let ed,Vc;const H=new WeakMap,X=new WeakMap,J=new WeakMap,ne=new WeakMap,xe=new WeakMap;let vn={get(_,f,b){if(_ instanceof IDBTransaction){if("done"===f)return X.get(_);if("objectStoreNames"===f)return _.objectStoreNames||J.get(_);if("store"===f)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return Ki(_[f])},set:(_,f,b)=>(_[f]=b,!0),has:(_,f)=>_ instanceof IDBTransaction&&("done"===f||"store"===f)||f in _};function Xr(_){return"function"==typeof _?function(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vc||(Vc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(_)?function(...f){return _.apply(td(this),f),Ki(H.get(this))}:function(...f){return Ki(_.apply(td(this),f))}:function(f,...b){const S=_.call(td(this),f,...b);return J.set(S,f.sort?f.sort():[f]),Ki(S)}}(_):(_ instanceof IDBTransaction&&function(_){if(X.has(_))return;const f=new Promise((b,S)=>{const D=()=>{_.removeEventListener("complete",N),_.removeEventListener("error",z),_.removeEventListener("abort",z)},N=()=>{b(),D()},z=()=>{S(_.error||new DOMException("AbortError","AbortError")),D()};_.addEventListener("complete",N),_.addEventListener("error",z),_.addEventListener("abort",z)});X.set(_,f)}(_),((_,f)=>f.some(b=>_ instanceof b))(_,ed||(ed=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(_,vn):_)}function Ki(_){if(_ instanceof IDBRequest)return function(_){const f=new Promise((b,S)=>{const D=()=>{_.removeEventListener("success",N),_.removeEventListener("error",z)},N=()=>{b(Ki(_.result)),D()},z=()=>{S(_.error),D()};_.addEventListener("success",N),_.addEventListener("error",z)});return f.then(b=>{b instanceof IDBCursor&&H.set(b,_)}).catch(()=>{}),xe.set(f,_),f}(_);if(ne.has(_))return ne.get(_);const f=Xr(_);return f!==_&&(ne.set(_,f),xe.set(f,_)),f}const td=_=>xe.get(_),Uc=["get","getKey","getAll","getAllKeys","count"],xr=["put","add","delete","clear"],Dr=new Map;function gh(_,f){if(!(_ instanceof IDBDatabase)||f in _||"string"!=typeof f)return;if(Dr.get(f))return Dr.get(f);const b=f.replace(/FromIndex$/,""),S=f!==b,D=xr.includes(b);if(!(b in(S?IDBIndex:IDBObjectStore).prototype)||!D&&!Uc.includes(b))return;const N=function(){var z=(0,oe.Z)(function*(se,...he){const De=this.transaction(se,D?"readwrite":"readonly");let We=De.store;return S&&(We=We.index(he.shift())),(yield Promise.all([We[b](...he),D&&De.done]))[0]});return function(he){return z.apply(this,arguments)}}();return Dr.set(f,N),N}var _;vn=x1(E1({},_=vn),{get:(f,b,S)=>gh(f,b)||_.get(f,b,S),has:(f,b)=>!!gh(f,b)||_.has(f,b)});const Ul="@firebase/installations",tp="w:0.6.4",np="FIS_v2",ta=new Fi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vh(_){return _ instanceof mi&&_.code.includes("request-failed")}function rd({projectId:_}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_}/installations`}function bh(_){return{token:_.token,requestStatus:2,expiresIn:ii(_.expiresIn),creationTime:Date.now()}}function sd(_,f){return wh.apply(this,arguments)}function wh(){return wh=(0,oe.Z)(function*(_,f){const S=(yield f.json()).error;return ta.create("request-failed",{requestName:_,serverCode:S.code,serverMessage:S.message,serverStatus:S.status})}),wh.apply(this,arguments)}function ip({apiKey:_}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_})}function Ch(_,{refreshToken:f}){const b=ip(_);return b.append("Authorization",function(_){return`${np} ${_}`}(f)),b}function rp(_){return eo.apply(this,arguments)}function eo(){return eo=(0,oe.Z)(function*(_){const f=yield _();return f.status>=500&&f.status<600?_():f}),eo.apply(this,arguments)}function ii(_){return Number(_.replace("s","000"))}function _i(_,f){return zn.apply(this,arguments)}function zn(){return zn=(0,oe.Z)(function*({appConfig:_,heartbeatServiceProvider:f},{fid:b}){const S=rd(_),D=ip(_),N=f.getImmediate({optional:!0});if(N){const De=yield N.getHeartbeatsHeader();De&&D.append("x-firebase-client",De)}const se={method:"POST",headers:D,body:JSON.stringify({fid:b,authVersion:np,appId:_.appId,sdkVersion:tp})},he=yield rp(()=>fetch(S,se));if(he.ok){const De=yield he.json();return{fid:De.fid||b,registrationStatus:2,refreshToken:De.refreshToken,authToken:bh(De.authToken)}}throw yield sd("Create Installation",he)}),zn.apply(this,arguments)}function Eh(_){return new Promise(f=>{setTimeout(f,_)})}const S0=/^[cdef][\w-]{21}$/;function cg(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const b=function(_){return function(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_).substr(0,22)}(_);return S0.test(b)?b:""}catch(_){return""}}function Io(_){return`${_.appName}!${_.appId}`}const Qa=new Map;function Ja(_,f){const b=Io(_);na(b,f),function(_,f){const b=(!Hc&&"BroadcastChannel"in self&&(Hc=new BroadcastChannel("[Firebase] FID Change"),Hc.onmessage=_=>{na(_.data.key,_.data.fid)}),Hc);b&&b.postMessage({key:_,fid:f}),0===Qa.size&&Hc&&(Hc.close(),Hc=null)}(b,f)}function na(_,f){const b=Qa.get(_);if(b)for(const S of b)S(f)}let Hc=null;const ia="firebase-installations-store";let cp=null;function up(){return cp||(cp=function(_,f,{blocked:b,upgrade:S,blocking:D,terminated:N}={}){const z=indexedDB.open(_,f),se=Ki(z);return S&&z.addEventListener("upgradeneeded",he=>{S(Ki(z.result),he.oldVersion,he.newVersion,Ki(z.transaction))}),b&&z.addEventListener("blocked",()=>b()),se.then(he=>{N&&he.addEventListener("close",()=>N()),D&&he.addEventListener("versionchange",()=>D())}).catch(()=>{}),se}("firebase-installations-database",1,{upgrade:(_,f)=>{0===f&&_.createObjectStore(ia)}})),cp}function To(_,f){return zc.apply(this,arguments)}function zc(){return zc=(0,oe.Z)(function*(_,f){const b=Io(_),D=(yield up()).transaction(ia,"readwrite"),N=D.objectStore(ia),z=yield N.get(b);return yield N.put(f,b),yield D.done,(!z||z.fid!==f.fid)&&Ja(_,f.fid),f}),zc.apply(this,arguments)}function Br(_){return ui.apply(this,arguments)}function ui(){return ui=(0,oe.Z)(function*(_){const f=Io(_),S=(yield up()).transaction(ia,"readwrite");yield S.objectStore(ia).delete(f),yield S.done}),ui.apply(this,arguments)}function xn(_,f){return od.apply(this,arguments)}function od(){return od=(0,oe.Z)(function*(_,f){const b=Io(_),D=(yield up()).transaction(ia,"readwrite"),N=D.objectStore(ia),z=yield N.get(b),se=f(z);return void 0===se?yield N.delete(b):yield N.put(se,b),yield D.done,se&&(!z||z.fid!==se.fid)&&Ja(_,se.fid),se}),od.apply(this,arguments)}function ra(_){return xt.apply(this,arguments)}function xt(){return xt=(0,oe.Z)(function*(_){let f;const b=yield xn(_.appConfig,S=>{const D=bn(S),N=to(_,D);return f=N.registrationPromise,N.installationEntry});return""===b.fid?{installationEntry:yield f}:{installationEntry:b,registrationPromise:f}}),xt.apply(this,arguments)}function bn(_){return Py(_||{fid:cg(),registrationStatus:0})}function to(_,f){if(0===f.registrationStatus){if(!navigator.onLine)return{installationEntry:f,registrationPromise:Promise.reject(ta.create("app-offline"))};const b={fid:f.fid,registrationStatus:1,registrationTime:Date.now()},S=function(_,f){return sa.apply(this,arguments)}(_,b);return{installationEntry:b,registrationPromise:S}}return 1===f.registrationStatus?{installationEntry:f,registrationPromise:ad(_)}:{installationEntry:f}}function sa(){return sa=(0,oe.Z)(function*(_,f){try{const b=yield _i(_,f);return To(_.appConfig,b)}catch(b){throw vh(b)&&409===b.customData.serverCode?yield Br(_.appConfig):yield To(_.appConfig,{fid:f.fid,registrationStatus:0}),b}}),sa.apply(this,arguments)}function ad(_){return dp.apply(this,arguments)}function dp(){return dp=(0,oe.Z)(function*(_){let f=yield Es(_.appConfig);for(;1===f.registrationStatus;)yield Eh(100),f=yield Es(_.appConfig);if(0===f.registrationStatus){const{installationEntry:b,registrationPromise:S}=yield ra(_);return S||b}return f}),dp.apply(this,arguments)}function Es(_){return xn(_,f=>{if(!f)throw ta.create("installation-not-found");return Py(f)})}function Py(_){return function(_){return 1===_.registrationStatus&&_.registrationTime+1e4<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}function el(_,f){return tl.apply(this,arguments)}function tl(){return tl=(0,oe.Z)(function*({appConfig:_,heartbeatServiceProvider:f},b){const S=Gc(_,b),D=Ch(_,b),N=f.getImmediate({optional:!0});if(N){const De=yield N.getHeartbeatsHeader();De&&D.append("x-firebase-client",De)}const se={method:"POST",headers:D,body:JSON.stringify({installation:{sdkVersion:tp,appId:_.appId}})},he=yield rp(()=>fetch(S,se));if(he.ok)return bh(yield he.json());throw yield sd("Generate Auth Token",he)}),tl.apply(this,arguments)}function Gc(_,{fid:f}){return`${rd(_)}/${f}/authTokens:generate`}function oa(_){return ld.apply(this,arguments)}function ld(){return ld=(0,oe.Z)(function*(_,f=!1){let b;const S=yield xn(_.appConfig,N=>{if(!Qi(N))throw ta.create("not-registered");const z=N.authToken;if(!f&&Sh(z))return N;if(1===z.requestStatus)return b=aa(_,f),N;{if(!navigator.onLine)throw ta.create("app-offline");const se=Mo(N);return b=Dh(_,se),se}});return b?yield b:S.authToken}),ld.apply(this,arguments)}function aa(_,f){return zl.apply(this,arguments)}function zl(){return zl=(0,oe.Z)(function*(_,f){let b=yield no(_.appConfig);for(;1===b.authToken.requestStatus;)yield Eh(100),b=yield no(_.appConfig);const S=b.authToken;return 0===S.requestStatus?oa(_,f):S}),zl.apply(this,arguments)}function no(_){return xn(_,f=>{if(!Qi(f))throw ta.create("not-registered");return function(_){return 1===_.requestStatus&&_.requestTime+1e4<Date.now()}(f.authToken)?Object.assign(Object.assign({},f),{authToken:{requestStatus:0}}):f})}function Dh(_,f){return cd.apply(this,arguments)}function cd(){return cd=(0,oe.Z)(function*(_,f){try{const b=yield el(_,f),S=Object.assign(Object.assign({},f),{authToken:b});return yield To(_.appConfig,S),b}catch(b){if(!vh(b)||401!==b.customData.serverCode&&404!==b.customData.serverCode){const S=Object.assign(Object.assign({},f),{authToken:{requestStatus:0}});yield To(_.appConfig,S)}else yield Br(_.appConfig);throw b}}),cd.apply(this,arguments)}function Qi(_){return void 0!==_&&2===_.registrationStatus}function Sh(_){return 2===_.requestStatus&&!function(_){const f=Date.now();return f<_.creationTime||_.creationTime+_.expiresIn<f+36e5}(_)}function Mo(_){const f={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:f})}function Vr(){return Vr=(0,oe.Z)(function*(_){const f=_,{installationEntry:b,registrationPromise:S}=yield ra(f);return S?S.catch(console.error):oa(f).catch(console.error),b.fid}),Vr.apply(this,arguments)}function nl(){return nl=(0,oe.Z)(function*(_,f=!1){const b=_;return yield hp(b),(yield oa(b,f)).token}),nl.apply(this,arguments)}function hp(_){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,oe.Z)(function*(_){const{registrationPromise:f}=yield ra(_);f&&(yield f)}),Ur.apply(this,arguments)}function rl(_){return ta.create("missing-app-config-values",{valueName:_})}const $l="installations";(0,Te._registerComponent)(new Wa($l,_=>{const f=_.getProvider("app").getImmediate(),b=function(_){if(!_||!_.options)throw rl("App Configuration");if(!_.name)throw rl("App Name");const f=["projectId","apiKey","appId"];for(const b of f)if(!_.options[b])throw rl(b);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}(f);return{app:f,appConfig:b,heartbeatServiceProvider:(0,Te._getProvider)(f,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Te._registerComponent)(new Wa("installations-internal",_=>{const f=_.getProvider("app").getImmediate(),b=(0,Te._getProvider)(f,$l).getImmediate();return{getId:()=>function(_){return Vr.apply(this,arguments)}(b),getToken:D=>function(_){return nl.apply(this,arguments)}(b,D)}},"PRIVATE")),(0,Te.registerVersion)(Ul,"0.6.4"),(0,Te.registerVersion)(Ul,"0.6.4","esm2017");const $c="@firebase/remote-config",qn=new Co("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pp{constructor(f,b,S,D){this.client=f,this.storage=b,this.storageCache=S,this.logger=D}isCachedDataFresh(f,b){if(!b)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const S=Date.now()-b,D=S<=f;return this.logger.debug(`Config fetch cache check. Cache age millis: ${S}. Cache max age millis (minimumFetchIntervalMillis setting): ${f}. Is cache hit: ${D}.`),D}fetch(f){var b=this;return(0,oe.Z)(function*(){const[S,D]=yield Promise.all([b.storage.getLastSuccessfulFetchTimestampMillis(),b.storage.getLastSuccessfulFetchResponse()]);if(D&&b.isCachedDataFresh(f.cacheMaxAgeMillis,S))return D;f.eTag=D&&D.eTag;const N=yield b.client.fetch(f),z=[b.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===N.status&&z.push(b.storage.setLastSuccessfulFetchResponse(N)),yield Promise.all(z),N})()}}function Ly(_=navigator){return _.languages&&_.languages[0]||_.language}class Qc{constructor(f,b,S,D,N,z){this.firebaseInstallations=f,this.sdkVersion=b,this.namespace=S,this.projectId=D,this.apiKey=N,this.appId=z}fetch(f){var b=this;return(0,oe.Z)(function*(){const[S,D]=yield Promise.all([b.firebaseInstallations.getId(),b.firebaseInstallations.getToken()]),z=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${b.projectId}/namespaces/${b.namespace}:fetch?key=${b.apiKey}`,se={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":f.eTag||"*"},he={sdk_version:b.sdkVersion,app_instance_id:S,app_instance_id_token:D,app_id:b.appId,language_code:Ly()},De={method:"POST",headers:se,body:JSON.stringify(he)},We=fetch(z,De),G=new Promise((is,Aa)=>{f.signal.addEventListener(()=>{const Nv=new Error("The operation was aborted.");Nv.name="AbortError",Aa(Nv)})});let ot;try{yield Promise.race([We,G]),ot=yield We}catch(is){let Aa="fetch-client-network";throw"AbortError"===(null==is?void 0:is.name)&&(Aa="fetch-timeout"),qn.create(Aa,{originalErrorMessage:null==is?void 0:is.message})}let Yt=ot.status;const Gr=ot.headers.get("ETag")||void 0;let xu,Sa;if(200===ot.status){let is;try{is=yield ot.json()}catch(Aa){throw qn.create("fetch-client-parse",{originalErrorMessage:null==Aa?void 0:Aa.message})}xu=is.entries,Sa=is.state}if("INSTANCE_STATE_UNSPECIFIED"===Sa?Yt=500:"NO_CHANGE"===Sa?Yt=304:("NO_TEMPLATE"===Sa||"EMPTY_CONFIG"===Sa)&&(xu={}),304!==Yt&&200!==Yt)throw qn.create("fetch-status",{httpStatus:Yt});return{status:Yt,eTag:Gr,config:xu}})()}}class kh{constructor(f,b){this.client=f,this.storage=b}fetch(f){var b=this;return(0,oe.Z)(function*(){const S=(yield b.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return b.attemptFetch(f,S)})()}attemptFetch(f,{throttleEndTimeMillis:b,backoffCount:S}){var D=this;return(0,oe.Z)(function*(){yield function(_,f){return new Promise((b,S)=>{const D=Math.max(f-Date.now(),0),N=setTimeout(b,D);_.addEventListener(()=>{clearTimeout(N),S(qn.create("fetch-throttle",{throttleEndTimeMillis:f}))})})}(f.signal,b);try{const N=yield D.client.fetch(f);return yield D.storage.deleteThrottleMetadata(),N}catch(N){if(!function(_){if(!(_ instanceof ci&&_.customData))return!1;const f=Number(_.customData.httpStatus);return 429===f||500===f||503===f||504===f}(N))throw N;const z={throttleEndTimeMillis:Date.now()+Ol(S),backoffCount:S+1};return yield D.storage.setThrottleMetadata(z),D.attemptFetch(f,z)}})()}}class al{constructor(f,b,S,D,N){this.app=f,this._client=b,this._storageCache=S,this._storage=D,this._logger=N,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xc(_,f){const b=_.target.error||void 0;return qn.create(f,{originalErrorMessage:b&&(null==b?void 0:b.message)})}const Ro="app_namespace_store";class Yl{constructor(f,b,S,D=function(){return new Promise((_,f)=>{try{const b=indexedDB.open("firebase_remote_config",1);b.onerror=S=>{f(Xc(S,"storage-open"))},b.onsuccess=S=>{_(S.target.result)},b.onupgradeneeded=S=>{0===S.oldVersion&&S.target.result.createObjectStore(Ro,{keyPath:"compositeKey"})}}catch(b){f(qn.create("storage-open",{originalErrorMessage:null==b?void 0:b.message}))}})}()){this.appId=f,this.appName=b,this.namespace=S,this.openDbPromise=D}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(f){return this.set("last_fetch_status",f)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(f){return this.set("last_successful_fetch_timestamp_millis",f)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(f){return this.set("last_successful_fetch_response",f)}getActiveConfig(){return this.get("active_config")}setActiveConfig(f){return this.set("active_config",f)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(f){return this.set("active_config_etag",f)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(f){return this.set("throttle_metadata",f)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(f){var b=this;return(0,oe.Z)(function*(){const S=yield b.openDbPromise;return new Promise((D,N)=>{const se=S.transaction([Ro],"readonly").objectStore(Ro),he=b.createCompositeKey(f);try{const De=se.get(he);De.onerror=We=>{N(Xc(We,"storage-get"))},De.onsuccess=We=>{const G=We.target.result;D(G?G.value:void 0)}}catch(De){N(qn.create("storage-get",{originalErrorMessage:null==De?void 0:De.message}))}})})()}set(f,b){var S=this;return(0,oe.Z)(function*(){const D=yield S.openDbPromise;return new Promise((N,z)=>{const he=D.transaction([Ro],"readwrite").objectStore(Ro),De=S.createCompositeKey(f);try{const We=he.put({compositeKey:De,value:b});We.onerror=G=>{z(Xc(G,"storage-set"))},We.onsuccess=()=>{N()}}catch(We){z(qn.create("storage-set",{originalErrorMessage:null==We?void 0:We.message}))}})})()}delete(f){var b=this;return(0,oe.Z)(function*(){const S=yield b.openDbPromise;return new Promise((D,N)=>{const se=S.transaction([Ro],"readwrite").objectStore(Ro),he=b.createCompositeKey(f);try{const De=se.delete(he);De.onerror=We=>{N(Xc(We,"storage-delete"))},De.onsuccess=()=>{D()}}catch(De){N(qn.create("storage-delete",{originalErrorMessage:null==De?void 0:De.message}))}})})()}createCompositeKey(f){return[this.appId,this.appName,this.namespace,f].join()}}class Uy{constructor(f){this.storage=f}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var f=this;return(0,oe.Z)(function*(){const b=f.storage.getLastFetchStatus(),S=f.storage.getLastSuccessfulFetchTimestampMillis(),D=f.storage.getActiveConfig(),N=yield b;N&&(f.lastFetchStatus=N);const z=yield S;z&&(f.lastSuccessfulFetchTimestampMillis=z);const se=yield D;se&&(f.activeConfig=se)})()}setLastFetchStatus(f){return this.lastFetchStatus=f,this.storage.setLastFetchStatus(f)}setLastSuccessfulFetchTimestampMillis(f){return this.lastSuccessfulFetchTimestampMillis=f,this.storage.setLastSuccessfulFetchTimestampMillis(f)}setActiveConfig(f){return this.activeConfig=f,this.storage.setActiveConfig(f)}}function Di(){return eu.apply(this,arguments)}function eu(){return(eu=(0,oe.Z)(function*(){if(!vs())return!1;try{return yield Wi()}catch(_){return!1}})).apply(this,arguments)}(0,Te._registerComponent)(new class{constructor(f,b,S){this.name=f,this.instanceFactory=b,this.type=S,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}("remote-config",function(f,{instanceIdentifier:b}){const S=f.getProvider("app").getImmediate(),D=f.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw qn.create("registration-window");if(!vs())throw qn.create("indexed-db-unavailable");const{projectId:N,apiKey:z,appId:se}=S.options;if(!N)throw qn.create("registration-project-id");if(!z)throw qn.create("registration-api-key");if(!se)throw qn.create("registration-app-id");const he=new Yl(se,S.name,b=b||"firebase"),De=new Uy(he),We=new Do($c);We.logLevel=Lt.ERROR;const G=new Qc(D,Te.SDK_VERSION,b,N,z,se),ot=new kh(G,he),Yt=new pp(ot,he,De,We),Gr=new al(S,Yt,De,he,We);return function(_){const f=function(_){return _&&_._delegate?_._delegate:_}(_);f._initializePromise||(f._initializePromise=f._storageCache.loadFromStorage().then(()=>{f._isInitializationComplete=!0}))}(Gr),Gr},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)($c,"0.4.4"),(0,Te.registerVersion)($c,"0.4.4","esm2017");Error;function yg(){try{return"object"==typeof indexedDB}catch(_){return!1}}function wd(){return new Promise((_,f)=>{try{let b=!0;const S="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(S);D.onsuccess=()=>{D.result.close(),b||self.indexedDB.deleteDatabase(S),_(!0)},D.onupgradeneeded=()=>{b=!1},D.onerror=()=>{var N;f((null===(N=D.error)||void 0===N?void 0:N.message)||"")}}catch(b){f(b)}})}function Ph(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class hl extends Error{constructor(f,b,S){super(b),this.code=f,this.customData=S,this.name="FirebaseError",Object.setPrototypeOf(this,hl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(f,b,S){this.service=f,this.serviceName=b,this.errors=S}create(f,...b){const S=b[0]||{},D=`${this.service}/${f}`,N=this.errors[f],z=N?function(_,f){return _.replace(Wy,(b,S)=>{const D=f[S];return null!=D?String(D):`<${S}?>`})}(N,S):"Error";return new hl(D,`${this.serviceName}: ${z} (${D}).`,S)}}const Wy=/\{\$([^}]+)}/g;class Lh{constructor(f,b,S){this.name=f,this.instanceFactory=b,this.type=S,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}let iv,Mp;const kp=new WeakMap,Sg=new WeakMap,Rp=new WeakMap,Xl=new WeakMap,Ti=new WeakMap;let Bh={get(_,f,b){if(_ instanceof IDBTransaction){if("done"===f)return Sg.get(_);if("objectStoreNames"===f)return _.objectStoreNames||Rp.get(_);if("store"===f)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return fa(_[f])},set:(_,f,b)=>(_[f]=b,!0),has:(_,f)=>_ instanceof IDBTransaction&&("done"===f||"store"===f)||f in _};function Td(_){return"function"==typeof _?function(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mp||(Mp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(_)?function(...f){return _.apply(Md(this),f),fa(kp.get(this))}:function(...f){return fa(_.apply(Md(this),f))}:function(f,...b){const S=_.call(Md(this),f,...b);return Rp.set(S,f.sort?f.sort():[f]),fa(S)}}(_):(_ instanceof IDBTransaction&&function(_){if(Sg.has(_))return;const f=new Promise((b,S)=>{const D=()=>{_.removeEventListener("complete",N),_.removeEventListener("error",z),_.removeEventListener("abort",z)},N=()=>{b(),D()},z=()=>{S(_.error||new DOMException("AbortError","AbortError")),D()};_.addEventListener("complete",N),_.addEventListener("error",z),_.addEventListener("abort",z)});Sg.set(_,f)}(_),((_,f)=>f.some(b=>_ instanceof b))(_,iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(_,Bh):_)}function fa(_){if(_ instanceof IDBRequest)return function(_){const f=new Promise((b,S)=>{const D=()=>{_.removeEventListener("success",N),_.removeEventListener("error",z)},N=()=>{b(fa(_.result)),D()},z=()=>{S(_.error),D()};_.addEventListener("success",N),_.addEventListener("error",z)});return f.then(b=>{b instanceof IDBCursor&&kp.set(b,_)}).catch(()=>{}),Ti.set(f,_),f}(_);if(Xl.has(_))return Xl.get(_);const f=Td(_);return f!==_&&(Xl.set(_,f),Ti.set(f,_)),f}const Md=_=>Ti.get(_);function ec(_,f,{blocked:b,upgrade:S,blocking:D,terminated:N}={}){const z=indexedDB.open(_,f),se=fa(z);return S&&z.addEventListener("upgradeneeded",he=>{S(fa(z.result),he.oldVersion,he.newVersion,fa(z.transaction))}),b&&z.addEventListener("blocked",()=>b()),se.then(he=>{N&&he.addEventListener("close",()=>N()),D&&he.addEventListener("versionchange",()=>D())}).catch(()=>{}),se}function pa(_,{blocked:f}={}){const b=indexedDB.deleteDatabase(_);return f&&b.addEventListener("blocked",()=>f()),fa(b).then(()=>{})}const Vh=["get","getKey","getAll","getAllKeys","count"],so=["put","add","delete","clear"],kd=new Map;function Op(_,f){if(!(_ instanceof IDBDatabase)||f in _||"string"!=typeof f)return;if(kd.get(f))return kd.get(f);const b=f.replace(/FromIndex$/,""),S=f!==b,D=so.includes(b);if(!(b in(S?IDBIndex:IDBObjectStore).prototype)||!D&&!Vh.includes(b))return;const N=function(){var z=(0,oe.Z)(function*(se,...he){const De=this.transaction(se,D?"readwrite":"readonly");let We=De.store;return S&&(We=We.index(he.shift())),(yield Promise.all([We[b](...he),D&&De.done]))[0]});return function(he){return z.apply(this,arguments)}}();return kd.set(f,N),N}Bh=(_=>x1(E1({},_),{get:(f,b,S)=>Op(f,b)||_.get(f,b,S),has:(f,b)=>!!Op(f,b)||_.has(f,b)}))(Bh);const Pp="/firebase-messaging-sw.js",Ag="/firebase-cloud-messaging-push-scope",Np="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",No="google.c.a.c_id",ct="google.c.a.c_l",dt="google.c.a.ts",hr="google.c.a.e";var As=(()=>(function(_){_.PUSH_RECEIVED="push-received",_.NOTIFICATION_CLICKED="notification-clicked"}(As||(As={})),As))();function ma(_){const f=new Uint8Array(_);return btoa(String.fromCharCode(...f)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rd(_){const b=(_+"=".repeat((4-_.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),S=atob(b),D=new Uint8Array(S.length);for(let N=0;N<S.length;++N)D[N]=S.charCodeAt(N);return D}const Fp="fcm_token_details_db",Uh="fcm_token_object_Store";function ga(_){return rt.apply(this,arguments)}function rt(){return rt=(0,oe.Z)(function*(_){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(N=>N.name).includes(Fp))return null;let f=null;return(yield ec(Fp,5,{upgrade:(S=(0,oe.Z)(function*(D,N,z,se){var he;if(N<2||!D.objectStoreNames.contains(Uh))return;const De=se.objectStore(Uh),We=yield De.index("fcmSenderId").get(_);if(yield De.clear(),We)if(2===N){const G=We;if(!G.auth||!G.p256dh||!G.endpoint)return;f={token:G.fcmToken,createTime:null!==(he=G.createTime)&&void 0!==he?he:Date.now(),subscriptionOptions:{auth:G.auth,p256dh:G.p256dh,endpoint:G.endpoint,swScope:G.swScope,vapidKey:"string"==typeof G.vapidKey?G.vapidKey:ma(G.vapidKey)}}}else if(3===N){const G=We;f={token:G.fcmToken,createTime:G.createTime,subscriptionOptions:{auth:ma(G.auth),p256dh:ma(G.p256dh),endpoint:G.endpoint,swScope:G.swScope,vapidKey:ma(G.vapidKey)}}}else if(4===N){const G=We;f={token:G.fcmToken,createTime:G.createTime,subscriptionOptions:{auth:ma(G.auth),p256dh:ma(G.p256dh),endpoint:G.endpoint,swScope:G.swScope,vapidKey:ma(G.vapidKey)}}}}),function(N,z,se,he){return S.apply(this,arguments)})})).close(),yield pa(Fp),yield pa("fcm_vapid_details_db"),yield pa("undefined"),sv(f)?f:null;var S}),rt.apply(this,arguments)}function sv(_){if(!_||!_.subscriptionOptions)return!1;const{subscriptionOptions:f}=_;return"number"==typeof _.createTime&&_.createTime>0&&"string"==typeof _.token&&_.token.length>0&&"string"==typeof f.auth&&f.auth.length>0&&"string"==typeof f.p256dh&&f.p256dh.length>0&&"string"==typeof f.endpoint&&f.endpoint.length>0&&"string"==typeof f.swScope&&f.swScope.length>0&&"string"==typeof f.vapidKey&&f.vapidKey.length>0}const Fo="firebase-messaging-store";let ti=null;function Bp(){return ti||(ti=ec("firebase-messaging-database",1,{upgrade:(_,f)=>{0===f&&_.createObjectStore(Fo)}})),ti}function _l(_){return yl.apply(this,arguments)}function yl(){return yl=(0,oe.Z)(function*(_){const f=zh(_),S=yield(yield Bp()).transaction(Fo).objectStore(Fo).get(f);if(S)return S;{const D=yield ga(_.appConfig.senderId);if(D)return yield ds(_,D),D}}),yl.apply(this,arguments)}function ds(_,f){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,oe.Z)(function*(_,f){const b=zh(_),D=(yield Bp()).transaction(Fo,"readwrite");return yield D.objectStore(Fo).put(f,b),yield D.done,f}),Hh.apply(this,arguments)}function Vp(_){return tc.apply(this,arguments)}function tc(){return tc=(0,oe.Z)(function*(_){const f=zh(_),S=(yield Bp()).transaction(Fo,"readwrite");yield S.objectStore(Fo).delete(f),yield S.done}),tc.apply(this,arguments)}function zh({appConfig:_}){return _.appId}const Fn=new Jl("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _a(_,f){return oo.apply(this,arguments)}function oo(){return oo=(0,oe.Z)(function*(_,f){const b=yield Dn(_),S=Tg(f),D={method:"POST",headers:b,body:JSON.stringify(S)};let N;try{N=yield(yield fetch($n(_.appConfig),D)).json()}catch(z){throw Fn.create("token-subscribe-failed",{errorInfo:null==z?void 0:z.toString()})}if(N.error)throw Fn.create("token-subscribe-failed",{errorInfo:N.error.message});if(!N.token)throw Fn.create("token-subscribe-no-token");return N.token}),oo.apply(this,arguments)}function Ln(_,f){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,oe.Z)(function*(_,f){const b=yield Dn(_),S=Tg(f.subscriptionOptions),D={method:"PATCH",headers:b,body:JSON.stringify(S)};let N;try{N=yield(yield fetch(`${$n(_.appConfig)}/${f.token}`,D)).json()}catch(z){throw Fn.create("token-update-failed",{errorInfo:null==z?void 0:z.toString()})}if(N.error)throw Fn.create("token-update-failed",{errorInfo:N.error.message});if(!N.token)throw Fn.create("token-update-no-token");return N.token}),Bn.apply(this,arguments)}function Gh(_,f){return Od.apply(this,arguments)}function Od(){return Od=(0,oe.Z)(function*(_,f){const S={method:"DELETE",headers:yield Dn(_)};try{const N=yield(yield fetch(`${$n(_.appConfig)}/${f}`,S)).json();if(N.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:N.error.message})}catch(D){throw Fn.create("token-unsubscribe-failed",{errorInfo:null==D?void 0:D.toString()})}}),Od.apply(this,arguments)}function $n({projectId:_}){return`https://fcmregistrations.googleapis.com/v1/projects/${_}/registrations`}function Dn(_){return di.apply(this,arguments)}function di(){return di=(0,oe.Z)(function*({appConfig:_,installations:f}){const b=yield f.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_.apiKey,"x-goog-firebase-installations-auth":`FIS ${b}`})}),di.apply(this,arguments)}function Tg({p256dh:_,auth:f,endpoint:b,vapidKey:S}){const D={web:{endpoint:b,auth:f,p256dh:_}};return S!==Np&&(D.web.applicationPubKey=S),D}const ts=6048e5;function Sn(_){return Is.apply(this,arguments)}function Is(){return Is=(0,oe.Z)(function*(_){const f=yield Nd(_.swRegistration,_.vapidKey),b={vapidKey:_.vapidKey,swScope:_.swRegistration.scope,endpoint:f.endpoint,auth:ma(f.getKey("auth")),p256dh:ma(f.getKey("p256dh"))},S=yield _l(_.firebaseDependencies);if(S){if(vl(S.subscriptionOptions,b))return Date.now()>=S.createTime+ts?iu(_,{token:S.token,createTime:Date.now(),subscriptionOptions:b}):S.token;try{yield Gh(_.firebaseDependencies,S.token)}catch(D){console.warn(D)}return qh(_.firebaseDependencies,b)}return qh(_.firebaseDependencies,b)}),Is.apply(this,arguments)}function Vi(_){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,oe.Z)(function*(_){const f=yield _l(_.firebaseDependencies);f&&(yield Gh(_.firebaseDependencies,f.token),yield Vp(_.firebaseDependencies));const b=yield _.swRegistration.pushManager.getSubscription();return!b||b.unsubscribe()}),Xi.apply(this,arguments)}function iu(_,f){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,oe.Z)(function*(_,f){try{const b=yield Ln(_.firebaseDependencies,f),S=Object.assign(Object.assign({},f),{token:b,createTime:Date.now()});return yield ds(_.firebaseDependencies,S),b}catch(b){throw yield Vi(_),b}}),Pd.apply(this,arguments)}function qh(_,f){return Up.apply(this,arguments)}function Up(){return Up=(0,oe.Z)(function*(_,f){const S={token:yield _a(_,f),createTime:Date.now(),subscriptionOptions:f};return yield ds(_,S),S.token}),Up.apply(this,arguments)}function Nd(_,f){return jp.apply(this,arguments)}function jp(){return jp=(0,oe.Z)(function*(_,f){return(yield _.pushManager.getSubscription())||_.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rd(f)})}),jp.apply(this,arguments)}function vl(_,f){return f.vapidKey===_.vapidKey&&f.endpoint===_.endpoint&&f.auth===_.auth&&f.p256dh===_.p256dh}function Si(_){const f={from:_.from,collapseKey:_.collapse_key,messageId:_.fcmMessageId};return function(_,f){if(!f.notification)return;_.notification={};const b=f.notification.title;b&&(_.notification.title=b);const S=f.notification.body;S&&(_.notification.body=S);const D=f.notification.image;D&&(_.notification.image=D);const N=f.notification.icon;N&&(_.notification.icon=N)}(f,_),function(_,f){!f.data||(_.data=f.data)}(f,_),function(_,f){var b,S,D,N,z;if(!f.fcmOptions&&!(null===(b=f.notification)||void 0===b?void 0:b.click_action))return;_.fcmOptions={};const se=null!==(D=null===(S=f.fcmOptions)||void 0===S?void 0:S.link)&&void 0!==D?D:null===(N=f.notification)||void 0===N?void 0:N.click_action;se&&(_.fcmOptions.link=se);const he=null===(z=f.fcmOptions)||void 0===z?void 0:z.analytics_label;he&&(_.fcmOptions.analyticsLabel=he)}(f,_),f}function Ld(_){return"object"==typeof _&&!!_&&No in _}function $h(_,f){const b=[];for(let S=0;S<_.length;S++)b.push(_.charAt(S)),S<f.length&&b.push(f.charAt(S));return b.join("")}function ya(_){return Fn.create("missing-app-config-values",{valueName:_})}$h("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$h("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mg{constructor(f,b,S){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const D=function(_){if(!_||!_.options)throw ya("App Configuration Object");if(!_.name)throw ya("App Name");const f=["projectId","apiKey","appId","messagingSenderId"],{options:b}=_;for(const S of f)if(!b[S])throw ya(S);return{appName:_.name,projectId:b.projectId,apiKey:b.apiKey,appId:b.appId,senderId:b.messagingSenderId}}(f);this.firebaseDependencies={app:f,appConfig:D,installations:b,analyticsProvider:S}}_delete(){return Promise.resolve()}}function zp(_){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,oe.Z)(function*(_){try{_.swRegistration=yield navigator.serviceWorker.register(Pp,{scope:Ag}),_.swRegistration.update().catch(()=>{})}catch(f){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:null==f?void 0:f.message})}}),Gp.apply(this,arguments)}function Wh(_,f){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,oe.Z)(function*(_,f){if(!f&&!_.swRegistration&&(yield zp(_)),f||!_.swRegistration){if(!(f instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");_.swRegistration=f}}),Bd.apply(this,arguments)}function qp(_,f){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,oe.Z)(function*(_,f){f?_.vapidKey=f:_.vapidKey||(_.vapidKey=Np)}),Yh.apply(this,arguments)}function Vd(){return Vd=(0,oe.Z)(function*(_,f){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield qp(_,null==f?void 0:f.vapidKey),yield Wh(_,null==f?void 0:f.serviceWorkerRegistration),Sn(_)}),Vd.apply(this,arguments)}function kg(_,f,b){return va.apply(this,arguments)}function va(){return va=(0,oe.Z)(function*(_,f,b){const S=Gt(f);(yield _.firebaseDependencies.analyticsProvider.get()).logEvent(S,{message_id:b[No],message_name:b[ct],message_time:b[dt],message_device_time:Math.floor(Date.now()/1e3)})}),va.apply(this,arguments)}function Gt(_){switch(_){case As.NOTIFICATION_CLICKED:return"notification_open";case As.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ts(){return Ts=(0,oe.Z)(function*(_,f){const b=f.data;if(!b.isFirebaseMessaging)return;_.onMessageHandler&&b.messageType===As.PUSH_RECEIVED&&("function"==typeof _.onMessageHandler?_.onMessageHandler(Si(b)):_.onMessageHandler.next(Si(b)));const S=b.data;Ld(S)&&"1"===S[hr]&&(yield kg(_,b.messageType,S))}),Ts.apply(this,arguments)}const Kh="@firebase/messaging";function Lo(){return ru.apply(this,arguments)}function ru(){return(ru=(0,oe.Z)(function*(){try{yield wd()}catch(_){return!1}return"undefined"!=typeof window&&yg()&&Ph()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Te._registerComponent)(new Lh("messaging",_=>{const f=new Mg(_.getProvider("app").getImmediate(),_.getProvider("installations-internal").getImmediate(),_.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",b=>function(_,f){return Ts.apply(this,arguments)}(f,b)),f},"PUBLIC")),(0,Te._registerComponent)(new Lh("messaging-internal",_=>{const f=_.getProvider("messaging").getImmediate();return{getToken:S=>function(_,f){return Vd.apply(this,arguments)}(f,S)}},"PRIVATE")),(0,Te.registerVersion)(Kh,"0.12.4"),(0,Te.registerVersion)(Kh,"0.12.4","esm2017");const Jh=[];var tn=(()=>(function(_){_[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT"}(tn||(tn={})),tn))();const Yp={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},lv=tn.INFO,bl={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},Ng=(_,f,...b)=>{if(f<_.logLevel)return;const S=(new Date).toISOString(),D=bl[f];if(!D)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);console[D](`[${S}]  ${_.name}:`,...b)};Error;function Vo(){const _="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _&&void 0!==_.id}function af(){try{return"object"==typeof indexedDB}catch(_){return!1}}function au(){return new Promise((_,f)=>{try{let b=!0;const S="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(S);D.onsuccess=()=>{D.result.close(),b||self.indexedDB.deleteDatabase(S),_(!0)},D.onupgradeneeded=()=>{b=!1},D.onerror=()=>{var N;f((null===(N=D.error)||void 0===N?void 0:N.message)||"")}}catch(b){f(b)}})}function tm(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class lf extends Error{constructor(f,b,S){super(b),this.code=f,this.customData=S,this.name="FirebaseError",Object.setPrototypeOf(this,lf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nm.prototype.create)}}class nm{constructor(f,b,S){this.service=f,this.serviceName=b,this.errors=S}create(f,...b){const S=b[0]||{},D=`${this.service}/${f}`,N=this.errors[f],z=N?function(_,f){return _.replace(L0,(b,S)=>{const D=f[S];return null!=D?String(D):`<${S}?>`})}(N,S):"Error";return new lf(D,`${this.serviceName}: ${z} (${D}).`,S)}}const L0=/\{\$([^}]+)}/g;function ff(_,f=1e3,b=2){const S=f*Math.pow(b,_),D=Math.round(.5*S*(Math.random()-.5)*2);return Math.min(144e5,S+D)}class om{constructor(f,b,S){this.name=f,this.instanceFactory=b,this.type=S,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const pf="analytics",Yg="firebase_id",j0="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cc="https://www.googletagmanager.com/gtag/js",er=new class{constructor(f){this.name=f,this._logLevel=lv,this._logHandler=Ng,this._userLogHandler=null,Jh.push(this)}get logLevel(){return this._logLevel}set logLevel(f){if(!(f in tn))throw new TypeError(`Invalid value "${f}" assigned to \`logLevel\``);this._logLevel=f}setLogLevel(f){this._logLevel="string"==typeof f?Yp[f]:f}get logHandler(){return this._logHandler}set logHandler(f){if("function"!=typeof f)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f}get userLogHandler(){return this._userLogHandler}set userLogHandler(f){this._userLogHandler=f}debug(...f){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...f),this._logHandler(this,tn.DEBUG,...f)}log(...f){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...f),this._logHandler(this,tn.VERBOSE,...f)}info(...f){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...f),this._logHandler(this,tn.INFO,...f)}warn(...f){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...f),this._logHandler(this,tn.WARN,...f)}error(...f){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...f),this._logHandler(this,tn.ERROR,...f)}}("@firebase/analytics"),Hr=new nm("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bv(_){if(!_.startsWith(cc)){const f=Hr.create("invalid-gtag-resource",{gtagURL:_});return er.warn(f.message),""}return _}function hu(_){return Promise.all(_.map(f=>f.catch(b=>b)))}function qd(_,f){const b=function(_,f){let b;return window.trustedTypes&&(b=window.trustedTypes.createPolicy("firebase-js-sdk-policy",f)),b}(0,{createScriptURL:bv}),S=document.createElement("script"),D=`${cc}?l=${_}&id=${f}`;S.src=b?null==b?void 0:b.createScriptURL(D):D,S.async=!0,document.head.appendChild(S)}function Cv(_,f,b,S,D,N){return mf.apply(this,arguments)}function mf(){return mf=(0,oe.Z)(function*(_,f,b,S,D,N){const z=S[D];try{if(z)yield f[z];else{const he=(yield hu(b)).find(De=>De.measurementId===D);he&&(yield f[he.appId])}}catch(se){er.error(se)}_("config",D,N)}),mf.apply(this,arguments)}function Ev(_,f,b,S,D){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,oe.Z)(function*(_,f,b,S,D){try{let N=[];if(D&&D.send_to){let z=D.send_to;Array.isArray(z)||(z=[z]);const se=yield hu(b);for(const he of z){const De=se.find(G=>G.measurementId===he),We=De&&f[De.appId];if(!We){N=[];break}N.push(We)}}0===N.length&&(N=Object.values(f)),yield Promise.all(N),_("event",S,D||{})}catch(N){er.error(N)}}),Jg.apply(this,arguments)}function xv(_){const f=window.document.getElementsByTagName("script");for(const b of Object.values(f))if(b.src&&b.src.includes(cc)&&b.src.includes(_))return b;return null}const e_=new class{constructor(f={},b=1e3){this.throttleMetadata=f,this.intervalMillis=b}getThrottleMetadata(f){return this.throttleMetadata[f]}setThrottleMetadata(f,b){this.throttleMetadata[f]=b}deleteThrottleMetadata(f){delete this.throttleMetadata[f]}};function cm(_){return new Headers({Accept:"application/json","x-goog-api-key":_})}function Dv(_){return xa.apply(this,arguments)}function xa(){return xa=(0,oe.Z)(function*(_){var f;const{appId:b,apiKey:S}=_,D={method:"GET",headers:cm(S)},N=j0.replace("{app-id}",b),z=yield fetch(N,D);if(200!==z.status&&304!==z.status){let se="";try{const he=yield z.json();(null===(f=he.error)||void 0===f?void 0:f.message)&&(se=he.error.message)}catch(he){}throw Hr.create("config-fetch-failed",{httpStatus:z.status,responseMessage:se})}return z.json()}),xa.apply(this,arguments)}function Sv(_){return uc.apply(this,arguments)}function uc(){return uc=(0,oe.Z)(function*(_,f=e_,b){const{appId:S,apiKey:D,measurementId:N}=_.options;if(!S)throw Hr.create("no-app-id");if(!D){if(N)return{measurementId:N,appId:S};throw Hr.create("no-api-key")}const z=f.getThrottleMetadata(S)||{backoffCount:0,throttleEndTimeMillis:Date.now()},se=new dm;return setTimeout((0,oe.Z)(function*(){se.abort()}),void 0!==b?b:6e4),Da({appId:S,apiKey:D,measurementId:N},z,se,f)}),uc.apply(this,arguments)}function Da(_,f,b){return fu.apply(this,arguments)}function fu(){return fu=(0,oe.Z)(function*(_,{throttleEndTimeMillis:f,backoffCount:b},S,D=e_){var N;const{appId:z,measurementId:se}=_;try{yield Av(S,f)}catch(he){if(se)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${se} provided in the "measurementId" field in the local Firebase config. [${null==he?void 0:he.message}]`),{appId:z,measurementId:se};throw he}try{const he=yield Dv(_);return D.deleteThrottleMetadata(z),he}catch(he){const De=he;if(!um(De)){if(D.deleteThrottleMetadata(z),se)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${se} provided in the "measurementId" field in the local Firebase config. [${null==De?void 0:De.message}]`),{appId:z,measurementId:se};throw he}const We=503===Number(null===(N=null==De?void 0:De.customData)||void 0===N?void 0:N.httpStatus)?ff(b,D.intervalMillis,30):ff(b,D.intervalMillis),G={throttleEndTimeMillis:Date.now()+We,backoffCount:b+1};return D.setThrottleMetadata(z,G),er.debug(`Calling attemptFetch again in ${We} millis`),Da(_,G,S,D)}}),fu.apply(this,arguments)}function Av(_,f){return new Promise((b,S)=>{const D=Math.max(f-Date.now(),0),N=setTimeout(b,D);_.addEventListener(()=>{clearTimeout(N),S(Hr.create("fetch-throttle",{throttleEndTimeMillis:f}))})})}function um(_){if(!(_ instanceof lf&&_.customData))return!1;const f=Number(_.customData.httpStatus);return 429===f||500===f||503===f||504===f}class dm{constructor(){this.listeners=[]}addEventListener(f){this.listeners.push(f)}abort(){this.listeners.forEach(f=>f())}}let _f,gu;function $d(){return $d=(0,oe.Z)(function*(_,f,b,S,D){if(D&&D.global)_("event",b,S);else{const N=yield f;_("event",b,Object.assign(Object.assign({},S),{send_to:N}))}}),$d.apply(this,arguments)}function fm(_){gu=_}function pm(_){_f=_}function yf(){return co.apply(this,arguments)}function co(){return co=(0,oe.Z)(function*(){if(!af())return er.warn(Hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield au()}catch(_){return er.warn(Hr.create("indexeddb-unavailable",{errorInfo:null==_?void 0:_.toString()}).message),!1}return!0}),co.apply(this,arguments)}function hc(){return hc=(0,oe.Z)(function*(_,f,b,S,D,N,z){var se;const he=Sv(_);he.then(Yt=>{b[Yt.measurementId]=Yt.appId,_.options.measurementId&&Yt.measurementId!==_.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${_.options.measurementId}) does not match the measurement ID fetched from the server (${Yt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yt=>er.error(Yt)),f.push(he);const De=yf().then(Yt=>{if(Yt)return S.getId()}),[We,G]=yield Promise.all([he,De]);xv(N)||qd(N,We.measurementId),gu&&(D("consent","default",gu),fm(void 0)),D("js",new Date);const ot=null!==(se=null==z?void 0:z.config)&&void 0!==se?se:{};return ot.origin="firebase",ot.update=!0,null!=G&&(ot[Yg]=G),D("config",We.measurementId,ot),_f&&(D("set",_f),pm(void 0)),We.measurementId}),hc.apply(this,arguments)}class Iv{constructor(f){this.app=f}_delete(){return delete Os[this.app.options.appId],Promise.resolve()}}let Os={},_u=[];const Tr={};let yu,Ui,fc="dataLayer",pc=!1;function s_(_,f,b){!function(){const _=[];if(Vo()&&_.push("This is a browser extension environment."),tm()||_.push("Cookies are not available."),_.length>0){const f=_.map((S,D)=>`(${D+1}) ${S}`).join(" "),b=Hr.create("invalid-analytics-context",{errorInfo:f});er.warn(b.message)}}();const S=_.options.appId;if(!S)throw Hr.create("no-app-id");if(!_.options.apiKey){if(!_.options.measurementId)throw Hr.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Os[S])throw Hr.create("already-exists",{id:S});if(!pc){!function(_){let f=[];Array.isArray(window[_])?f=window[_]:window[_]=f}(fc);const{wrappedGtag:N,gtagCore:z}=function(_,f,b,S,D){let N=function(...z){window[S].push(arguments)};return window[D]&&"function"==typeof window[D]&&(N=window[D]),window[D]=function(_,f,b,S){function N(){return(N=(0,oe.Z)(function*(z,...se){try{if("event"===z){const[he,De]=se;yield Ev(_,f,b,he,De)}else if("config"===z){const[he,De]=se;yield Cv(_,f,b,S,he,De)}else if("consent"===z){const[he]=se;_("consent","update",he)}else if("get"===z){const[he,De,We]=se;_("get",he,De,We)}else if("set"===z){const[he]=se;_("set",he)}else _(z,...se)}catch(he){er.error(he)}})).apply(this,arguments)}return function(z){return N.apply(this,arguments)}}(N,_,f,b),{gtagCore:N,wrappedGtag:window[D]}}(Os,_u,Tr,fc,"gtag");Ui=N,yu=z,pc=!0}return Os[S]=function(_,f,b,S,D,N,z){return hc.apply(this,arguments)}(_,_u,Tr,f,yu,fc,b),new Iv(_)}function vu(){return fr.apply(this,arguments)}function fr(){return(fr=(0,oe.Z)(function*(){if(Vo()||!tm()||!af())return!1;try{return yield au()}catch(_){return!1}})).apply(this,arguments)}const de="@firebase/analytics";(0,Te._registerComponent)(new om(pf,(f,{options:b})=>s_(f.getProvider("app").getImmediate(),f.getProvider("installations-internal").getImmediate(),b),"PUBLIC")),(0,Te._registerComponent)(new om("analytics-internal",function(f){try{const b=f.getProvider(pf).getImmediate();return{logEvent:(S,D,N)=>function(_,f,b,S){_=function(_){return _&&_._delegate?_._delegate:_}(_),function(_,f,b,S,D){return $d.apply(this,arguments)}(Ui,Os[_.app.options.appId],f,b,S).catch(D=>er.error(D))}(b,S,D,N)}}catch(b){throw Hr.create("interop-component-reg-failed",{reason:b})}},"PRIVATE")),(0,Te.registerVersion)(de,"0.10.0"),(0,Te.registerVersion)(de,"0.10.0","esm2017");var me=Z(4408),Vn=Z(7565);const wf=new class extends Vn.v{}(class extends me.o{constructor(f,b){super(f,b),this.scheduler=f,this.work=b}schedule(f,b=0){return b>0?super.schedule(f,b):(this.delay=b,this.state=f,this.scheduler.flush(this),this)}execute(f,b){return b>0||this.closed?super.execute(f,b):this._execute(f,b)}requestAsyncId(f,b,S=0){return null!=S&&S>0||null==S&&this.delay>0?super.requestAsyncId(f,b,S):f.flush(this)}});var Mv=Z(4986),kv=Z(8505),bu=Z(5363),_m=Z(9468);const ym=new o.GfV("7.6.1"),wu="__angularfire_symbol__analyticsIsSupportedValue",vm="__angularfire_symbol__analyticsIsSupported",zr="__angularfire_symbol__remoteConfigIsSupportedValue",Cf="__angularfire_symbol__remoteConfigIsSupported",o_="__angularfire_symbol__messagingIsSupportedValue",bm="__angularfire_symbol__messagingIsSupported";function G0(_,f,b){if(f){if(1===f.length)return f[0];const N=f.filter(z=>z.app===b);if(1===N.length)return N[0]}return b.container.getProvider(_).getImmediate({optional:!0})}globalThis[vm]||(globalThis[vm]=vu().then(_=>globalThis[wu]=_).catch(()=>globalThis[wu]=!1)),globalThis[bm]||(globalThis[bm]=Lo().then(_=>globalThis[o_]=_).catch(()=>globalThis[o_]=!1)),globalThis[Cf]||(globalThis[Cf]=Di().then(_=>globalThis[zr]=_).catch(()=>globalThis[zr]=!1));const Rv=(_,f)=>{const b=f?[f]:(0,ge.C6)(),S=[];return b.forEach(D=>{D.container.getProvider(_).instances.forEach(z=>{S.includes(z)||S.push(z)})}),S};function Cu(){}class wm{constructor(f,b=wf){this.zone=f,this.delegate=b}now(){return this.delegate.now()}schedule(f,b,S){const D=this.zone;return this.delegate.schedule(function(z){D.runGuarded(()=>{f.apply(this,[z])})},b,S)}}class q0{constructor(f){this.zone=f,this.task=null}call(f,b){const S=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cu,{},Cu,Cu)),b.pipe((0,kv.b)({next:S,complete:S,error:S})).subscribe(f).add(S)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ov=(()=>{class _{constructor(b){this.ngZone=b,this.outsideAngular=b.runOutsideAngular(()=>new wm(Zone.current)),this.insideAngular=b.run(()=>new wm(Zone.current,Mv.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _.\u0275fac=function(b){return new(b||_)(o.LFG(o.R0b))},_.\u0275prov=o.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function dn(){const _=globalThis.\u0275AngularFireScheduler;if(!_)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _}function l_(_){return _.pipe((0,bu.Q)(dn().outsideAngular))}function Ef(_){return dn(),function(_){return function(b){return(b=b.lift(new q0(_.ngZone))).pipe((0,_m.R)(_.outsideAngular),(0,bu.Q)(_.insideAngular))}}(dn())(_)}},4961:(ht,Ie,Z)=>{var o=Z(5e3);let ge=null;function oe(){return ge}const ce=new o.OlP("DocumentToken");let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.LFG)(ye)},providedIn:"platform"}),n})();const Ee=new o.OlP("Location Initialized");let ye=(()=>{class n extends be{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(e){const i=oe().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=oe().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Me()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Me()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:function(){return new ye((0,o.LFG)(ce))},providedIn:"platform"}),n})();function Me(){return!!window.history.pushState}function Ze(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function pt(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function yt(n){return n&&"?"!==n[0]?"?"+n:n}let wt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function(n){const t=(0,o.LFG)(ce).location;return new et((0,o.LFG)(be),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ue=new o.OlP("appBaseHref");let et=(()=>{class n extends wt{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ze(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+yt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+yt(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+yt(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(be),o.LFG(Ue,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n extends wt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ze(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+yt(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+yt(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(be),o.LFG(Ue,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),gt=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=pt(Rt(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+yt(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Rt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yt(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yt(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=yt,n.joinWithSlash=Ze,n.stripTrailingSlash=pt,n.\u0275fac=function(e){return new(e||n)(o.LFG(wt),o.LFG(be))},n.\u0275prov=o.Yz7({token:n,factory:function(){return new gt((0,o.LFG)(wt),(0,o.LFG)(be))},providedIn:"root"}),n})();function Rt(n){return n.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Zero=0]="Zero",ve[ve.One=1]="One",ve[ve.Two=2]="Two",ve[ve.Few=3]="Few",ve[ve.Many=4]="Many",ve[ve.Other=5]="Other",ve))(),Ae=(()=>((Ae=Ae||{})[Ae.Format=0]="Format",Ae[Ae.Standalone=1]="Standalone",Ae))(),Ne=(()=>((Ne=Ne||{})[Ne.Narrow=0]="Narrow",Ne[Ne.Abbreviated=1]="Abbreviated",Ne[Ne.Wide=2]="Wide",Ne[Ne.Short=3]="Short",Ne))(),Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.Medium=1]="Medium",Ke[Ke.Long=2]="Long",Ke[Ke.Full=3]="Full",Ke))(),we=(()=>((we=we||{})[we.Decimal=0]="Decimal",we[we.Group=1]="Group",we[we.List=2]="List",we[we.PercentSign=3]="PercentSign",we[we.PlusSign=4]="PlusSign",we[we.MinusSign=5]="MinusSign",we[we.Exponential=6]="Exponential",we[we.SuperscriptingExponent=7]="SuperscriptingExponent",we[we.PerMille=8]="PerMille",we[we.Infinity=9]="Infinity",we[we.NaN=10]="NaN",we[we.TimeSeparator=11]="TimeSeparator",we[we.CurrencyDecimal=12]="CurrencyDecimal",we[we.CurrencyGroup=13]="CurrencyGroup",we))();function Wi(n,t){return br((0,o.cg1)(n)[o.wAp.DateFormat],t)}function Mn(n,t){return br((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function wo(n,t){return br((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function ci(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(void 0===i){if(t===we.CurrencyDecimal)return e[o.wAp.NumberSymbols][we.Decimal];if(t===we.CurrencyGroup)return e[o.wAp.NumberSymbols][we.Group]}return i}const Ha=o.kL8;function Mc(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function br(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function za(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const wr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wi={},kc=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ni=(()=>((Ni=Ni||{})[Ni.Short=0]="Short",Ni[Ni.ShortGMT=1]="ShortGMT",Ni[Ni.Long=2]="Long",Ni[Ni.Extended=3]="Extended",Ni))(),_t=(()=>((_t=_t||{})[_t.FullYear=0]="FullYear",_t[_t.Month=1]="Month",_t[_t.Date=2]="Date",_t[_t.Hours=3]="Hours",_t[_t.Minutes=4]="Minutes",_t[_t.Seconds=5]="Seconds",_t[_t.FractionalSeconds=6]="FractionalSeconds",_t[_t.Day=7]="Day",_t))(),zt=(()=>((zt=zt||{})[zt.DayPeriods=0]="DayPeriods",zt[zt.Days=1]="Days",zt[zt.Months=2]="Months",zt[zt.Eras=3]="Eras",zt))();function zu(n,t,e,i){let r=function(n){if(Eo(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(d=>+d);return Jo(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(wr))return function(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,d=Number(n[5]||0)-i,g=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,d,g,C),t}(i)}const t=new Date(n);if(!Eo(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Wr(e,t)||t;let d,a=[];for(;t;){if(d=kc.exec(t),!d){a.push(t);break}{a=a.concat(d.slice(1));const I=a.pop();if(!I)break;t=I}}let g=r.getTimezoneOffset();i&&(g=Ci(i,g),r=function(n,t,e){const r=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(Ci(t,r)-r))}(r,i));let C="";return a.forEach(I=>{const T=function(n){if(Ol[n])return Ol[n];let t;switch(n){case"G":case"GG":case"GGG":t=Rn(zt.Eras,Ne.Abbreviated);break;case"GGGG":t=Rn(zt.Eras,Ne.Wide);break;case"GGGGG":t=Rn(zt.Eras,Ne.Narrow);break;case"y":t=Pn(_t.FullYear,1,0,!1,!0);break;case"yy":t=Pn(_t.FullYear,2,0,!0,!0);break;case"yyy":t=Pn(_t.FullYear,3,0,!1,!0);break;case"yyyy":t=Pn(_t.FullYear,4,0,!1,!0);break;case"Y":t=Rc(1);break;case"YY":t=Rc(2,!0);break;case"YYY":t=Rc(3);break;case"YYYY":t=Rc(4);break;case"M":case"L":t=Pn(_t.Month,1,1);break;case"MM":case"LL":t=Pn(_t.Month,2,1);break;case"MMM":t=Rn(zt.Months,Ne.Abbreviated);break;case"MMMM":t=Rn(zt.Months,Ne.Wide);break;case"MMMMM":t=Rn(zt.Months,Ne.Narrow);break;case"LLL":t=Rn(zt.Months,Ne.Abbreviated,Ae.Standalone);break;case"LLLL":t=Rn(zt.Months,Ne.Wide,Ae.Standalone);break;case"LLLLL":t=Rn(zt.Months,Ne.Narrow,Ae.Standalone);break;case"w":t=Rl(1);break;case"ww":t=Rl(2);break;case"W":t=Rl(1,!0);break;case"d":t=Pn(_t.Date,1);break;case"dd":t=Pn(_t.Date,2);break;case"c":case"cc":t=Pn(_t.Day,1);break;case"ccc":t=Rn(zt.Days,Ne.Abbreviated,Ae.Standalone);break;case"cccc":t=Rn(zt.Days,Ne.Wide,Ae.Standalone);break;case"ccccc":t=Rn(zt.Days,Ne.Narrow,Ae.Standalone);break;case"cccccc":t=Rn(zt.Days,Ne.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":t=Rn(zt.Days,Ne.Abbreviated);break;case"EEEE":t=Rn(zt.Days,Ne.Wide);break;case"EEEEE":t=Rn(zt.Days,Ne.Narrow);break;case"EEEEEE":t=Rn(zt.Days,Ne.Short);break;case"a":case"aa":case"aaa":t=Rn(zt.DayPeriods,Ne.Abbreviated);break;case"aaaa":t=Rn(zt.DayPeriods,Ne.Wide);break;case"aaaaa":t=Rn(zt.DayPeriods,Ne.Narrow);break;case"b":case"bb":case"bbb":t=Rn(zt.DayPeriods,Ne.Abbreviated,Ae.Standalone,!0);break;case"bbbb":t=Rn(zt.DayPeriods,Ne.Wide,Ae.Standalone,!0);break;case"bbbbb":t=Rn(zt.DayPeriods,Ne.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":t=Rn(zt.DayPeriods,Ne.Abbreviated,Ae.Format,!0);break;case"BBBB":t=Rn(zt.DayPeriods,Ne.Wide,Ae.Format,!0);break;case"BBBBB":t=Rn(zt.DayPeriods,Ne.Narrow,Ae.Format,!0);break;case"h":t=Pn(_t.Hours,1,-12);break;case"hh":t=Pn(_t.Hours,2,-12);break;case"H":t=Pn(_t.Hours,1);break;case"HH":t=Pn(_t.Hours,2);break;case"m":t=Pn(_t.Minutes,1);break;case"mm":t=Pn(_t.Minutes,2);break;case"s":t=Pn(_t.Seconds,1);break;case"ss":t=Pn(_t.Seconds,2);break;case"S":t=Pn(_t.FractionalSeconds,1);break;case"SS":t=Pn(_t.FractionalSeconds,2);break;case"SSS":t=Pn(_t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ga(Ni.Short);break;case"ZZZZZ":t=Ga(Ni.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ga(Ni.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ga(Ni.Long);break;default:return null}return Ol[n]=t,t}(I);C+=T?T(r,e,g):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Jo(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Wr(n,t){const e=function(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(wi[e]=wi[e]||{},wi[e][t])return wi[e][t];let i="";switch(t){case"shortDate":i=Wi(n,Ke.Short);break;case"mediumDate":i=Wi(n,Ke.Medium);break;case"longDate":i=Wi(n,Ke.Long);break;case"fullDate":i=Wi(n,Ke.Full);break;case"shortTime":i=Mn(n,Ke.Short);break;case"mediumTime":i=Mn(n,Ke.Medium);break;case"longTime":i=Mn(n,Ke.Long);break;case"fullTime":i=Mn(n,Ke.Full);break;case"short":const r=Wr(n,"shortTime"),s=Wr(n,"shortDate");i=kn(wo(n,Ke.Short),[r,s]);break;case"medium":const a=Wr(n,"mediumTime"),d=Wr(n,"mediumDate");i=kn(wo(n,Ke.Medium),[a,d]);break;case"long":const g=Wr(n,"longTime"),C=Wr(n,"longDate");i=kn(wo(n,Ke.Long),[g,C]);break;case"full":const I=Wr(n,"fullTime"),T=Wr(n,"fullDate");i=kn(wo(n,Ke.Full),[I,T])}return i&&(wi[e][t]=i),i}function kn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Cr(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),s+a}function Pn(n,t,e=0,i=!1,r=!1){return function(s,a){let d=function(n,t){switch(n){case _t.FullYear:return t.getFullYear();case _t.Month:return t.getMonth();case _t.Date:return t.getDate();case _t.Hours:return t.getHours();case _t.Minutes:return t.getMinutes();case _t.Seconds:return t.getSeconds();case _t.FractionalSeconds:return t.getMilliseconds();case _t.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||d>-e)&&(d+=e),n===_t.Hours)0===d&&-12===e&&(d=12);else if(n===_t.FractionalSeconds)return function(n,t){return Cr(n,3).substr(0,t)}(d,t);const g=ci(a,we.MinusSign);return Cr(d,t,g,i,r)}}function Rn(n,t,e=Ae.Format,i=!1){return function(r,s){return function(n,t,e,i,r,s){switch(e){case zt.Months:return function(n,t,e){const i=(0,o.cg1)(n),s=br([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return br(s,e)}(t,r,i)[n.getMonth()];case zt.Days:return function(n,t,e){const i=(0,o.cg1)(n),s=br([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return br(s,e)}(t,r,i)[n.getDay()];case zt.DayPeriods:const a=n.getHours(),d=n.getMinutes();if(s){const C=function(n){const t=(0,o.cg1)(n);return Mc(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?za(i):[za(i[0]),za(i[1])])}(t),I=function(n,t,e){const i=(0,o.cg1)(n);Mc(i);const s=br([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return br(s,e)||[]}(t,r,i),T=C.findIndex(O=>{if(Array.isArray(O)){const[L,q]=O,te=a>=L.hours&&d>=L.minutes,re=a<q.hours||a===q.hours&&d<q.minutes;if(L.hours<q.hours){if(te&&re)return!0}else if(te||re)return!0}else if(O.hours===a&&O.minutes===d)return!0;return!1});if(-1!==T)return I[T]}return function(n,t,e){const i=(0,o.cg1)(n),s=br([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return br(s,e)}(t,r,i)[a<12?0:1];case zt.Eras:return function(n,t){return br((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Ga(n){return function(t,e,i){const r=-1*i,s=ci(e,we.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ni.Short:return(r>=0?"+":"")+Cr(a,2,s)+Cr(Math.abs(r%60),2,s);case Ni.ShortGMT:return"GMT"+(r>=0?"+":"")+Cr(a,1,s);case Ni.Long:return"GMT"+(r>=0?"+":"")+Cr(a,2,s)+":"+Cr(Math.abs(r%60),2,s);case Ni.Extended:return 0===i?"Z":(r>=0?"+":"")+Cr(a,2,s)+":"+Cr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function ch(n){return Jo(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Rl(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=ch(e),a=function(n){const t=Jo(n,0,1).getDay();return Jo(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),d=s.getTime()-a.getTime();r=1+Math.round(d/6048e5)}return Cr(r,n,ci(i,we.MinusSign))}}function Rc(n,t=!1){return function(e,i){return Cr(ch(e).getFullYear(),n,ci(i,we.MinusSign),t)}}const Ol={};function Ci(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Eo(n){return n instanceof Date&&!isNaN(n.valueOf())}class as{}let V=(()=>{class n extends as{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Ha(i||this.locale)(e)){case ve.Zero:return"zero";case ve.One:return"one";case ve.Two:return"two";case ve.Few:return"few";case ve.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ie=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ct{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jt=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ct(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,a),Zt(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Zt(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Zt(n,t){n.context.$implicit=t.item}let sn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){It("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){It("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Et{constructor(){this.$implicit=null,this.ngIf=null}}function It(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Kr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ys=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Er=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Kr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Ys,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),cr=(()=>{class n{constructor(e,i,r){r._addDefault(new Kr(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Ys,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Qr=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function ls(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,o.AaK)(n)}'`)}class sg{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Iy{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const og=new Iy,D0=new sg;let $u=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return og;if((0,o.F4k)(e))return D0;throw ls(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1}),n})();const Qf=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ea=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var a;if(null==e||""===e||e!=e)return null;try{return zu(e,i,s||this.locale,null!==(a=null!=r?r:this.defaultTimezone)&&void 0!==a?a:void 0)}catch(d){throw ls(n,d.message)}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(Qf,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),Jt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:as,useClass:V}]}),n})();const Yn="browser";function Xn(n){return n===Yn}function gi(n){return"server"===n}let Qu=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Bc((0,o.LFG)(ce),window)}),n})();class Bc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fh(this.window.history)||fh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fh(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class mh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new mh,ge||(ge=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(So=So||document.querySelector("base"),So?So.getAttribute("href"):null);return null==e?null:function(n){Ii=Ii||document.createElement("a"),Ii.setAttribute("href",n);const t=Ii.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){So=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Ii,So=null;const Ll=new o.OlP("TRANSITION_ID"),Yi=[{provide:o.ip1,useFactory:function(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=oe(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Ll,ce,o.zs3],multi:!0}];class Wa{static init(){(0,o.VLi)(new Wa)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const d=function(g){a=a||g,s--,0==s&&i(a)};r.forEach(function(g){g.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?oe().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Js=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Bl=new o.OlP("EventManagerPlugins");let dr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bl),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ya{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=oe().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Xu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Dt=(()=>{class n extends Xu{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ed),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ed))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function ed(n){oe().remove(n)}const Vc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},U=/%COMP%/g,H="%COMP%",X=`_nghost-${H}`,J=`_ngcontent-${H}`;function Vt(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Vt(n,r,e):(r=r.replace(U,n),e.push(r))}return e}function lt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Kn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Wt(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new td(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new lg(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Vt(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dr),o.LFG(Dt),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Wt{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Vc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Vc[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Vc[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lt(i)):this.eventManager.addEventListener(t,e,lt(i))}}class td extends Wt{constructor(t,e,i,r){super(t),this.component=i;const s=Vt(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=J.replace(U,r+"-"+i.id),this.hostAttr=function(n){return X.replace(U,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class lg extends Wt{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Vt(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const d=document.createElement("style");d.textContent=s[a],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vl=(()=>{class n extends Ya{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Uc=["alt","control","meta","shift"],Dr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ul={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xs=(()=>{class n extends Ya{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oe().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="";if(Uc.forEach(g=>{const C=i.indexOf(g);C>-1&&(i.splice(C,1),a+=g+".")}),a+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=a,d}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&gh.hasOwnProperty(t)&&(t=gh[t]))}return Dr[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Uc.forEach(s=>{s!=r&&Ul[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const _h=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Yn},{provide:o.g9A,useValue:function(){mh.makeCurrent(),Wa.init()},multi:!0},{provide:ce,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),yh=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Bl,useClass:Vl,multi:!0,deps:[ce,o.R0b,o.Lbi]},{provide:Bl,useClass:Xs,multi:!0,deps:[ce]},{provide:Kn,useClass:Kn,deps:[dr,Dt,o.AFp]},{provide:o.FYo,useExisting:Kn},{provide:Xu,useExisting:Dt},{provide:Dt,useClass:Dt,deps:[ce]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:dr,useClass:dr,deps:[Bl,o.R0b]},{provide:class{},useClass:Js,deps:[]}];let id=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Ll,useExisting:o.AFp},Yi]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:yh,imports:[Jt,o.hGG]}),n})();"undefined"!=typeof window&&window;let Hl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(cp),i},providedIn:"root"}),n})(),cp=(()=>{class n extends Hl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function(n){return new cp(n.get(ce))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();class To{}const Br="*";function ui(n,t){return{type:7,name:n,definitions:t,options:{}}}function xn(n,t=null){return{type:4,styles:t,timings:n}}function ra(n,t=null){return{type:2,steps:n,options:t}}function xt(n){return{type:6,styles:n,offset:null}}function bn(n,t,e){return{type:0,name:n,styles:t,options:e}}function to(n){return{type:5,steps:n}}function fn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function ad(n=null){return{type:9,options:n}}function Es(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Xa(n){Promise.resolve(null).then(n)}class el{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xa(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class tl{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?Xa(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,d)=>Math.max(a,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function oa(){return"undefined"!=typeof window&&void 0!==window.document}function ld(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function aa(n){switch(n.length){case 0:return new el;case 1:return n[0];default:return new tl(n)}}function zl(n,t,e,i,r={},s={}){const a=[],d=[];let g=-1,C=null;if(i.forEach(I=>{const T=I.offset,O=T==g,L=O&&C||{};Object.keys(I).forEach(q=>{let te=q,re=I[q];if("offset"!==q)switch(te=t.normalizePropertyName(te,a),re){case"!":re=r[q];break;case Br:re=s[q];break;default:re=t.normalizeStyleValue(q,te,re,a)}L[te]=re}),O||d.push(L),C=L,g=T}),a.length){const I="\n - ";throw new Error(`Unable to animate due to the following errors:${I}${a.join(I)}`)}return d}function no(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Dh(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Dh(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Dh(e,"destroy",n)))}}function Dh(n,t,e){const i=e.totalTime,s=cd(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function cd(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Qi(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Sh(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let la=(n,t)=>!1,Mo=(n,t,e)=>[];(ld()||"undefined"!=typeof Element)&&(la=oa()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Mo=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let Vr=null,Ah=!1;function nl(n){Vr||(Vr=("undefined"!=typeof document?document.body:null)||{},Ah=!!Vr.style&&"WebkitAppearance"in Vr.style);let t=!0;return Vr.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Vr.style,!t&&Ah&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Vr.style)),t}const Ur=la,il=Mo;function xs(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Ih=(()=>{class n{validateStyleProperty(e){return nl(e)}matchesElement(e,i){return!1}containsElement(e,i){return Ur(e,i)}query(e,i,r){return il(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,d=[],g){return new el(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ql=(()=>{class n{}return n.NOOP=new Ih,n})();const ri="ng-enter",rl="ng-leave",$l="ng-trigger",Th=".ng-trigger",dg="ng-animating",hg=".ng-animating";function sl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$c(parseFloat(t[1]),t[2])}function $c(n,t){return"s"===t?1e3*n:n}function ro(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,s=0,a="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=$c(parseFloat(d[1]),d[2]);const g=d[3];null!=g&&(s=$c(parseFloat(g),d[4]));const C=d[5];C&&(a=C)}else r=n;if(!e){let d=!1,g=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),d=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),d=!0),d&&t.splice(g,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:a}}(n,t,e)}function Gn(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function qn(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Gn(n,e);return e}function fg(n,t,e){return e?t+":"+e+";":""}function Mh(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=fg(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=fg(0,hd(e),n.style[e]));n.setAttribute("style",t)}function si(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Yc(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),ld()&&Mh(n))}function Li(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Yc(e);n.style[i]=""}),ld()&&Mh(n))}function Zl(n){return Array.isArray(n)?1==n.length?n[0]:ra(n):n}const Wl=new RegExp("{{\\s*(.+?)\\s*}}","g");function dd(n){let t=[];if("string"==typeof n){let e;for(;e=Wl.exec(n);)t.push(e[1]);Wl.lastIndex=0}return t}function Zc(n,t,e){const i=n.toString(),r=i.replace(Wl,(s,a)=>{let d=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),d=""),d.toString()});return r==i?n:r}function Wc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const A0=/-+([a-z0-9])/g;function Yc(n){return n.replace(A0,(...t)=>t[1].toUpperCase())}function hd(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jr(n,t){return 0===n||0===t}function fd(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],a=[];if(i.forEach(d=>{s.hasOwnProperty(d)||a.push(d),s[d]=e[d]}),a.length)for(var r=1;r<t.length;r++){let d=t[r];a.forEach(function(g){d[g]=pd(n,g)})}}return t}function yi(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function pd(n,t){return window.getComputedStyle(n)[t]}function Fy(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const g=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],a=i[3];t.push(gd(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(gd(a,r))}(i,e,t)):e.push(n),e}const Qc=new Set(["true","1"]),md=new Set(["false","0"]);function gd(n,t){const e=Qc.has(n)||md.has(n),i=Qc.has(t)||md.has(t);return(r,s)=>{let a="*"==n||n==r,d="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?Qc.has(n):md.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Qc.has(t):md.has(t)),a&&d}}const Jc=new RegExp("s*:selfs*,?","g");function pg(n,t,e){return new Xc(n).build(t,e)}class Xc{constructor(t){this._driver=t}build(t,e){const i=new By(e);return this._resetContextStyleTimingState(i),yi(this,Zl(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const g=d,C=g.name;C.toString().split(/\s*,\s*/).forEach(I=>{g.name=I,s.push(this.visitState(g,e))}),g.name=C}else if(1==d.type){const g=this.visitTransition(d,e);i+=g.queryCount,r+=g.depCount,a.push(g)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};if(i.styles.forEach(d=>{if(Yl(d)){const g=d;Object.keys(g).forEach(C=>{dd(g[C]).forEach(I=>{a.hasOwnProperty(I)||s.add(I)})})}}),s.size){const d=Wc(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${d.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=yi(this,Zl(t.animation),e);return{type:1,matchers:Fy(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:us(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>yi(this,i,e)),options:us(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const d=yi(this,a,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:us(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return gp(ro(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=gp(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||ro(i,t),gp(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:xt({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,d=!1;if(!a){d=!0;const C={};i.easing&&(C.easing=i.easing),a=xt(C)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(a,e);g.isEmptyStep=d,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Br?i.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let r=!1,s=null;return i.forEach(a=>{if(Yl(a)){const d=a,g=d.easing;if(g&&(s=g,delete d.easing),!r)for(let C in d)if(d[C].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(d=>{if(!this._driver.validateStyleProperty(d))return void e.errors.push(`The provided animation property "${d}" is not a supported CSS property for animations`);const g=e.collectedStyles[e.currentQuerySelector],C=g[d];let I=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(e.errors.push(`The CSS property "${d}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),I=!1),s=C.startTime),I&&(g[d]={startTime:s,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=dd(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(a[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const a=[];let d=!1,g=!1,C=0;const I=t.steps.map(_e=>{const Ve=this._makeStyleAst(_e,e);let Pe=null!=Ve.offset?Ve.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Yl(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Yl(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ve.styles),Ge=0;return null!=Pe&&(s++,Ge=Ve.offset=Pe),g=g||Ge<0||Ge>1,d=d||Ge<C,C=Ge,a.push(Ge),Ve});g&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),d&&e.errors.push("Please ensure that all keyframe offsets are in order");const T=t.steps.length;let O=0;s>0&&s<T?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(O=1/(T-1));const L=T-1,q=e.currentTime,te=e.currentAnimateTimings,re=te.duration;return I.forEach((_e,Ve)=>{const Pe=O>0?Ve==L?1:O*Ve:a[Ve],Ge=Pe*re;e.currentTime=q+te.delay+Ge,te.duration=Ge,this._validateStyleAst(_e,e),_e.offset=Pe,i.styles.push(_e)}),i}visitReference(t,e){return{type:8,animation:yi(this,Zl(t.animation),e),options:us(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:us(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:us(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Jc,"")),n=n.replace(/@\*/g,Th).replace(/@\w+/g,e=>Th+"-"+e.substr(1)).replace(/:animating/g,hg),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Qi(e.collectedStyles,e.currentQuerySelector,{});const d=yi(this,Zl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:d,originalSelector:t.selector,options:us(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ro(t.timings,e.errors,!0);return{type:12,animation:yi(this,Zl(t.animation),e),timings:i,options:null}}}class By{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Yl(n){return!Array.isArray(n)&&"object"==typeof n}function us(n){return n?(n=Gn(n)).params&&(n.params=function(n){return n?Gn(n):null}(n.params)):n={},n}function gp(n,t,e){return{duration:n,delay:t,easing:e}}function Kl(n,t,e,i,r,s,a=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:d}}class Di{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const _d=new RegExp(":enter","g"),Rh=new RegExp(":leave","g");function yp(n,t,e,i,r,s={},a={},d,g,C=[]){return(new Oh).buildKeyframes(n,t,e,i,r,s,a,d,g,C)}class Oh{buildKeyframes(t,e,i,r,s,a,d,g,C,I=[]){C=C||new Di;const T=new ca(t,e,C,r,s,I,[]);T.options=g,T.currentTimeline.setStyles([a],null,T.errors,g),yi(this,i,T);const O=T.timelines.filter(L=>L.containsAnimation());if(O.length&&Object.keys(d).length){const L=O[O.length-1];L.allowOnlyTimelineStyles()||L.setStyles([d],null,T.errors,g)}return O.length?O.map(L=>L.buildKeyframes()):[Kl(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?sl(i.duration):null,d=null!=i.delay?sl(i.delay):null;return 0!==a&&t.forEach(g=>{const C=e.appendInstructionToTimeline(g,a,d);s=Math.max(s,C.duration+C.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),yi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ll);const a=sl(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>yi(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?sl(t.options.delay):0;t.steps.forEach(a=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),yi(this,a,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ro(e.params?Zc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(g=>{d.forwardTime((g.offset||0)*s),d.setStyles(g.styles,g.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?sl(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ll);let a=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let g=null;d.forEach((C,I)=>{e.currentQueryIndex=I;const T=e.createSubContext(t.options,C);s&&T.delayNextStep(s),C===e.element&&(g=T.currentTimeline),yi(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),d=a*(e.currentQueryTotal-1);let g=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=d-g;break;case"full":g=i.currentStaggerTime}const I=e.currentTimeline;g&&I.delayNextStep(g);const T=I.currentTime;yi(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const ll={};class ca{constructor(t,e,i,r,s,a,d,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ll,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Ql(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=sl(i.duration)),null!=i.delay&&(r.delay=sl(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!a.hasOwnProperty(d))&&(a[d]=Zc(s[d],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new ca(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=ll,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new Oo(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(_d,"."+this._enterClassName)).replace(Rh,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),d.push(...C)}return!s&&0==d.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),d}}class Ql{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ql(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Br,this._currentKeyframe[e]=Br}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},a=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Br})):qn(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(d=>{const g=Zc(a[d],s,i);this._pendingStyles[d]=g,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:Br),this._updateStyle(d,g)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,g)=>{const C=qn(d,!0);Object.keys(C).forEach(I=>{const T=C[I];"!"==T?t.add(I):T==Br&&e.add(I)}),i||(C.offset=g/this.duration),r.push(C)});const s=t.size?Wc(t.values()):[],a=e.size?Wc(e.values()):[];if(i){const d=r[0],g=Gn(d);d.offset=0,g.offset=1,r=[d,g]}return Kl(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class Oo extends Ql{constructor(t,e,i,r,s,a,d=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,d=e/a,g=qn(t[0],!1);g.offset=0,s.push(g);const C=qn(t[0],!1);C.offset=jy(d),s.push(C);const I=t.length-1;for(let T=1;T<=I;T++){let O=qn(t[T],!1);O.offset=jy((e+O.offset*i)/a),s.push(O)}i=a,e=0,r="",t=s}return Kl(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function jy(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class tu{}class zy extends tu{normalizePropertyName(t,e){return Yc(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(Gy[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+s}}const Gy=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vd(n,t,e,i,r,s,a,d,g,C,I,T,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:d,queriedElements:g,preStyleProps:C,postStyleProps:I,totalTime:T,errors:O}}const qy={};class I0{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],a=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):a}build(t,e,i,r,s,a,d,g,C,I){const T=[],O=this.ast.options&&this.ast.options.params||qy,q=this.buildStyles(i,d&&d.params||qy,T),te=g&&g.params||qy,re=this.buildStyles(r,te,T),_e=new Set,Ve=new Map,Pe=new Map,Ge="void"===r,kt={params:Object.assign(Object.assign({},O),te)},Pt=I?[]:yp(t,e,this.ast.animation,s,a,q,re,kt,C,T);let Tn=0;if(Pt.forEach(Qo=>{Tn=Math.max(Qo.duration+Qo.delay,Tn)}),T.length)return vd(e,this._triggerName,i,r,Ge,q,re,[],[],Ve,Pe,Tn,T);Pt.forEach(Qo=>{const ng=Qo.element,M5=Qi(Ve,ng,{});Qo.preStyleProps.forEach(w0=>M5[w0]=!0);const jS=Qi(Pe,ng,{});Qo.postStyleProps.forEach(w0=>jS[w0]=!0),ng!==e&&_e.add(ng)});const yr=Wc(_e.values());return vd(e,this._triggerName,i,r,Ge,q,re,Pt,yr,Ve,Pe,Tn)}}class T0{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Gn(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!=a&&(r[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(d=>{let g=a[d];g.length>1&&(g=Zc(g,r,e));const C=this.normalizer.normalizePropertyName(d,e);g=this.normalizer.normalizeStyleValue(d,C,g,e),i[C]=g})}}),i}}class bp{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new T0(r.style,r.options&&r.options.params||{},i)}),Zy(this.states,"true","1"),Zy(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new I0(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new I0(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Zy(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const bd=new Di;class ul{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=pg(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=zl(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let a;const d=new Map;if(s?(a=yp(this._driver,e,s,ri,rl,{},{},i,bd,r),a.forEach(I=>{const T=Qi(d,I.element,{});I.postStyleProps.forEach(O=>T[O]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),a=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);d.forEach((I,T)=>{Object.keys(I).forEach(O=>{I[O]=this._driver.computeStyle(T,O,Br)})});const C=aa(a.map(I=>{const T=d.get(I.element);return this._buildPlayer(I,{},T)}));return this._playersById[t]=C,C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=cd(e,"","","");return no(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const dl="ng-animate-queued",mg="ng-animate-disabled",yg=[],wd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ph={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ji="__ng_removed";class hl{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const s=Gn(t);delete s.value,this.options=s}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Jl="void",wp=new hl(Jl);class Wy{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wn(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const s=Qi(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const d=Qi(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(wn(t,$l),wn(t,$l+"-"+e),d[e]=wp),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(a);g>=0&&s.splice(g,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new da(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(wn(t,$l),wn(t,$l+"-"+e),this._engine.statesByElement.set(t,d={}));let g=d[e];const C=new hl(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&C.absorbOptions(g.options),d[e]=C,g||(g=wp),C.value!==Jl&&g.value===C.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(g.params,C.params)){const te=[],re=s.matchStyles(g.value,g.params,te),_e=s.matchStyles(C.value,C.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Li(t,re),si(t,_e)})}return}const O=Qi(this._engine.playersByElement,t,[]);O.forEach(te=>{te.namespaceId==this.id&&te.triggerName==e&&te.queued&&te.destroy()});let L=s.matchTransition(g.value,C.value,t,C.params),q=!1;if(!L){if(!r)return;L=s.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:g,toState:C,player:a,isFallbackTransition:q}),q||(wn(t,dl),a.onStart(()=>{Ed(t,dl)})),a.onDone(()=>{let te=this.players.indexOf(a);te>=0&&this.players.splice(te,1);const re=this._engine.playersByElement.get(t);if(re){let _e=re.indexOf(a);_e>=0&&re.splice(_e,1)}}),this.players.push(a),O.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Th,!0);i.forEach(r=>{if(r[Ji])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t);if(s){const a=[];if(Object.keys(s).forEach(d=>{if(this._triggers[d]){const g=this.trigger(t,d,Jl,r);g&&a.push(g)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&aa(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const g=this._triggers[a].fallbackTransition,C=i[a]||wp,I=new hl(Jl),T=new da(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:g,fromState:C,toState:I,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ji];(!s||s===wd)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){wn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(d=>{if(d.name==i.triggerName){const g=cd(s,i.triggerName,i.fromState.value,i.toState.value);g._data=t,no(i.player,d.phase,g,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class vg{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Wy(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const a=i[r[s]].namespaceId;if(a){const d=this._fetchNamespace(a);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(Po(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Po(e))return;const s=e[Ji];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wn(t,mg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ed(t,mg))}removeNode(t,e,i,r){if(Po(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[Ji]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,s){return Po(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Th,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,hg,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return aa(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Ji];if(i&&i.setForRemoval){if(t[Ji]=wd,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(mg))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?aa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Di,r=[],s=new Map,a=[],d=new Map,g=new Map,C=new Map,I=new Set;this.disabledNodes.forEach(bt=>{I.add(bt);const Nt=this.driver.query(bt,".ng-animate-queued",!0);for(let en=0;en<Nt.length;en++)I.add(Nt[en])});const T=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=Ky(O,this.collectedEnterElements),q=new Map;let te=0;L.forEach((bt,Nt)=>{const en=ri+te++;q.set(Nt,en),bt.forEach(Wn=>wn(Wn,en))});const re=[],_e=new Set,Ve=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Nt=this.collectedLeaveElements[bt],en=Nt[Ji];en&&en.setForRemoval&&(re.push(Nt),_e.add(Nt),en.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(Wn=>_e.add(Wn)):Ve.add(Nt))}const Pe=new Map,Ge=Ky(O,Array.from(_e));Ge.forEach((bt,Nt)=>{const en=rl+te++;Pe.set(Nt,en),bt.forEach(Wn=>wn(Wn,en))}),t.push(()=>{L.forEach((bt,Nt)=>{const en=q.get(Nt);bt.forEach(Wn=>Ed(Wn,en))}),Ge.forEach((bt,Nt)=>{const en=Pe.get(Nt);bt.forEach(Wn=>Ed(Wn,en))}),re.forEach(bt=>{this.processLeaveNode(bt)})});const kt=[],Pt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(e).forEach(en=>{const Wn=en.player,qs=en.element;if(kt.push(Wn),this.collectedEnterElements.length){const ju=qs[Ji];if(ju&&ju.setForMove)return void Wn.destroy()}const Kf=!T||!this.driver.containsElement(T,qs),Ic=Pe.get(qs),Dy=q.get(qs),vr=this._buildInstruction(en,i,Dy,Ic,Kf);if(vr.errors&&vr.errors.length)return void Pt.push(vr);if(Kf)return Wn.onStart(()=>Li(qs,vr.fromStyles)),Wn.onDestroy(()=>si(qs,vr.toStyles)),void r.push(Wn);if(en.isFallbackTransition)return Wn.onStart(()=>Li(qs,vr.fromStyles)),Wn.onDestroy(()=>si(qs,vr.toStyles)),void r.push(Wn);const O5=[];vr.timelines.forEach(ju=>{ju.stretchStartingKeyframe=!0,this.disabledNodes.has(ju.element)||O5.push(ju)}),vr.timelines=O5,i.append(qs,vr.timelines),a.push({instruction:vr,player:Wn,element:qs}),vr.queriedElements.forEach(ju=>Qi(d,ju,[]).push(Wn)),vr.preStyleProps.forEach((ju,HS)=>{const C1=Object.keys(ju);if(C1.length){let C0=g.get(HS);C0||g.set(HS,C0=new Set),C1.forEach(VB=>C0.add(VB))}}),vr.postStyleProps.forEach((ju,HS)=>{const C1=Object.keys(ju);let C0=C.get(HS);C0||C.set(HS,C0=new Set),C1.forEach(VB=>C0.add(VB))})});if(Pt.length){const bt=[];Pt.forEach(Nt=>{bt.push(`@${Nt.triggerName} has failed due to:\n`),Nt.errors.forEach(en=>bt.push(`- ${en}\n`))}),kt.forEach(Nt=>Nt.destroy()),this.reportError(bt)}const Tn=new Map,yr=new Map;a.forEach(bt=>{const Nt=bt.element;i.has(Nt)&&(yr.set(Nt,Nt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,Tn))}),r.forEach(bt=>{const Nt=bt.element;this._getPreviousPlayers(Nt,!1,bt.namespaceId,bt.triggerName,null).forEach(Wn=>{Qi(Tn,Nt,[]).push(Wn),Wn.destroy()})});const Qo=re.filter(bt=>Qy(bt,g,C)),ng=new Map;Cd(ng,this.driver,Ve,C,Br).forEach(bt=>{Qy(bt,g,C)&&Qo.push(bt)});const jS=new Map;L.forEach((bt,Nt)=>{Cd(jS,this.driver,new Set(bt),g,"!")}),Qo.forEach(bt=>{const Nt=ng.get(bt),en=jS.get(bt);ng.set(bt,Object.assign(Object.assign({},Nt),en))});const w0=[],k5=[],R5={};a.forEach(bt=>{const{element:Nt,player:en,instruction:Wn}=bt;if(i.has(Nt)){if(I.has(Nt))return en.onDestroy(()=>si(Nt,Wn.toStyles)),en.disabled=!0,en.overrideTotalTime(Wn.totalTime),void r.push(en);let qs=R5;if(yr.size>1){let Ic=Nt;const Dy=[];for(;Ic=Ic.parentNode;){const vr=yr.get(Ic);if(vr){qs=vr;break}Dy.push(Ic)}Dy.forEach(vr=>yr.set(vr,qs))}const Kf=this._buildAnimation(en.namespaceId,Wn,Tn,s,jS,ng);if(en.setRealPlayer(Kf),qs===R5)w0.push(en);else{const Ic=this.playersByElement.get(qs);Ic&&Ic.length&&(en.parentPlayer=aa(Ic)),r.push(en)}}else Li(Nt,Wn.fromStyles),en.onDestroy(()=>si(Nt,Wn.toStyles)),k5.push(en),I.has(Nt)&&r.push(en)}),k5.forEach(bt=>{const Nt=s.get(bt.element);if(Nt&&Nt.length){const en=aa(Nt);bt.setRealPlayer(en)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<re.length;bt++){const Nt=re[bt],en=Nt[Ji];if(Ed(Nt,rl),en&&en.hasAnimation)continue;let Wn=[];if(d.size){let Kf=d.get(Nt);Kf&&Kf.length&&Wn.push(...Kf);let Ic=this.driver.query(Nt,hg,!0);for(let Dy=0;Dy<Ic.length;Dy++){let vr=d.get(Ic[Dy]);vr&&vr.length&&Wn.push(...vr)}}const qs=Wn.filter(Kf=>!Kf.destroyed);qs.length?Cp(this,Nt,qs):this.processLeaveNode(Nt)}return re.length=0,w0.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Nt=this.players.indexOf(bt);this.players.splice(Nt,1)}),bt.play()}),w0}elementContainsData(t,e){let i=!1;const r=e[Ji];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(a=d)}else{const d=this.playersByElement.get(t);if(d){const g=!s||s==Jl;d.forEach(C=>{C.queued||!g&&C.triggerName!=r||a.push(C)})}}return(i||r)&&(a=a.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const C=g.element,I=C!==s,T=Qi(i,C,[]);this._getPreviousPlayers(C,I,a,d,e.toState).forEach(L=>{const q=L.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),L.destroy(),T.push(L)})}Li(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const d=e.triggerName,g=e.element,C=[],I=new Set,T=new Set,O=e.timelines.map(q=>{const te=q.element;I.add(te);const re=te[Ji];if(re&&re.removedBeforeQueried)return new el(q.duration,q.delay);const _e=te!==g,Ve=function(n){const t=[];return Ep(n,t),t}((i.get(te)||yg).map(Tn=>Tn.getRealPlayer())).filter(Tn=>!!Tn.element&&Tn.element===te),Pe=s.get(te),Ge=a.get(te),kt=zl(0,this._normalizer,0,q.keyframes,Pe,Ge),Pt=this._buildPlayer(q,kt,Ve);if(q.subTimeline&&r&&T.add(te),_e){const Tn=new da(t,d,te);Tn.setRealPlayer(Pt),C.push(Tn)}return Pt});C.forEach(q=>{Qi(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,q.element,q))}),I.forEach(q=>wn(q,dg));const L=aa(O);return L.onDestroy(()=>{I.forEach(q=>Ed(q,dg)),si(g,e.toStyles)}),T.forEach(q=>{Qi(r,q,[]).push(L)}),L}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new el(t.duration,t.delay)}}class da{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new el,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>no(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Qi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Po(n){return n&&1===n.nodeType}function Yy(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Cd(n,t,e,i,r){const s=[];e.forEach(g=>s.push(Yy(g)));const a=[];i.forEach((g,C)=>{const I={};g.forEach(T=>{const O=I[T]=t.computeStyle(C,T,r);(!O||0==O.length)&&(C[Ji]=Ph,a.push(C))}),n.set(C,I)});let d=0;return e.forEach(g=>Yy(g,s[d++])),a}function Ky(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(d){if(!d)return 1;let g=s.get(d);if(g)return g;const C=d.parentNode;return g=e.has(C)?C:r.has(C)?1:a(C),s.set(d,g),g}return t.forEach(d=>{const g=a(d);1!==g&&e.get(g).push(d)}),e}function wn(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Ed(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Cp(n,t,e){aa(e).onDone(()=>n.processLeaveNode(t))}function Ep(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof tl?Ep(i.players,t):t.push(i)}}function Qy(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class fl{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new vg(t,e,i),this._timelineEngine=new ul(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let d=this._triggerCache[a];if(!d){const g=[],C=pg(this._driver,s,g);if(g.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${g.join("\n - ")}`);d=function(n,t,e){return new bp(n,t,e)}(r,C,this._normalizer),this._triggerCache[a]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=Sh(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,d]=Sh(i);return this._timelineEngine.listen(a,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function wg(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=pl(t[0]),t.length>1&&(i=pl(t[t.length-1]))):t&&(e=pl(t)),e||i?new Ss(n,e,i):null}let Ss=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&si(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(si(this._element,this._initialStyles),this._endStyles&&(si(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Li(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Li(this._element,this._endStyles),this._endStyles=null),si(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function pl(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];xd(r)&&(t=t||{},t[r]=n[r])}return t}function xd(n){return"display"===n||"position"===n}const Sd="animation",Cg="animationend";class Jy{constructor(t,e,i,r,s,a,d){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=a,this._onDoneFn=d,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=g=>this._handleCallback(g)}apply(){(function(n,t){const e=Ap(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),ha(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Eg(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Dp(this._element,this._name,"paused")}resume(){Dp(this._element,this._name,"running")}setPosition(t){const e=O0(this._element,this._name);this._position=t*this._duration,ha(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Eg(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=Ap(n,"").split(","),r=Xy(i,t);r>=0&&(i.splice(r,1),ha(n,"",i.join(",")))}(this._element,this._name))}}function Dp(n,t,e){ha(n,"PlayState",e,O0(n,t))}function O0(n,t){const e=Ap(n,"");return e.indexOf(",")>0?Xy(e.split(","),t):Xy([e],t)}function Xy(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function Eg(n,t,e){e?n.removeEventListener(Cg,t):n.addEventListener(Cg,t)}function ha(n,t,e,i){const r=Sd+t;if(null!=i){const s=n.style[r];if(s.length){const a=s.split(",");a[i]=e,e=a.join(",")}}n.style[r]=e}function Ap(n,t){return n.style[Sd+t]||""}class Ad{constructor(t,e,i,r,s,a,d,g){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=d,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Jy(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:pd(this.element,i))})}this.currentSnapshot=t}}class Fh extends el{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=xs(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class vi{constructor(){this._count=0}validateStyleProperty(t){return nl(t)}matchesElement(t,e){return!1}containsElement(t,e){return Ur(t,e)}query(t,e,i){return il(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(d=>xs(d));let r=`@keyframes ${e} {\n`,s="";i.forEach(d=>{s=" ";const g=parseFloat(d.offset);r+=`${s}${100*g}% {\n`,s+=" ",Object.keys(d).forEach(C=>{const I=d[C];switch(C){case"offset":return;case"easing":return void(I&&(r+=`${s}animation-timing-function: ${I};\n`));default:return void(r+=`${s}${C}: ${I};\n`)}}),r+=`${s}}\n`}),r+="}\n";const a=document.createElement("style");return a.textContent=r,a}animate(t,e,i,r,s,a=[],d){const g=a.filter(re=>re instanceof Ad),C={};jr(i,r)&&g.forEach(re=>{let _e=re.currentSnapshot;Object.keys(_e).forEach(Ve=>C[Ve]=_e[Ve])});const I=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=fd(t,e,C));if(0==i)return new Fh(t,I);const T="gen_css_kf_"+this._count++,O=this.buildKeyframeElement(t,T,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(O);const q=wg(t,e),te=new Ad(t,e,T,i,r,s,I,q);return te.onDestroy(()=>{var n;(n=O).parentNode.removeChild(n)}),te}}class Mp{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:pd(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Dg{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kp().toString()),this._cssKeyframesDriver=new vi}validateStyleProperty(t){return nl(t)}matchesElement(t,e){return!1}containsElement(t,e){return Ur(t,e)}query(t,e,i){return il(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,a=[],d){if(!d&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,a);const I={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(I.easing=s);const T={},O=a.filter(q=>q instanceof Mp);jr(i,r)&&O.forEach(q=>{let te=q.currentSnapshot;Object.keys(te).forEach(re=>T[re]=te[re])});const L=wg(t,e=fd(t,e=e.map(q=>qn(q,!1)),T));return new Mp(t,e,I,L)}}function kp(){return oa()&&Element.prototype.animate||{}}let Sg=(()=>{class n extends To{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?ra(e):e;return Ti(this._renderer,null,i,"register",[r]),new Rp(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Rp extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Xl(this._id,t,e||{},this._renderer)}}class Xl{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ti(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ti(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Id="@.disabled";let Bh=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const d=null==a?void 0:a.parentNode(s);d&&a.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(s);return I||(I=new Bi("",s,this.engine),this._rendererCache.set(s,I)),I}const a=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const g=I=>{Array.isArray(I)?I.forEach(g):this.engine.registerTrigger(a,d,e,I.name,I)};return i.data.animation.forEach(g),new gl(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,d]=s;a(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(fl),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Bi{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Id?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class gl extends Bi{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Id?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let Md=(()=>{class n extends fl{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(ql),o.LFG(tu))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const so=new o.OlP("AnimationModuleType"),kd=[{provide:To,useClass:Sg},{provide:tu,useFactory:function(){return new zy}},{provide:fl,useClass:Md},{provide:o.FYo,useFactory:function(n,t,e){return new Bh(n,t,e)},deps:[Kn,fl,o.R0b]}],Op=[{provide:ql,useFactory:function(){return"function"==typeof kp()?new Dg:new vi}},{provide:so,useValue:"BrowserAnimations"},...kd],Pp=[{provide:ql,useClass:Ih},{provide:so,useValue:"NoopAnimations"},...kd];let Ag=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Pp:Op}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Op,imports:[id]}),n})();var Cn=Z(8996),No=Z(3269);function ct(...n){const t=(0,No.yG)(n);return(0,Cn.D)(n,t)}var dt=Z(7579);class hr extends dt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var oi=Z(8306);const{isArray:As}=Array,{getPrototypeOf:ma,prototype:Rd,keys:Fp}=Object;function Ig(n){if(1===n.length){const t=n[0];if(As(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&ma(n)===Rd}(t)){const e=Fp(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var ga=Z(4671),rt=Z(4004);const{isArray:sv}=Array;function jh(n){return(0,rt.U)(t=>function(n,t){return sv(t)?n(...t):n(t)}(n,t))}function Fo(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var ti=Z(5403),Bp=Z(9672);function _l(...n){const t=(0,No.yG)(n),e=(0,No.jO)(n),{args:i,keys:r}=Ig(n);if(0===i.length)return(0,Cn.D)([],t);const s=new oi.y(function(n,t,e=ga.y){return i=>{ds(t,()=>{const{length:r}=n,s=new Array(r);let a=r,d=r;for(let g=0;g<r;g++)ds(t,()=>{const C=(0,Cn.D)(n[g],t);let I=!1;C.subscribe(new ti.Q(i,T=>{s[g]=T,I||(I=!0,d--),d||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>Fo(r,a):ga.y));return e?s.pipe(jh(e)):s}function ds(n,t,e){n?(0,Bp.f)(e,n,t):t()}const Vp=(0,Z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var tc=Z(8189);function es(...n){return(0,tc.J)(1)((0,Cn.D)(n,(0,No.yG)(n)))}var Fn=Z(8421);function _a(n){return new oi.y(t=>{(0,Fn.Xf)(n()).subscribe(t)})}var oo=Z(515),Ln=Z(727),Bn=Z(4482);function Gh(){return(0,Bn.e)((n,t)=>{let e=null;n._refCount++;const i=new ti.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Od extends oi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Bn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ln.w0;const e=this.getSubject();t.add(this.source.subscribe(new ti.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ln.w0.EMPTY)}return t}refCount(){return Gh()(this)}}function $n(n,t){return(0,Bn.e)((e,i)=>{let r=null,s=0,a=!1;const d=()=>a&&!r&&i.complete();e.subscribe(new ti.Q(i,g=>{null==r||r.unsubscribe();let C=0;const I=s++;(0,Fn.Xf)(n(g,I)).subscribe(r=new ti.Q(i,T=>i.next(t?t(g,T,I,C++):T),()=>{r=null,d()}))},()=>{a=!0,d()}))})}var Dn=Z(5698);function di(...n){const t=(0,No.yG)(n);return(0,Bn.e)((e,i)=>{(t?es(n,e,t):es(n,e)).subscribe(i)})}function Tg(n,t,e,i,r){return(s,a)=>{let d=e,g=t,C=0;s.subscribe(new ti.Q(a,I=>{const T=C++;g=d?n(g,I,T):(d=!0,I),i&&a.next(g)},r&&(()=>{d&&a.next(g),a.complete()})))}}function ts(n,t){return(0,Bn.e)(Tg(n,t,arguments.length>=2,!0))}function Sn(n,t){return(0,Bn.e)((e,i)=>{let r=0;e.subscribe(new ti.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Is(n){return(0,Bn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new ti.Q(e,void 0,void 0,a=>{s=(0,Fn.Xf)(n(a,Is(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var Vi=Z(5577),Xi=Z(576);function iu(n,t){return(0,Xi.m)(t)?(0,Vi.z)(n,t,1):(0,Vi.z)(n,1)}function Pd(n){return n<=0?()=>oo.E:(0,Bn.e)((t,e)=>{let i=[];t.subscribe(new ti.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function qh(n=Up){return(0,Bn.e)((t,e)=>{let i=!1;t.subscribe(new ti.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Up(){return new Vp}function Nd(n){return(0,Bn.e)((t,e)=>{let i=!1;t.subscribe(new ti.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function vl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Sn((r,s)=>n(r,s,i)):ga.y,(0,Dn.q)(1),e?Nd(t):qh(()=>new Vp))}var Si=Z(8505);function Fd(n){return(0,Bn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ao{constructor(t,e){this.id=t,this.url=e}}class Hp extends ao{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ld extends ao{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $h extends ao{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zh extends ao{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ya extends ao{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mg extends ao{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zp extends ao{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gp extends ao{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wh extends ao{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qp{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $p{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vd{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kg{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class va{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class Rg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ts(n){return new Rg(n)}const Kh="ngNavigationCancelingError";function nc(n){const t=Error("NavigationCancelingError: "+n);return t[Kh]=!0,t}function Zp(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],d=n[s];if(a.startsWith(":"))r[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Lo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!ru(n[r],t[r]))return!1;return!0}function ru(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Qh(n){return Array.prototype.concat.apply([],n)}function ba(n){return n.length>0?n[n.length-1]:null}function Sr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Bo(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Cn.D)(Promise.resolve(n)):ct(n)}const ov={exact:function Yp(n,t,e){if(!ic(n.segments,t.segments)||!Xh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Yp(n.children[i],t.children[i],e))return!1;return!0},subset:bl},av={exact:function(n,t){return Lo(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ru(n[e],t[e]))},ignored:()=>!0};function Jh(n,t,e){return ov[e.paths](n.root,t.root,e.matrixParams)&&av[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function bl(n,t,e){return Ng(n,t,t.segments,e)}function Ng(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ic(r,e)||t.hasChildren()||!Xh(r,e,i))}if(n.segments.length===e.length){if(!ic(n.segments,e)||!Xh(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!bl(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(ic(n.segments,r)&&Xh(n.segments,r,i)&&n.children[Gt])&&Ng(n.children[Gt],t,s,i)}}function Xh(n,t,e){return t.every((i,r)=>av[e](n[r].parameters,i.parameters))}class wl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ts(this.queryParams)),this._queryParamMap}toString(){return tf.serialize(this)}}class ln{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rc(this)}}class wa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ts(this.parameters)),this._parameterMap}toString(){return rf(this)}}function ic(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Kp{}class ef{parse(t){const e=new sf(t);return new wl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ar(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Qp(e)}=${Qp(r)}`).join("&"):`${Qp(e)}=${Qp(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${i}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const tf=new ef;function rc(n){return n.segments.map(t=>rf(t)).join("/")}function Ar(n,t){if(!n.hasChildren())return rc(n);if(t){const e=n.children[Gt]?Ar(n.children[Gt],!1):"",i=[];return Sr(n.children,(r,s)=>{s!==Gt&&i.push(`${s}:${Ar(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Sr(n.children,(i,r)=>{r===Gt&&(e=e.concat(t(i,r)))}),Sr(n.children,(i,r)=>{r!==Gt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Gt?[Ar(n.children[Gt],!1)]:[`${r}:${Ar(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${rc(n)}/${e[0]}`:`${rc(n)}/(${e.join("//")})`}}function jd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qp(n){return jd(n).replace(/%3B/gi,";")}function Ms(n){return jd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(n){return decodeURIComponent(n)}function Jp(n){return Cl(n.replace(/\+/g,"%20"))}function rf(n){return`${Ms(n.path)}${function(n){return Object.keys(n).map(t=>`;${Ms(t)}=${Ms(n[t])}`).join("")}(n.parameters)}`}const N0=/^[^\/()?;=#]+/;function su(n){const t=n.match(N0);return t?t[0]:""}const ou=/^[^=?&#]+/,Xp=/^[^&#]+/;class sf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Gt]=new ln(t,e)),i}parseSegment(){const t=su(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wa(Cl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=su(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=su(this.remaining);r&&(i=r,this.capture(i))}t[Cl(e)]=Cl(i)}parseQueryParam(t){const e=function(n){const t=n.match(ou);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function(n){const t=n.match(Xp);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=Jp(e),s=Jp(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=su(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Gt);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[Gt]:new ln([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class uv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Hd(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Hd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Vg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Vg(t,this._root).map(e=>e.value)}}function Hd(n,t){if(n===t.value)return t;for(const e of t.children){const i=Hd(n,e);if(i)return i}return null}function Vg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Vg(n,e);if(i.length)return i.unshift(t),i}return[]}class Vo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function oc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class F0 extends uv{constructor(t,e){super(t),this.snapshot=e,jg(this,t)}toString(){return this.snapshot.toString()}}function Ug(n,t){const e=function(n,t){const a=new au([],{},{},"",{},Gt,t,null,n.root,-1,{});return new tm("",new Vo(a,[]))}(n,t),i=new hr([new wa("",{})]),r=new hr({}),s=new hr({}),a=new hr({}),d=new hr(""),g=new ac(i,r,a,d,s,Gt,t,e.root);return g.snapshot=e.root,new F0(new Vo(g,[]),e)}class ac{constructor(t,e,i,r,s,a,d,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(t=>Ts(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(t=>Ts(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function em(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class au{constructor(t,e,i,r,s,a,d,g,C,I,T){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=d,this.routeConfig=g,this._urlSegment=C,this._lastPathIndex=I,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ts(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ts(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tm extends uv{constructor(t,e){super(e),this.url=t,jg(this,e)}toString(){return lf(this._root)}}function jg(n,t){t.value._routerState=n,t.children.forEach(e=>jg(n,e))}function lf(n){const t=n.children.length>0?` { ${n.children.map(lf).join(", ")} } `:"";return`${n.value}${t}`}function nm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Lo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Lo(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Lo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Lo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hg(n,t){const e=Lo(n.params,t.params)&&function(n,t){return ic(n,t)&&n.every((e,i)=>Lo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Hg(n.parent,t.parent))}function El(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return El(n,i,r);return El(n,i)})}(n,t,e);return new Vo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(d=>El(n,d)),a}}const i=function(n){return new ac(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>El(n,s));return new Vo(i,r)}}function Ca(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lu(n){return"object"==typeof n&&null!=n&&n.outlets}function dv(n,t,e,i,r){let s={};return i&&Sr(i,(a,d)=>{s[d]=Array.isArray(a)?a.map(g=>`${g}`):`${a}`}),new wl(e.root===n?t:xl(e.root,n,t),s,r)}function xl(n,t,e){const i={};return Sr(n.children,(r,s)=>{i[s]=r===t?e:xl(r,t,e)}),new ln(n.segments,i)}class Gg{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Ca(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(lu);if(r&&r!==ba(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rm{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function fv(n,t,e){if(n||(n=new ln([],{})),0===n.segments.length&&n.hasChildren())return cf(n,t,e);const i=function(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],d=e[i];if(lu(d))break;const g=`${d}`,C=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&C&&"object"==typeof C&&void 0===C.outlets){if(!uf(g,C,a))return s;i+=2}else{if(!uf(g,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ln(n.segments.slice(0,i.pathIndex),{});return s.children[Gt]=new ln(n.segments.slice(i.pathIndex),n.children),cf(s,0,r)}return i.match&&0===r.length?new ln(n.segments,{}):i.match&&!n.hasChildren()?qg(n,t,e):i.match?cf(n,0,r):qg(n,t,e)}function cf(n,t,e){if(0===e.length)return new ln(n.segments,{});{const i=function(n){return lu(n[0])?n[0].outlets:{[Gt]:n}}(e),r={};return Sr(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=fv(n.children[a],t,s))}),Sr(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new ln(n.segments,r)}}function qg(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(lu(s)){const g=$g(s.outlets);return new ln(i,g)}if(0===r&&Ca(e[0])){i.push(new wa(n.segments[t].path,pv(e[0]))),r++;continue}const a=lu(s)?s.outlets[Gt]:`${s}`,d=r<e.length-1?e[r+1]:null;a&&d&&Ca(d)?(i.push(new wa(a,pv(d))),r+=2):(i.push(new wa(a,{})),r++)}return new ln(i,{})}function $g(n){const t={};return Sr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=qg(new ln([],{}),0,e))}),t}function pv(n){const t={};return Sr(n,(e,i)=>t[i]=`${e}`),t}function uf(n,t,e){return n==e.path&&Lo(t,e.parameters)}class ks{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),nm(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=oc(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Sr(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=oc(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=oc(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=oc(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new kg(s.value.snapshot))}),t.children.length&&this.forwardEvent(new $p(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(nm(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),nm(d.route.value),this.activateChildRoutes(t,null,a.children)}else{const d=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),g=d?d.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=g,a.outlet&&a.outlet.activateWith(r,g),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class Ea{constructor(t,e){this.routes=t,this.module=e}}function Rs(n){return"function"==typeof n}function uu(n){return n instanceof wl}const lc=Symbol("INITIAL_VALUE");function hf(){return $n(n=>_l(n.map(t=>t.pipe((0,Dn.q)(1),di(lc)))).pipe(ts((t,e)=>{let i=!1;return e.reduce((r,s,a)=>r!==lc?r:(s===lc&&(i=!0),i||!1!==s&&a!==e.length-1&&!uu(s)?r:s),t)},lc),Sn(t=>t!==lc),(0,rt.U)(t=>uu(t)?t:!0===t),(0,Dn.q)(1)))}class vv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ff,this.attachRef=null}}class ff{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new vv,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Zg=(()=>{class n{constructor(e,i,r,s,a){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||Gt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,g=new Wg(e,d,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ff),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Wg{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ac?this.route:t===ff?this.childContexts:this.parent.get(t,e)}}let sm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[Zg],encapsulation:2}),n})();function om(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];du(i,V0(t,i))}}function du(n,t){n.children&&om(n.children,t)}function V0(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function ns(n){const t=n.children&&n.children.map(ns),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Gt&&(e.component=sm),e}function lo(n){return n.outlet||Gt}function U0(n,t){const e=n.filter(i=>lo(i)===t);return e.push(...n.filter(i=>lo(i)!==t)),e}const pf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yg(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},pf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Zp)(e,n,t);if(!s)return Object.assign({},pf);const a={};Sr(s.posParams,(g,C)=>{a[C]=g.path});const d=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Gd(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>am(n,t,i)&&lo(i)!==Gt)}(n,e,i)){const a=new ln(t,function(n,t,e,i){const r={};r[Gt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&lo(s)!==Gt){const a=new ln([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[lo(s)]=a}return r}(n,t,i,new ln(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>am(n,t,i))}(n,e,i)){const a=new ln(n.segments,function(n,t,e,i,r,s){const a={};for(const d of i)if(am(n,e,d)&&!r[lo(d)]){const g=new ln([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[lo(d)]=g}return Object.assign(Object.assign({},r),a)}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new ln(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function am(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Hr(n,t,e,i){return!!(lo(n)===i||i!==Gt&&am(t,e,n))&&("**"===n.path||Yg(t,n,e).matched)}function bv(n,t,e){return 0===t.length&&!n.children[e]}class hu{constructor(t){this.segmentGroup=t||null}}class wv{constructor(t){this.urlTree=t}}function qd(n){return new oi.y(t=>t.error(new hu(n)))}function Qg(n){return new oi.y(t=>t.error(new wv(n)))}function Cv(n){return new oi.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Jg{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=Gd(this.urlTree.root,[],[],this.config).segmentGroup,e=new ln(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Gt).pipe((0,rt.U)(s=>this.createUrlTree(gf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Is(s=>{if(s instanceof wv)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof hu?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Gt).pipe((0,rt.U)(r=>this.createUrlTree(gf(r),t.queryParams,t.fragment))).pipe(Is(r=>{throw r instanceof hu?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new ln([],{[Gt]:t}):t;return new wl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,rt.U)(s=>new ln([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Cn.D)(r).pipe(iu(s=>{const a=i.children[s],d=U0(e,s);return this.expandSegmentGroup(t,d,a,s).pipe((0,rt.U)(g=>({segment:g,outlet:s})))}),ts((s,a)=>(s[a.outlet]=a.segment,s),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Sn((r,s)=>n(r,s,i)):ga.y,Pd(1),e?Nd(t):qh(()=>new Vp))}())}expandSegment(t,e,i,r,s,a){return(0,Cn.D)(i).pipe(iu(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,a).pipe(Is(C=>{if(C instanceof hu)return ct(null);throw C}))),vl(d=>!!d),Is((d,g)=>{if(d instanceof Vp||"EmptyError"===d.name){if(bv(e,r,s))return ct(new ln([],{}));throw new hu(e)}throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,a,d){return Hr(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):qd(e):qd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Qg(s):this.lineralizeSegments(i,s).pipe((0,Vi.z)(a=>{const d=new ln(a,{});return this.expandSegment(t,d,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:d,consumedSegments:g,lastChild:C,positionalParamSegments:I}=Yg(e,r,s);if(!d)return qd(e);const T=this.applyRedirectCommands(g,r.redirectTo,I);return r.redirectTo.startsWith("/")?Qg(T):this.lineralizeSegments(r,T).pipe((0,Vi.z)(O=>this.expandSegment(t,e,i,O.concat(s.slice(C)),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ct(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,rt.U)(O=>(i._loadedConfig=O,new ln(r,{})))):ct(new ln(r,{}));const{matched:a,consumedSegments:d,lastChild:g}=Yg(e,i,r);if(!a)return qd(e);const C=r.slice(g);return this.getChildConfig(t,i,r).pipe((0,Vi.z)(T=>{const O=T.module,L=T.routes,{segmentGroup:q,slicedSegments:te}=Gd(e,d,C,L),re=new ln(q.segments,q.children);if(0===te.length&&re.hasChildren())return this.expandChildren(O,L,re).pipe((0,rt.U)(Ge=>new ln(d,Ge)));if(0===L.length&&0===te.length)return ct(new ln(d,{}));const _e=lo(i)===s;return this.expandSegment(O,re,L,te,_e?Gt:s,!0).pipe((0,rt.U)(Pe=>new ln(d.concat(Pe.segments),Pe.children)))}))}getChildConfig(t,e,i){return e.children?ct(new Ea(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ct(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Vi.z)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,rt.U)(s=>(e._loadedConfig=s,s))):(n=e,new oi.y(t=>t.error(nc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):ct(new Ea([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?ct(r.map(a=>{const d=t.get(a);let g;if((n=d)&&Rs(n.canLoad))g=d.canLoad(e,i);else{if(!Rs(d))throw new Error("Invalid CanLoad guard");g=d(e,i)}var n;return Bo(g)})).pipe(hf(),(0,Si.b)(a=>{if(!uu(a))return;const d=nc(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw d.url=a,d}),(0,rt.U)(a=>!0===a)):ct(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ct(i);if(r.numberOfChildren>1||!r.children[Gt])return Cv(t.redirectTo);r=r.children[Gt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new wl(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Sr(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return Sr(e.children,(d,g)=>{a[g]=this.createSegmentGroup(t,d,i,r)}),new ln(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function gf(n){const t={};for(const i of Object.keys(n.children)){const s=gf(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Gt]){const t=n.children[Gt];return new ln(n.segments.concat(t.segments),t.children)}return n}(new ln(n.segments,t))}class Dl{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lm{constructor(t,e){this.component=t,this.route=e}}function Xg(n,t,e){const i=n._root;return xa(i,t?t._root:null,e,[i.value])}function cm(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function xa(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=oc(t);return n.children.forEach(a=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const g=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ic(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ic(n.url,t.url)||!Lo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hg(n,t)||!Lo(n.queryParams,t.queryParams);default:return!Hg(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Dl(i)):(s.data=a.data,s._resolvedData=a._resolvedData),xa(n,t,s.component?d?d.children:null:e,i,r),g&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new lm(d.outlet.component,a))}else a&&Da(t,d,r),r.canActivateChecks.push(new Dl(i)),xa(n,null,s.component?d?d.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Sr(s,(a,d)=>Da(a,e.getContext(d),r)),r}function Da(n,t,e){const i=oc(n),r=n.value;Sr(i,(s,a)=>{Da(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new lm(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class hm{}function n_(n){return new oi.y(t=>t.error(n))}class i_{constructor(t,e,i,r,s,a){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const t=Gd(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Gt);if(null===e)return null;const i=new au([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vo(i,e),s=new tm(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=em(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const a=e.children[s],d=U0(t,s),g=this.processSegmentGroup(d,a,s);if(null===g)return null;i.push(...g)}const r=Ho(i);return r.sort((t,e)=>t.value.outlet===Gt?-1:e.value.outlet===Gt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const s of t){const a=this.processSegmentAgainstRoute(s,e,i,r);if(null!==a)return a}return bv(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Hr(t,e,i,r))return null;let s,a=[],d=[];if("**"===t.path){const L=i.length>0?ba(i).parameters:{};s=new au(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pm(t),lo(t),t.component,t,gu(e),fm(e)+i.length,yf(t))}else{const L=Yg(e,t,i);if(!L.matched)return null;a=L.consumedSegments,d=i.slice(L.lastChild),s=new au(a,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pm(t),lo(t),t.component,t,gu(e),fm(e)+a.length,yf(t))}const g=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:I}=Gd(e,a,d,g.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);var n;if(0===I.length&&C.hasChildren()){const L=this.processChildren(g,C);return null===L?null:[new Vo(s,L)]}if(0===g.length&&0===I.length)return[new Vo(s,[])];const T=lo(t)===r,O=this.processSegment(g,C,I,T?Gt:r);return null===O?null:[new Vo(s,O)]}}function Wd(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ho(n){const t=[],e=new Set;for(const i of n){if(!Wd(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Ho(i.children);t.push(new Vo(i.value,r))}return t.filter(i=>!e.has(i))}function gu(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function fm(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function pm(n){return n.data||{}}function yf(n){return n.resolve||{}}function _u(n){return $n(t=>{const e=n(t);return e?(0,Cn.D)(e).pipe((0,rt.U)(()=>t)):ct(t)})}class bf extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const yu=new o.OlP("ROUTES");class Ui{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,rt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=s.create(t);return new Ea(Qh(a.injector.get(yu,void 0,o.XFs.Self|o.XFs.Optional)).map(ns),a)}),Is(s=>{throw e._loader$=void 0,s}));return e._loader$=new Od(r,()=>new dt.x).pipe(Gh()),e._loader$}loadModuleFactory(t){return Bo(t()).pipe((0,Vi.z)(e=>e instanceof o.YKP?ct(e):(0,Cn.D)(this.compiler.compileModuleAsync(e))))}}class r_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mc(n){throw n}function s_(n,t,e){return t.parse("/")}function mm(n,t){return ct(null)}const Tv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fr=(()=>{class n{constructor(e,i,r,s,a,d,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dt.x,this.errorHandler=mc,this.malformedUriErrorHandler=s_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mm,afterPreactivation:mm},this.urlHandlingStrategy=new r_,this.routeReuseStrategy=new bf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(o.h0i),this.console=a.get(o.c2e);const T=a.get(o.R0b);this.isNgZoneEnabled=T instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=new wl(new ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ui(a,d,O=>this.triggerEvent(new Bd(O)),O=>this.triggerEvent(new qp(O))),this.routerState=Ug(this.currentUrlTree,this.rootComponentType),this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Sn(r=>0!==r.id),(0,rt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),$n(r=>{let s=!1,a=!1;return ct(r).pipe((0,Si.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$n(d=>{const g=this.browserUrlTree.toString(),C=!this.navigated||d.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return y(d.source)&&(this.browserUrlTree=d.extractedUrl),ct(d).pipe($n(T=>{const O=this.transitions.getValue();return i.next(new Hp(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),O!==this.transitions.getValue()?oo.E:Promise.resolve(T)}),function(n,t,e,i){return $n(r=>function(n,t,e,i,r){return new Jg(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,rt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Si.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function(n,t,e,i,r){return(0,Vi.z)(s=>function(n,t,e,i,r="emptyOnly",s="legacy"){try{const a=new i_(n,t,e,i,r,s).recognize();return null===a?n_(new hm):ct(a)}catch(a){return n_(a)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,rt.U)(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Si.b)(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(L,T)}this.browserUrlTree=T.urlAfterRedirects}const O=new ya(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(O)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:L,source:q,restoredState:te,extras:re}=d,_e=new Hp(O,this.serializeUrl(L),q,te);i.next(_e);const Ve=Ug(L,this.rootComponentType).snapshot;return ct(Object.assign(Object.assign({},d),{targetSnapshot:Ve,urlAfterRedirects:L,extras:Object.assign(Object.assign({},re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),oo.E}),_u(d=>{const{targetSnapshot:g,id:C,extractedUrl:I,rawUrl:T,extras:{skipLocationChange:O,replaceUrl:L}}=d;return this.hooks.beforePreactivation(g,{navigationId:C,appliedUrlTree:I,rawUrlTree:T,skipLocationChange:!!O,replaceUrl:!!L})}),(0,Si.b)(d=>{const g=new Mg(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(g)}),(0,rt.U)(d=>Object.assign(Object.assign({},d),{guards:Xg(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Vi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?ct(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,Cn.D)(n).pipe((0,Vi.z)(r=>function(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ct(s.map(d=>{const g=cm(d,t,r);let C;if(function(n){return n&&Rs(n.canDeactivate)}(g))C=Bo(g.canDeactivate(n,t,e,i));else{if(!Rs(g))throw new Error("Invalid CanDeactivate guard");C=Bo(g(n,t,e,i))}return C.pipe(vl())})).pipe(hf()):ct(!0)}(r.component,r.route,e,t,i)),vl(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Vi.z)(d=>d&&function(n){return"boolean"==typeof n}(d)?function(n,t,e,i){return(0,Cn.D)(t).pipe(iu(r=>es(function(n,t){return null!==n&&t&&t(new Yh(n)),ct(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new Vd(n)),ct(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>_a(()=>ct(a.guards.map(g=>{const C=cm(g,a.node,e);let I;if(function(n){return n&&Rs(n.canActivateChild)}(C))I=Bo(C.canActivateChild(i,n));else{if(!Rs(C))throw new Error("Invalid CanActivateChild guard");I=Bo(C(i,n))}return I.pipe(vl())})).pipe(hf())));return ct(s).pipe(hf())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ct(!0);const r=i.map(s=>_a(()=>{const a=cm(s,t,e);let d;if(function(n){return n&&Rs(n.canActivate)}(a))d=Bo(a.canActivate(t,n));else{if(!Rs(a))throw new Error("Invalid CanActivate guard");d=Bo(a(t,n))}return d.pipe(vl())}));return ct(r).pipe(hf())}(n,r.route,e))),vl(r=>!0!==r,!0))}(i,s,n,t):ct(d)),(0,rt.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Si.b)(d=>{if(uu(d.guardsResult)){const C=nc(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw C.url=d.guardsResult,C}const g=new zp(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(g)}),Sn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),_u(d=>{if(d.guards.canActivateChecks.length)return ct(d).pipe((0,Si.b)(g=>{const C=new Gp(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(C)}),$n(g=>{let C=!1;return ct(g).pipe(function(n,t){return(0,Vi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ct(e);let s=0;return(0,Cn.D)(r).pipe(iu(a=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return ct({});const s={};return(0,Cn.D)(r).pipe((0,Vi.z)(a=>function(n,t,e,i){const r=cm(n,t,i);return Bo(r.resolve?r.resolve(t,e):r(t,e))}(n[a],t,e,i).pipe((0,Si.b)(d=>{s[a]=d}))),Pd(1),(0,Vi.z)(()=>Object.keys(s).length===r.length?ct(s):oo.E))}(n._resolve,n,t,i).pipe((0,rt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),em(n,e).resolve),null)))}(a.route,i,n,t)),(0,Si.b)(()=>s++),Pd(1),(0,Vi.z)(a=>s===r.length?ct(e):oo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Si.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,Si.b)(g=>{const C=new Wh(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(C)}))}),_u(d=>{const{targetSnapshot:g,id:C,extractedUrl:I,rawUrl:T,extras:{skipLocationChange:O,replaceUrl:L}}=d;return this.hooks.afterPreactivation(g,{navigationId:C,appliedUrlTree:I,rawUrlTree:T,skipLocationChange:!!O,replaceUrl:!!L})}),(0,rt.U)(d=>{const g=function(n,t,e){const i=El(n,t._root,e?e._root:void 0);return new F0(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:g})}),(0,Si.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,rt.U)(i=>(new ks(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Si.b)({next(){s=!0},complete(){s=!0}}),Fd(()=>{var d;s||a||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Is(d=>{if(a=!0,function(n){return n&&n[Kh]}(d)){const g=uu(d.url);g||(this.navigated=!0,this.restoreHistory(r,!0));const C=new $h(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(C),g?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||y(r.source)};this.scheduleNavigation(I,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new Zh(r.id,this.serializeUrl(r.extractedUrl),d);i.next(g);try{r.resolve(this.errorHandler(d))}catch(C){r.reject(C)}}return oo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},a=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(a){const g=Object.assign({},a);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(s.state=g)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){om(e),this.config=e.map(ns),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:d,preserveFragment:g}=i,C=r||this.routerState.root,I=g?this.currentUrlTree.fragment:a;let T=null;switch(d){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}return null!==T&&(T=this.removeEmptyProps(T)),function(n,t,e,i,r){if(0===e.length)return dv(t.root,t.root,t,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gg(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Sr(s.outlets,(g,C)=>{d[C]="string"==typeof g?g.split("/"):g}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((d,g)=>{0==g&&"."===d||(0==g&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Gg(e,t,i)}(e);if(s.toRoot())return dv(t.root,new ln([],{}),t,i,r);const a=function(n,t,e){if(n.isAbsolute)return new rm(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new rm(s,s===t.root,0)}const i=Ca(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new rm(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=a.processChildren?cf(a.segmentGroup,a.index,s.commands):fv(a.segmentGroup,a.index,s.commands);return dv(a.segmentGroup,d,t,i,r)}(C,this.currentUrlTree,e,T,null!=I?I:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=uu(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},Tv):!1===i?Object.assign({},vu):i,uu(e))return Jh(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Jh(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ld(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,a){var d,g,C;if(this.disposed)return Promise.resolve(!1);const I=this.transitions.value,T=y(i)&&I&&!y(I.source),O=I.rawUrl.toString()===e.toString(),L=I.id===(null===(d=this.currentNavigation)||void 0===d?void 0:d.id);if(T&&O&&L)return Promise.resolve(!0);let te,re,_e;a?(te=a.resolve,re=a.reject,_e=a.promise):_e=new Promise((Ge,kt)=>{te=Ge,re=kt});const Ve=++this.navigationId;let Pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),Pe=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Pe=0,this.setTransition({id:Ve,targetPageId:Pe,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:te,reject:re,promise:_e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_e.catch(Ge=>Promise.reject(Ge))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new $h(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function y(n){return"imperative"!==n}let h=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.commands=null,this.onChanges=new dt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:w(this.skipLocationChange),replaceUrl:w(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:w(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fr),o.Y36(ac),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),m=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new dt.x,this.subscription=e.events.subscribe(s=>{s instanceof Ld&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,a){if(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:w(this.skipLocationChange),replaceUrl:w(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:w(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fr),o.Y36(ac),o.Y36(wt))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function w(n){return""===n||!!n}let x=(()=>{class n{constructor(e,i,r,s,a,d){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(g=>{g instanceof Ld&&this.update()})}ngAfterContentInit(){ct(this.links.changes,this.linksWithHrefs.changes,ct(null)).pipe((0,tc.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Cn.D)(i).pipe((0,tc.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fr),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(h,8),o.Y36(m,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,h,5),o.Suo(r,m,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.TTD]}),n})();class j{}class de{preload(t,e){return ct(null)}}let ue=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new Ui(r,i,g=>e.triggerEvent(new Bd(g)),g=>e.triggerEvent(new qp(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(Sn(e=>e instanceof Ld),iu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,Cn.D)(r).pipe((0,tc.J)(),(0,rt.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ct(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Vi.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ld&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof va&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new va(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ut=new o.OlP("ROUTER_CONFIGURATION"),Vn=new o.OlP("ROUTER_FORROOT_GUARD"),hs=[gt,{provide:Kp,useClass:ef},{provide:fr,useFactory:function(n,t,e,i,r,s,a={},d,g){const C=new fr(null,n,t,e,i,r,Qh(s));return d&&(C.urlHandlingStrategy=d),g&&(C.routeReuseStrategy=g),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,C),a.enableTracing&&C.events.subscribe(I=>{var T,O;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(O=console.groupEnd)||void 0===O||O.call(console)}),C},deps:[Kp,ff,gt,o.zs3,o.Sil,yu,ut,[class{},new o.FiY],[class{},new o.FiY]]},ff,{provide:ac,useFactory:function(n){return n.routerState.root},deps:[fr]},ue,de,class{preload(t,e){return e().pipe(Is(()=>ct(null)))}},{provide:ut,useValue:{enableTracing:!1}}];function wf(){return new o.PXZ("Router",fr)}let gm=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[hs,_m(e),{provide:Vn,useFactory:bu,deps:[[fr,new o.FiY,new o.tp0]]},{provide:ut,useValue:i||{}},{provide:wt,useFactory:kv,deps:[be,[new o.tBr(Ue),new o.FiY],ut]},{provide:Be,useFactory:Mv,deps:[fr,Qu,ut]},{provide:j,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:de},{provide:o.PXZ,multi:!0,useFactory:wf},[zr,{provide:o.ip1,multi:!0,useFactory:Cf,deps:[zr]},{provide:bm,useFactory:o_,deps:[zr]},{provide:o.tb,multi:!0,useExisting:bm}]]}}static forChild(e){return{ngModule:n,providers:[_m(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vn,8),o.LFG(fr,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Mv(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Be(n,t,e)}function kv(n,t,e={}){return e.useHash?new Qe(n,t):new et(n,t)}function bu(n){return"guarded"}function _m(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:yu,multi:!0,useValue:n}]}let zr=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new dt.x}appInitializer(){return this.injector.get(Ee,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(fr),a=this.injector.get(ut);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ct(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(ut),r=this.injector.get(ue),s=this.injector.get(Be),a=this.injector.get(fr),d=this.injector.get(o.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),r.setUpPreloading(),s.init(),a.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Cf(n){return n.appInitializer.bind(n)}function o_(n){return n.bootstrapListener.bind(n)}const bm=new o.OlP("Router Initializer");var Mi=Z(6451),z0=Z(5363),G0=Z(6063);class Rv extends dt.x{constructor(t=1/0,e=1/0,i=G0.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let d=0;for(let g=1;g<i.length&&i[g]<=a;g+=2)d=g;d&&i.splice(0,d+1)}}}var Cu=Z(3099);function wm(n,t,e){var i,r;let s,a=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,a=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,Cu.B)({connector:()=>new Rv(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function q0(n,t){return(0,Xi.m)(t)?$n(()=>n,t):$n(()=>n)}var Ov=Z(9468),dn=Z(5103),pr=Z(2011);Z(259);var G=Z(5861),ot=Z(3035);const Aa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,d=a?n[r+1]:0,g=r+2<n.length,C=g?n[r+2]:0;let O=(15&d)<<2|C>>6,L=63&C;g||(L=64,a||(O=64)),i.push(e[s>>2],e[(3&s)<<4|d>>4],e[O],e[L])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t}(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const g=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(1023&g))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],d=r<n.length?e[n.charAt(r)]:0;++r;const C=r<n.length?e[n.charAt(r)]:64;++r;const T=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==d||null==C||null==T)throw new Nv;i.push(s<<2|d>>4),64!==C&&(i.push(d<<4&240|C>>2),64!==T&&i.push(C<<6&192|T))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Nv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}class oE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}class aE extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,aE.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lE.prototype.create)}}class lE{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?function(n,t){return n.replace(eA,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new aE(r,`${this.serviceName}: ${a} (${r}).`,i)}}const eA=/\{\$([^}]+)}/g;class Q0{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Uv=[];var ai=(()=>{return(n=ai||(ai={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ai;var n})();const hE={debug:ai.DEBUG,verbose:ai.VERBOSE,info:ai.INFO,warn:ai.WARN,error:ai.ERROR,silent:ai.SILENT},pA=ai.INFO,mA={[ai.DEBUG]:"log",[ai.VERBOSE]:"log",[ai.INFO]:"info",[ai.WARN]:"warn",[ai.ERROR]:"error"},gA=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=mA[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)},yA=new Map,vA={activated:!1,tokenObservers:[]},H1={initialized:!1,enabled:!1};function ji(n){return yA.get(n)||Object.assign({},vA)}function tr(){return H1}class EA{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,G.Z)(function*(){e.stop();try{e.pending=new oE,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new oE,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const fs=new lE("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fE(n){if(!ji(n).activated)throw fs.create("use-before-activation",{appName:n.name})}function d_(n,t){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,G.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(i["X-Firebase-Client"]=T)}const s={method:"POST",body:JSON.stringify(t),headers:i};let a,d;try{a=yield fetch(n,s)}catch(T){throw fs.create("fetch-network-error",{originalErrorMessage:null==T?void 0:T.message})}if(200!==a.status)throw fs.create("fetch-status-error",{httpStatus:a.status});try{d=yield a.json()}catch(T){throw fs.create("fetch-parse-error",{originalErrorMessage:null==T?void 0:T.message})}const g=d.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const C=1e3*Number(g[1]),I=Date.now();return{token:d.token,expireTimeMillis:I+C,issuedAtTimeMillis:I}})).apply(this,arguments)}function xA(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const uo="firebase-app-check-store";let zv=null;function DA(){return zv||(zv=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(fs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(uo,{keyPath:"compositeKey"})}}catch(e){t(fs.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}),zv)}function _E(){return(_E=(0,G.Z)(function*(n,t){const i=(yield DA()).transaction(uo,"readwrite"),s=i.objectStore(uo).put({compositeKey:n,value:t});return new Promise((a,d)=>{s.onsuccess=g=>{a()},i.onerror=g=>{var C;d(fs.create("storage-set",{originalErrorMessage:null===(C=g.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const f_=new class{constructor(t){this.name=t,this._logLevel=pA,this._logHandler=gA,this._userLogHandler=null,Uv.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ai))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?hE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ai.DEBUG,...t),this._logHandler(this,ai.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ai.VERBOSE,...t),this._logHandler(this,ai.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ai.INFO,...t),this._logHandler(this,ai.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ai.WARN,...t),this._logHandler(this,ai.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ai.ERROR,...t),this._logHandler(this,ai.ERROR,...t)}}("@firebase/app-check");function tw(n,t){return function(){try{return"object"==typeof indexedDB}catch(n){return!1}}()?function(n,t){return function(n,t){return _E.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{f_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function p_(){return tr().enabled}function nw(){return iw.apply(this,arguments)}function iw(){return(iw=(0,G.Z)(function*(){const n=tr();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const IA={error:"UNKNOWN_ERROR"};function TA(n){return Aa.encodeString(JSON.stringify(n),!1)}function qv(n){return rw.apply(this,arguments)}function rw(){return(rw=(0,G.Z)(function*(n,t=!1){const e=n.app;fE(e);const i=ji(e);let s,r=i.token;if(r&&!m_(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(m_(g)?r=g:yield tw(e,void 0))}if(!t&&r&&m_(r))return{token:r.token};let d,a=!1;if(p_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=d_(xA(e,yield nw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const g=yield i.exchangeTokenPromise;return yield tw(e,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield ji(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?f_.warn(g.message):f_.error(g),s=g}return r?s?d=m_(r)?{token:r.token,internalError:s}:RA(s):(d={token:r.token},i.token=r,yield tw(e,r)):d=RA(s),a&&kA(e,d),d})).apply(this,arguments)}function sw(){return(sw=(0,G.Z)(function*(n){const t=n.app;fE(t);const{provider:e}=ji(t);if(p_()){const i=yield nw(),{token:r}=yield d_(xA(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function xE(n,t){const e=ji(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function MA(n){const{app:t}=n,e=ji(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new EA((0,G.Z)(function*(){let i;if(i=ji(t).token?yield qv(n,!0):yield qv(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ji(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function kA(n,t){const e=ji(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function m_(n){return n.expireTimeMillis-Date.now()>0}function RA(n){return{token:TA(IA),error:n}}class J1{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ji(this.app);for(const e of t)xE(this.app,e.next);return Promise.resolve()}}const ME="app-check-internal";(0,ot._registerComponent)(new Q0("app-check",n=>function(n,t){return new J1(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(ME).initialize()})),(0,ot._registerComponent)(new Q0(ME,n=>function(n){return{getToken:t=>qv(n,t),getLimitedUseToken:()=>function(n){return sw.apply(this,arguments)}(n),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,s=ji(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&m_(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),MA(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>MA(n))}(n,"INTERNAL",t),removeTokenListener:t=>xE(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ot.registerVersion)("@firebase/app-check","0.8.0");class Zv{constructor(){return(0,dn.vb)("app-check")}}"undefined"!=typeof window&&window;var OE=Z(9260);const Cm=new o.OlP("angularfire2.auth.use-emulator"),PE=new o.OlP("angularfire2.auth.settings"),NE=new o.OlP("angularfire2.auth.tenant-id"),FE=new o.OlP("angularfire2.auth.langugage-code"),y_=new o.OlP("angularfire2.auth.use-device-language"),dw=new o.OlP("angularfire.auth.persistence"),hw=(n,t,e,i,r,s,a,d)=>(0,pr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,s&&g.useDeviceLanguage(),a)for(const[C,I]of Object.entries(a))g.settings[C]=I;return d&&g.setPersistence(d),g},[e,i,r,s,a,d]);let v_=(()=>{class n{constructor(e,i,r,s,a,d,g,C,I,T,O,L){const q=new dt.x,te=ct(void 0).pipe((0,z0.Q)(a.outsideAngular),$n(()=>s.runOutsideAngular(()=>Promise.resolve().then(Z.bind(Z,4844)))),(0,rt.U)(()=>(0,pr.on)(e,s,i)),(0,rt.U)(re=>hw(re,s,d,C,I,T,g,O)),wm({bufferSize:1,refCount:!1}));if(gi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{te.pipe(vl()).subscribe();const _e=te.pipe($n(Ge=>Ge.getRedirectResult().then(kt=>kt,()=>null)),dn.iC,wm({bufferSize:1,refCount:!1})),Ve=te.pipe($n(Ge=>new oi.y(kt=>({unsubscribe:s.runOutsideAngular(()=>Ge.onAuthStateChanged(Pt=>kt.next(Pt),Pt=>kt.error(Pt),()=>kt.complete()))})))),Pe=te.pipe($n(Ge=>new oi.y(kt=>({unsubscribe:s.runOutsideAngular(()=>Ge.onIdTokenChanged(Pt=>kt.next(Pt),Pt=>kt.error(Pt),()=>kt.complete()))}))));this.authState=_e.pipe(q0(Ve),(0,Ov.R)(a.outsideAngular),(0,z0.Q)(a.insideAngular)),this.user=_e.pipe(q0(Pe),(0,Ov.R)(a.outsideAngular),(0,z0.Q)(a.insideAngular)),this.idToken=this.user.pipe($n(Ge=>Ge?(0,Cn.D)(Ge.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe($n(Ge=>Ge?(0,Cn.D)(Ge.getIdTokenResult()):ct(null))),this.credential=(0,Mi.T)(_e,q,this.authState.pipe(Sn(Ge=>!Ge))).pipe((0,rt.U)(Ge=>(null==Ge?void 0:Ge.user)?Ge:null),(0,Ov.R)(a.outsideAngular),(0,z0.Q)(a.insideAngular))}return(0,pr.pX)(this,te,s,{spy:{apply:(re,_e,Ve)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&Ve.then(Pe=>q.next(Pe))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pr.Dh),o.LFG(pr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(dn.HU),o.LFG(Cm,8),o.LFG(PE,8),o.LFG(NE,8),o.LFG(FE,8),o.LFG(y_,8),o.LFG(dw,8),o.LFG(Zv,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mR=(()=>{class n{constructor(){OE.Z.registerVersion("angularfire",dn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[v_]}),n})(),b_=(()=>{class n{constructor(e){this.afAuth=e,this.user$=e.authState}register(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i)}login(e,i){return this.afAuth.signInWithEmailAndPassword(e,i)}logout(){return this.afAuth.signOut()}getUser(){return this.user$}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(v_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w_(...n){const t=(0,No.jO)(n),{args:e,keys:i}=Ig(n),r=new oi.y(s=>{const{length:a}=e;if(!a)return void s.complete();const d=new Array(a);let g=a,C=a;for(let I=0;I<a;I++){let T=!1;(0,Fn.Xf)(e[I]).subscribe(new ti.Q(s,O=>{T||(T=!0,C--),d[I]=O},()=>g--,void 0,()=>{(!g||!T)&&(C||s.next(i?Fo(i,d):d),s.complete())}))}});return t?r.pipe(jh(t)):r}let VA=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Em=(()=>{class n extends VA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Ia=new o.OlP("NgValueAccessor"),jA={provide:Ia,useExisting:(0,o.Gpc)(()=>Au),multi:!0},HA=new o.OlP("CompositionEventMode");let Au=(()=>{class n extends VA{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=oe()?oe().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(HA,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([jA]),o.qOj]}),n})();function Df(n){return null==n||0===n.length}function _R(n){return null!=n&&"number"==typeof n.length}const ps=new o.OlP("NgValidators"),xm=new o.OlP("NgAsyncValidators"),dV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ps{static min(t){return function(n){return t=>{if(Df(t.value)||Df(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Df(t.value)||Df(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return GA(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return C_(t)}static minLength(t){return function(n){return t=>Df(t.value)||!_R(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>_R(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Yv;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Df(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return UE(t)}static composeAsync(t){return HE(t)}}function GA(n){return Df(n.value)?{required:!0}:null}function C_(n){return Df(n.value)||dV.test(n.value)?null:{email:!0}}function Yv(n){return null}function WA(n){return null!=n}function VE(n){const t=(0,o.QGY)(n)?(0,Cn.D)(n):n;return(0,o.CqO)(t),t}function YA(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function KA(n,t){return t.map(e=>e(n))}function QA(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function UE(n){if(!n)return null;const t=n.filter(WA);return 0==t.length?null:function(e){return YA(KA(e,t))}}function jE(n){return null!=n?UE(QA(n)):null}function HE(n){if(!n)return null;const t=n.filter(WA);return 0==t.length?null:function(e){return w_(KA(e,t).map(VE)).pipe((0,rt.U)(YA))}}function zE(n){return null!=n?HE(QA(n)):null}function GE(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function JA(n){return n._rawValidators}function fw(n){return n._rawAsyncValidators}function qE(n){return n?Array.isArray(n)?n:[n]:[]}function Kv(n,t){return Array.isArray(n)?n.includes(t):n===t}function $E(n,t){const e=qE(t);return qE(n).forEach(r=>{Kv(e,r)||e.push(r)}),e}function XA(n,t){return qE(t).filter(e=>!Kv(n,e))}class eI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class _c extends eI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ms extends eI{get formDirective(){return null}get path(){return null}}class tI{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Sf=(()=>{class n extends tI{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_c,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),Dm=(()=>{class n extends tI{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ms,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function mw(n,t){return[...t.path,n]}function Sm(n,t){KE(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&JE(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&JE(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function x_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),gw(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qv(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function KE(n,t){const e=JA(n);null!==t.validator?n.setValidators(GE(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=fw(n);null!==t.asyncValidator?n.setAsyncValidators(GE(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Qv(t._rawValidators,r),Qv(t._rawAsyncValidators,r)}function gw(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=JA(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=fw(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Qv(t._rawValidators,i),Qv(t._rawAsyncValidators,i),e}function JE(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XE(n,t){KE(n,t)}function ex(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function nI(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Af(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Au?e=s:function(n){return Object.getPrototypeOf(n.constructor)===Em}(s)?i=s:r=s}),r||i||e||null}function If(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const _w="VALID",Xv="INVALID",D_="PENDING",eb="DISABLED";function tx(n){return(S_(n)?n.validators:n)||null}function nx(n){return Array.isArray(n)?jE(n):n||null}function yw(n,t){return(S_(t)?t.asyncValidators:n)||null}function vw(n){return Array.isArray(n)?zE(n):n||null}function S_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Am{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=nx(this._rawValidators),this._composedAsyncValidatorFn=vw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_w}get invalid(){return this.status===Xv}get pending(){return this.status==D_}get disabled(){return this.status===eb}get enabled(){return this.status!==eb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=nx(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=vw(t)}addValidators(t){this.setValidators($E(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($E(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(XA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(XA(t,this._rawAsyncValidators))}hasValidator(t){return Kv(this._rawValidators,t)}hasAsyncValidator(t){return Kv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=D_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=eb,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_w,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_w||this.status===D_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eb:_w}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=D_,this._hasOwnPendingAsyncValidator=!0;const e=VE(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof A_?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof bw&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?eb:this.errors?Xv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(D_)?D_:this._anyControlsHaveStatus(Xv)?Xv:_w}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){S_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Im extends Am{constructor(t=null,e,i){super(tx(e),yw(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){If(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){If(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class A_ extends Am{constructor(t,e,i){super(tx(e),yw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Im?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class bw extends Am{constructor(t,e,i){super(tx(e),yw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Im?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const MR={provide:ms,useExisting:(0,o.Gpc)(()=>Iu)},tb=(()=>Promise.resolve(null))();let Iu=(()=>{class n extends ms{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new A_({},jE(e),zE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){tb.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Sm(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){tb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),If(this._directives,e)})}addFormGroup(e){tb.then(()=>{const i=this._findContainer(e.path),r=new A_({});XE(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){tb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){tb.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nI(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ps,10),o.Y36(xm,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([MR]),o.qOj]}),n})();const T_={provide:_c,useExisting:(0,o.Gpc)(()=>Tf)},kR=(()=>Promise.resolve(null))();let Tf=(()=>{class n extends _c{constructor(e,i,r,s){super(),this.control=new Im,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Af(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),ex(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?mw(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){kR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;kR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ms,9),o.Y36(ps,10),o.Y36(xm,10),o.Y36(Ia,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([T_]),o.qOj,o.TTD]}),n})(),Tm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Cw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ox=new o.OlP("NgModelWithFormControlWarning"),PR={provide:ms,useExisting:(0,o.Gpc)(()=>Mf)};let Mf=(()=>{class n extends ms{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Sm(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){x_(e.control||null,e,!1),If(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,nI(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(x_(i||null,e),r instanceof Im&&(Sm(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);XE(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return gw(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){KE(this.form,this),this._oldForm&&gw(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ps,10),o.Y36(xm,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([PR]),o.qOj,o.TTD]}),n})();const lI={provide:_c,useExisting:(0,o.Gpc)(()=>nb)};let nb=(()=>{class n extends _c{constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Af(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),ex(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return mw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(ms,13),o.Y36(ps,10),o.Y36(xm,10),o.Y36(Ia,10),o.Y36(ox,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([lI]),o.qOj,o.TTD]}),n})();const xw={provide:ps,useExisting:(0,o.Gpc)(()=>Kd),multi:!0};let Kd=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?GA(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[o._Bn([xw])]}),n})();const mI={provide:ps,useExisting:(0,o.Gpc)(()=>M_),multi:!0};let M_=(()=>{class n{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?C_(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[o._Bn([mI])]}),n})(),bI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Cw]]}),n})(),GR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[bI]}),n})(),wI=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ox,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[bI]}),n})(),ux=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let d,s=null,a=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,a=null!=i.asyncValidators?i.asyncValidators:null,d=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,a=null!=i.asyncValidator?i.asyncValidator:null)),new A_(r,{asyncValidators:a,updateOn:d,validators:s})}control(e,i,r){return new Im(e,i,r)}array(e,i,r){const s=e.map(a=>this._createControl(a));return new bw(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Im||e instanceof A_||e instanceof bw?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:wI}),n})();function vt(n){return null!=n&&"false"!=`${n}`}function yc(n,t=0){return dx(n)?Number(n):t}function dx(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ab(n){return Array.isArray(n)?n:[n]}function Mr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Mu(n){return n instanceof o.SBq?n.nativeElement:n}var k_=Z(4986);function lb(n,t=k_.z){return(0,Bn.e)((e,i)=>{let r=null,s=null,a=null;const d=()=>{if(r){r.unsubscribe(),r=null;const C=s;s=null,i.next(C)}};function g(){const C=a+n,I=t.now();if(I<C)return r=this.schedule(void 0,C-I),void i.add(r);d()}e.subscribe(new ti.Q(i,C=>{s=C,a=t.now(),r||(r=t.schedule(g,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}let xI=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ns=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Mu(e);return new oi.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new dt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(xI))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),km=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=vt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=yc(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(lb(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ns),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),hx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[xI]}),n})();const $R=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(ce)}}),cb=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let fx,rs=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?cb.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($R,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{fx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){fx=!1}let Pm,kr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Xn(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ub=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Aw(){if(Pm)return Pm;if("object"!=typeof document||!document)return Pm=new Set(ub),Pm;let n=document.createElement("input");return Pm=new Set(ub.filter(t=>(n.setAttribute("type",t),n.type===t))),Pm}let Iw,ku,hb;function R_(n){return function(){if(null==Iw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Iw=!0}))}finally{Iw=Iw||!1}return Iw}()?n:!!n.capture}function AI(){if(null==ku){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ku=!1,ku;if("scrollBehavior"in document.documentElement.style)ku=!0;else{const n=Element.prototype.scrollTo;ku=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ku}function fb(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Nm(n){return n.composedPath?n.composedPath()[0]:n.target}function Tw(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function ho(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function zI(n){return Sn((t,e)=>n<=e)}function Ow(n,t=ga.y){return n=null!=n?n:CO,(0,Bn.e)((e,i)=>{let r,s=!0;e.subscribe(new ti.Q(i,a=>{const d=t(a);(s||!n(r,d))&&(s=!1,r=d,i.next(a))}))})}function CO(n,t){return n===t}var Pw=Z(5032);function on(n){return(0,Bn.e)((t,e)=>{(0,Fn.Xf)(n).subscribe(new ti.Q(e,()=>e.complete(),Pw.Z)),!e.closed&&t.subscribe(e)})}function gb(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const _b="cdk-describedby-message-container",GI="cdk-describedby-message",yb="cdk-describedby-host";let Nw=0;const Ru=new Map;let Ma=null,qI=(()=>{class n{constructor(e){this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=Ex(i,r);"string"!=typeof i?(DO(i),Ru.set(s,{messageElement:i,referenceCount:0})):Ru.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=Ex(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=Ru.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}Ma&&0===Ma.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${yb}]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(yb);Ma&&this._deleteMessagesContainer(),Ru.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");DO(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),Ma.appendChild(r),Ru.set(Ex(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i;const r=Ru.get(e);null===(i=null==r?void 0:r.messageElement)||void 0===i||i.remove(),Ru.delete(e)}_createMessagesContainer(){if(!Ma){const e=this._document.getElementById(_b);null==e||e.remove(),Ma=this._document.createElement("div"),Ma.id=_b,Ma.style.visibility="hidden",Ma.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Ma)}}_deleteMessagesContainer(){Ma&&(Ma.remove(),Ma=null)}_removeCdkDescribedByReferenceIds(e){const i=gb(e,"aria-describedby").filter(r=>0!=r.indexOf(GI));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=Ru.get(i);(function(n,t,e){const i=gb(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(yb,""),r.referenceCount++}_removeMessageReference(e,i){const r=Ru.get(i);r.referenceCount--,function(n,t,e){const r=gb(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(yb)}_isElementDescribedByMessage(e,i){const r=gb(e,"aria-describedby"),s=Ru.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ex(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function DO(n){n.id||(n.id=`${GI}-${Nw++}`)}class $I{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new dt.x,this._typeaheadSubscription=Ln.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new dt.x,this.change=new dt.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Si.b)(e=>this._pressedLetters.push(e)),lb(t),Sn(()=>this._pressedLetters.length>0),(0,rt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||ho(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class SO extends $I{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class xx extends $I{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let ZI=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===WI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=WI(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||MO(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function WI(n){if(!MO(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class hU{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Dn.q)(1)).subscribe(t)}}let l=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new hU(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ZI),o.LFG(o.R0b),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=vt(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=vt(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=fb(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(l),o.Y36(ce))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),n})();function M(n){return 0===n.offsetX&&0===n.offsetY}function k(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const F=new o.OlP("cdk-input-modality-detector-options"),B={ignoreKeys:[18,17,224,91,16]},ee=R_({passive:!0,capture:!0});let ae=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new hr(null),this._lastTouchMs=0,this._onKeydown=a=>{var d,g;(null===(g=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===g?void 0:g.some(C=>C===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Nm(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(M(a)?"keyboard":"mouse"),this._mostRecentTarget=Nm(a))},this._onTouchstart=a=>{k(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nm(a))},this._options=Object.assign(Object.assign({},B),s),this.modalityDetected=this._modality.pipe(zI(1)),this.modalityChanged=this.modalityDetected.pipe(Ow()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ee),r.addEventListener("mousedown",this._onMousedown,ee),r.addEventListener("touchstart",this._onTouchstart,ee)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ee),document.removeEventListener("mousedown",this._onMousedown,ee),document.removeEventListener("touchstart",this._onTouchstart,ee))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kr),o.LFG(o.R0b),o.LFG(ce),o.LFG(F,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ce=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Xe=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ft=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(d=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,d(),"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ce,8),o.LFG(o.R0b),o.LFG(ce),o.LFG(Xe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._liveAnnouncer=i,this._contentObserver=r,this._ngZone=s,this._politeness="polite"}get politeness(){return this._politeness}set politeness(e){this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const i=this._elementRef.nativeElement.textContent;i!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(i,this._politeness),this._previousAnnouncedText=i)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ft),o.Y36(Ns),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),n})();const Tt=new o.OlP("cdk-focus-monitor-default-options"),cn=R_({passive:!0,capture:!0});let hn=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new dt.x,this._rootNodeFocusAndBlurListener=d=>{const g=Nm(d),C="focus"===d.type?this._onFocus:this._onBlur;for(let I=g;I;I=I.parentElement)C.call(this,d,I)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,i=!1){const r=Mu(e);if(!this._platform.isBrowser||1!==r.nodeType)return ct(null);const s=function(n){if(function(){if(null==hb){const n="undefined"!=typeof document?document.head:null;hb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hb}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const d={checkChildren:i,subject:new dt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Mu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Mu(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,g])=>this._originChanged(d,i,g)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Nm(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,cn),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,cn)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(on(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cn),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cn),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(kr),o.LFG(ae),o.LFG(ce,8),o.LFG(Tt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ka=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(hn))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Pf="cdk-high-contrast-black-on-white",Fw="cdk-high-contrast-white-on-black",vb="cdk-high-contrast-active";let Lw=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(vb),e.remove(Pf),e.remove(Fw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(vb),e.add(Pf)):2===i&&(e.add(vb),e.add(Fw))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kr),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bw=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lw))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Om,hx]]}),n})();function Dx(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Sx(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const Ax=["*"];let mZ=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),gZ=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const yZ=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let En=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Tw()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lw),o.LFG(yZ,8),o.LFG(ce))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Rm],Rm]}),n})();function bb(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=vt(t)}}}function wb(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Cb(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=vt(t)}}}function kO(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?yc(e):this.defaultTabIndex}}}function RO(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new dt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function pU(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new oi.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const vZ=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,o.f3M)(o.soG)}});class fo{constructor(){this._localeChanges=new dt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Eb=new o.OlP("mat-date-formats"),wZ=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function OO(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let CZ=(()=>{class n extends fo{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return OO(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return OO(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return OO(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(wZ.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(vZ,8),o.LFG(kr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const EZ={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let xZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:fo,useClass:CZ}],imports:[[Om]]}),n})(),DZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Eb,useValue:EZ}],imports:[[xZ]]}),n})(),Ix=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})(),gU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[En],En]}),n})();class AZ{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _U={enterDuration:225,exitDuration:150},PO=R_({passive:!0}),yU=["mousedown","touchstart"],vU=["mouseup","mouseleave","touchend","touchcancel"];class bU{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Mu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},_U),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,g=e-r.top,C=s.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=d-a+"px",I.style.top=g-a+"px",I.style.height=2*a+"px",I.style.width=2*a+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(I),window.getComputedStyle(I).getPropertyValue("opacity"),I.style.transform="scale(1)";const T=new AZ(this,I,i);return T.state=0,this._activeRipples.add(T),i.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const O=T===this._mostRecentTransientRipple;T.state=1,!i.persistent&&(!O||!this._isPointerDown)&&T.fadeOut()},C),T}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},_U),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Mu(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(yU))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(vU),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=M(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!k(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,PO)})})}_removeTriggerEvents(){this._triggerElement&&(yU.forEach(t=>{this._triggerElement.removeEventListener(t,this,PO)}),this._pointerUpEventsRegistered&&vU.forEach(t=>{this._triggerElement.removeEventListener(t,this,PO)}))}}const wU=new o.OlP("mat-ripple-global-options");let F_=(()=>{class n{constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new bU(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(kr),o.Y36(wU,8),o.Y36(so,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[En,Om],En]}),n})(),CU=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(so,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),NO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[En]]}),n})();const EU=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),xU=new o.OlP("MatOptgroup");let kZ=0;class RZ{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let OZ=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+kZ++,this.onSelectionChange=new o.vpe,this._stateChanges=new dt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=vt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ho(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new RZ(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),xb=(()=>{class n extends OZ{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(EU,8),o.Y36(xU,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:Ax,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,Dx,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,Sx,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[sn,F_,CU],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function DU(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let FO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Mx,Jt,En,NO]]}),n})();var NZ=Z(1144);const FZ=["addListener","removeListener"],LZ=["addEventListener","removeEventListener"],BZ=["on","off"];function kx(n,t,e,i){if((0,Xi.m)(e)&&(i=e,e=void 0),i)return kx(n,t,e).pipe(jh(i));const[r,s]=function(n){return(0,Xi.m)(n.addEventListener)&&(0,Xi.m)(n.removeEventListener)}(n)?LZ.map(a=>d=>n[a](t,d,e)):function(n){return(0,Xi.m)(n.addListener)&&(0,Xi.m)(n.removeListener)}(n)?FZ.map(SU(n,t)):function(n){return(0,Xi.m)(n.on)&&(0,Xi.m)(n.off)}(n)?BZ.map(SU(n,t)):[];if(!r&&(0,NZ.z)(n))return(0,Vi.z)(a=>kx(a,t,e))((0,Fn.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new oi.y(a=>{const d=(...g)=>a.next(1<g.length?g:g[0]);return r(d),()=>s(d)})}function SU(n,t){return e=>i=>n[e](t,i)}const HZ=["connectionContainer"],zZ=["inputContainer"],GZ=["label"];function qZ(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function $Z(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function ZZ(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function WZ(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function YZ(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function KZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,ZZ,4,1,"ng-container",12),o.YNc(3,WZ,1,0,"ng-content",12),o.YNc(4,YZ,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function QZ(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function JZ(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function XZ(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function eW(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function tW(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,eW,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const nW=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],iW=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],rW=new o.OlP("MatError"),sW={transitionMessages:ui("transitionMessages",[bn("enter",xt({opacity:1,transform:"translateY(0%)"})),fn("void => enter",[xt({opacity:0,transform:"translateY(-5px)"}),xn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Rx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const oW=new o.OlP("MatHint");let L_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),aW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const lW=new o.OlP("MatPrefix"),AU=new o.OlP("MatSuffix");let QI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:AU,useExisting:n}])]}),n})(),IU=0;const uW=wb(class{constructor(n){this._elementRef=n}},"primary"),dW=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JI=new o.OlP("MatFormField");let Db=(()=>{class n extends uW{constructor(e,i,r,s,a,d,g){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new dt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+IU++,this._labelId="mat-form-field-label-"+IU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=vt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(di(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(on(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(on(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Mi.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(di(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(di(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(on(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,kx(this._label.nativeElement,"transitionend").pipe((0,Dn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,a=s.querySelectorAll(".mat-form-field-outline-start"),d=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const g=s.getBoundingClientRect();if(0===g.width&&0===g.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(g),I=e.children,T=this._getStartEnd(I[0].getBoundingClientRect());let O=0;for(let L=0;L<I.length;L++)O+=I[L].offsetWidth;i=Math.abs(T-C)-5,r=O>0?.75*O+10:0}for(let g=0;g<a.length;g++)a[g].style.width=`${i}px`;for(let g=0;g<d.length;g++)d[g].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(rs,8),o.Y36(dW,8),o.Y36(kr),o.Y36(o.R0b),o.Y36(so,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Rx,5),o.Suo(r,Rx,7),o.Suo(r,L_,5),o.Suo(r,L_,7),o.Suo(r,aW,5),o.Suo(r,rW,5),o.Suo(r,oW,5),o.Suo(r,lW,5),o.Suo(r,AU,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(HZ,7),o.Gf(zZ,5),o.Gf(GZ,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:JI,useExisting:n}]),o.qOj],ngContentSelectors:iW,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(nW),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,qZ,9,0,"ng-container",3),o.YNc(4,$Z,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,KZ,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,QZ,2,0,"div",9),o.qZA(),o.YNc(11,JZ,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,XZ,2,1,"div",12),o.YNc(14,tW,5,2,"div",13),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[sn,Ys,Er,km],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[sW.transitionMessages]},changeDetection:0}),n})(),XI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jt,En,hx],En]}),n})();const MU=R_({passive:!0});let hW=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return oo.E;const i=Mu(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new dt.x,a="cdk-text-field-autofilled",d=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,MU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,MU)}}),s}stopMonitoring(e){const i=Mu(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Om]]}),n})();const RU=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),fW=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let pW=0;const mW=RO(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Vw=(()=>{class n extends mW{constructor(e,i,r,s,a,d,g,C,I,T){super(d,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=C,this._formField=T,this._uid="mat-input-"+pW++,this.focused=!1,this.stateChanges=new dt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>Aw().has(q));const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=g||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",q=>{const te=q.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=vt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Ps.required))&&void 0!==s&&s}set required(e){this._required=vt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Aw().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=vt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){fW.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(kr),o.Y36(_c,10),o.Y36(Iu,8),o.Y36(Mf,8),o.Y36(Ix),o.Y36(RU,10),o.Y36(hW),o.Y36(o.R0b),o.Y36(JI,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:Rx,useExisting:n}]),o.qOj,o.TTD]}),n})(),gW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ix],imports:[[kU,XI,En],kU,XI]}),n})();function _W(n,t){1&n&&(o.TgZ(0,"div",17),o._uU(1," Error logging in. Please check your credentials and try again. "),o.qZA())}function yW(n,t){1&n&&(o.TgZ(0,"div",18),o.TgZ(1,"span",19),o._uU(2,"Loading..."),o.qZA(),o.qZA())}let OU=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.isLoading=!1,this.isLoginError=!1}ngOnInit(){}onSubmit(e){this.isLoading=!0;const{loginEmail:i,loginPassword:r}=e.value;this.authService.login(i,r).then(s=>{console.log("User logged in",s),this.router.navigate(["/home"])}).catch(()=>{this.isLoading=!1,this.isLoginError=!0})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(b_),o.Y36(fr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:2,consts:[[1,"row","h-100","m-0"],[1,"col-md-6","offset-md-3","col-sm-10","offset-sm-1","h-100","d-flex"],[1,"align-self-center","bg-white","border","rounded-lg","p-5","w-100",3,"ngSubmit"],["f","ngForm"],[1,"bl-header","pb-2","mb-2","d-flex"],[1,"flex-grow-0"],["appearance","fill",1,"w-100"],["type","email","name","loginEmail","placeholder","Ex. pat@example.com","matInput","","ngModel","","email","","required",""],[1,"w-100"],["type","password","name","loginPassword","matInput","","ngModel","","required",""],["class","text-red-600 text-sm mt-1",4,"ngIf"],[1,"w-100","d-flex","flex-row-reverse","pt-2","pb-2"],[1,"flex","justify-content-center","items-center","drop-shadow-md","shadow-fuchsia-950","bg-fuchsia-800","text-white","px-4","py-2","rounded-pill","border-b-4","border-fuchsia-950"],["class","spinner-border w-4 h-4 text-orange-300 mr-2","role","status",4,"ngIf"],[1,""],[1,"text-center"],["href","",1,""],[1,"text-red-600","text-sm","mt-1"],["role","status",1,"spinner-border","w-4","h-4","text-orange-300","mr-2"],[1,"visually-hidden"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2,3),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(3);return i.onSubmit(a)}),o.TgZ(4,"section",4),o.TgZ(5,"h2",5),o._uU(6," Login "),o.qZA(),o.qZA(),o.TgZ(7,"mat-form-field",6),o.TgZ(8,"mat-label"),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",7),o.qZA(),o.TgZ(11,"mat-form-field",8),o._UZ(12,"input",9),o.qZA(),o.YNc(13,_W,2,0,"div",10),o.TgZ(14,"div",11),o.TgZ(15,"button",12),o.YNc(16,yW,3,0,"div",13),o.TgZ(17,"span",14),o._uU(18,"Login"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",15),o.TgZ(20,"a",16),o._uU(21,"Forgot your password?"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(13),o.Q6J("ngIf",!0===i.isLoginError),o.xp6(3),o.Q6J("ngIf",i.isLoading))},directives:[Tm,Dm,Iu,Db,L_,Vw,Au,Sf,Tf,M_,Kd,sn],styles:["img[_ngcontent-%COMP%]{object-fit:cover;border:1px solid #ccc;margin-top:10px}"]}),n})();const PU=["mat-button",""],NU=["*"],wW=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],CW=wb(bb(Cb(class{constructor(n){this._elementRef=n}})));let Qd=(()=>{class n extends CW{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of wW)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(hn),o.Y36(so,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(F_,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:PU,ngContentSelectors:NU,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[F_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),EW=(()=>{class n extends Qd{constructor(e,i,r){super(i,e,r)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(hn),o.Y36(o.SBq),o.Y36(so,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._haltDisabledEvents(s)}),2&e&&(o.uIk("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:PU,ngContentSelectors:NU,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[F_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Mx,En],En]}),n})(),xW=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.maxDate=new Date,this.emailFormControl=new Im("",[Ps.required,Ps.email])}ngOnInit(){this.maxDate.setFullYear(this.maxDate.getUTCFullYear()-18)}onSubmit(e){const{registerEmail:i,registerPassword:r}=e.value;this.authService.register(i,r).then(s=>{console.log("User registered",s),this.router.navigate(["/home"])}).catch(s=>{console.error("Error registering user:",s)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(b_),o.Y36(fr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-register"]],decls:19,vars:0,consts:[[1,"row","h-100","m-0"],[1,"col-md-6","offset-md-3","col-sm-10","offset-sm-1","h-100","d-flex"],[1,"align-self-center","block-02","p-3","w-100",3,"ngSubmit"],["f","ngForm"],[1,"bl-header","pb-2","mb-2","d-flex"],[1,"flex-grow-0"],[1,"action","flex-grow-1"],["appearance","fill",1,"w-100"],["type","email","name","registerEmail","placeholder","Ex. pat@example.com","matInput","","ngModel","","email","","required",""],[1,"w-100"],["type","password","name","registerPassword","matInput","","ngModel","","required","","placeholder","Password"],["type","password","name","conformRegisterPassword","placeholder","Confirm password","matInput","","ngModel","","required",""],[1,"w-100","d-flex","flex-row-reverse","pt-2","pb-2"],["mat-flat-button","","color","primary",1,"d-flex","justify-content-end"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"form",2,3),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(3);return i.onSubmit(a)}),o.TgZ(4,"section",4),o.TgZ(5,"h2",5),o._uU(6," Register new user "),o.qZA(),o._UZ(7,"div",6),o.qZA(),o.TgZ(8,"mat-form-field",7),o.TgZ(9,"mat-label"),o._uU(10,"Email"),o.qZA(),o._UZ(11,"input",8),o.qZA(),o.TgZ(12,"mat-form-field",9),o._UZ(13,"input",10),o.qZA(),o.TgZ(14,"mat-form-field",9),o._UZ(15,"input",11),o.qZA(),o.TgZ(16,"div",12),o.TgZ(17,"button",13),o._uU(18,"Register"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}},directives:[Tm,Dm,Iu,Db,L_,Vw,Au,Sf,Tf,M_,Kd,Qd],styles:[""]}),n})(),eT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-breadcrumb"]],decls:25,vars:0,consts:[["aria-label","Breadcrumb",1,"flex","bg-white","border","p-3","rounded-md","w-full"],[1,"inline-flex","items-center","space-x-1","md:space-x-3"],[1,"inline-flex","items-center"],["href","#",1,"text-gray-700","hover:text-gray-900","inline-flex","items-center"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","mr-2"],["d","M10 2a1 1 0 00-.707.293l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h10a1 1 0 001-1v-6.586l1.293 1.293a1 1 0 001.414-1.414l-7-7A1 1 0 0010 2z"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","text-gray-400"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],["href","#",1,"ml-1","text-gray-700","hover:text-gray-900","md:ml-2"],["aria-current","page"],[1,"ml-1","text-gray-500","md:ml-2"]],template:function(e,i){1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"ol",1),o.TgZ(2,"li",2),o.TgZ(3,"a",3),o.O4$(),o.TgZ(4,"svg",4),o._UZ(5,"path",5),o.qZA(),o._uU(6," Home "),o.qZA(),o.qZA(),o.kcU(),o.TgZ(7,"li"),o.TgZ(8,"div",6),o.O4$(),o.TgZ(9,"svg",7),o._UZ(10,"path",8),o.qZA(),o.kcU(),o.TgZ(11,"a",9),o._uU(12,"Category"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"li"),o.TgZ(14,"div",6),o.O4$(),o.TgZ(15,"svg",7),o._UZ(16,"path",8),o.qZA(),o.kcU(),o.TgZ(17,"a",9),o._uU(18,"Subcategory"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"li",10),o.TgZ(20,"div",6),o.O4$(),o.TgZ(21,"svg",7),o._UZ(22,"path",8),o.qZA(),o.kcU(),o.TgZ(23,"span",11),o._uU(24,"Current Page"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA())},styles:[""]}),n})();const DW=["input"],SW=function(n){return{enterDuration:n}},AW=["*"],IW=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:FU});function FU(){return{color:"accent",clickAction:"check-indeterminate"}}let TW=0;const LU=FU(),MW={provide:Ia,useExisting:(0,o.Gpc)(()=>BU),multi:!0};class kW{}const RW=kO(wb(Cb(bb(class{constructor(n){this._elementRef=n}}))));let BU=(()=>{class n extends RW{constructor(e,i,r,s,a,d,g){super(e),this._changeDetectorRef=i,this._focusMonitor=r,this._ngZone=s,this._animationMode=d,this._options=g,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++TW,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||LU,this.color=this.defaultColor=this._options.color||LU.color,this.tabIndex=parseInt(a)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=vt(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=vt(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=vt(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){const e=new kW;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var i;const r=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===r?!this.disabled&&"noop"===r&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let r="";switch(e){case 0:if(1===i)r="unchecked-checked";else{if(3!=i)return"";r="unchecked-indeterminate"}break;case 2:r=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:r=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:r=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${r}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(hn),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(so,8),o.Y36(IW,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(o.Gf(DW,5),o.Gf(F_,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._inputElement=r.first),o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null),o.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[o._Bn([MW]),o.qOj],ngContentSelectors:AW,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1),o.TgZ(2,"span",2),o.TgZ(3,"input",3,4),o.NdJ("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA(),o.qZA(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA(),o.qZA()),2&e){const r=o.MAs(1),s=o.MAs(13);o.uIk("for",i.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),o.xp6(1),o.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),o.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,SW,"NoopAnimations"===i._animationMode?0:150))}},directives:[F_,km],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),VU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),NW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Mx,En,hx,VU],En,VU]}),n})();class LW{}class B_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof B_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new B_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof B_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(d=>-1===s.indexOf(d)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class BW{encodeKey(t){return UU(t)}encodeValue(t){return UU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const UW=/%(\d[a-f0-9])/gi,jW={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function UU(n){return encodeURIComponent(n).replace(UW,(t,e)=>{var i;return null!==(i=jW[e])&&void 0!==i?i:t})}function jU(n){return`${n}`}class V_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new BW,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],g=e.get(a)||[];g.push(d),e.set(a,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new V_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(jU(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(jU(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class HW{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function HU(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zU(n){return"undefined"!=typeof Blob&&n instanceof Blob}function GU(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ox{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new B_),this.context||(this.context=new HW),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+a}}else this.params=new V_,this.urlWithParams=e}serializeBody(){return null===this.body?null:HU(this.body)||zU(this.body)||GU(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof V_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GU(this.body)?null:zU(this.body)?this.body.type||null:HU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof V_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,I=t.params||this.params;const T=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((O,L)=>O.set(L,t.setHeaders[L]),C)),t.setParams&&(I=Object.keys(t.setParams).reduce((O,L)=>O.set(L,t.setParams[L]),I)),new Ox(i,r,a,{params:I,headers:C,context:T,reportProgress:g,responseType:s,withCredentials:d})}}var po=(()=>((po=po||{})[po.Sent=0]="Sent",po[po.UploadProgress=1]="UploadProgress",po[po.ResponseHeader=2]="ResponseHeader",po[po.DownloadProgress=3]="DownloadProgress",po[po.Response=4]="Response",po[po.User=5]="User",po))();class BO extends class{constructor(t,e=200,i="OK"){this.headers=t.headers||new B_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=po.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new BO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function VO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $U=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Ox)s=e;else{let g,C;g=r.headers instanceof B_?r.headers:new B_(r.headers),r.params&&(C=r.params instanceof V_?r.params:new V_({fromObject:r.params})),s=new Ox(e,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:C,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=ct(s).pipe(iu(g=>this.handler.handle(g)));if(e instanceof Ox||"events"===r.observe)return a;const d=a.pipe(Sn(g=>g instanceof BO));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,rt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return d.pipe((0,rt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return d.pipe((0,rt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return d.pipe((0,rt.U)(g=>g.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new V_).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,VO(r,i))}post(e,i,r={}){return this.request("POST",e,VO(r,i))}put(e,i,r={}){return this.request("PUT",e,VO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(LW))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ZW=["*"];let tT;function Px(n){var t;return(null===(t=function(){if(void 0===tT&&(tT=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(tT=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return tT}())||void 0===t?void 0:t.createHTML(n))||n}function ZU(n){return Error(`Unable to find icon with the name "${n}"`)}function WU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function YU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Sb{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let nT=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Sb(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(o.q3G.HTML,r);if(!a)throw YU(r);const d=Px(a);return this._addSvgIconConfig(e,i,new Sb("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Sb(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw YU(i);const a=Px(s);return this._addSvgIconSetConfig(e,new Sb("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw WU(e);const r=this._cachedIconsByUrl.get(i);return r?ct(iT(r)):this._loadSvgIconFromConfig(new Sb(e,null)).pipe((0,Si.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,rt.U)(s=>iT(s)))}getNamedSvgIcon(e,i=""){const r=KU(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):function(n,t){const e=(0,Xi.m)(n)?n:()=>n,i=r=>r.error(e());return new oi.y(i)}(ZU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ct(iT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,rt.U)(i=>iT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ct(r):w_(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Is(d=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(C)),ct(null)})))).pipe((0,rt.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw ZU(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(a,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Si.b)(i=>e.svgText=i),(0,rt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ct(null):this._fetchIcon(e).pipe((0,Si.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const d=this._svgElementFromString(Px("<svg></svg>"));return d.appendChild(a),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Px("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:d}=r[s];"id"!==a&&i.setAttribute(a,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,a=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!d)throw WU(r);const g=this._inProgressUrlFetches.get(d);if(g)return g;const C=this._httpClient.get(d,{responseType:"text",withCredentials:a}).pipe((0,rt.U)(I=>Px(I)),Fd(()=>this._inProgressUrlFetches.delete(d)),(0,Cu.B)());return this._inProgressUrlFetches.set(d,C),C}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(KU(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return QW(s)?new Sb(s.url,null,s.options):new Sb(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($U,8),o.LFG(Hl),o.LFG(ce,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iT(n){return n.cloneNode(!0)}function KU(n,t){return n+":"+t}function QW(n){return!(!n.url||!n.options)}const JW=wb(class{constructor(n){this._elementRef=n}}),XW=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,o.f3M)(ce),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),QU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tY=QU.map(n=>`[${n}]`).join(", "),nY=/^url\(['"]?#(.*?)['"]?\)$/;let rT=(()=>{class n extends JW{constructor(e,i,r,s,a){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._currentIconFetch=Ln.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=vt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(tY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)QU.forEach(a=>{const d=i[s],g=d.getAttribute(a),C=g?g.match(nY):null;if(C){let I=r.get(d);I||(I=[],r.set(d,I)),I.push({name:a,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Dn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(nT),o.$8M("aria-hidden"),o.Y36(XW),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:ZW,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),iY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[En],En]}),n})();const rY=["primaryValueBar"],sY=wb(class{constructor(n){this._elementRef=n}},"primary"),oY=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=(0,o.f3M)(ce),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),lY=new o.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let cY=0,uY=(()=>{class n extends sY{constructor(e,i,r,s,a){super(e),this._ngZone=i,this._animationMode=r,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=Ln.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+cY++;const d=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${d}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,a&&(a.color&&(this.color=this.defaultColor=a.color),this.mode=a.mode||this.mode)}get value(){return this._value}set value(e){this._value=JU(yc(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=JU(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=kx(e,"transitionend").pipe(Sn(i=>i.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(so,8),o.Y36(oY,8),o.Y36(lY,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&o.Gf(rY,5),2&e){let r;o.iGM(r=o.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),o.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",i.progressbarId),o.xp6(2),o.uIk("fill",i._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",i._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",i._primaryTransform()))},directives:[Qr],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function JU(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let dY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jt,En],En]}),n})(),hY=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:87,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-7","col-sm-12"],[1,"block-02"],[1,"bl-header"],[1,"p-3","m-0"],[1,"p-3"],[1,"todo-list","m-t","ui-sortable"],["value","","color","primary"],[1,"m-l-xs"],[1,"label","label-primary"],[1,"fa","fa-clock-o"],[1,"label","label-info"],[1,"label","label-warning"],[1,"label","label-danger"],[1,"bl-footer","p-3"],[1,"col-md-5"],[1,"bl-body"],[1,"list-group"],["routerLink","/project-detail/1","aria-current","true",1,"list-group-item","list-group-item-action","d-flex","border-0","border-bottom"],[1,"flex-grow-0","p-3"],["mat-mini-fab","","color","primary"],[1,"f-large"],[1,"flex-grow-1","ps-1"],[1,"row","m-0"],[1,"col-9"],["mat-line","",1,"fw-bold"],["mat-line",""],["mat-line","",1,"pt-3","pb-3"],["type","button",1,"btn","rounded","rounded-pill","btn-sm","btn-secondary","position-relative"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"visually-hidden"],["src","","alt",".",1,"img-thumbnail","rounded-circle"],[1,"col-3"],["mode","determinate","value","40"],["href","#",1,"list-group-item","list-group-item-action"],[1,"list-group-item","list-group-item-action","disabled"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"app-breadcrumb"),o.qZA(),o.TgZ(3,"div",1),o.TgZ(4,"div",2),o.TgZ(5,"div",3),o.TgZ(6,"header",4),o.TgZ(7,"h2",5),o._uU(8,"Urgent Tasks"),o.qZA(),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"ul",7),o.TgZ(11,"li"),o.TgZ(12,"mat-checkbox",8),o._uU(13,"Checkbox label "),o.qZA(),o.TgZ(14,"span",9),o._uU(15,"Buy a milk"),o.qZA(),o.TgZ(16,"small",10),o._UZ(17,"i",11),o._uU(18," 1 mins"),o.qZA(),o.qZA(),o.TgZ(19,"li"),o.TgZ(20,"mat-checkbox",8),o._uU(21,"Checkbox label "),o.qZA(),o.TgZ(22,"span",9),o._uU(23,"Go to shop and find some products."),o.qZA(),o.TgZ(24,"small",12),o._UZ(25,"i",11),o._uU(26," 3 mins"),o.qZA(),o.qZA(),o.TgZ(27,"li"),o.TgZ(28,"mat-checkbox",8),o._uU(29,"Checkbox label "),o.qZA(),o.TgZ(30,"span",9),o._uU(31,"Send documents to Mike"),o.qZA(),o.TgZ(32,"small",13),o._UZ(33,"i",11),o._uU(34," 2 mins"),o.qZA(),o.qZA(),o.TgZ(35,"li"),o.TgZ(36,"mat-checkbox",8),o._uU(37,"Checkbox label "),o.qZA(),o.TgZ(38,"span",9),o._uU(39,"Go to the doctor dr Smith"),o.qZA(),o.TgZ(40,"small",14),o._UZ(41,"i",11),o._uU(42," 42 mins"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(43,"footer",15),o._uU(44," footer "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(45,"div",16),o.TgZ(46,"div",3),o.TgZ(47,"header",4),o.TgZ(48,"h2",5),o._uU(49,"Projects"),o.qZA(),o.qZA(),o.TgZ(50,"div",17),o.TgZ(51,"div",18),o.TgZ(52,"a",19),o.TgZ(53,"div",20),o.TgZ(54,"button",21),o.TgZ(55,"mat-icon",22),o._uU(56,"folder"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"div",23),o.TgZ(58,"div",24),o.TgZ(59,"div",25),o.TgZ(60,"div",26),o._uU(61,"Learning Photoshop - Essential"),o.qZA(),o.TgZ(62,"small",27),o._uU(63," This space will be placed some "),o._UZ(64,"br"),o._uU(65," detail about the project. "),o.qZA(),o.TgZ(66,"div",28),o.TgZ(67,"button",29),o._uU(68," Tasks "),o.TgZ(69,"span",30),o._uU(70," 99+ "),o.TgZ(71,"span",31),o._uU(72,"unread messages"),o.qZA(),o.qZA(),o.qZA(),o._UZ(73,"img",32),o.qZA(),o.qZA(),o.TgZ(74,"div",33),o.TgZ(75,"small"),o._uU(76,"40% completed"),o.qZA(),o._UZ(77,"mat-progress-bar",34),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(78,"a",35),o._uU(79,"A second link item"),o.qZA(),o.TgZ(80,"a",35),o._uU(81,"A third link item"),o.qZA(),o.TgZ(82,"a",35),o._uU(83,"A fourth link item"),o.qZA(),o.TgZ(84,"a",36),o._uU(85,"A disabled link item"),o.qZA(),o.qZA(),o.qZA(),o._UZ(86,"footer"),o.qZA(),o.qZA(),o.qZA(),o.qZA())},directives:[eT,BU,m,Qd,rT,mU,uY],styles:[""]}),n})();const fY=["mat-sort-header",""];function pY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!1}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6),o._UZ(4,"div",7),o._UZ(5,"div",8),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const mY=["*"],U_=gZ.ENTERING+" "+mZ.STANDARD_CURVE,Uw={indicator:ui("indicator",[bn("active-asc, asc",xt({transform:"translateY(0px)"})),bn("active-desc, desc",xt({transform:"translateY(10px)"})),fn("active-asc <=> active-desc",xn(U_))]),leftPointer:ui("leftPointer",[bn("active-asc, asc",xt({transform:"rotate(-45deg)"})),bn("active-desc, desc",xt({transform:"rotate(45deg)"})),fn("active-asc <=> active-desc",xn(U_))]),rightPointer:ui("rightPointer",[bn("active-asc, asc",xt({transform:"rotate(45deg)"})),bn("active-desc, desc",xt({transform:"rotate(-45deg)"})),fn("active-asc <=> active-desc",xn(U_))]),arrowOpacity:ui("arrowOpacity",[bn("desc-to-active, asc-to-active, active",xt({opacity:1})),bn("desc-to-hint, asc-to-hint, hint",xt({opacity:.54})),bn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",xt({opacity:0})),fn("* => asc, * => desc, * => active, * => hint, * => void",xn("0ms")),fn("* <=> *",xn(U_))]),arrowPosition:ui("arrowPosition",[fn("* => desc-to-hint, * => desc-to-active",xn(U_,to([xt({transform:"translateY(-25%)"}),xt({transform:"translateY(0)"})]))),fn("* => hint-to-desc, * => active-to-desc",xn(U_,to([xt({transform:"translateY(0)"}),xt({transform:"translateY(25%)"})]))),fn("* => asc-to-hint, * => asc-to-active",xn(U_,to([xt({transform:"translateY(25%)"}),xt({transform:"translateY(0)"})]))),fn("* => hint-to-asc, * => active-to-asc",xn(U_,to([xt({transform:"translateY(0)"}),xt({transform:"translateY(-25%)"})]))),bn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",xt({transform:"translateY(0)"})),bn("hint-to-desc, active-to-desc, desc",xt({transform:"translateY(-25%)"})),bn("hint-to-asc, active-to-asc, asc",xt({transform:"translateY(25%)"}))]),allowChildren:ui("allowChildren",[fn("* <=> *",[Es("@*",ad(),{optional:!0})])])};let sT=(()=>{class n{constructor(){this.changes=new dt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _Y={provide:sT,deps:[[new o.FiY,new o.tp0,sT]],useFactory:function(n){return n||new sT}},yY=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),vY=pU(bb(class{}));let oT=(()=>{class n extends vY{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new dt.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=vt(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var i,r,s;if(!e)return"";const a=null!==(r=null!==(i=null==e?void 0:e.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==r?r:!!(null===(s=this._defaultOptions)||void 0===s?void 0:s.disableClear);let d=function(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,a),g=d.indexOf(this.direction)+1;return g>=d.length&&(g=0),d[g]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yY,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),n})();const wY=bb(class{});let CY=(()=>{class n extends wY{constructor(e,i,r,s,a,d,g){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=s,this._focusMonitor=a,this._elementRef=d,this._ariaDescriber=g,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=vt(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector('[role="button"]'),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){var i,r;this._sortButton&&(null===(i=this._ariaDescriber)||void 0===i||i.removeDescription(this._sortButton,this._sortActionDescription),null===(r=this._ariaDescriber)||void 0===r||r.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,Mi.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(sT),o.Y36(o.sBO),o.Y36(oT,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(hn),o.Y36(o.SBq),o.Y36(qI,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",i._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[o.qOj],attrs:fY,ngContentSelectors:mY,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,pY,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"==i.arrowPosition),o.uIk("tabindex",i._isDisabled()?null:0),o.xp6(3),o.Q6J("ngIf",i._renderArrow()))},directives:[sn],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[Uw.indicator,Uw.leftPointer,Uw.rightPointer,Uw.arrowOpacity,Uw.arrowPosition,Uw.allowChildren]},changeDetection:0}),n})(),EY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_Y],imports:[[Jt,En]]}),n})();var XU=Z(4408);const Nx={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Nx;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ln.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Nx;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Nx;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var e6=Z(7565);new class extends e6.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends XU.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Nx.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Nx.cancelAnimationFrame(e),t._scheduled=void 0)}});let UO,AY=1;const aT={};function t6(n){return n in aT&&(delete aT[n],!0)}const IY={setImmediate(n){const t=AY++;return aT[t]=!0,UO||(UO=Promise.resolve()),UO.then(()=>t6(t)&&n()),t},clearImmediate(n){t6(n)}},{setImmediate:TY,clearImmediate:MY}=IY,lT={setImmediate(...n){const{delegate:t}=lT;return((null==t?void 0:t.setImmediate)||TY)(...n)},clearImmediate(n){const{delegate:t}=lT;return((null==t?void 0:t.clearImmediate)||MY)(n)},delegate:void 0},jO=new class extends e6.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends XU.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=lT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(lT.clearImmediate(e),t._scheduled=void 0)}});var PY=Z(3532);function n6(n=0,t,e=k_.P){let i=-1;return null!=t&&((0,PY.K)(t)?e=t:i=t),new oi.y(r=>{let s=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function i6(n,t=k_.P){return function(n){return(0,Bn.e)((t,e)=>{let i=!1,r=null,s=null,a=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const C=r;r=null,e.next(C)}a&&e.complete()},g=()=>{s=null,a&&e.complete()};t.subscribe(new ti.Q(e,C=>{i=!0,r=C,s||(0,Fn.Xf)(n()).subscribe(s=new ti.Q(e,d,g))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>n6(n,t))}let r6=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new dt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new oi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(i6(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Sn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Mu(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kx(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(kr),o.LFG(ce,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cT=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new dt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(i6(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kr),o.LFG(o.R0b),o.LFG(ce,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),HO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Rm,Om,j_],Rm,j_]}),n})();class zO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jw extends zO{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class uT extends zO{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class BY extends zO{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class GO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof uT?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof BY?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class VY extends GO{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const d=a.element,g=this._document.createComment("dom-portal");d.parentNode.insertBefore(g,d),this.outletElement.appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(d,g)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let dT=(()=>{class n extends GO{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const a=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(d,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(ce))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),qO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const s6=AI();class jY{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Mr(-this._previousScrollPosition.left),t.style.top=Mr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),s6&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),s6&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class HY{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class o6{enable(){}disable(){}attach(){}}function $O(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function a6(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class zY{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();$O(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let GY=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new o6,this.close=a=>new HY(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new jY(this._viewportRuler,this._document),this.reposition=a=>new zY(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(r6),o.LFG(cT),o.LFG(o.R0b),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fx{constructor(t){if(this.scrollStrategy=new o6,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class qY{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class $Y{constructor(t,e,i,r,s,a,d,g,C){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=d,this._location=g,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new dt.x,this._attachments=new dt.x,this._detachments=new dt.x,this._locationChanges=Ln.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._keydownEvents=new dt.x,this._outsidePointerEvents=new dt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Dn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Mr(this._config.width),t.height=Mr(this._config.height),t.minWidth=Mr(this._config.minWidth),t.minHeight=Mr(this._config.minHeight),t.maxWidth=Mr(this._config.maxWidth),t.maxHeight=Mr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=ab(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(on((0,Mi.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let ZO=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Tw()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Tw()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(kr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l6="cdk-overlay-connected-position-bounding-box",ZY=/([A-Za-z%]+)$/;class c6{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dt.x,this._resizeSubscription=Ln.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(l6),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let s;for(let a of this._preferredPositions){let d=this._getOriginPoint(t,a),g=this._getOverlayPoint(d,e,a),C=this._getOverlayFit(g,e,i,a);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,d);this._canFitWithFlexibleDimensions(C,g,i)?r.push({position:a,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,a)}):(!s||s.overlayFit.visibleArea<C.visibleArea)&&(s={overlayFit:C,overlayPoint:g,originPoint:d,position:a,overlayRect:e})}if(r.length){let a=null,d=-1;for(const g of r){const C=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);C>d&&(d=C,a=g)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ab(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(l6),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i="start"==e.originX?s:a}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=d6(e);let{x:a,y:d}=t,g=this._getOffset(r,"x"),C=this._getOffset(r,"y");g&&(a+=g),C&&(d+=C);let O=0-d,L=d+s.height-i.height,q=this._subtractOverflows(s.width,0-a,a+s.width-i.width),te=this._subtractOverflows(s.height,O,L),re=q*te;return{visibleArea:re,isCompletelyWithinViewport:s.width*s.height===re,fitsInViewportVertically:te===s.height,fitsInViewportHorizontally:q==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=u6(this._overlayRef.getConfig().minHeight),d=u6(this._overlayRef.getConfig().minWidth),C=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&C}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=d6(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),g=Math.max(s.top-i.top-t.y,0),C=Math.max(s.left-i.left-t.x,0);let I=0,T=0;return I=r.width<=s.width?C||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,T=r.height<=s.height?g||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:I,y:T},{x:t.x+I,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new qY(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,d,I,T,O;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const L=Math.min(i.bottom-t.y+i.top,t.y),q=this._lastBoundingBoxSize.height;s=2*L,a=t.y-L,s>q&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-q/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,I=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)T=t.x,I=i.right-t.x;else{const L=Math.min(i.right-t.x+i.left,t.x),q=this._lastBoundingBoxSize.width;I=2*L,T=t.x-L,I>q&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-q/2)}return{top:a,left:T,bottom:d,right:O,width:I,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Mr(i.height),r.top=Mr(i.top),r.bottom=Mr(i.bottom),r.width=Mr(i.width),r.left=Mr(i.left),r.right=Mr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Mr(s)),a&&(r.maxWidth=Mr(a))}this._lastBoundingBoxSize=i,Ab(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ab(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ab(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Ab(i,this._getExactOverlayY(e,t,I)),Ab(i,this._getExactOverlayX(e,t,I))}else i.position="static";let d="",g=this._getOffset(e,"x"),C=this._getOffset(e,"y");g&&(d+=`translateX(${g}px) `),C&&(d+=`translateY(${C}px)`),i.transform=d.trim(),a.maxHeight&&(r?i.maxHeight=Mr(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Mr(a.maxWidth):s&&(i.maxWidth="")),Ab(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=a,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Mr(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Mr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:a6(t,i),isOriginOutsideView:$O(t,i),isOverlayClipped:a6(e,i),isOverlayOutsideView:$O(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ab(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Ab(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function u6(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ZY);return e&&"px"!==e?null:parseFloat(t)}return n||null}function d6(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const h6="cdk-global-overlay-wrapper";class WY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(h6),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:d}=i,g=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),C=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=g?"0":this._leftOffset,t.marginTop=C?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,g?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(h6),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let YY=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new WY}flexibleConnectedTo(e){return new c6(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(cT),o.LFG(ce),o.LFG(kr),o.LFG(ZO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f6=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KY=(()=>{class n extends f6{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QY=(()=>{class n extends f6{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Nm(r)},this._clickListener=r=>{const s=Nm(r),a="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let g=d.length-1;g>-1;g--){const C=d[g];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(s)||C.overlayElement.contains(a))break;C._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(kr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JY=0,Ou=(()=>{class n{constructor(e,i,r,s,a,d,g,C,I,T,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=d,this._ngZone=g,this._document=C,this._directionality=I,this._location=T,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new Fx(e);return a.direction=a.direction||this._directionality.value,new $Y(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+JY++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new VY(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(GY),o.LFG(ZO),o.LFG(o._Vd),o.LFG(YY),o.LFG(KY),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ce),o.LFG(rs),o.LFG(gt),o.LFG(QY))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const XY=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],p6=new o.OlP("cdk-connected-overlay-scroll-strategy");let m6=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),g6=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ln.w0.EMPTY,this._attachSubscription=Ln.w0.EMPTY,this._detachSubscription=Ln.w0.EMPTY,this._positionSubscription=Ln.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new uT(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=vt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=vt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=vt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=vt(e)}get push(){return this._push}set push(e){this._push=vt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=XY);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ho(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Fx({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof m6?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,t=!1){return(0,Bn.e)((e,i)=>{let r=0;e.subscribe(new ti.Q(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ou),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(p6),o.Y36(rs,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const t7={provide:p6,deps:[Ou],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Lx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ou,t7],imports:[[Rm,qO,HO],HO]}),n})();function WO(n){return n&&"function"==typeof n.connect}class _6{applyChanges(t,e,i,r,s){t.forEachOperation((a,d,g)=>{let C,I;if(null==a.previousIndex){const T=i(a,d,g);C=e.createEmbeddedView(T.templateRef,T.context,T.index),I=1}else null==g?(e.remove(d),I=3):(C=e.get(d),e.move(C,g),I=2);s&&s({context:null==C?void 0:C.context,operation:I,record:a})})}detach(){}}class hT{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new dt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Bx=new o.OlP("_ViewRepeater"),i7=["trigger"],r7=["panel"];function s7(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function o7(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function a7(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function l7(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,o7,2,1,"span",10),o.YNc(2,a7,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function c7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const u7=[[["mat-select-trigger"]],"*"],d7=["mat-select-trigger","*"],v6={transformPanelWrap:ui("transformPanelWrap",[fn("* => void",Es("@transformPanel",[ad()],{optional:!0}))]),transformPanel:ui("transformPanel",[bn("void",xt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),bn("showing",xt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),bn("showing-multiple",xt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),fn("void => *",xn("120ms cubic-bezier(0, 0, 0.2, 1)")),fn("* => void",xn("100ms 25ms linear",xt({opacity:0})))])};let b6=0;const C6=new o.OlP("mat-select-scroll-strategy"),m7=new o.OlP("MAT_SELECT_CONFIG"),g7={provide:C6,deps:[Ou],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};class _7{constructor(t,e){this.source=t,this.value=e}}const y7=Cb(kO(bb(RO(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),v7=new o.OlP("MatSelectTrigger");let b7=(()=>{class n extends y7{constructor(e,i,r,s,a,d,g,C,I,T,O,L,q,te){var re,_e,Ve;super(a,s,g,C,T),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=I,this._liveAnnouncer=q,this._defaultOptions=te,this._panelOpen=!1,this._compareWith=(Pe,Ge)=>Pe===Ge,this._uid="mat-select-"+b6++,this._triggerAriaLabelledBy=null,this._destroy=new dt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+b6++,this._panelDoneAnimatingStream=new dt.x,this._overlayPanelClass=(null===(re=this._defaultOptions)||void 0===re?void 0:re.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ve=null===(_e=this._defaultOptions)||void 0===_e?void 0:_e.disableOptionCentering)&&void 0!==Ve&&Ve,this.ariaLabel="",this.optionSelectionChanges=_a(()=>{const Pe=this.options;return Pe?Pe.changes.pipe(di(Pe),$n(()=>(0,Mi.T)(...Pe.map(Ge=>Ge.onSelectionChange)))):this._ngZone.onStable.pipe((0,Dn.q)(1),$n(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(Sn(Pe=>Pe),(0,rt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Sn(Pe=>!Pe),(0,rt.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==te?void 0:te.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=te.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Ps.required))&&void 0!==s&&s}set required(e){this._required=vt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=vt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=vt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=yc(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new hT(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ow(),on(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(on(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(di(null),on(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!ho(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;a.onKeydown(e);const g=this.selected;g&&d!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||ho(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(d?g.select():g.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Dn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new SO(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(on(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(on(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Mi.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(on(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Mi.T)(...this.options.map(i=>i._stateChanges)).pipe(on(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(cT),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Ix),o.Y36(o.SBq),o.Y36(rs,8),o.Y36(Iu,8),o.Y36(Mf,8),o.Y36(JI,8),o.Y36(_c,10),o.$8M("tabindex"),o.Y36(C6),o.Y36(ft),o.Y36(m7,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(i7,5),o.Gf(r7,5),o.Gf(g6,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),zw=(()=>{class n extends b7{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(on(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Dn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=DU(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function(n,t,e,i){return n<e?n:n+t>e+256?Math.max(0,n-256+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new _7(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let C=this._selectionModel.selected[0]||this.options.first;a=C&&C.group?32:16}r||(a*=-1);const d=0-(e.left+a-(r?s:0)),g=e.right+a-i.width+(r?0:s);d>0?a+=d+8:g>0&&(a-=g+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*g-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),C=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;C>a?this._adjustPanelUp(C,a):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=DU(d,this.options,this.optionGroups);const g=r/2;this._scrollTop=this._calculateOverlayScroll(d,g,a),this._offsetY=this._calculateOverlayOffsetY(d,g,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,v7,5),o.Suo(r,xb,5),o.Suo(r,xU,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:Rx,useExisting:n},{provide:EU,useExisting:n}]),o.qOj],ngContentSelectors:d7,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(u7),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,s7,2,1,"span",3),o.YNc(5,l7,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA(),o.qZA(),o.YNc(8,c7,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[m6,Ys,Er,g6,cr,ie],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[v6.transformPanelWrap,v6.transformPanel]},changeDetection:0}),n})(),E6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[g7],imports:[[Jt,Lx,FO,En],j_,XI,FO,En]}),n})();const x6=new Set;let Gw,w7=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):E7}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!x6.has(n))try{Gw||(Gw=document.createElement("style"),Gw.setAttribute("type","text/css"),document.head.appendChild(Gw)),Gw.sheet&&(Gw.sheet.insertRule(`@media ${n} {body{ }}`,0),x6.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E7(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let x7=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new dt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return D6(ab(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=_l(D6(ab(e)).map(a=>this._registerQuery(a).observable));return s=es(s.pipe((0,Dn.q)(1)),s.pipe(zI(1),lb(0))),s.pipe((0,rt.U)(a=>{const d={matches:!1,breakpoints:{}};return a.forEach(({matches:g,query:C})=>{d.matches=d.matches||g,d.breakpoints[C]=g}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new oi.y(a=>{const d=g=>this._zone.run(()=>a.next(g));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(di(i),(0,rt.U)(({matches:a})=>({query:e,matches:a})),on(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(w7),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D6(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const S7={tooltipState:ui("state",[bn("initial, void, hidden",xt({opacity:0,transform:"scale(0)"})),bn("visible",xt({transform:"scale(1)"})),fn("* => visible",xn("200ms cubic-bezier(0, 0, 0.2, 1)",to([xt({opacity:0,transform:"scale(0)",offset:0}),xt({opacity:.5,transform:"scale(0.99)",offset:.5}),xt({opacity:1,transform:"scale(1)",offset:1})]))),fn("* => hidden",xn("100ms cubic-bezier(0, 0, 0.2, 1)",xt({opacity:0})))])},S6="tooltip-panel",A6=R_({passive:!0}),I6=new o.OlP("mat-tooltip-scroll-strategy"),M7={provide:I6,deps:[Ou],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},k7=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let O7=(()=>{class n{constructor(e,i,r,s,a,d,g,C,I,T,O,L){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=d,this._ariaDescriber=g,this._focusMonitor=C,this._dir=T,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new dt.x,this._handleKeydown=q=>{this._isTooltipVisible()&&27===q.keyCode&&!ho(q)&&(q.preventDefault(),q.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=I,this._document=L,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),T.change.pipe(on(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),a.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=vt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=yc(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=yc(e)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(on(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,A6)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new jw(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(on(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(on(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${S6}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(on(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(on(this._destroyed)).subscribe(()=>{var r;return null===(r=this._tooltipInstance)||void 0===r?void 0:r._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Dn.q)(1),on(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const d=this._overlayRef;if(d){const g=`${this._cssClassPrefix}-${S6}-`;d.removePanelClass(g+this._currentPosition),d.addPanelClass(g+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,A6)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),P7=(()=>{class n extends O7{constructor(e,i,r,s,a,d,g,C,I,T,O,L){super(e,i,r,s,a,d,g,C,I,T,O,L),this._tooltipComponent=F7}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ou),o.Y36(o.SBq),o.Y36(r6),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(kr),o.Y36(qI),o.Y36(hn),o.Y36(I6),o.Y36(rs,8),o.Y36(k7,8),o.Y36(ce))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),N7=(()=>{class n{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new dt.x}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const i=e.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n}),n})(),F7=(()=>{class n extends N7{constructor(e,i){super(e),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(x7))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){2&e&&o.Udp("zoom","visible"===i._visibility?1:null)},features:[o.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return i._animationStart()})("@state.done",function(s){return i._animationDone(s)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(1,5,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass)("@state",i._visibility),o.xp6(2),o.Oqu(i.message)}},directives:[ie],pipes:[$u],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[S7.tooltipState]},changeDetection:0}),n})(),L7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[M7],imports:[[Bw,Jt,Lx,En],En,j_]}),n})();function B7(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function V7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-select",17),o.NdJ("selectionChange",function(r){return o.CHM(e),o.oxw(2)._changePageSize(r.value)}),o.YNc(2,B7,2,2,"mat-option",18),o.qZA(),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function U7(n,t){if(1&n&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function j7(n,t){if(1&n&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,V7,3,6,"mat-form-field",14),o.YNc(4,U7,2,1,"div",15),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function H7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function z7(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let pT=(()=>{class n{constructor(){this.changes=new dt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q7={provide:pT,deps:[[new o.FiY,new o.tp0,pT]],useFactory:function(n){return n||new pT}},Z7=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),W7=bb(pU(class{}));let Y7=(()=>{class n extends W7{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:a,hidePageSize:d,showFirstLastButtons:g}=r;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=d&&(this._hidePageSize=d),null!=g&&(this._showFirstLastButtons=g)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(yc(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=yc(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(yc(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>yc(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=vt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=vt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[o.qOj]}),n})(),mT=(()=>{class n extends Y7{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(pT),o.Y36(o.sBO),o.Y36(Z7,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,j7,5,3,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,H7,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return i.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA(),o.qZA(),o.YNc(13,z7,3,5,"button",11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!i.hidePageSize),o.xp6(3),o.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),o.xp6(1),o.Q6J("ngIf",i.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),o.uIk("aria-label",i._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),o.uIk("aria-label",i._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",i.showFirstLastButtons))},directives:[sn,Qd,P7,Db,zw,jt,xb],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),K7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[q7],imports:[[Jt,LO,E6,L7,En]]}),n})();const J7=[[["caption"]],[["colgroup"],["col"]]],X7=["caption","colgroup, col"];function YO(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=vt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const qw=new o.OlP("CDK_TABLE");let $w=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Zw=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),gT=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class i9{}const r9=YO(i9);let Lm=(()=>{class n extends r9{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=vt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qw,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,$w,5),o.Suo(r,Zw,5),o.Suo(r,gT,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class KO{constructor(t,e){const i=e.nativeElement.classList;for(const r of t._columnCssClassName)i.add(r)}}let QO=(()=>{class n extends KO{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lm),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),JO=(()=>{class n extends KO{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lm),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class M6{constructor(){this.tasks=[],this.endTasks=[]}}const XO=new o.OlP("_COALESCED_STYLE_SCHEDULER");let k6=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new dt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new M6,this._getScheduleObservable().pipe(on(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new M6;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Cn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Dn.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),eP=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Ux?e.headerCell.template:this instanceof jx?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class s9 extends eP{}const o9=YO(s9);let Ux=(()=>{class n extends o9{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qw,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class a9 extends eP{}const l9=YO(a9);let jx=(()=>{class n extends l9{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qw,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),_T=(()=>{class n extends eP{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qw,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),Bm=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),tP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[Bm],encapsulation:2}),n})(),iP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[Bm],encapsulation:2}),n})(),yT=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const R6=["top","bottom","left","right"];class c9{constructor(t,e,i,r,s=!0,a=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,d=this._getCellWidths(s,r),g=this._getStickyStartColumnPositions(d,e),C=this._getStickyEndColumnPositions(d,i),I=e.lastIndexOf(!0),T=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,L=O?"right":"left",q=O?"left":"right";for(const te of t)for(let re=0;re<a;re++){const _e=te.children[re];e[re]&&this._addStickyStyle(_e,L,g[re],re===I),i[re]&&this._addStickyStyle(_e,q,C[re],re===T)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===I?[]:d.slice(0,I+1).map((te,re)=>e[re]?te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===T?[]:d.slice(T).map((te,re)=>i[re+T]?te:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],d=[],g=[];for(let I=0,T=0;I<r.length;I++){if(!s[I])continue;a[I]=T;const O=r[I];g[I]=this._isNativeHtmlTable?Array.from(O.children):[O];const L=O.getBoundingClientRect().height;T+=L,d[I]=L}const C=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var I,T;for(let O=0;O<r.length;O++){if(!s[O])continue;const L=a[O],q=O===C;for(const te of g[O])this._addStickyStyle(te,i,L,q)}"top"===i?null===(I=this._positionListener)||void 0===I||I.stickyHeaderRowsUpdated({sizes:d,offsets:a,elements:g}):null===(T=this._positionListener)||void 0===T||T.stickyFooterRowsUpdated({sizes:d,offsets:a,elements:g})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);R6.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of R6)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const rP=new o.OlP("CDK_SPL");let vT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),bT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),wT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),CT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),ET=(()=>{class n{constructor(e,i,r,s,a,d,g,C,I,T,O){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=g,this._viewRepeater=C,this._coalescedStyleScheduler=I,this._viewportRuler=T,this._stickyPositioningListener=O,this._onDestroy=new dt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new hr({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=vt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=vt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(on(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),WO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===s&&a.push(i[d]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let d=0;d<a.length;d++){let g=a[d];const C=this._cachedRenderRowsMap.get(g.data);C.has(g.rowDef)?C.get(g.rowDef).push(g):C.set(g.rowDef,[g]),e.push(g)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const d=r&&r.has(a)?r.get(a):[];if(d.length){const g=d.shift();return g.dataIndex=i,g}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),xT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=xT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=xT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=xT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,d)=>a||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],WO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;WO(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof oi.y||(0,Xi.m)(n.lift)&&(0,Xi.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=ct(this.dataSource)),this._renderChangeSubscription=e.pipe(on(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),s=r.map(d=>d.sticky),a=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Bm.mostRecentCellOutlet&&Bm.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new c9(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ct()).pipe(on(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&(null==a?void 0:a.nodeType)===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(rs,8),o.Y36(ce),o.Y36(kr),o.Y36(Bx),o.Y36(XO),o.Y36(cT),o.Y36(rP,12))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,yT,5),o.Suo(r,Lm,5),o.Suo(r,_T,5),o.Suo(r,Ux,5),o.Suo(r,jx,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(vT,7),o.Gf(bT,7),o.Gf(wT,7),o.Gf(CT,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:qw,useExisting:n},{provide:Bx,useClass:_6},{provide:XO,useClass:k6},{provide:rP,useValue:null}])],ngContentSelectors:X7,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(J7),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[bT,vT,CT,wT],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function xT(n,t){return n.concat(Array.from(t))}let d9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[HO]]}),n})();const h9=[[["caption"]],[["colgroup"],["col"]]],f9=["caption","colgroup, col"];let sP=(()=>{class n extends ET{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:Bx,useClass:_6},{provide:ET,useExisting:n},{provide:qw,useExisting:n},{provide:XO,useClass:k6},{provide:rP,useValue:null}]),o.qOj],ngContentSelectors:f9,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(h9),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[bT,vT,CT,wT],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),DT=(()=>{class n extends $w{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:$w,useExisting:n}]),o.qOj]}),n})(),ST=(()=>{class n extends Zw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:Zw,useExisting:n}]),o.qOj]}),n})(),AT=(()=>{class n extends Lm{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Lm,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),IT=(()=>{class n extends QO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),TT=(()=>{class n extends JO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),oP=(()=>{class n extends Ux{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:Ux,useExisting:n}]),o.qOj]}),n})(),aP=(()=>{class n extends _T{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:_T,useExisting:n}]),o.qOj]}),n})(),lP=(()=>{class n extends tP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:tP,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[Bm],encapsulation:2}),n})(),cP=(()=>{class n extends iP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:iP,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[Bm],encapsulation:2}),n})(),E9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[d9,En],En]}),n})();class P6 extends class extends class{}{constructor(t=[]){super(),this._renderData=new hr([]),this._filter=new hr(""),this._internalPageChanges=new dt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(dx(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,d)=>{let g=this.sortingDataAccessor(a,r),C=this.sortingDataAccessor(d,r);const I=typeof g,T=typeof C;I!==T&&("number"===I&&(g+=""),"number"===T&&(C+=""));let O=0;return null!=g&&null!=C?g>C?O=1:g<C&&(O=-1):null!=g?O=1:null!=C&&(O=-1),O*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,d)=>a+e[d]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new hr(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Mi.T)(this._sort.sortChange,this._sort.initialized):ct(null),i=this._paginator?(0,Mi.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):ct(null),s=_l([this._data,this._filter]).pipe((0,rt.U)(([g])=>this._filterData(g))),a=_l([s,e]).pipe((0,rt.U)(([g])=>this._orderData(g))),d=_l([a,i]).pipe((0,rt.U)(([g])=>this._pageData(g)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=d.subscribe(g=>this._renderData.next(g))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}function S9(n,t){}class uP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const A9={dialogContainer:ui("dialogContainer",[bn("void, exit",xt({opacity:0,transform:"scale(0.7)"})),bn("enter",xt({transform:"none"})),fn("* => enter",xn("150ms cubic-bezier(0, 0, 0.2, 1)",xt({transform:"none",opacity:1}))),fn("* => void, * => exit",xn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",xt({opacity:0})))])};let I9=(()=>{class n extends GO{constructor(e,i,r,s,a,d,g,C){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=a,this._interactivityChecker=d,this._ngZone=g,this._focusMonitor=C,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(I)),this._ariaLabelledBy=a.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=fb(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=fb())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=fb();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(l),o.Y36(o.sBO),o.Y36(ce,8),o.Y36(uP),o.Y36(ZI),o.Y36(o.R0b),o.Y36(hn))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(dT,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),T9=(()=>{class n extends I9{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,S9,0,0,"ng-template",0)},directives:[dT],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[A9.dialogContainer]}}),n})(),M9=0;class Ib{constructor(t,e,i="mat-dialog-"+M9++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new dt.x,this._afterClosed=new dt.x,this._beforeClosed=new dt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(Sn(r=>"opened"===r.state),(0,Dn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Sn(r=>"closed"===r.state),(0,Dn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Sn(r=>27===r.keyCode&&!this.disableClose&&!ho(r))).subscribe(r=>{r.preventDefault(),N6(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():N6(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Sn(e=>"closing"===e.state),(0,Dn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function N6(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const MT=new o.OlP("MatDialogData"),k9=new o.OlP("mat-dialog-default-options"),F6=new o.OlP("mat-dialog-scroll-strategy"),O9={provide:F6,deps:[Ou],useFactory:function(n){return()=>n.scrollStrategies.block()}};let P9=(()=>{class n{constructor(e,i,r,s,a,d,g,C,I,T){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._dialogRefConstructor=g,this._dialogContainerType=C,this._dialogDataToken=I,this._animationMode=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dt.x,this._afterOpenedAtThisLevel=new dt.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=_a(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(di(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){if(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new uP),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),s=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const d=s._animationStateChanged.subscribe(g=>{"opening"===g.state&&(this._dialogAnimatingOpen=!0),"opened"===g.state&&(this._dialogAnimatingOpen=!1,d.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new Ln.w0),this._animationStateSubscriptions.add(d)}const a=this._attachDialogContent(e,s,r,i);return this._lastDialogRef=a,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this._removeOpenDialog(a)),this.afterOpened.next(a),s._initializeWithAttachedContent(),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Fx({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:uP,useValue:i}]}),a=new jw(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(a).instance}_attachDialogContent(e,i,r,s){const a=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new uT(e,null,{$implicit:s.data,dialogRef:a}));else{const d=this._createInjector(s,a,i),g=i.attachComponentPortal(new jw(e,s.viewContainerRef,d));a.componentInstance=g.instance}return a.updateSize(s.width,s.height).updatePosition(s.position),a}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(rs,null,o.XFs.Optional))&&a.push({provide:rs,useValue:{value:e.direction,change:ct()}}),o.zs3.create({parent:s||this._injector,providers:a})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),kT=(()=>{class n extends P9{constructor(e,i,r,s,a,d,g,C){super(e,i,s,d,g,a,Ib,T9,MT,C)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ou),o.LFG(o.zs3),o.LFG(gt,8),o.LFG(k9,8),o.LFG(F6),o.LFG(n,12),o.LFG(ZO),o.LFG(so,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),F9=0,L9=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+F9++}ngOnInit(){this._dialogRef||(this._dialogRef=function(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ib,8),o.Y36(o.SBq),o.Y36(kT))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),B9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),V9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),j9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[kT,O9],imports:[[Lx,qO,En],En]}),n})();function dP(){return(0,Bn.e)((n,t)=>{let e,i=!1;n.subscribe(new ti.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}Z(4844);var hP=Z(8001);const L6=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},B6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,d=a?n[r+1]:0,g=r+2<n.length,C=g?n[r+2]:0;let O=(15&d)<<2|C>>6,L=63&C;g||(L=64,a||(O=64)),i.push(e[s>>2],e[(3&s)<<4|d>>4],e[O],e[L])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(L6(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const g=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(1023&g))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],d=r<n.length?e[n.charAt(r)]:0;++r;const C=r<n.length?e[n.charAt(r)]:64;++r;const T=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==d||null==C||null==T)throw new q9;i.push(s<<2|d>>4),64!==C&&(i.push(d<<4&240|C>>2),64!==T&&i.push(C<<6&192|T))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class q9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V6=function(n){return function(n){const t=L6(n);return B6.encodeByteArray(t,!0)}(n).replace(/\./g,"")},RT=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=n&&function(n){try{return B6.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};function Tb(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class OT extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,OT.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sK.prototype.create)}}class sK{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?function(n,t){return n.replace(aK,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new OT(r,`${this.serviceName}: ${a} (${r}).`,i)}}const aK=/\{\$([^}]+)}/g;function Fs(n){return n&&n._delegate?n._delegate:n}class gK{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const _P=[];var Zn=(()=>{return(n=Zn||(Zn={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Zn;var n})();const z6={debug:Zn.DEBUG,verbose:Zn.VERBOSE,info:Zn.INFO,warn:Zn.WARN,error:Zn.ERROR,silent:Zn.SILENT},bK=Zn.INFO,wK={[Zn.DEBUG]:"log",[Zn.VERBOSE]:"log",[Zn.INFO]:"info",[Zn.WARN]:"warn",[Zn.ERROR]:"error"},CK=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=wK[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};var at,xK="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jd={},yP=yP||{},Xt=xK||self;function NT(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Hx(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var vP="closure_uid_"+(1e9*Math.random()>>>0),SK=0;function AK(n,t,e){return n.call.apply(n.bind,arguments)}function IK(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Go(n,t,e){return(Go=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AK:IK).apply(null,arguments)}function FT(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ls(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var a=Array(arguments.length-2),d=2;d<arguments.length;d++)a[d-2]=arguments[d];return t.prototype[r].apply(i,a)}}function H_(){this.s=this.s,this.o=this.o}H_.prototype.s=!1,H_.prototype.sa=function(){var n;!this.s&&(this.s=!0,this.N(),0)&&(n=this,Object.prototype.hasOwnProperty.call(n,vP)&&n[vP]||(n[vP]=++SK))},H_.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const G6=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function bP(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function q6(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(NT(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function qo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}qo.prototype.h=function(){this.defaultPrevented=!0};var MK=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Xt.addEventListener("test",()=>{},t),Xt.removeEventListener("test",()=>{},t)}catch(e){}return n}();function zx(n){return/^[\s\xa0]*$/.test(n)}function LT(){var n=Xt.navigator;return n&&(n=n.userAgent)?n:""}function Nf(n){return-1!=LT().indexOf(n)}function wP(n){return wP[" "](n),n}wP[" "]=function(){};var EP,n,RK=Nf("Opera"),Ww=Nf("Trident")||Nf("MSIE"),$6=Nf("Edge"),CP=$6||Ww,Z6=Nf("Gecko")&&!(-1!=LT().toLowerCase().indexOf("webkit")&&!Nf("Edge"))&&!(Nf("Trident")||Nf("MSIE"))&&!Nf("Edge"),OK=-1!=LT().toLowerCase().indexOf("webkit")&&!Nf("Edge");function W6(){var n=Xt.document;return n?n.documentMode:void 0}e:{var xP="",DP=(n=LT(),Z6?/rv:([^\);]+)(\)|;)/.exec(n):$6?/Edge\/([\d\.]+)/.exec(n):Ww?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OK?/WebKit\/(\S+)/.exec(n):RK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(DP&&(xP=DP?DP[1]:""),Ww){var SP=W6();if(null!=SP&&SP>parseFloat(xP)){EP=String(SP);break e}}EP=xP}var PK=Xt.document&&Ww&&(W6()||parseInt(EP,10))||void 0;function Gx(n,t){if(qo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Z6){e:{try{wP(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:NK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gx.$.h.call(this)}}Ls(Gx,qo);var NK={2:"touch",3:"pen",4:"mouse"};Gx.prototype.h=function(){Gx.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qx="closure_listenable_"+(1e6*Math.random()|0),FK=0;function LK(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++FK,this.fa=this.ia=!1}function BT(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function IP(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function K6(n){const t={};for(const e in n)t[e]=n[e];return t}const Q6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J6(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Q6.length;s++)e=Q6[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function VT(n){this.src=n,this.g={},this.h=0}function TP(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=G6(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(BT(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function MP(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}VT.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=MP(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new LK(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var kP="closure_lm_"+(1e6*Math.random()|0),RP={};function X6(n,t,e,i,r){if(i&&i.once)return t3(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)X6(n,t[s],e,i,r);return null}return e=FP(e),n&&n[qx]?n.O(t,e,Hx(i)?!!i.capture:!!i,r):e3(n,t,e,!1,i,r)}function e3(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=Hx(r)?!!r.capture:!!r,d=PP(n);if(d||(n[kP]=d=new VT(n)),(e=d.add(t,e,i,a,s)).proxy)return e;if(i=function(){const t=UK;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)MK||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(r3(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function t3(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)t3(n,t[s],e,i,r);return null}return e=FP(e),n&&n[qx]?n.P(t,e,Hx(i)?!!i.capture:!!i,r):e3(n,t,e,!0,i,r)}function n3(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)n3(n,t[s],e,i,r);else i=Hx(i)?!!i.capture:!!i,e=FP(e),n&&n[qx]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=MP(s=n.g[t],e,i,r))&&(BT(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=PP(n))&&(t=n.g[t.toString()],n=-1,t&&(n=MP(t,e,i,r)),(e=-1<n?t[n]:null)&&OP(e))}function OP(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[qx])TP(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(r3(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=PP(t))?(TP(e,n),0==e.h&&(e.src=null,t[kP]=null)):BT(n)}}}function r3(n){return n in RP?RP[n]:RP[n]="on"+n}function UK(n,t){if(n.fa)n=!0;else{t=new Gx(t,this);var e=n.listener,i=n.la||n.src;n.ia&&OP(n),n=e.call(i,t)}return n}function PP(n){return(n=n[kP])instanceof VT?n:null}var NP="__closure_events_fn_"+(1e9*Math.random()>>>0);function FP(n){return"function"==typeof n?n:(n[NP]||(n[NP]=function(t){return n.handleEvent(t)}),n[NP])}function Bs(){H_.call(this),this.i=new VT(this),this.S=this,this.J=null}function mo(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new qo(t,n);else if(t instanceof qo)t.target=t.target||n;else{var r=t;J6(t=new qo(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=UT(a,i,!0,t)&&r}if(r=UT(a=t.g=n,i,!0,t)&&r,r=UT(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=UT(a=t.g=e[s],i,!1,t)&&r}function UT(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==e){var d=a.listener,g=a.la||a.src;a.ia&&TP(n.i,a),r=!1!==d.call(g,i)&&r}}return r&&!i.defaultPrevented}Ls(Bs,H_),Bs.prototype[qx]=!0,Bs.prototype.removeEventListener=function(n,t,e,i){n3(this,n,t,e,i)},Bs.prototype.N=function(){if(Bs.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)BT(e[i]);delete n.g[t],n.h--}}this.J=null},Bs.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Bs.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var LP=Xt.JSON.stringify;function HK(){var n=BP;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var s3=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new GK,n=>n.reset());class GK{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function qK(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function $K(n){Xt.setTimeout(()=>{throw n},0)}let $x,Zx=!1,BP=new class{constructor(){this.h=this.g=null}add(t,e){const i=s3.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},o3=()=>{const n=Xt.Promise.resolve(void 0);$x=()=>{n.then(ZK)}};var ZK=()=>{for(var n;n=HK();){try{n.h.call(n.g)}catch(e){$K(e)}var t=s3;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Zx=!1};function jT(n,t){Bs.call(this),this.h=n||1,this.g=t||Xt,this.j=Go(this.qb,this),this.l=Date.now()}function VP(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function UP(n,t,e){if("function"==typeof n)e&&(n=Go(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Go(n.handleEvent,n)}return 2147483647<Number(t)?-1:Xt.setTimeout(n,t||0)}function a3(n){n.g=UP(()=>{n.g=null,n.i&&(n.i=!1,a3(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ls(jT,Bs),(at=jT.prototype).ga=!1,at.T=null,at.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mo(this,"tick"),this.ga&&(VP(this),this.start()))}},at.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.N=function(){jT.$.N.call(this),VP(this),delete this.g};class WK extends H_{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:a3(this)}N(){super.N(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wx(n){H_.call(this),this.h=n,this.g={}}Ls(Wx,H_);var l3=[];function c3(n,t,e,i){Array.isArray(e)||(e&&(l3[0]=e.toString()),e=l3);for(var r=0;r<e.length;r++){var s=X6(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function u3(n){IP(n.g,function(t,e){this.g.hasOwnProperty(e)&&OP(t)},n),n.g={}}function HT(){this.g=!0}function Yw(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return LP(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}Wx.prototype.N=function(){Wx.$.N.call(this),u3(this)},Wx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},HT.prototype.Ea=function(){this.g=!1},HT.prototype.info=function(){};var kb={},d3=null;function zT(){return d3=d3||new Bs}function h3(n){qo.call(this,kb.Ta,n)}function Yx(n){const t=zT();mo(t,new h3(t))}function f3(n,t){qo.call(this,kb.STAT_EVENT,n),this.stat=t}function Ra(n){const t=zT();mo(t,new f3(t,n))}function p3(n,t){qo.call(this,kb.Ua,n),this.size=t}function Kx(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){n()},t)}kb.Ta="serverreachability",Ls(h3,qo),kb.STAT_EVENT="statevent",Ls(f3,qo),kb.Ua="timingevent",Ls(p3,qo);var GT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},m3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jP(){}function _3(){}jP.prototype.h=null;var GP,Qx={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function HP(){qo.call(this,"d")}function zP(){qo.call(this,"c")}function qT(){}function Jx(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Wx(this),this.P=XK,this.V=new jT(n=CP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new y3}function y3(){this.i=null,this.g="",this.h=!1}Ls(HP,qo),Ls(zP,qo),Ls(qT,jP),qT.prototype.g=function(){return new XMLHttpRequest},qT.prototype.i=function(){return{}},GP=new qT;var XK=45e3,qP={},$T={};function $P(n,t,e){n.L=1,n.v=KT(Vm(t)),n.s=e,n.S=!0,v3(n,null)}function v3(n,t){n.G=Date.now(),Xx(n),n.A=Vm(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),T3(e.i,"t",i),n.C=0,e=n.l.J,n.h=new y3,n.g=X3(n.l,e?t:null,!n.s),0<n.O&&(n.M=new WK(Go(n.Pa,n,n.g),n.O)),c3(n.U,n.g,"readystatechange",n.nb),t=n.I?K6(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Yx(),function(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",d=s.split("&"),g=0;g<d.length;g++){var C=d[g].split("=");if(1<C.length){var I=C[0];C=C[1];var T=I.split("_");a=2<=T.length&&"type"==T[1]?a+(I+"=")+C+"&":a+(I+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function b3(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function w3(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=eQ(n,e),r==$T){4==t&&(n.o=4,Ra(14),i=!1),Yw(n.j,n.m,null,"[Incomplete Response]");break}if(r==qP){n.o=4,Ra(15),Yw(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Yw(n.j,n.m,r,null),ZP(n,r)}b3(n)&&r!=$T&&r!=qP&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ra(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),eN(t),t.M=!0,Ra(11))):(Yw(n.j,n.m,e,"[Invalid Chunked Response]"),Rb(n),eD(n))}function eQ(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?$T:(e=Number(t.substring(e,i)),isNaN(e)?qP:(i+=1)+e>t.length?$T:(t=t.slice(i,i+e),n.C=i+e,t))}function Xx(n){n.Y=Date.now()+n.P,C3(n,n.P)}function C3(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kx(Go(n.lb,n),t)}function ZT(n){n.B&&(Xt.clearTimeout(n.B),n.B=null)}function eD(n){0==n.l.H||n.J||Y3(n.l,n)}function Rb(n){ZT(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,VP(n.V),u3(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function ZP(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||WP(e.i,n)))if(!n.K&&WP(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch(C){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Kx(Go(e.ib,e),6e3));else{if(e.g){if(!(e.g.G+3e3<n.G))break e;nM(e),eM(e)}XP(e),Ra(18)}if(1>=R3(e.i)&&e.oa){try{e.oa()}catch(C){}e.oa=void 0}}else Pb(e,11)}else if((n.K||e.g==n)&&nM(e),!zx(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let C=r[t];if(e.V=C[0],C=C[1],2==e.H)if("c"==C[0]){e.K=C[1],e.pa=C[2];const I=C[3];null!=I&&(e.ra=I,e.l.info("VER="+e.ra));const T=C[4];null!=T&&(e.Ga=T,e.l.info("SVER="+e.Ga));const O=C[5];null!=O&&"number"==typeof O&&0<O&&(e.L=i=1.5*O,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const L=n.g;if(L){const q=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var s=i.i;s.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(YP(s,s.h),s.h=null))}if(i.F){const te=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(i.Da=te,Hi(i.I,i.F,te))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=J3(i,i.J?i.pa:null,i.Y),a.K){O3(i.i,a);var d=a,g=i.L;g&&d.setTimeout(g),d.B&&(ZT(d),Xx(d)),i.g=a}else Z3(i);0<e.j.length&&tM(e)}else"stop"!=C[0]&&"close"!=C[0]||Pb(e,7);else 3==e.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Pb(e,7):JP(e):"noop"!=C[0]&&e.h&&e.h.Aa(C),e.A=0)}Yx()}catch(C){}}function E3(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(NT(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(NT(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(NT(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(at=Jx.prototype).setTimeout=function(n){this.P=n},at.nb=function(n){n=n.target;const t=this.M;t&&3==Ff(n)?t.l():this.Pa(n)},at.Pa=function(n){try{if(n==this.g)e:{const I=Ff(this.g);var t=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||CP||this.g&&(this.h.h||this.g.ja()||j3(this.g)))){this.J||4!=I||7==t||Yx(),ZT(this);var e=this.g.da();this.ca=e;t:if(b3(this)){var i=j3(this.g);n="";var r=i.length,s=4==Ff(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Rb(this),eD(this);var a="";break t}this.h.i=new Xt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,I,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zx(d)){var C=d;break t}}C=null}if(!(e=C)){this.i=!1,this.o=3,Ra(12),Rb(this),eD(this);break e}Yw(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ZP(this,e)}this.S?(w3(this,I,a),CP&&this.i&&3==I&&(c3(this.U,this.V,"tick",this.mb),this.V.start())):(Yw(this.j,this.m,a,null),ZP(this,a)),4==I&&Rb(this),this.i&&!this.J&&(4==I?Y3(this.l,this):(this.i=!1,Xx(this)))}else(function(n){const t={};n=(n.g&&2<=Ff(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(zx(n[i]))continue;var e=qK(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Ra(12)):(this.o=0,Ra(13)),Rb(this),eD(this)}}}catch(I){}},at.mb=function(){if(this.g){var n=Ff(this.g),t=this.g.ja();this.C<t.length&&(ZT(this),w3(this,n,t),this.i&&4!=n&&Xx(this))}},at.cancel=function(){this.J=!0,Rb(this)},at.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Yx(),Ra(17)),Rb(this),this.o=2,eD(this)):C3(this,this.Y-n)};var x3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ob(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ob){this.h=n.h,WT(this,n.j),this.s=n.s,this.g=n.g,YT(this,n.m),this.l=n.l;var t=n.i,e=new iD;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),D3(this,e),this.o=n.o}else n&&(t=String(n).match(x3))?(this.h=!1,WT(this,t[1]||"",!0),this.s=tD(t[2]||""),this.g=tD(t[3]||"",!0),YT(this,t[4]),this.l=tD(t[5]||"",!0),D3(this,t[6]||"",!0),this.o=tD(t[7]||"")):(this.h=!1,this.i=new iD(null,this.h))}function Vm(n){return new Ob(n)}function WT(n,t,e){n.j=e?tD(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function YT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function D3(n,t,e){t instanceof iD?(n.i=t,function(n,t){t&&!n.j&&(z_(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(A3(this,i),T3(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=nD(t,aQ)),n.i=new iD(t,n.h))}function Hi(n,t,e){n.i.set(t,e)}function KT(n){return Hi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tD(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nD(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,rQ),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ob.prototype.toString=function(){var n=[],t=this.j;t&&n.push(nD(t,S3,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(nD(t,S3,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(nD(e,"/"==e.charAt(0)?oQ:sQ,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",nD(e,lQ)),n.join("")};var S3=/[#\/\?@]/g,sQ=/[#\?:]/g,oQ=/[#\?]/g,aQ=/[#\?@]/g,lQ=/#/g;function iD(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function z_(n){n.g||(n.g=new Map,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function A3(n,t){z_(n),t=Kw(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function I3(n,t){return z_(n),t=Kw(n,t),n.g.has(t)}function T3(n,t,e){A3(n,t),0<e.length&&(n.i=null,n.g.set(Kw(n,t),bP(e)),n.h+=e.length)}function Kw(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function M3(n){this.l=n||dQ,n=Xt.PerformanceNavigationTiming?0<(n=Xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Xt.g&&Xt.g.Ka&&Xt.g.Ka()&&Xt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=iD.prototype).add=function(n,t){z_(this),this.i=null,n=Kw(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},at.forEach=function(n,t){z_(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},at.ta=function(){z_(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},at.Z=function(n){z_(this);let t=[];if("string"==typeof n)I3(this,n)&&(t=t.concat(this.g.get(Kw(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},at.set=function(n,t){return z_(this),this.i=null,I3(this,n=Kw(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},at.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var dQ=10;function k3(n){return!!n.h||!!n.g&&n.g.size>=n.j}function R3(n){return n.h?1:n.g?n.g.size:0}function WP(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function YP(n,t){n.g?n.g.add(t):n.h=t}function O3(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function P3(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return bP(n.i)}function fQ(){this.g=new class{stringify(n){return Xt.JSON.stringify(n,void 0)}parse(n){return Xt.JSON.parse(n,void 0)}}}function pQ(n,t,e){const i=e||"";try{E3(n,function(r,s){let a=r;Hx(r)&&(a=LP(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function QT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function rD(n){this.l=n.fc||null,this.j=n.ob||!1}function JT(n,t){Bs.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=KP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}M3.prototype.cancel=function(){if(this.i=P3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ls(rD,jP),rD.prototype.g=function(){return new JT(this.l,this.j)},rD.prototype.i=function(n){return function(){return n}}({}),Ls(JT,Bs);var KP=0;function N3(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sD(n){n.readyState=4,n.l=null,n.j=null,n.A=null,oD(n)}function oD(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=JT.prototype).open=function(n,t){if(this.readyState!=KP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,oD(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Xt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sD(this)),this.readyState=KP},at.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,oD(this)),this.g&&(this.readyState=3,oD(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;N3(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},at.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?sD(this):oD(this),3==this.readyState&&N3(this)}},at.Za=function(n){this.g&&(this.response=this.responseText=n,sD(this))},at.Ya=function(n){this.g&&(this.response=n,sD(this))},at.ka=function(){this.g&&sD(this)},at.setRequestHeader=function(n,t){this.v.append(n,t)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(JT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gQ=Xt.JSON.parse;function Rr(n){Bs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=F3,this.L=this.M=!1}Ls(Rr,Bs);var F3="",_Q=/^https?$/i,yQ=["POST","PUT"];function L3(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,B3(n),XT(n)}function B3(n){n.F||(n.F=!0,mo(n,"complete"),mo(n,"error"))}function V3(n){if(n.h&&void 0!==yP&&(!n.C[1]||4!=Ff(n)||2!=n.da()))if(n.v&&4==Ff(n))UP(n.La,0,n);else if(mo(n,"readystatechange"),4==Ff(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var r=String(n.I).match(x3)[1]||null;!r&&Xt.self&&Xt.self.location&&(r=Xt.self.location.protocol.slice(0,-1)),i=!_Q.test(r?r.toLowerCase():"")}e=i}if(e)mo(n,"complete"),mo(n,"success");else{n.m=6;try{var s=2<Ff(n)?n.g.statusText:""}catch(d){s=""}n.j=s+" ["+n.da()+"]",B3(n)}}finally{XT(n)}}}function XT(n,t){if(n.g){U3(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||mo(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function U3(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Xt.clearTimeout(n.A),n.A=null)}function Ff(n){return n.g?n.g.readyState:0}function j3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case F3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function H3(n){let t="";return IP(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function QP(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=H3(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Hi(n,t,e))}function aD(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function z3(n){this.Ga=0,this.j=[],this.l=new HT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=aD("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=aD("baseRetryDelayMs",5e3,n),this.hb=aD("retryDelaySeedMs",1e4,n),this.eb=aD("forwardChannelMaxRetries",2,n),this.xa=aD("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new M3(n&&n.concurrentRequestLimit),this.Ja=new fQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function JP(n){if(G3(n),3==n.H){var t=n.W++,e=Vm(n.I);if(Hi(e,"SID",n.K),Hi(e,"RID",t),Hi(e,"TYPE","terminate"),lD(n,e),(t=new Jx(n,n.l,t)).L=2,t.v=KT(Vm(e)),e=!1,Xt.navigator&&Xt.navigator.sendBeacon)try{e=Xt.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!e&&Xt.Image&&((new Image).src=t.v,e=!0),e||(t.g=X3(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Xx(t)}Q3(n)}function eM(n){n.g&&(eN(n),n.g.cancel(),n.g=null)}function G3(n){eM(n),n.u&&(Xt.clearTimeout(n.u),n.u=null),nM(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Xt.clearTimeout(n.m),n.m=null)}function tM(n){if(!k3(n.i)&&!n.m){n.m=!0;var t=n.Na;$x||o3(),Zx||($x(),Zx=!0),BP.add(t,n),n.C=0}}function q3(n,t){var e;e=t?t.m:n.W++;const i=Vm(n.I);Hi(i,"SID",n.K),Hi(i,"RID",e),Hi(i,"AID",n.V),lD(n,i),n.o&&n.s&&QP(i,n.o,n.s),e=new Jx(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=$3(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),YP(n.i,e),$P(e,i,t)}function lD(n,t){n.na&&IP(n.na,function(e,i){Hi(t,i,e)}),n.h&&E3({},function(e,i){Hi(t,i,e)})}function $3(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Go(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let d=!0;for(let g=0;g<e;g++){let C=r[g].g;const I=r[g].map;if(C-=s,0>C)s=Math.max(0,r[g].g-100),d=!1;else try{pQ(I,a,"req"+C+"_")}catch(T){i&&i(I)}}if(d){i=a.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function Z3(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;$x||o3(),Zx||($x(),Zx=!0),BP.add(t,n),n.A=0}}function XP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Kx(Go(n.Ma,n),K3(n,n.A)),n.A++,0))}function eN(n){null!=n.B&&(Xt.clearTimeout(n.B),n.B=null)}function W3(n){n.g=new Jx(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Vm(n.wa);Hi(t,"RID","rpc"),Hi(t,"SID",n.K),Hi(t,"AID",n.V),Hi(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Hi(t,"TO",n.qa),Hi(t,"TYPE","xmlhttp"),lD(n,t),n.o&&n.s&&QP(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=KT(Vm(t)),e.s=null,e.S=!0,v3(e,n)}function nM(n){null!=n.v&&(Xt.clearTimeout(n.v),n.v=null)}function Y3(n,t){var e=null;if(n.g==t){nM(n),eN(n),n.g=null;var i=2}else{if(!WP(n.i,t))return;e=t.F,O3(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;mo(i=zT(),new p3(i,e)),tM(n)}else Z3(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function(n,t){return!(R3(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Kx(Go(n.Na,n,t),K3(n,n.C)),n.C++,0)))}(n,t)||2==i&&XP(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Pb(n,5);break;case 4:Pb(n,10);break;case 3:Pb(n,6);break;default:Pb(n,2)}}function K3(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Pb(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Go(n.pb,n);e||(e=new Ob("//www.google.com/images/cleardot.gif"),Xt.location&&"http"==Xt.location.protocol||WT(e,"https"),KT(e)),function(n,t){const e=new HT;if(Xt.Image){const i=new Image;i.onload=FT(QT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=FT(QT,e,i,"TestLoadImage: error",!1,t),i.onabort=FT(QT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=FT(QT,e,i,"TestLoadImage: timeout",!1,t),Xt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ra(2);n.H=0,n.h&&n.h.za(t),Q3(n),G3(n)}function Q3(n){if(n.H=0,n.ma=[],n.h){const t=P3(n.i);(0!=t.length||0!=n.j.length)&&(q6(n.ma,t),q6(n.ma,n.j),n.i.i.length=0,bP(n.j),n.j.length=0),n.h.ya()}}function J3(n,t,e){var i=e instanceof Ob?Vm(e):new Ob(e);if(""!=i.g)t&&(i.g=t+"."+i.g),YT(i,i.m);else{var r=Xt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Ob(null);i&&WT(s,i),t&&(s.g=t),r&&YT(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Hi(i,e,t),Hi(i,"VER",n.ra),lD(n,i),i}function X3(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Rr(e&&n.Ha&&!n.va?new rD({ob:!0}):n.va)).Oa(n.J),t}function ej(){}function iM(){if(Ww&&!(10<=Number(PK)))throw Error("Environmental error: no available transport.")}function bc(n,t){Bs.call(this),this.g=new z3(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!zx(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zx(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Qw(this)}function tj(n){HP.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function nj(){zP.call(this),this.status=1}function Qw(n){this.g=n}function Xd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function tN(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],a=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;a=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(a<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=e+((a=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function hi(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(at=Rr.prototype).Oa=function(n){this.M=n},at.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GP.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:GP),this.g.onreadystatechange=Go(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void L3(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Xt.FormData&&n instanceof Xt.FormData,!(0<=G6(yQ,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of e)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{U3(this),0<this.B&&((this.L=function(n){return Ww&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Go(this.ua,this)):this.A=UP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){L3(this,s)}},at.ua=function(){void 0!==yP&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mo(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mo(this,"complete"),mo(this,"abort"),XT(this))},at.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),XT(this,!0)),Rr.$.N.call(this)},at.La=function(){this.s||(this.G||this.v||this.l?V3(this):this.kb())},at.kb=function(){V3(this)},at.isActive=function(){return!!this.g},at.da=function(){try{return 2<Ff(this)?this.g.status:-1}catch(n){return-1}},at.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),gQ(t)}},at.Ia=function(){return this.m},at.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=z3.prototype).ra=8,at.H=1,at.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Jx(this,this.l,n);let s=this.s;if(this.U&&(s?(s=K6(s),J6(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=$3(this,r,t),Hi(e=Vm(this.I),"RID",n),Hi(e,"CVER",22),this.F&&Hi(e,"X-HTTP-Session-Id",this.F),lD(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(H3(s)))+"&"+t:this.o&&QP(e,this.o,s)),YP(this.i,r),this.bb&&Hi(e,"TYPE","init"),this.P?(Hi(e,"$req",t),Hi(e,"SID","null"),r.aa=!0,$P(r,e,null)):$P(r,e,t),this.H=2}}else 3==this.H&&(n?q3(this,n):0==this.j.length||k3(this.i)||q3(this))},at.Ma=function(){if(this.u=null,W3(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Kx(Go(this.jb,this),n)}},at.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ra(10),eM(this),W3(this))},at.ib=function(){null!=this.v&&(this.v=null,eM(this),XP(this),Ra(19))},at.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ra(2)):(this.l.info("Failed to ping google.com"),Ra(1))},at.isActive=function(){return!!this.h&&this.h.isActive(this)},(at=ej.prototype).Ba=function(){},at.Aa=function(){},at.za=function(){},at.ya=function(){},at.isActive=function(){return!0},at.Va=function(){},iM.prototype.g=function(n,t){return new bc(n,t)},Ls(bc,Bs),bc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Ra(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=J3(n,null,n.Y),tM(n)},bc.prototype.close=function(){JP(this.g)},bc.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=LP(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&tM(t)},bc.prototype.N=function(){this.g.h=null,delete this.j,JP(this.g),delete this.g,bc.$.N.call(this)},Ls(tj,HP),Ls(nj,zP),Ls(Qw,ej),Qw.prototype.Ba=function(){mo(this.g,"a")},Qw.prototype.Aa=function(n){mo(this.g,new tj(n))},Qw.prototype.za=function(n){mo(this.g,new nj)},Qw.prototype.ya=function(){mo(this.g,"b")},Ls(Xd,function(){this.blockSize=-1}),Xd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xd.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)tN(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){tN(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){tN(this,i),r=0;break}}this.h=r,this.i+=t},Xd.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var EQ={};function nN(n){return-128<=n&&128>n?function(n,t){var e=EQ;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=function(t){return new hi([0|t],0>t?-1:0)}(n)}(n):new hi([0|n],0>n?-1:0)}function Lf(n){if(isNaN(n)||!isFinite(n))return Jw;if(0>n)return go(Lf(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=iN;return new hi(t,0)}var iN=4294967296,Jw=nN(0),rN=nN(1),rj=nN(16777216);function Um(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Pu(n){return-1==n.h}function go(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new hi(e,~n.h).add(rN)}function rM(n,t){return n.add(go(t))}function sM(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function cD(n,t){this.g=n,this.h=t}function oM(n,t){if(Um(t))throw Error("division by zero");if(Um(n))return new cD(Jw,Jw);if(Pu(n))return t=oM(go(n),t),new cD(go(t.g),go(t.h));if(Pu(t))return t=oM(n,go(t)),new cD(go(t.g),t.h);if(30<n.g.length){if(Pu(n)||Pu(t))throw Error("slowDivide_ only works with positive integers.");for(var e=rN,i=t;0>=i.X(n);)e=sj(e),i=sj(i);var r=Xw(e,1),s=Xw(i,1);for(i=Xw(i,2),e=Xw(e,2);!Um(i);){var a=s.add(i);0>=a.X(n)&&(r=r.add(e),s=a),i=Xw(i,1),e=Xw(e,1)}return t=rM(n,r.R(t)),new cD(r,t)}for(r=Jw;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(s=Lf(e)).R(t);Pu(a)||0<a.X(n);)a=(s=Lf(e-=i)).R(t);Um(s)&&(s=rN),r=r.add(s),n=rM(n,a)}return new cD(r,n)}function sj(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new hi(e,n.h)}function Xw(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new hi(r,n.h)}(at=hi.prototype).ea=function(){if(Pu(this))return-go(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:iN+i)*t,t*=iN}return n},at.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Um(this))return"0";if(Pu(this))return"-"+go(this).toString(n);for(var t=Lf(Math.pow(n,6)),e=this,i="";;){var r=oM(e,t).g,s=((0<(e=rM(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Um(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},at.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},at.X=function(n){return Pu(n=rM(this,n))?-1:Um(n)?0:1},at.abs=function(){return Pu(this)?go(this):this},at.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(s&=65535)}return new hi(e,-2147483648&e[e.length-1]?-1:0)},at.R=function(n){if(Um(this)||Um(n))return Jw;if(Pu(this))return Pu(n)?go(this).R(go(n)):go(go(this).R(n));if(Pu(n))return go(this.R(go(n)));if(0>this.X(rj)&&0>n.X(rj))return Lf(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),d=n.D(r)>>>16,g=65535&n.D(r);e[2*i+2*r]+=a*g,sM(e,2*i+2*r),e[2*i+2*r+1]+=s*g,sM(e,2*i+2*r+1),e[2*i+2*r+1]+=a*d,sM(e,2*i+2*r+1),e[2*i+2*r+2]+=s*d,sM(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new hi(e,0)},at.gb=function(n){return oM(this,n).h},at.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new hi(e,this.h&n.h)},at.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new hi(e,this.h|n.h)},at.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new hi(e,this.h^n.h)},iM.prototype.createWebChannel=iM.prototype.g,bc.prototype.send=bc.prototype.u,bc.prototype.open=bc.prototype.m,bc.prototype.close=bc.prototype.close,GT.NO_ERROR=0,GT.TIMEOUT=8,GT.HTTP_ERROR=6,m3.COMPLETE="complete",_3.EventType=Qx,Qx.OPEN="a",Qx.CLOSE="b",Qx.ERROR="c",Qx.MESSAGE="d",Bs.prototype.listen=Bs.prototype.O,Rr.prototype.listenOnce=Rr.prototype.P,Rr.prototype.getLastError=Rr.prototype.Sa,Rr.prototype.getLastErrorCode=Rr.prototype.Ia,Rr.prototype.getStatus=Rr.prototype.da,Rr.prototype.getResponseJson=Rr.prototype.Wa,Rr.prototype.getResponseText=Rr.prototype.ja,Rr.prototype.send=Rr.prototype.ha,Rr.prototype.setWithCredentials=Rr.prototype.Oa,Xd.prototype.digest=Xd.prototype.l,Xd.prototype.reset=Xd.prototype.reset,Xd.prototype.update=Xd.prototype.j,hi.prototype.add=hi.prototype.add,hi.prototype.multiply=hi.prototype.R,hi.prototype.modulo=hi.prototype.gb,hi.prototype.compare=hi.prototype.X,hi.prototype.toNumber=hi.prototype.ea,hi.prototype.toString=hi.prototype.toString,hi.prototype.getBits=hi.prototype.D,hi.fromNumber=Lf,hi.fromString=function ij(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return go(ij(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Lf(Math.pow(t,8)),i=Jw,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+s),t);8>s?(s=Lf(Math.pow(t,s)),i=i.R(s).add(Lf(a))):i=(i=i.R(e)).add(Lf(a))}return i};var xQ=Jd.createWebChannelTransport=function(){return new iM},DQ=Jd.getStatEventTarget=function(){return zT()},sN=Jd.ErrorCode=GT,SQ=Jd.EventType=m3,AQ=Jd.Event=kb,oj=Jd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IQ=Jd.FetchXmlHttpFactory=rD,aM=Jd.WebChannel=_3,TQ=Jd.XhrIo=Rr,MQ=Jd.Md5=Xd,eC=Jd.Integer=hi;const aj="@firebase/firestore";class Vs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vs.UNAUTHENTICATED=new Vs(null),Vs.GOOGLE_CREDENTIALS=new Vs("google-credentials-uid"),Vs.FIRST_PARTY=new Vs("first-party-uid"),Vs.MOCK_USER=new Vs("mock-user");let tC="9.23.0";const G_=new class{constructor(t){this.name=t,this._logLevel=bK,this._logHandler=CK,this._userLogHandler=null,_P.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?z6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zn.DEBUG,...t),this._logHandler(this,Zn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zn.VERBOSE,...t),this._logHandler(this,Zn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zn.INFO,...t),this._logHandler(this,Zn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zn.WARN,...t),this._logHandler(this,Zn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zn.ERROR,...t),this._logHandler(this,Zn.ERROR,...t)}}("@firebase/firestore");function oN(){return G_.logLevel}function je(n,...t){if(G_.logLevel<=Zn.DEBUG){const e=t.map(aN);G_.debug(`Firestore (${tC}): ${n}`,...e)}}function qr(n,...t){if(G_.logLevel<=Zn.ERROR){const e=t.map(aN);G_.error(`Firestore (${tC}): ${n}`,...e)}}function Nu(n,...t){if(G_.logLevel<=Zn.WARN){const e=t.map(aN);G_.warn(`Firestore (${tC}): ${n}`,...e)}}function aN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function mt(n="Unexpected state"){const t=`FIRESTORE (${tC}) INTERNAL ASSERTION FAILED: `+n;throw qr(t),new Error(t)}function St(n,t){n||mt()}function it(n,t){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends OT{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class lj{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Vs.UNAUTHENTICATED))}shutdown(){}}class PQ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class NQ{constructor(t){this.t=t,this.currentUser=Vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=C=>this.i!==r?(r=this.i,e(C)):Promise.resolve();let a=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gs,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const C=a;t.enqueueRetryable((0,G.Z)(function*(){yield C.promise,yield s(i.currentUser)}))},g=C=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(C=>g(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?g(C):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new lj(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new Vs(t)}}class FQ{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Vs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class LQ{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new FQ(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cj{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BQ{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,je("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(St("string"==typeof e.token),this.T=e.token,new cj(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function VQ(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class uj{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=VQ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Qt(n,t){return n<t?-1:n>t?1:0}function nC(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function dj(n){return n+"\0"}class ir{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Le(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Le(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Le(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Le(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ir.fromMillis(Date.now())}static fromDate(t){return ir.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ir(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new ir(0,0))}static max(){return new At(new ir(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class uD{constructor(t,e,i){void 0===e?e=0:e>t.length&&mt(),void 0===i?i=t.length-e:i>t.length-e&&mt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===uD.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof uD?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Un extends uD{construct(t,e,i){return new Un(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Le(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Un(e)}static emptyPath(){return new Un([])}}const UQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends uD{construct(t,e,i){return new Or(t,e,i)}static isValidIdentifier(t){return UQ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Le(pe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Le(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Le(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===d?(a=!a,r++):"."!==d||a?(i+=d,r++):(s(),r++)}if(s(),a)throw new Le(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Or(e)}static emptyPath(){return new Or([])}}class tt{constructor(t){this.path=t}static fromPath(t){return new tt(Un.fromString(t))}static fromName(t){return new tt(Un.fromString(t).popFirst(5))}static empty(){return new tt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Un.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Un.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new Un(t.slice()))}}class lM{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function lN(n){return n.fields.find(t=>2===t.kind)}function Nb(n){return n.fields.filter(t=>2!==t.kind)}lM.UNKNOWN_ID=-1;class cM{constructor(t,e){this.fieldPath=t,this.kind=e}}class dD{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new dD(0,wc.min())}}function hj(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new ir(e+1,0):new ir(e,i));return new wc(r,tt.empty(),t)}function fj(n){return new wc(n.readTime,n.key,-1)}class wc{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new wc(At.min(),tt.empty(),-1)}static max(){return new wc(At.max(),tt.empty(),-1)}}function cN(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=tt.comparator(n.documentKey,t.documentKey),0!==e?e:Qt(n.largestBatchId,t.largestBatchId))}const pj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function q_(n){return uN.apply(this,arguments)}function uN(){return uN=(0,G.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==pj)throw n;je("LocalStore","Unexpectedly lost primary lease")}),uN.apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof fe?e:fe.resolve(e)}catch(e){return fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.reject(e)}static resolve(t){return new fe((e,i)=>{e(t)})}static reject(t){return new fe((e,i)=>{i(t)})}static waitFor(t){return new fe((e,i)=>{let r=0,s=0,a=!1;t.forEach(d=>{++r,d.next(()=>{++s,a&&s===r&&e()},g=>i(g))}),a=!0,s===r&&e()})}static or(t){let e=fe.resolve(!1);for(const i of t)e=e.next(r=>r?fe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new fe((i,r)=>{const s=t.length,a=new Array(s);let d=0;for(let g=0;g<s;g++){const C=g;e(t[C]).next(I=>{a[C]=I,++d,d===s&&i(a)},I=>r(I))}})}static doWhile(t,e){return new fe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class uM{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new gs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new hD(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=dN(i.target.error);this.v.reject(new hD(t,r))}}static open(t,e,i,r){try{return new uM(e,t.transaction(r,i))}catch(s){throw new hD(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(je("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new GQ(e)}}class eh{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===eh.S(Tb())&&qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return je("SimpleDb","Removing database:",t),Fb(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!function(){try{return"object"==typeof indexedDB}catch(n){return!1}}())return!1;if(eh.C())return!0;const t=Tb(),e=eh.S(t),i=0<e&&e<10,r=eh.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,G.Z)(function*(){return e.db||(je("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new hD(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const d=a.target.error;r("VersionError"===d.name?new Le(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Le(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new hD(t,d))},s.onupgradeneeded=a=>{je("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{je("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,G.Z)(function*(){const a="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.$(t);const g=uM.open(s.db,t,a?"readonly":"readwrite",i),C=r(g).next(I=>(g.P(),I)).catch(I=>(g.abort(I),fe.reject(I))).toPromise();return C.catch(()=>{}),yield g.R,C}catch(g){const C=g,I="FirebaseError"!==C.name&&d<3;if(je("SimpleDb","Transaction failed with error:",C.message,"Retrying:",I),s.close(),!I)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zQ{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Fb(this.L.delete())}}class hD extends Le{constructor(t,e){super(pe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function $_(n){return"IndexedDbTransactionError"===n.name}class GQ{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(je("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Fb(i)}add(t){return je("SimpleDb","ADD",this.store.name,t,t),Fb(this.store.add(t))}get(t){return Fb(this.store.get(t)).next(e=>(void 0===e&&(e=null),je("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return je("SimpleDb","DELETE",this.store.name,t),Fb(this.store.delete(t))}count(){return je("SimpleDb","COUNT",this.store.name),Fb(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(a,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new fe((s,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new fe((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,a,d)=>d.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new fe((i,r)=>{e.onerror=s=>{const a=dN(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(d=>{d?a.continue():i()}):i()}})}W(t,e){const i=[];return new fe((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const d=a.target.result;if(!d)return void r();const g=new zQ(d),C=e(d.primaryKey,d.value,g);if(C instanceof fe){const I=C.catch(T=>(g.done(),fe.reject(T)));i.push(I)}g.isDone?r():null===g.K?d.continue():d.continue(g.K)}}).next(()=>fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Fb(n){return new fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=dN(i.target.error);e(r)}})}let gj=!1;function dN(n){const t=eh.S(Tb());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gj||(gj=!0,setTimeout(()=>{throw i},0)),i}}return n}class qQ{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;je("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,G.Z)(function*(){e.task=null;try{je("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){$_(i)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield q_(i)}yield e.et(6e4)}))}}class $Q{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,G.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return fe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return je("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(d=>{r-=d,i.add(a)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,s)).next(d=>(je("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const a=fj(s);cN(a,i)>0&&(i=a)}),new wc(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Cc=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function fD(n){return null==n}function pD(n){return 0===n&&1/n==-1/0}function _j(n){return"number"==typeof n&&Number.isInteger(n)&&!pD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function $o(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=yj(t)),t=ZQ(n.get(e),t);return yj(t)}function ZQ(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function yj(n){return n+"\x01\x01"}function Bf(n){const t=n.length;if(St(t>=2),2===t)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&mt(),n.charAt(a+1)){case"\x01":const d=n.substring(s,a);let g;0===r.length?g=d:(r+=d,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:mt()}s=a+2}return new Un(i)}const vj=["userId","batchId"];function dM(n,t){return[n,$o(t)]}function bj(n,t,e){return[n,$o(t),e]}const WQ={},YQ=["prefixPath","collectionGroup","readTime","documentId"],KQ=["prefixPath","collectionGroup","documentId"],QQ=["collectionGroup","readTime","prefixPath","documentId"],JQ=["canonicalId","targetId"],XQ=["targetId","path"],eJ=["path","targetId"],tJ=["collectionId","parent"],nJ=["indexId","uid"],iJ=["uid","sequenceNumber"],rJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sJ=["indexId","uid","orderedDocumentKey"],oJ=["userId","collectionPath","documentId"],aJ=["userId","collectionPath","largestBatchId"],lJ=["userId","collectionGroup","largestBatchId"],wj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cJ=[...wj,"documentOverlays"],Cj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ej=Cj,uJ=[...Ej,"indexConfiguration","indexState","indexEntries"];class hN extends mj{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Us(n,t){const e=it(n);return eh.M(e.ht,t)}function xj(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Z_(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Dj(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ki{constructor(t,e){this.comparator=t,this.root=e||_o.EMPTY}insert(t,e){return new ki(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,_o.BLACK,null,null))}remove(t){return new ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_o.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hM(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hM(this.root,t,this.comparator,!1)}getReverseIterator(){return new hM(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hM(this.root,t,this.comparator,!0)}}class hM{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _o{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:_o.RED,this.left=null!=r?r:_o.EMPTY,this.right=null!=s?s:_o.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new _o(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _o.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return _o.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_o.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const t=this.left.check();if(t!==this.right.check())throw mt();return t+(this.isRed()?0:1)}}_o.EMPTY=null,_o.RED=!0,_o.BLACK=!1,_o.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new _o(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zi{constructor(t){this.comparator=t,this.data=new ki(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Sj(this.data.getIterator())}getIteratorFrom(t){return new Sj(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof zi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new zi(this.comparator);return e.data=t,e}}class Sj{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function iC(n){return n.hasNext()?n.getNext():void 0}class Al{constructor(t){this.fields=t,t.sort(Or.comparator)}static empty(){return new Al([])}unionWith(t){let e=new zi(Or.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Al(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nC(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Aj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _s{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw"undefined"!=typeof DOMException&&r instanceof DOMException?new Aj("Invalid base64 string: "+r):r}}(t);return new _s(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new _s(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const hJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function W_(n){if(St(!!n),"string"==typeof n){let t=0;const e=hJ.exec(n);if(St(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pr(n.seconds),nanos:Pr(n.nanos)}}function Pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jm(n){return"string"==typeof n?_s.fromBase64String(n):_s.fromUint8Array(n)}function fM(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function pM(n){const t=n.mapValue.fields.__previous_value__;return fM(t)?pM(t):t}function mD(n){const t=W_(n.mapValue.fields.__local_write_time__.timestampValue);return new ir(t.seconds,t.nanos)}class fJ{constructor(t,e,i,r,s,a,d,g,C){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=C}}class Y_{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Y_("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Y_&&t.projectId===this.projectId&&t.database===this.database}}const K_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mM={nullValue:"NULL_VALUE"};function Q_(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fM(n)?4:kj(n)?9007199254740991:10:mt()}function Vf(n,t){if(n===t)return!0;const e=Q_(n);if(e!==Q_(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mD(n).isEqual(mD(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=W_(i.timestampValue),a=W_(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,jm(n.bytesValue).isEqual(jm(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Pr(i.geoPointValue.latitude)===Pr(r.geoPointValue.latitude)&&Pr(i.geoPointValue.longitude)===Pr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Pr(i.integerValue)===Pr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Pr(i.doubleValue),a=Pr(r.doubleValue);return s===a?pD(s)===pD(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return nC(n.arrayValue.values||[],t.arrayValue.values||[],Vf);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(xj(s)!==xj(a))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===a[d]||!Vf(s[d],a[d])))return!1;return!0}(n,t);default:return mt()}var r}function gD(n,t){return void 0!==(n.values||[]).find(e=>Vf(e,t))}function J_(n,t){if(n===t)return 0;const e=Q_(n),i=Q_(t);if(e!==i)return Qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=Pr(r.integerValue||r.doubleValue),d=Pr(s.integerValue||s.doubleValue);return a<d?-1:a>d?1:a===d?0:isNaN(a)?isNaN(d)?0:-1:1}(n,t);case 3:return Ij(n.timestampValue,t.timestampValue);case 4:return Ij(mD(n),mD(t));case 5:return Qt(n.stringValue,t.stringValue);case 6:return function(r,s){const a=jm(r),d=jm(s);return a.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),d=s.split("/");for(let g=0;g<a.length&&g<d.length;g++){const C=Qt(a[g],d[g]);if(0!==C)return C}return Qt(a.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=Qt(Pr(r.latitude),Pr(s.latitude));return 0!==a?a:Qt(Pr(r.longitude),Pr(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],d=s.values||[];for(let g=0;g<a.length&&g<d.length;++g){const C=J_(a[g],d[g]);if(C)return C}return Qt(a.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===K_.mapValue&&s===K_.mapValue)return 0;if(r===K_.mapValue)return 1;if(s===K_.mapValue)return-1;const a=r.fields||{},d=Object.keys(a),g=s.fields||{},C=Object.keys(g);d.sort(),C.sort();for(let I=0;I<d.length&&I<C.length;++I){const T=Qt(d[I],C[I]);if(0!==T)return T;const O=J_(a[d[I]],g[C[I]]);if(0!==O)return O}return Qt(d.length,C.length)}(n.mapValue,t.mapValue);default:throw mt()}}function Ij(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qt(n,t);const e=W_(n),i=W_(t),r=Qt(e.seconds,i.seconds);return 0!==r?r:Qt(e.nanos,i.nanos)}function rC(n){return fN(n)}function fN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=W_(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jm(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=fN(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const d of r)a?a=!1:s+=",",s+=`${d}:${fN(i.fields[d])}`;return s+"}"}(n.mapValue):mt();var t}function Lb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function pN(n){return!!n&&"integerValue"in n}function _D(n){return!!n&&"arrayValue"in n}function Tj(n){return!!n&&"nullValue"in n}function Mj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _M(n){return!!n&&"mapValue"in n}function yD(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Z_(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=yD(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yD(n.arrayValue.values[e]);return t}return Object.assign({},n)}function kj(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function pJ(n){return"nullValue"in n?mM:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Lb(Y_.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function mJ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Lb(Y_.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?K_:mt()}function Rj(n,t){const e=J_(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Oj(n,t){const e=J_(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class yo{constructor(t){this.value=t}static empty(){return new yo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!_M(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yD(e)}setAll(t){let e=Or.emptyPath(),i={},r=[];t.forEach((a,d)=>{if(!e.isImmediateParentOf(d)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=d.popLast()}a?i[d.lastSegment()]=yD(a):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());_M(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vf(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];_M(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Z_(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new yo(yD(this.value))}}function Pj(n){const t=[];return Z_(n.fields,(e,i)=>{const r=new Or([e]);if(_M(i)){const s=Pj(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Al(t)}class Gi{constructor(t,e,i,r,s,a,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=d}static newInvalidDocument(t){return new Gi(t,0,At.min(),At.min(),At.min(),yo.empty(),0)}static newFoundDocument(t,e,i,r){return new Gi(t,1,e,At.min(),i,r,0)}static newNoDocument(t,e){return new Gi(t,2,e,At.min(),At.min(),yo.empty(),0)}static newUnknownDocument(t,e){return new Gi(t,3,e,At.min(),At.min(),yo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Gi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class X_{constructor(t,e){this.position=t,this.inclusive=e}}function Nj(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?tt.comparator(tt.fromName(a.referenceValue),e.key):J_(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Fj(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vf(n.position[e],t.position[e]))return!1;return!0}class sC{constructor(t,e="asc"){this.field=t,this.dir=e}}function gJ(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Lj{}class An extends Lj{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new _J(t,e,i):"array-contains"===e?new bJ(t,i):"in"===e?new zj(t,i):"not-in"===e?new wJ(t,i):"array-contains-any"===e?new CJ(t,i):new An(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new yJ(t,i):new vJ(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(J_(e,this.value)):null!==e&&Q_(this.value)===Q_(e)&&this.matchesComparison(J_(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fi extends Lj{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new fi(t,e)}matches(t){return oC(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function oC(n){return"and"===n.op}function mN(n){return"or"===n.op}function gN(n){return Bj(n)&&oC(n)}function Bj(n){for(const t of n.filters)if(t instanceof fi)return!1;return!0}function _N(n){if(n instanceof An)return n.field.canonicalString()+n.op.toString()+rC(n.value);if(gN(n))return n.filters.map(t=>_N(t)).join(",");{const t=n.filters.map(e=>_N(e)).join(",");return`${n.op}(${t})`}}function Vj(n,t){return n instanceof An?(e=n,(i=t)instanceof An&&e.op===i.op&&e.field.isEqual(i.field)&&Vf(e.value,i.value)):n instanceof fi?function(e,i){return i instanceof fi&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,a)=>r&&Vj(s,i.filters[a]),!0)}(n,t):void mt();var e,i}function Uj(n,t){const e=n.filters.concat(t);return fi.create(e,n.op)}function jj(n){return n instanceof An?`${(t=n).field.canonicalString()} ${t.op} ${rC(t.value)}`:n instanceof fi?function(t){return t.op.toString()+" {"+t.getFilters().map(jj).join(" ,")+"}"}(n):"Filter";var t}class _J extends An{constructor(t,e,i){super(t,e,i),this.key=tt.fromName(i.referenceValue)}matches(t){const e=tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class yJ extends An{constructor(t,e){super(t,"in",e),this.keys=Hj(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class vJ extends An{constructor(t,e){super(t,"not-in",e),this.keys=Hj(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Hj(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>tt.fromName(i.referenceValue))}class bJ extends An{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return _D(e)&&gD(e.arrayValue,this.value)}}class zj extends An{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&gD(this.value.arrayValue,e)}}class wJ extends An{constructor(t,e){super(t,"not-in",e)}matches(t){if(gD(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!gD(this.value.arrayValue,e)}}class CJ extends An{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!_D(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>gD(this.value.arrayValue,i))}}class EJ{constructor(t,e=null,i=[],r=[],s=null,a=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=d,this.dt=null}}function yN(n,t=null,e=[],i=[],r=null,s=null,a=null){return new EJ(n,t,e,i,r,s,a)}function Bb(n){const t=it(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>_N(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),fD(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>rC(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>rC(i)).join(",")),t.dt=e}return t.dt}function vD(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!gJ(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Vj(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Fj(n.startAt,t.startAt)&&Fj(n.endAt,t.endAt)}function yM(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vM(n,t){return n.filters.filter(e=>e instanceof An&&e.field.isEqual(t))}function Gj(n,t,e){let i=mM,r=!0;for(const s of vM(n,t)){let a=mM,d=!0;switch(s.op){case"<":case"<=":a=pJ(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,d=!1;break;case"!=":case"not-in":a=mM}Rj({value:i,inclusive:r},{value:a,inclusive:d})<0&&(i=a,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];Rj({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function qj(n,t,e){let i=K_,r=!0;for(const s of vM(n,t)){let a=K_,d=!0;switch(s.op){case">=":case">":a=mJ(s.value),d=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,d=!1;break;case"!=":case"not-in":a=K_}Oj({value:i,inclusive:r},{value:a,inclusive:d})>0&&(i=a,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];Oj({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Hm{constructor(t,e=null,i=[],r=[],s=null,a="F",d=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=d,this.endAt=g,this.wt=null,this._t=null}}function $j(n,t,e,i,r,s,a,d){return new Hm(n,t,e,i,r,s,a,d)}function aC(n){return new Hm(n)}function Zj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function bM(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function bN(n){return null!==n.collectionGroup}function Vb(n){const t=it(n);if(null===t.wt){t.wt=[];const e=bM(t),i=vN(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new sC(e)),t.wt.push(new sC(Or.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new sC(Or.keyField(),s))}}}return t.wt}function Oa(n){const t=it(n);if(!t._t)if("F"===t.limitType)t._t=yN(t.path,t.collectionGroup,Vb(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Vb(t))e.push(new sC(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new X_(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new X_(t.startAt.position,t.startAt.inclusive):null;t._t=yN(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function wN(n,t){t.getFirstInequalityField(),bM(n);const e=n.filters.concat([t]);return new Hm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function wM(n,t,e){return new Hm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bD(n,t){return vD(Oa(n),Oa(t))&&n.limitType===t.limitType}function Wj(n){return`${Bb(Oa(n))}|lt:${n.limitType}`}function CN(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>jj(i)).join(", ")}]`),fD(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>rC(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>rC(i)).join(",")),`Target(${e})`}(Oa(n))}; limitType=${n.limitType})`}function wD(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):tt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Vb(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const d=Nj(r,s,a);return r.inclusive?d<=0:d<0}(e.startAt,Vb(e),i)||e.endAt&&!function(r,s,a){const d=Nj(r,s,a);return r.inclusive?d>=0:d>0}(e.endAt,Vb(e),i)));var e,i}function Yj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Kj(n){return(t,e)=>{let i=!1;for(const r of Vb(n)){const s=xJ(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function xJ(n,t,e){const i=n.field.isKeyField()?tt.comparator(t.key,e.key):function(r,s,a){const d=s.data.field(r),g=a.data.field(r);return null!==d&&null!==g?J_(d,g):mt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}class zm{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Z_(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Dj(this.inner)}size(){return this.innerSize}}const DJ=new ki(tt.comparator);function Il(){return DJ}const Qj=new ki(tt.comparator);function CD(...n){let t=Qj;for(const e of n)t=t.insert(e.key,e);return t}function Jj(n){let t=Qj;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Uf(){return ED()}function Xj(){return ED()}function ED(){return new zm(n=>n.toString(),(n,t)=>n.isEqual(t))}const SJ=new ki(tt.comparator),AJ=new zi(tt.comparator);function un(...n){let t=AJ;for(const e of n)t=t.add(e);return t}const IJ=new zi(Qt);function EN(){return IJ}function eH(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pD(t)?"-0":t}}function tH(n){return{integerValue:""+n}}function nH(n,t){return _j(t)?tH(t):eH(n,t)}class CM{constructor(){this._=void 0}}function TJ(n,t,e){return n instanceof lC?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&fM(r)&&(r=pM(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Ub?rH(n,t):n instanceof jb?sH(n,t):function(i,r){const s=iH(i,r),a=oH(s)+oH(i.gt);return pN(s)&&pN(i.gt)?tH(a):eH(i.serializer,a)}(n,t)}function MJ(n,t,e){return n instanceof Ub?rH(n,t):n instanceof jb?sH(n,t):e}function iH(n,t){return n instanceof cC?pN(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class lC extends CM{}class Ub extends CM{constructor(t){super(),this.elements=t}}function rH(n,t){const e=aH(t);for(const i of n.elements)e.some(r=>Vf(r,i))||e.push(i);return{arrayValue:{values:e}}}class jb extends CM{constructor(t){super(),this.elements=t}}function sH(n,t){let e=aH(t);for(const i of n.elements)e=e.filter(r=>!Vf(r,i));return{arrayValue:{values:e}}}class cC extends CM{constructor(t,e){super(),this.serializer=t,this.gt=e}}function oH(n){return Pr(n.integerValue||n.doubleValue)}function aH(n){return _D(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xD{constructor(t,e){this.field=t,this.transform=e}}class RJ{constructor(t,e){this.version=t,this.transformResults=e}}class rr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new rr}static exists(t){return new rr(void 0,t)}static updateTime(t){return new rr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function EM(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class xM{}function lH(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new dC(n.key,rr.none()):new uC(n.key,n.data,rr.none());{const e=n.data,i=yo.empty();let r=new zi(Or.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);null===a&&s.length>1&&(s=s.popLast(),a=e.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new Gm(n.key,i,new Al(r.toArray()),rr.none())}}function OJ(n,t,e){n instanceof uC?function(i,r,s){const a=i.value.clone(),d=dH(i.fieldTransforms,r,s.transformResults);a.setAll(d),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Gm?function(i,r,s){if(!EM(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=dH(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(uH(i)),d.setAll(a),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function DD(n,t,e,i){return n instanceof uC?function(r,s,a,d){if(!EM(r.precondition,s))return a;const g=r.value.clone(),C=hH(r.fieldTransforms,d,s);return g.setAll(C),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Gm?function(r,s,a,d){if(!EM(r.precondition,s))return a;const g=hH(r.fieldTransforms,d,s),C=s.data;return C.setAll(uH(r)),C.setAll(g),s.convertToFoundDocument(s.version,C).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,t,e,i):(a=e,EM(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function PJ(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=iH(i.transform,r||null);null!=s&&(null===e&&(e=yo.empty()),e.set(i.field,s))}return e||null}function cH(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&nC(e,i,(r,s)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Ub&&i instanceof Ub||e instanceof jb&&i instanceof jb?nC(e.elements,i.elements,Vf):e instanceof cC&&i instanceof cC?Vf(e.gt,i.gt):e instanceof lC&&i instanceof lC);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class uC extends xM{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gm extends xM{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uH(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function dH(n,t,e){const i=new Map;St(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,d=t.data.field(s.field);i.set(s.field,MJ(a,d,e[r]))}return i}function hH(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,TJ(s,a,t))}return i}class dC extends xM{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xN extends xM{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&OJ(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=DD(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=DD(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Xj();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let d=this.applyToLocalView(a,s.mutatedFields);d=e.has(r.key)?null:d;const g=lH(a,d);null!==g&&i.set(r.key,g),a.isValidDocument()||a.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),un())}isEqual(t){return this.batchId===t.batchId&&nC(this.mutations,t.mutations,(e,i)=>cH(e,i))&&nC(this.baseMutations,t.baseMutations,(e,i)=>cH(e,i))}}class SN{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){St(t.mutations.length===i.length);let r=SJ;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new SN(t,e,i,r)}}class AN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class FJ{constructor(t,e){this.count=t,this.unchangedNames=e}}var ss,jn;function fH(n){switch(n){default:return mt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function pH(n){if(void 0===n)return qr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case ss.OK:return pe.OK;case ss.CANCELLED:return pe.CANCELLED;case ss.UNKNOWN:return pe.UNKNOWN;case ss.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case ss.INTERNAL:return pe.INTERNAL;case ss.UNAVAILABLE:return pe.UNAVAILABLE;case ss.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case ss.NOT_FOUND:return pe.NOT_FOUND;case ss.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case ss.ABORTED:return pe.ABORTED;case ss.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case ss.DATA_LOSS:return pe.DATA_LOSS;default:return mt()}}(jn=ss||(ss={}))[jn.OK=0]="OK",jn[jn.CANCELLED=1]="CANCELLED",jn[jn.UNKNOWN=2]="UNKNOWN",jn[jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jn[jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jn[jn.NOT_FOUND=5]="NOT_FOUND",jn[jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",jn[jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",jn[jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",jn[jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jn[jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jn[jn.ABORTED=10]="ABORTED",jn[jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",jn[jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",jn[jn.INTERNAL=13]="INTERNAL",jn[jn.UNAVAILABLE=14]="UNAVAILABLE",jn[jn.DATA_LOSS=15]="DATA_LOSS";class IN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return DM}static getOrCreateInstance(){return null===DM&&(DM=new IN),DM}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let DM=null;function mH(){return new TextEncoder}const LJ=new eC([4294967295,4294967295],0);function gH(n){const t=mH().encode(n),e=new MQ;return e.update(t),new Uint8Array(e.digest())}function _H(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new eC([e,i],0),new eC([r,s],0)]}class TN{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new SD(`Invalid padding: ${e}`);if(i<0)throw new SD(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new SD(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new SD(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=eC.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(eC.fromNumber(i)));return 1===r.compare(LJ)&&(r=new eC([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=gH(t),[i,r]=_H(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new TN(s,r,e);return i.forEach(d=>a.insert(d)),a}insert(t){if(0===this.It)return;const e=gH(t),[i,r]=_H(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class SD extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class AD{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ID.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new AD(At.min(),r,new ki(Qt),Il(),un())}}class ID{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ID(i,e,un(),un(),un())}}class SM{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class yH{constructor(t,e){this.targetId=t,this.Vt=e}}class vH{constructor(t,e,i=_s.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class bH{constructor(){this.St=0,this.Dt=CH(),this.Ct=_s.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=un(),e=un(),i=un();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new ID(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=CH()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class BJ{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Il(),this.zt=wH(),this.Wt=new ki(Qt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:mt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const a=s.target;if(yM(a))if(0===r){const d=new tt(a.path);this.Yt(i,d,Gi.newNoDocument(d,At.min()))}else St(1===r);else{const d=this.ie(i);if(d!==r){const g=this.re(t,d);0!==g&&(this.ee(i),this.Wt=this.Wt.insert(i,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=IN.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(C,I,T){var O,L,q,te,re,_e;const Ve={localCacheCount:I,existenceFilterCount:T.count},Pe=T.unchangedNames;return Pe&&(Ve.bloomFilter={applied:0===C,hashCount:null!==(O=null==Pe?void 0:Pe.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(te=null===(q=null===(L=null==Pe?void 0:Pe.bits)||void 0===L?void 0:L.bitmap)||void 0===q?void 0:q.length)&&void 0!==te?te:0,padding:null!==(_e=null===(re=null==Pe?void 0:Pe.bits)||void 0===re?void 0:re.padding)&&void 0!==_e?_e:0}),Ve}(g,d,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:d=0}=i;let g,C;try{g=jm(s).toUint8Array()}catch(I){if(I instanceof Aj)return Nu("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{C=new TN(g,a,d)}catch(I){return Nu(I instanceof SD?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===C.It?1:r!==e-this.oe(t.targetId,C)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),d=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.vt(d)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,a)=>{const d=this.se(a);if(d){if(s.current&&yM(d.target)){const g=new tt(d.target.path);null!==this.jt.get(g)||this.ae(a,g)||this.Yt(a,g,Gi.newNoDocument(g,t))}s.Mt&&(e.set(a,s.Ot()),s.Ft())}});let i=un();this.zt.forEach((s,a)=>{let d=!0;a.forEachWhile(g=>{const C=this.se(g);return!C||"TargetPurposeLimboResolution"===C.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(t));const r=new AD(t,e,this.Wt,this.jt,i);return this.jt=Il(),this.zt=wH(),this.Wt=new ki(Qt),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new bH,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new zi(Qt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||je("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new bH),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function wH(){return new ki(tt.comparator)}function CH(){return new ki(tt.comparator)}const VJ={asc:"ASCENDING",desc:"DESCENDING"},UJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jJ={and:"AND",or:"OR"};class HJ{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function MN(n,t){return n.useProto3Json||fD(t)?t:{value:t}}function hC(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EH(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function zJ(n,t){return hC(n,t.toTimestamp())}function $r(n){return St(!!n),At.fromTimestamp(function(t){const e=W_(t);return new ir(e.seconds,e.nanos)}(n))}function kN(n,t){return(e=n,new Un(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function xH(n){const t=Un.fromString(n);return St(OH(t)),t}function TD(n,t){return kN(n.databaseId,t.path)}function jf(n,t){const e=xH(t);if(e.get(1)!==n.databaseId.projectId)throw new Le(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Le(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new tt(SH(e))}function RN(n,t){return kN(n.databaseId,t)}function DH(n){const t=xH(n);return 4===t.length?Un.emptyPath():SH(t)}function MD(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SH(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function AH(n,t,e){return{name:TD(n,t),fields:e.value.mapValue.fields}}function IH(n,t,e){const i=jf(n,t.name),r=$r(t.updateTime),s=t.createTime?$r(t.createTime):At.min(),a=new yo({mapValue:{fields:t.fields}}),d=Gi.newFoundDocument(i,r,s,a);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function kD(n,t){let e;if(t instanceof uC)e={update:AH(n,t.key,t.value)};else if(t instanceof dC)e={delete:TD(n,t.key)};else if(t instanceof Gm)e={update:AH(n,t.key,t.data),updateMask:QJ(t.fieldMask)};else{if(!(t instanceof xN))return mt();e={verify:TD(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof lC)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ub)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jb)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cC)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw mt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:zJ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),e;var r}function ON(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?rr.updateTime($r(r.updateTime)):void 0!==r.exists?rr.exists(r.exists):rr.none():rr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let d=null;"setToServerValue"in a?(St("REQUEST_TIME"===a.setToServerValue),d=new lC):"appendMissingElements"in a?d=new Ub(a.appendMissingElements.values||[]):"removeAllFromArray"in a?d=new jb(a.removeAllFromArray.values||[]):"increment"in a?d=new cC(s,a.increment):mt();const g=Or.fromServerFormat(a.fieldPath);return new xD(g,d)}(n,r)):[];var r;if(t.update){const r=jf(n,t.update.name),s=new yo({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new Al((t.updateMask.fieldPaths||[]).map(C=>Or.fromServerFormat(C)));return new Gm(r,s,a,e,i)}return new uC(r,s,e,i)}if(t.delete){const r=jf(n,t.delete);return new dC(r,e)}if(t.verify){const r=jf(n,t.verify);return new xN(r,e)}return mt()}function TH(n,t){return{documents:[RN(n,t.path)]}}function PN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=RN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=RN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return RH(fi.create(g,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(g){if(0!==g.length)return g.map(C=>{return{field:ey((I=C).field),direction:WJ(I.dir)};var I})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=MN(n,t.limit);var d,g;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function MH(n){let t=DH(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){St(1===i);const I=e.from[0];I.allDescendants?r=I.collectionId:t=t.child(I.collectionId)}let s=[];e.where&&(s=function(I){const T=kH(I);return T instanceof fi&&gN(T)?T.getFilters():[T]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(I=>{return new sC(fC((T=I).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let d=null;e.limit&&(d=function(I){let T;return T="object"==typeof I?I.value:I,fD(T)?null:T}(e.limit));let g=null;var I;e.startAt&&(g=new X_((I=e.startAt).values||[],!!I.before));let C=null;return e.endAt&&(C=function(I){return new X_(I.values||[],!I.before)}(e.endAt)),$j(t,r,a,s,d,"F",g,C)}function kH(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=fC(t.unaryFilter.field);return An.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=fC(t.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fC(t.unaryFilter.field);return An.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fC(t.unaryFilter.field);return An.create(s,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?An.create(fC((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return fi.create(t.compositeFilter.filters.map(e=>kH(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mt()}}(t.compositeFilter.op))}(n):mt();var t}function WJ(n){return VJ[n]}function YJ(n){return UJ[n]}function KJ(n){return jJ[n]}function ey(n){return{fieldPath:n.canonicalString()}}function fC(n){return Or.fromServerFormat(n.fieldPath)}function RH(n){return n instanceof An?function(t){if("=="===t.op){if(Mj(t.value))return{unaryFilter:{field:ey(t.field),op:"IS_NAN"}};if(Tj(t.value))return{unaryFilter:{field:ey(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Mj(t.value))return{unaryFilter:{field:ey(t.field),op:"IS_NOT_NAN"}};if(Tj(t.value))return{unaryFilter:{field:ey(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ey(t.field),op:YJ(t.op),value:t.value}}}(n):n instanceof fi?function(t){const e=t.getFilters().map(i=>RH(i));return 1===e.length?e[0]:{compositeFilter:{op:KJ(t.op),filters:e}}}(n):mt()}function QJ(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function OH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class qm{constructor(t,e,i,r,s=At.min(),a=At.min(),d=_s.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new qm(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new qm(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class PH{constructor(t){this.fe=t}}function NH(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:AM(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:TD(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:hC(r,s.version.toTimestamp()),createTime:hC(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Hb(t.version)};else{if(!t.isUnknownDocument())return mt();i.unknownDocument={path:e.path.toArray(),version:Hb(t.version)}}var r,s;return i}function AM(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Hb(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function zb(n){const t=new ir(n.seconds,n.nanoseconds);return At.fromTimestamp(t)}function Gb(n,t){const e=(t.baseMutations||[]).map(s=>ON(n.fe,s));for(let s=0;s<t.mutations.length-1;++s){const a=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(a.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>ON(n.fe,s)),r=ir.fromMillis(t.localWriteTimeMs);return new DN(t.batchId,r,e,i)}function RD(n){const t=zb(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?zb(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=Oa(aC(DH(r.documents[0])))):i=Oa(MH(n.query)),new qm(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,_s.fromBase64String(n.resumeToken))}function FH(n,t){const e=Hb(t.snapshotVersion),i=Hb(t.lastLimboFreeSnapshotVersion);let r;r=yM(t.target)?TH(n.fe,t.target):PN(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Bb(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function NN(n){const t=MH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wM(t,t.limit,"L"):t}function FN(n,t){return new AN(t.largestBatchId,ON(n.fe,t.overlayMutation))}function LH(n,t){const e=t.path.lastSegment();return[n,$o(t.path.popLast()),e]}function BH(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Hb(i.readTime),documentKey:$o(i.documentKey.path),largestBatchId:i.largestBatchId}}class XJ{getBundleMetadata(t,e){return VH(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:zb(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return VH(t).put({bundleId:(i=e).id,createTime:Hb($r(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return UH(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:NN(r.bundledQuery),readTime:zb(r.readTime)};var r})}saveNamedQuery(t,e){return UH(t).put({name:(i=e).name,readTime:Hb($r(i.readTime)),bundledQuery:i.bundledQuery});var i}}function VH(n){return Us(n,"bundles")}function UH(n){return Us(n,"namedQueries")}class IM{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new IM(t,e.uid||"")}getOverlay(t,e){return OD(t).get(LH(this.userId,e)).next(i=>i?FN(this.serializer,i):null)}getOverlays(t,e){const i=Uf();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const d=new AN(e,a);r.push(this.we(t,d))}),fe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add($o(a.getCollectionPath())));const s=[];return r.forEach(a=>{const d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(OD(t).J("collectionPathOverlayIndex",d))}),fe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Uf(),s=$o(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return OD(t).j("collectionPathOverlayIndex",a).next(d=>{for(const g of d){const C=FN(this.serializer,g);r.set(C.getKey(),C)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Uf();let a;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return OD(t).X({index:"collectionGroupOverlayIndex",range:d},(g,C,I)=>{const T=FN(this.serializer,C);s.size()<r||T.largestBatchId===a?(s.set(T.getKey(),T),a=T.largestBatchId):I.done()}).next(()=>s)}we(t,e){return OD(t).put(function(i,r,s){const[a,d,g]=LH(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:kD(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function OD(n){return Us(n,"documentOverlays")}class qb{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Pr(t.integerValue));else if("doubleValue"in t){const i=Pr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),pD(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(jm(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?kj(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):mt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),tt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function eX(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function jH(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=eX(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}qb.Ve=new qb;class tX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=jH(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=jH(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class nX{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class iX{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class PD{constructor(){this.je=new tX,this.ze=new nX(this.je),this.We=new iX(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class $b{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new $b(this.indexId,this.documentKey,this.arrayValue,i)}}function ty(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=HH(n.arrayValue,t.arrayValue),0!==e?e:(e=HH(n.directionalValue,t.directionalValue),0!==e?e:tt.comparator(n.documentKey,t.documentKey)))}function HH(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class rX{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){St(t.collectionGroup===this.collectionId);const e=lN(t);if(void 0!==e&&!this.en(e))return!1;const i=Nb(t);let r=new Set,s=0,a=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const d=i[s];if(!this.nn(this.Ze,d)||!this.sn(this.Ye[a++],d))return!1}++s}for(;s<i.length;++s){const d=i[s];if(a>=this.Ye.length||!this.sn(this.Ye[a++],d))return!1}return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function zH(n){var t,e;if(St(n instanceof An||n instanceof fi),n instanceof An){if(n instanceof zj){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>An.create(n.field,"==",s)))||[];return fi.create(r,"or")}return n}const i=n.filters.map(r=>zH(r));return fi.create(i,n.op)}function sX(n){if(0===n.getFilters().length)return[];const t=VN(zH(n));return St(GH(t)),LN(t)||BN(t)?[t]:t.getFilters()}function LN(n){return n instanceof An}function BN(n){return n instanceof fi&&gN(n)}function GH(n){return LN(n)||BN(n)||function(t){if(t instanceof fi&&mN(t)){for(const e of t.getFilters())if(!LN(e)&&!BN(e))return!1;return!0}return!1}(n)}function VN(n){if(St(n instanceof An||n instanceof fi),n instanceof An)return n;if(1===n.filters.length)return VN(n.filters[0]);const t=n.filters.map(i=>VN(i));let e=fi.create(t,n.op);return e=TM(e),GH(e)?e:(St(e instanceof fi),St(oC(e)),St(e.filters.length>1),e.filters.reduce((i,r)=>UN(i,r)))}function UN(n,t){let e;return St(n instanceof An||n instanceof fi),St(t instanceof An||t instanceof fi),e=n instanceof An?t instanceof An?fi.create([n,t],"and"):qH(n,t):t instanceof An?qH(t,n):function(i,r){if(St(i.filters.length>0&&r.filters.length>0),oC(i)&&oC(r))return Uj(i,r.getFilters());const s=mN(i)?i:r,a=mN(i)?r:i,d=s.filters.map(g=>UN(g,a));return fi.create(d,"or")}(n,t),TM(e)}function qH(n,t){if(oC(t))return Uj(t,n.getFilters());{const e=t.filters.map(i=>UN(n,i));return fi.create(e,"or")}}function TM(n){if(St(n instanceof An||n instanceof fi),n instanceof An)return n;const t=n.getFilters();if(1===t.length)return TM(t[0]);if(Bj(n))return n;const e=t.map(r=>TM(r)),i=[];return e.forEach(r=>{r instanceof An?i.push(r):r instanceof fi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:fi.create(i,n.op)}class oX{constructor(){this.rn=new jN}addToCollectionParentIndex(t,e){return this.rn.add(e),fe.resolve()}getCollectionParents(t,e){return fe.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return fe.resolve()}deleteFieldIndex(t,e){return fe.resolve()}getDocumentsMatchingTarget(t,e){return fe.resolve(null)}getIndexType(t,e){return fe.resolve(0)}getFieldIndexes(t,e){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,e){return fe.resolve(wc.min())}getMinOffsetFromCollectionGroup(t,e){return fe.resolve(wc.min())}updateCollectionGroup(t,e,i){return fe.resolve()}updateIndexEntries(t,e){return fe.resolve()}}class jN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new zi(Un.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new zi(Un.comparator)).toArray()}}const MM=new Uint8Array(0);class aX{constructor(t,e){this.user=t,this.databaseId=e,this.on=new jN,this.un=new zm(i=>Bb(i),(i,r)=>vD(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:$o(r)};return $H(t).put(s)}return fe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[dj(e),""],!1,!0);return $H(t).j(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(Bf(a.parent))}return i})}addFieldIndex(t,e){const i=kM(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const a=FD(t);return s.next(d=>{a.put(BH(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=kM(t),r=FD(t),s=ND(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=ND(t);let r=!0;const s=new Map;return fe.forEach(this.cn(e),a=>this.an(t,a).next(d=>{r&&(r=!!d),s.set(a,d)})).next(()=>{if(r){let a=un();const d=[];return fe.forEach(s,(g,C)=>{var I;je("IndexedDbIndexManager",`Using index ${I=g,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Pe=>`${Pe.fieldPath}:${Pe.kind}`).join(",")}`} to execute ${Bb(e)}`);const T=function(Pe,Ge){const kt=lN(Ge);if(void 0===kt)return null;for(const Pt of vM(Pe,kt.fieldPath))switch(Pt.op){case"array-contains-any":return Pt.value.arrayValue.values||[];case"array-contains":return[Pt.value]}return null}(C,g),O=function(Pe,Ge){const kt=new Map;for(const Pt of Nb(Ge))for(const Tn of vM(Pe,Pt.fieldPath))switch(Tn.op){case"==":case"in":kt.set(Pt.fieldPath.canonicalString(),Tn.value);break;case"not-in":case"!=":return kt.set(Pt.fieldPath.canonicalString(),Tn.value),Array.from(kt.values())}return null}(C,g),L=function(Pe,Ge){const kt=[];let Pt=!0;for(const Tn of Nb(Ge)){const yr=0===Tn.kind?Gj(Pe,Tn.fieldPath,Pe.startAt):qj(Pe,Tn.fieldPath,Pe.startAt);kt.push(yr.value),Pt&&(Pt=yr.inclusive)}return new X_(kt,Pt)}(C,g),q=function(Pe,Ge){const kt=[];let Pt=!0;for(const Tn of Nb(Ge)){const yr=0===Tn.kind?qj(Pe,Tn.fieldPath,Pe.endAt):Gj(Pe,Tn.fieldPath,Pe.endAt);kt.push(yr.value),Pt&&(Pt=yr.inclusive)}return new X_(kt,Pt)}(C,g),te=this.hn(g,C,L),re=this.hn(g,C,q),_e=this.ln(g,C,O),Ve=this.fn(g.indexId,T,te,L.inclusive,re,q.inclusive,_e);return fe.forEach(Ve,Pe=>i.H(Pe,e.limit).next(Ge=>{Ge.forEach(kt=>{const Pt=tt.fromSegments(kt.documentKey);a.has(Pt)||(a=a.add(Pt),d.push(Pt))})}))}).next(()=>d)}return fe.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:sX(fi.create(t.filters,"and")).map(i=>yN(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,a,d){const g=(null!=e?e.length:1)*Math.max(i.length,s.length),C=g/(null!=e?e.length:1),I=[];for(let T=0;T<g;++T){const O=e?this.dn(e[T/C]):MM,L=this.wn(t,O,i[T%C],r),q=this._n(t,O,s[T%C],a),te=d.map(re=>this.wn(t,O,re,!0));I.push(...this.createRange(L,q,te))}return I}wn(t,e,i,r){const s=new $b(t,tt.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new $b(t,tt.empty(),e,i);return r?s.Je():s}an(t,e){const i=new rX(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const d of s)i.tn(d)&&(!a||d.fields.length>a.fields.length)&&(a=d);return a})}getIndexType(t,e){let i=2;const r=this.cn(e);return fe.forEach(r,s=>this.an(t,s).next(a=>{a?0!==i&&a.fields.length<function(d){let g=new zi(Or.comparator),C=!1;for(const I of d.filters)for(const T of I.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?C=!0:g=g.add(T.field));for(const I of d.orderBy)I.field.isKeyField()||(g=g.add(I.field));return g.size+(C?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new PD;for(const r of Nb(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.He(r.kind);qb.Ve._e(s,a)}return i.Qe()}dn(t){const e=new PD;return qb.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new PD;return qb.Ve._e(Lb(this.databaseId,e),i.He(function(r){const s=Nb(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new PD);let s=0;for(const a of Nb(t)){const d=i[s++];for(const g of r)if(this.yn(e,a.fieldPath)&&_D(d))r=this.pn(r,a,d);else{const C=g.He(a.kind);qb.Ve._e(d,C)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const d of r){const g=new PD;g.seed(d.Qe()),qb.Ve._e(a,g.He(e.kind)),s.push(g)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof An&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=kM(t),r=FD(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const a=[];return fe.forEach(s,d=>r.get([d.indexId,this.uid]).next(g=>{a.push(function(C,I){const T=I?new dD(I.sequenceNumber,new wc(zb(I.readTime),new tt(Bf(I.documentKey)),I.largestBatchId)):dD.empty(),O=C.fields.map(([L,q])=>new cM(Or.fromServerFormat(L),q));return new lM(C.indexId,C.collectionGroup,O,T)}(d,g))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Qt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=kM(t),s=FD(t);return this.Tn(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>fe.forEach(d,g=>s.put(BH(g.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return fe.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?fe.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),fe.forEach(d,g=>this.En(t,r,g).next(C=>{const I=this.An(s,g);return C.isEqual(I)?fe.resolve():this.vn(t,s,g,C,I)}))))})}Rn(t,e,i,r){return ND(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return ND(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=ND(t);let s=new zi(ty);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,d)=>{s=s.add(new $b(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}An(t,e){let i=new zi(ty);const r=this.mn(e,t);if(null==r)return i;const s=lN(e);if(null!=s){const a=t.data.field(s.fieldPath);if(_D(a))for(const d of a.arrayValue.values||[])i=i.add(new $b(e.indexId,t.key,this.dn(d),r))}else i=i.add(new $b(e.indexId,t.key,MM,r));return i}vn(t,e,i,r,s){je("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(d,g,C,I,T){const O=d.getIterator(),L=g.getIterator();let q=iC(O),te=iC(L);for(;q||te;){let re=!1,_e=!1;if(q&&te){const Ve=C(q,te);Ve<0?_e=!0:Ve>0&&(re=!0)}else null!=q?_e=!0:re=!0;re?(I(te),te=iC(L)):_e?(T(q),q=iC(O)):(q=iC(O),te=iC(L))}}(r,s,ty,d=>{a.push(this.Rn(t,e,i,d))},d=>{a.push(this.Pn(t,e,i,d))}),fe.waitFor(a)}Tn(t){let e=1;return FD(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,d)=>ty(a,d)).filter((a,d,g)=>!d||0!==ty(a,g[d-1]));const r=[];r.push(t);for(const a of i){const d=ty(a,t),g=ty(a,e);if(0===d)r[0]=t.Je();else if(d>0&&g<0)r.push(a),r.push(a.Je());else if(g>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,MM,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,MM,[]]))}return s}bn(t,e){return ty(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(ZH)}getMinOffset(t,e){return fe.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||mt())).next(ZH)}}function $H(n){return Us(n,"collectionParents")}function ND(n){return Us(n,"indexEntries")}function kM(n){return Us(n,"indexConfiguration")}function FD(n){return Us(n,"indexState")}function ZH(n){St(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;cN(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new wc(t.readTime,t.documentKey,e)}const WH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Zo(t,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YH(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let d=0;const g=i.X({range:a},(I,T,O)=>(d++,O.delete()));s.push(g.next(()=>{St(1===d)}));const C=[];for(const I of e.mutations){const T=bj(t,I.key.path,e.batchId);s.push(r.delete(T)),C.push(I.key)}return fe.waitFor(s).next(()=>C)}function RM(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw mt();t=n.noDocument}return JSON.stringify(t).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class OM{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){St(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new OM(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ny(t).X({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=pC(t),a=ny(t);return a.add({}).next(d=>{St("number"==typeof d);const g=new DN(d,e,i,r),C=function(O,L,q){const te=q.baseMutations.map(_e=>kD(O.fe,_e)),re=q.mutations.map(_e=>kD(O.fe,_e));return{userId:L,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:te,mutations:re}}(this.serializer,this.userId,g),I=[];let T=new zi((O,L)=>Qt(O.canonicalString(),L.canonicalString()));for(const O of r){const L=bj(this.userId,O.key.path,d);T=T.add(O.key.path.popLast()),I.push(a.put(C)),I.push(s.put(L,WQ))}return T.forEach(O=>{I.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.Vn[d]=g.keys()}),fe.waitFor(I).next(()=>g)})}lookupMutationBatch(t,e){return ny(t).get(e).next(i=>i?(St(i.userId===this.userId),Gb(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?fe.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ny(t).X({index:"userMutationsIndex",range:r},(a,d,g)=>{d.userId===this.userId&&(St(d.batchId>=i),s=Gb(this.serializer,d)),g.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ny(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ny(t).j("userMutationsIndex",e).next(i=>i.map(r=>Gb(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=dM(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return pC(t).X({range:r},(a,d,g)=>{const[C,I,T]=a,O=Bf(I);if(C===this.userId&&e.path.isEqual(O))return ny(t).get(T).next(L=>{if(!L)throw mt();St(L.userId===this.userId),s.push(Gb(this.serializer,L))});g.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new zi(Qt);const r=[];return e.forEach(s=>{const a=dM(this.userId,s.path),d=IDBKeyRange.lowerBound(a),g=pC(t).X({range:d},(C,I,T)=>{const[O,L,q]=C,te=Bf(L);O===this.userId&&s.path.isEqual(te)?i=i.add(q):T.done()});r.push(g)}),fe.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=dM(this.userId,i),a=IDBKeyRange.lowerBound(s);let d=new zi(Qt);return pC(t).X({range:a},(g,C,I)=>{const[T,O,L]=g,q=Bf(O);T===this.userId&&i.isPrefixOf(q)?q.length===r&&(d=d.add(L)):I.done()}).next(()=>this.Dn(t,d))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(ny(t).get(s).next(a=>{if(null===a)throw mt();St(a.userId===this.userId),i.push(Gb(this.serializer,a))}))}),fe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return YH(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return pC(t).X({range:i},(s,a,d)=>{if(s[0]===this.userId){const g=Bf(s[1]);r.push(g)}else d.done()}).next(()=>{St(0===r.length)})})}containsKey(t,e){return KH(t,this.userId,e)}xn(t){return QH(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function KH(n,t,e){const i=dM(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return pC(n).X({range:s,Y:!0},(d,g,C)=>{const[I,T,O]=d;I===t&&T===r&&(a=!0),C.done()}).next(()=>a)}function ny(n){return Us(n,"mutations")}function pC(n){return Us(n,"documentMutations")}function QH(n){return Us(n,"mutationQueues")}class Zb{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Zb(0)}static Mn(){return new Zb(-1)}}class lX{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new Zb(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>At.fromTimestamp(new ir(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>mC(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return mC(t).X((a,d)=>{const g=RD(d);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,s.push(this.removeTargetData(t,g)))}).next(()=>fe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return mC(t).X((i,r)=>{const s=RD(r);e(s)})}$n(t){return JH(t).get("targetGlobalKey").next(e=>(St(null!==e),e))}On(t,e){return JH(t).put("targetGlobalKey",e)}Fn(t,e){return mC(t).put(FH(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Bb(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return mC(t).X({range:r,index:"queryTargetsIndex"},(a,d,g)=>{const C=RD(d);vD(e,C.target)&&(s=C,g.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=iy(t);return e.forEach(a=>{const d=$o(a.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,a))}),fe.waitFor(r)}removeMatchingKeys(t,e,i){const r=iy(t);return fe.forEach(e,s=>{const a=$o(s.path);return fe.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=iy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=iy(t);let s=un();return r.X({range:i,Y:!0},(a,d,g)=>{const C=Bf(a[1]),I=new tt(C);s=s.add(I)}).next(()=>s)}containsKey(t,e){const i=$o(e.path),r=IDBKeyRange.bound([i],[dj(i)],!1,!0);let s=0;return iy(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,d],g,C)=>{0!==a&&(s++,C.done())}).next(()=>s>0)}le(t,e){return mC(t).get(e).next(i=>i?RD(i):null)}}function mC(n){return Us(n,"targets")}function JH(n){return Us(n,"targetGlobal")}function iy(n){return Us(n,"targetDocuments")}function XH([n,t],[e,i]){const r=Qt(n,e);return 0===r?Qt(t,i):r}class cX{constructor(t){this.Ln=t,this.buffer=new zi(XH),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();XH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class e4{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;je("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,G.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){$_(i)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield q_(i)}yield e.Qn(3e5)}))}}class uX{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return fe.resolve(Cc.ct);const i=new cX(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(WH)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WH):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,a,d,g,C;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,a=Date.now(),this.nthSequenceNumber(t,r))).next(T=>(i=T,d=Date.now(),this.removeTargets(t,i,e))).next(T=>(s=T,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(T=>(C=Date.now(),oN()<=Zn.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-I}ms\n\tDetermined least recently used ${r} in `+(d-a)+`ms\n\tRemoved ${s} targets in `+(g-d)+`ms\n\tRemoved ${T} documents in `+(C-g)+`ms\nTotal Duration: ${C-I}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:T})))}}class dX{constructor(t,e){this.db=t,this.garbageCollector=function(n,t){return new uX(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return PM(t,i)}removeReference(t,e,i){return PM(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return PM(t,e)}Xn(t,e){return function(i,r){let s=!1;return QH(i).Z(a=>KH(i,a,r).next(d=>(d&&(s=!0),fe.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(a,d)=>{if(d<=e){const g=this.Xn(t,a).next(C=>{if(!C)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,At.min()),iy(t).delete([0,$o(a.path)])))});r.push(g)}}).next(()=>fe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return PM(t,e)}Yn(t,e){const i=iy(t);let r,s=Cc.ct;return i.X({index:"documentTargetsIndex"},([a,d],{path:g,sequenceNumber:C})=>{0===a?(s!==Cc.ct&&e(new tt(Bf(r)),s),s=C,r=g):s=Cc.ct}).next(()=>{s!==Cc.ct&&e(new tt(Bf(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function PM(n,t){return iy(n).put((i=n.currentSequenceNumber,{targetId:0,path:$o(t.path),sequenceNumber:i}));var i}class n4{constructor(){this.changes=new zm(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Gi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hX{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Wb(t).put(i)}removeEntry(t,e,i){return Wb(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],AM(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Gi.newInvalidDocument(e);return Wb(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(LD(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Gi.newInvalidDocument(e)};return Wb(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(LD(e))},(r,s)=>{i={document:this.ts(e,s),size:RM(s)}}).next(()=>i)}getEntries(t,e){let i=Il();return this.ns(t,e,(r,s)=>{const a=this.ts(r,s);i=i.insert(r,a)}).next(()=>i)}ss(t,e){let i=Il(),r=new ki(tt.comparator);return this.ns(t,e,(s,a)=>{const d=this.ts(s,a);i=i.insert(s,d),r=r.insert(s,RM(a))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return fe.resolve();let r=new zi(a4);e.forEach(g=>r=r.add(g));const s=IDBKeyRange.bound(LD(r.first()),LD(r.last())),a=r.getIterator();let d=a.getNext();return Wb(t).X({index:"documentKeyIndex",range:s},(g,C,I)=>{const T=tt.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;d&&a4(d,T)<0;)i(d,null),d=a.getNext();d&&d.isEqual(T)&&(i(d,C),d=a.hasNext()?a.getNext():null),d?I.G(LD(d)):I.done()}).next(()=>{for(;d;)i(d,null),d=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),AM(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wb(t).j(IDBKeyRange.bound(a,d,!0)).next(g=>{let C=Il();for(const I of g){const T=this.ts(tt.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);T.isFoundDocument()&&(wD(e,T)||r.has(T.key))&&(C=C.insert(T.key,T))}return C})}getAllFromCollectionGroup(t,e,i,r){let s=Il();const a=o4(e,i),d=o4(e,wc.max());return Wb(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,d,!0)},(g,C,I)=>{const T=this.ts(tt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);s=s.insert(T.key,T),s.size===r&&I.done()}).next(()=>s)}newChangeBuffer(t){return new fX(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return s4(t).get("remoteDocumentGlobalKey").next(e=>(St(!!e),e))}Zn(t,e){return s4(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function(n,t){let e;if(t.document)e=IH(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=tt.fromSegments(t.noDocument.path),r=zb(t.noDocument.readTime);e=Gi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt();{const i=tt.fromSegments(t.unknownDocument.path),r=zb(t.unknownDocument.version);e=Gi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ir(i[0],i[1]);return At.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return Gi.newInvalidDocument(t)}}function r4(n){return new hX(n)}class fX extends n4{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new zm(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new zi((s,a)=>Qt(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const d=this.us.get(s);if(e.push(this.os.removeEntry(t,s,d.readTime)),a.isValidDocument()){const g=NH(this.os.serializer,a);r=r.add(s.path.popLast()),i+=RM(g)-d.size,e.push(this.os.addEntry(t,s,g))}else if(i-=d.size,this.trackRemovals){const g=NH(this.os.serializer,a.convertToNoDocument(At.min()));e.push(this.os.addEntry(t,s,g))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),fe.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,a)=>{this.us.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function s4(n){return Us(n,"remoteDocumentGlobal")}function Wb(n){return Us(n,"remoteDocumentsV14")}function LD(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function o4(n,t){const e=t.documentKey.path.toArray();return[n,AM(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function a4(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Qt(e[s],i[s]),r)return r;return r=Qt(e.length,i.length),r||(r=Qt(e[e.length-2],i[i.length-2]),r||Qt(e[e.length-1],i[i.length-1]))}class pX{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class l4{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&DD(i.mutation,r,Al.empty(),ir.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,un()).next(()=>i))}getLocalViewOfDocuments(t,e,i=un()){const r=Uf();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=CD();return s.forEach((d,g)=>{a=a.insert(d,g.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=Uf();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,un()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,d)=>{e.set(a,d)})})}computeViews(t,e,i,r){let s=Il();const a=ED(),d=ED();return e.forEach((g,C)=>{const I=i.get(C.key);r.has(C.key)&&(void 0===I||I.mutation instanceof Gm)?s=s.insert(C.key,C):void 0!==I?(a.set(C.key,I.mutation.getFieldMask()),DD(I.mutation,C,I.mutation.getFieldMask(),ir.now())):a.set(C.key,Al.empty())}),this.recalculateAndSaveOverlays(t,s).next(g=>(g.forEach((C,I)=>a.set(C,I)),e.forEach((C,I)=>{var T;return d.set(C,new pX(I,null!==(T=a.get(C))&&void 0!==T?T:null))}),d))}recalculateAndSaveOverlays(t,e){const i=ED();let r=new ki((a,d)=>a-d),s=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const d of a)d.keys().forEach(g=>{const C=e.get(g);if(null===C)return;let I=i.get(g)||Al.empty();I=d.applyToLocalView(C,I),i.set(g,I);const T=(r.get(d.batchId)||un()).add(g);r=r.insert(d.batchId,T)})}).next(()=>{const a=[],d=r.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),C=g.key,I=g.value,T=Xj();I.forEach(O=>{if(!s.has(O)){const L=lH(e.get(O),i.get(O));null!==L&&T.set(O,L),s=s.add(O)}}),a.push(this.documentOverlayCache.saveOverlays(t,C,T))}return fe.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return tt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):bN(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):fe.resolve(Uf());let d=-1,g=s;return a.next(C=>fe.forEach(C,(I,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),s.get(I)?fe.resolve():this.remoteDocumentCache.getEntry(t,I).next(O=>{g=g.insert(I,O)}))).next(()=>this.populateOverlays(t,C,s)).next(()=>this.computeViews(t,g,C,un())).next(I=>({batchId:d,changes:Jj(I)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new tt(e)).next(i=>{let r=CD();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=CD();return this.indexManager.getCollectionParents(t,r).next(a=>fe.forEach(a,d=>{const g=(C=e,I=d.child(r),new Hm(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,I;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(C=>{C.forEach((I,T)=>{s=s.insert(I,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((d,g)=>{const C=g.getKey();null===s.get(C)&&(s=s.insert(C,Gi.newInvalidDocument(C)))});let a=CD();return s.forEach((d,g)=>{const C=r.get(d);void 0!==C&&DD(C.mutation,g,Al.empty(),ir.now()),wD(e,g)&&(a=a.insert(d,g))}),a})}}class mX{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return fe.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:$r(i.createTime)}),fe.resolve()}getNamedQuery(t,e){return fe.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:NN(i.bundledQuery),readTime:$r(i.readTime)}),fe.resolve();var i}}class gX{constructor(){this.overlays=new ki(tt.comparator),this.ls=new Map}getOverlay(t,e){return fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Uf();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),fe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),fe.resolve()}getOverlaysForCollection(t,e,i){const r=Uf(),s=e.length+1,a=new tt(e.child("")),d=this.overlays.getIteratorFrom(a);for(;d.hasNext();){const g=d.getNext().value,C=g.getKey();if(!e.isPrefixOf(C.path))break;C.path.length===s&&g.largestBatchId>i&&r.set(g.getKey(),g)}return fe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ki((C,I)=>C-I);const a=this.overlays.getIterator();for(;a.hasNext();){const C=a.getNext().value;if(C.getKey().getCollectionGroup()===e&&C.largestBatchId>i){let I=s.get(C.largestBatchId);null===I&&(I=Uf(),s=s.insert(C.largestBatchId,I)),I.set(C.getKey(),C)}}const d=Uf(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((C,I)=>d.set(C,I)),!(d.size()>=r)););return fe.resolve(d)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new AN(e,i));let s=this.ls.get(e);void 0===s&&(s=un(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class HN{constructor(){this.fs=new zi(js.ds),this.ws=new zi(js._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new js(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new js(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new tt(new Un([])),i=new js(e,t),r=new js(e,t+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new tt(new Un([])),i=new js(e,t),r=new js(e,t+1);let s=un();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new js(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class js{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return tt.comparator(t.key,e.key)||Qt(t.As,e.As)}static _s(t,e){return Qt(t.As,e.As)||tt.comparator(t.key,e.key)}}class _X{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new zi(js.ds)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const a=new DN(s,e,i,r);this.mutationQueue.push(a);for(const d of r)this.Rs=this.Rs.add(new js(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return fe.resolve(a)}lookupMutationBatch(t,e){return fe.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new js(e,0),r=new js(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const d=this.Ps(a.As);s.push(d)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new zi(Qt);return e.forEach(r=>{const s=new js(r,0),a=new js(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],d=>{i=i.add(d.As)})}),fe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;tt.isDocumentKey(s)||(s=s.child(""));const a=new js(new tt(s),0);let d=new zi(Qt);return this.Rs.forEachWhile(g=>{const C=g.key.path;return!!i.isPrefixOf(C)&&(C.length===r&&(d=d.add(g.As)),!0)},a),fe.resolve(this.Vs(d))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){St(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return fe.forEach(e.mutations,r=>{const s=new js(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new js(e,0),r=this.Rs.firstAfterOrEqual(i);return fe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return fe.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class yX{constructor(t){this.Ds=t,this.docs=new ki(tt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return fe.resolve(i?i.document.mutableCopy():Gi.newInvalidDocument(e))}getEntries(t,e){let i=Il();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Gi.newInvalidDocument(r))}),fe.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Il();const a=e.path,d=new tt(a.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:C,value:{document:I}}=g.getNext();if(!a.isPrefixOf(C.path))break;C.path.length>a.length+1||cN(fj(I),i)<=0||(r.has(I.key)||wD(e,I))&&(s=s.insert(I.key,I.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(t,e,i,r){mt()}Cs(t,e){return fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new vX(this)}getSize(t){return fe.resolve(this.size)}}class vX extends n4{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),fe.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class bX{constructor(t){this.persistence=t,this.xs=new zm(e=>Bb(e),vD),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Ns=0,this.ks=new HN,this.targetCount=0,this.Ms=Zb.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),fe.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Zb(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,fe.resolve()}updateTargetData(t,e){return this.Fn(e),fe.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((a,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),fe.waitFor(s).next(()=>r)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return fe.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),fe.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),fe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return fe.resolve(i)}containsKey(t,e){return fe.resolve(this.ks.containsKey(e))}}class zN{constructor(t,e){this.$s={},this.overlays={},this.Os=new Cc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new bX(this),this.indexManager=new oX,this.remoteDocumentCache=new yX(i=>this.referenceDelegate.Ls(i)),this.serializer=new PH(e),this.qs=new mX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new gX,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new _X(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){je("MemoryPersistence","Starting transaction:",t);const r=new wX(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return fe.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class wX extends mj{constructor(t){super(),this.currentSequenceNumber=t}}class NM{constructor(t){this.persistence=t,this.Qs=new HN,this.js=null}static zs(t){return new NM(t)}get Ws(){if(this.js)return this.js;throw mt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),fe.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),fe.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ws,i=>{const r=tt.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,At.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return fe.or([()=>fe.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class CX{constructor(t){this.serializer=t}O(t,e,i,r){const s=new uM("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vj,{unique:!0}),d.createObjectStore("documentMutations"),c4(t),function(d){d.createObjectStore("remoteDocuments")}(t));let a=fe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),c4(t)),a=a.next(()=>function(d){const g=d.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",C)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(d,g){return g.store("mutations").j().next(C=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vj,{unique:!0});const I=g.store("mutations"),T=C.map(O=>I.put(O));return fe.waitFor(T)})}(t,s))),a=a.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(s))),i<6&&r>=6&&(a=a.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(s))),i<8&&r>=8&&(a=a.next(()=>this.ti(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ei(s))),i<11&&r>=11&&(a=a.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(d){const g=d.createObjectStore("documentOverlays",{keyPath:oJ});g.createIndex("collectionPathOverlayIndex",aJ,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",lJ,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(d){const g=d.createObjectStore("remoteDocumentsV14",{keyPath:YQ});g.createIndex("documentKeyIndex",KQ),g.createIndex("collectionGroupIndex",QQ)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(t,s))),i<15&&r>=15&&(a=a.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:nJ}).createIndex("sequenceNumberIndex",iJ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:rJ}).createIndex("documentKeyIndex",sJ,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=RM(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>fe.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(d=>fe.forEach(d,g=>{St(g.userId===s.userId);const C=Gb(this.serializer,g);return YH(t,s.userId,C).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,d)=>{const g=new Un(a),C=[0,$o(g)];s.push(e.get(C).next(I=>I?fe.resolve():e.put({targetId:0,path:$o(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>fe.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:tJ});const i=e.store("collectionParents"),r=new jN,s=a=>{if(r.add(a)){const d=a.lastSegment(),g=a.popLast();return i.put({collectionId:d,parent:$o(g)})}};return e.store("remoteDocuments").X({Y:!0},(a,d)=>{const g=new Un(a);return s(g.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,d,g],C)=>{const I=Bf(d);return s(I.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=RD(r),a=FH(this.serializer,s);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,a)=>{const d=e.store("remoteDocumentsV14"),g=(C=a,C.document?new tt(Un.fromString(C.document.name).popFirst(5)):C.noDocument?tt.fromSegments(C.noDocument.path):C.unknownDocument?tt.fromSegments(C.unknownDocument.path):mt()).path.toArray();var C;const I={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(d.put(I))}).next(()=>fe.waitFor(r))}si(t,e){const i=e.store("mutations"),r=r4(this.serializer),s=new zN(NM.zs,this.serializer.fe);return i.j().next(a=>{const d=new Map;return a.forEach(g=>{var C;let I=null!==(C=d.get(g.userId))&&void 0!==C?C:un();Gb(this.serializer,g).keys().forEach(T=>I=I.add(T)),d.set(g.userId,I)}),fe.forEach(d,(g,C)=>{const I=new Vs(C),T=IM.de(this.serializer,I),O=s.getIndexManager(I),L=OM.de(I,this.serializer,O,s.referenceDelegate);return new l4(r,L,T,O).recalculateAndSaveOverlaysForDocumentKeys(new hN(e,Cc.ct),g).next()})})}}function c4(n){n.createObjectStore("targetDocuments",{keyPath:XQ}).createIndex("documentTargetsIndex",eJ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JQ,{unique:!0}),n.createObjectStore("targetGlobal")}const GN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qN{constructor(t,e,i,r,s,a,d,g,C,I,T=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=a,this.document=d,this.ri=C,this.oi=I,this.ui=T,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=O=>Promise.resolve(),!qN.D())throw new Le(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dX(this,r),this.di=e+"main",this.serializer=new PH(g),this.wi=new eh(this.di,this.ui,new CX(this.serializer)),this.Bs=new lX(this.referenceDelegate,this.serializer),this.remoteDocumentCache=r4(this.serializer),this.qs=new XJ,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(pe.FAILED_PRECONDITION,GN);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Cc(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,G.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,G.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,G.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>LM(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if($_(t))return je("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return BD(t).get("owner").next(e=>fe.resolve(this.Ri(e)))}Pi(t){return LM(t).delete(this.clientId)}bi(){var t=this;return(0,G.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Us(i,"clientMetadata");return r.j().next(s=>{const a=t.Si(s,18e5),d=s.filter(g=>-1===a.indexOf(g));return fe.forEach(d,g=>r.delete(g.clientId)).next(()=>d)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?fe.resolve(!0):BD(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Le(pe.FAILED_PRECONDITION,GN);return!1}}return!(!this.networkEnabled||!this.inForeground)||LM(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&je("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,G.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new hN(e,Cc.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>LM(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return OM.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new aX(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return IM.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){je("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(a=this.ui)?uJ:14===a?Ej:13===a?Cj:12===a?cJ:11===a?wj:void mt();var a;let d;return this.wi.runTransaction(t,r,s,g=>(d=new hN(g,this.Os?this.Os.next():Cc.ct),"readwrite-primary"===e?this.Ti(d).next(C=>!!C||this.Ei(d)).next(C=>{if(!C)throw qr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Le(pe.FAILED_PRECONDITION,pj);return i(d)}).next(C=>this.vi(d).next(()=>C)):this.Oi(d).next(()=>i(d)))).then(g=>(d.raiseOnCommittedEvent(),g))}Oi(t){return BD(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Le(pe.FAILED_PRECONDITION,GN)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return BD(t).put("owner",e)}static D(){return eh.D()}Ai(t){const e=BD(t);return e.get("owner").next(i=>this.Ri(i)?(je("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):fe.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(qr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!function(){var n;const t=null===(n=RT())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return je("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return qr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){qr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(t){}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function BD(n){return Us(n,"owner")}function LM(n){return Us(n,"clientMetadata")}function $N(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class ZN{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=un(),r=un();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ZN(t,e.fromCache,i,r)}}class u4{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(Zj(e))return fe.resolve(null);let i=Oa(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=wM(e,null,"F"),i=Oa(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=un(...s);return this.Ui.getDocuments(t,a).next(d=>this.indexManager.getMinOffset(t,i).next(g=>{const C=this.ji(e,d);return this.zi(e,C,a,g.readTime)?this.Ki(t,wM(e,null,"F")):this.Wi(t,C,e,g)}))})))}Gi(t,e,i,r){return Zj(e)||r.isEqual(At.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const a=this.ji(e,s);return this.zi(e,a,i,r)?this.Qi(t,e):(oN()<=Zn.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),CN(e)),this.Wi(t,a,e,hj(r,-1)))})}ji(t,e){let i=new zi(Kj(t));return e.forEach((r,s)=>{wD(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return oN()<=Zn.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",CN(e)),this.Ui.getDocumentsMatchingQuery(t,e,wc.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class EX{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new ki(Qt),this.Yi=new zm(s=>Bb(s),vD),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new l4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function d4(n,t,e,i){return new EX(n,t,e,i)}function h4(n,t){return WN.apply(this,arguments)}function WN(){return WN=(0,G.Z)(function*(n,t){const e=it(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],d=[];let g=un();for(const C of r){a.push(C.batchId);for(const I of C.mutations)g=g.add(I.key)}for(const C of s){d.push(C.batchId);for(const I of C.mutations)g=g.add(I.key)}return e.localDocuments.getDocuments(i,g).next(C=>({er:C,removedBatchIds:a,addedBatchIds:d}))})})}),WN.apply(this,arguments)}function xX(n,t){const e=it(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,d,g,C){const I=g.batch,T=I.keys();let O=fe.resolve();return T.forEach(L=>{O=O.next(()=>C.getEntry(d,L)).next(q=>{const te=g.docVersions.get(L);St(null!==te),q.version.compareTo(te)<0&&(I.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),C.addEntry(q)))})}),O.next(()=>a.mutationQueue.removeMutationBatch(d,I))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let d=un();for(let g=0;g<a.mutationResults.length;++g)a.mutationResults[g].transformResults.length>0&&(d=d.add(a.batch.mutations[g].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function f4(n){const t=it(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function DX(n,t){const e=it(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const d=[];t.targetChanges.forEach((I,T)=>{const O=r.get(T);if(!O)return;d.push(e.Bs.removeMatchingKeys(s,I.removedDocuments,T).next(()=>e.Bs.addMatchingKeys(s,I.addedDocuments,T)));let L=O.withSequenceNumber(s.currentSequenceNumber);var q,te,re;null!==t.targetMismatches.get(T)?L=L.withResumeToken(_s.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):I.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(I.resumeToken,i)),r=r.insert(T,L),te=L,re=I,(0===(q=O).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&d.push(e.Bs.updateTargetData(s,L))});let g=Il(),C=un();if(t.documentUpdates.forEach(I=>{t.resolvedLimboDocuments.has(I)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,I))}),d.push(p4(s,a,t.documentUpdates).next(I=>{g=I.nr,C=I.sr})),!i.isEqual(At.min())){const I=e.Bs.getLastRemoteSnapshotVersion(s).next(T=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(I)}return fe.waitFor(d).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,g,C)).next(()=>g)}).then(s=>(e.Ji=r,s))}function p4(n,t,e){let i=un(),r=un();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=Il();return e.forEach((d,g)=>{const C=s.get(d);g.isFoundDocument()!==C.isFoundDocument()&&(r=r.add(d)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(d,g.readTime),a=a.insert(d,g)):!C.isValidDocument()||g.version.compareTo(C.version)>0||0===g.version.compareTo(C.version)&&C.hasPendingWrites?(t.addEntry(g),a=a.insert(d,g)):je("LocalStore","Ignoring outdated watch update for ",d,". Current version:",C.version," Watch version:",g.version)}),{nr:a,sr:r}})}function SX(n,t){const e=it(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function gC(n,t){const e=it(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,fe.resolve(r)):e.Bs.allocateTargetId(i).next(a=>(r=new qm(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function _C(n,t,e){return YN.apply(this,arguments)}function YN(){return YN=(0,G.Z)(function*(n,t,e){const i=it(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!$_(a))throw a;je("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),YN.apply(this,arguments)}function BM(n,t,e){const i=it(n);let r=At.min(),s=un();return i.persistence.runTransaction("Execute query","readonly",a=>function(d,g,C){const I=it(d),T=I.Yi.get(C);return void 0!==T?fe.resolve(I.Ji.get(T)):I.Bs.getTargetData(g,C)}(i,a,Oa(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,d.targetId).next(g=>{s=g})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?r:At.min(),e?s:un())).next(d=>(_4(i,Yj(t),d),{documents:d,ir:s})))}function m4(n,t){const e=it(n),i=it(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(a=>a?a.target:null))}function g4(n,t){const e=it(n),i=e.Xi.get(t)||At.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,hj(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(_4(e,t,r),r))}function _4(n,t,e){let i=n.Xi.get(t)||At.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function KN(){return KN=(0,G.Z)(function*(n,t,e,i){const r=it(n);let s=un(),a=Il();for(const C of e){const I=t.rr(C.metadata.name);C.document&&(s=s.add(I));const T=t.ur(C);T.setReadTime(t.cr(C.metadata.readTime)),a=a.insert(I,T)}const d=r.Zi.newChangeBuffer({trackRemovals:!0}),g=yield gC(r,(C=i,Oa(aC(Un.fromString(`__bundle__/docs/${C}`)))));var C;return r.persistence.runTransaction("Apply bundle documents","readwrite",C=>p4(C,d,a).next(I=>(d.apply(C),I)).next(I=>r.Bs.removeMatchingKeysForTargetId(C,g.targetId).next(()=>r.Bs.addMatchingKeys(C,s,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(C,I.nr,I.sr)).next(()=>I.nr)))}),KN.apply(this,arguments)}function IX(n,t){return QN.apply(this,arguments)}function QN(){return QN=(0,G.Z)(function*(n,t,e=un()){const i=yield gC(n,Oa(NN(t.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=$r(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(s,t);const d=i.withResumeToken(_s.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(d.targetId,d),r.Bs.updateTargetData(s,d).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),QN.apply(this,arguments)}function y4(n,t){return`firestore_clients_${n}_${t}`}function v4(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function JN(n,t){return`firestore_targets_${n}_${t}`}class VM{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new Le(r.error.code,r.error.message))),a?new VM(t,e,r.state,s):(qr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class VD{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Le(i.error.code,i.error.message))),s?new VD(t,i.state,r):(qr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class UM{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=EN();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=_j(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new UM(t,s):(qr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class XN{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new XN(e.clientId,e.onlineState):(qr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class eF{constructor(){this.activeTargetIds=EN()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tF{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ki(Qt),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=y4(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new eF),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,G.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(y4(t.persistenceKey,r));if(s){const a=UM.ar(r,s);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(JN(this.persistenceKey,t));if(i){const r=VD.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(JN(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return je("SharedClientState","READ",t,e),e}setItem(t,e){je("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){je("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,G.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let a=Cc.ct;if(null!=s)try{const d=JSON.parse(s);St("number"==typeof d),a=d}catch(d){qr("SharedClientState","Failed to read sequence number from WebStorage",d)}return a}(i.newValue);r!==Cc.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new VM(this.currentUser,t,e,i),s=v4(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=v4(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=JN(this.persistenceKey,t),s=new VD(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return UM.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return VM.ar(new Vs(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return VD.ar(r,e)}br(t){return XN.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,G.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);je("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),a=[],d=[];return s.forEach(g=>{r.has(g)||a.push(g)}),r.forEach(g=>{s.has(g)||d.push(g)}),this.syncEngine.Wr(a,d).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=EN();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class b4{constructor(){this.Hr=new eF,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new eF,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TX{Yr(t){}shutdown(){}}class w4{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jM=null;function nF(){return null===jM?jM=268435456+Math.round(2147483648*Math.random()):jM++,"0x"+jM.toString(16)}const MX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kX{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Wo="WebChannelConnection";class RX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const a=nF(),d=this.To(t,e);je("RestConnection",`Sending RPC '${t}' ${a}:`,d,i);const g={};return this.Eo(g,r,s),this.Ao(t,d,g,i).then(C=>(je("RestConnection",`Received RPC '${t}' ${a}: `,C),C),C=>{throw Nu("RestConnection",`RPC '${t}' ${a} failed with error: `,C,"url: ",d,"request:",i),C})}vo(t,e,i,r,s,a){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+tC,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${MX[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=nF();return new Promise((a,d)=>{const g=new TQ;g.setWithCredentials(!0),g.listenOnce(SQ.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sN.NO_ERROR:const I=g.getResponseJson();je(Wo,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(I)),a(I);break;case sN.TIMEOUT:je(Wo,`RPC '${t}' ${s} timed out`),d(new Le(pe.DEADLINE_EXCEEDED,"Request time out"));break;case sN.HTTP_ERROR:const T=g.getStatus();if(je(Wo,`RPC '${t}' ${s} failed with status:`,T,"response text:",g.getResponseText()),T>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const L=null==O?void 0:O.error;if(L&&L.status&&L.message){const q=function(te){const re=te.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(re)>=0?re:pe.UNKNOWN}(L.status);d(new Le(q,L.message))}else d(new Le(pe.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Le(pe.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{je(Wo,`RPC '${t}' ${s} completed.`)}});const C=JSON.stringify(r);je(Wo,`RPC '${t}' ${s} sending request:`,r),g.send(e,"POST",C,i,15)})}Ro(t,e,i){const r=nF(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=xQ(),d=DQ(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(g.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(g.xmlHttpFactory=new IQ({})),this.Eo(g.initMessageHeaders,e,i),g.encodeInitMessageHeaders=!0;const I=s.join("");je(Wo,`Creating RPC '${t}' stream ${r}: ${I}`,g);const T=a.createWebChannel(I,g);let O=!1,L=!1;const q=new kX({ro:re=>{L?je(Wo,`Not sending because RPC '${t}' stream ${r} is closed:`,re):(O||(je(Wo,`Opening RPC '${t}' stream ${r} transport.`),T.open(),O=!0),je(Wo,`RPC '${t}' stream ${r} sending:`,re),T.send(re))},oo:()=>T.close()}),te=(re,_e,Ve)=>{re.listen(_e,Pe=>{try{Ve(Pe)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return te(T,aM.EventType.OPEN,()=>{L||je(Wo,`RPC '${t}' stream ${r} transport opened.`)}),te(T,aM.EventType.CLOSE,()=>{L||(L=!0,je(Wo,`RPC '${t}' stream ${r} transport closed`),q.wo())}),te(T,aM.EventType.ERROR,re=>{L||(L=!0,Nu(Wo,`RPC '${t}' stream ${r} transport errored:`,re),q.wo(new Le(pe.UNAVAILABLE,"The operation could not be completed")))}),te(T,aM.EventType.MESSAGE,re=>{var _e;if(!L){const Ve=re.data[0];St(!!Ve);const Pe=Ve,Ge=Pe.error||(null===(_e=Pe[0])||void 0===_e?void 0:_e.error);if(Ge){je(Wo,`RPC '${t}' stream ${r} received error:`,Ge);const kt=Ge.status;let Pt=function(yr){const Qo=ss[yr];if(void 0!==Qo)return pH(Qo)}(kt),Tn=Ge.message;void 0===Pt&&(Pt=pe.INTERNAL,Tn="Unknown error status: "+kt+" with message "+Ge.message),L=!0,q.wo(new Le(Pt,Tn)),T.close()}else je(Wo,`RPC '${t}' stream ${r} received:`,Ve),q._o(Ve)}}),te(d,AQ.STAT_EVENT,re=>{re.stat===oj.PROXY?je(Wo,`RPC '${t}' stream ${r} detected buffering proxy`):re.stat===oj.NOPROXY&&je(Wo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function C4(){return"undefined"!=typeof window?window:null}function HM(){return"undefined"!=typeof document?document:null}function UD(n){return new HJ(n,!0)}class iF{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class E4{constructor(t,e,i,r,s,a,d,g){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new iF(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,G.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,G.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,G.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===pe.RESOURCE_EXHAUSTED?(qr(e.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Le(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,G.Z)(function*(){t.state=0,t.start()}))}tu(t){return je("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OX extends E4{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:mt(),r=t.targetChange.targetIds||[],s=function(g,C){return g.useProto3Json?(St(void 0===C||"string"==typeof C),_s.fromBase64String(C||"")):(St(void 0===C||C instanceof Uint8Array),_s.fromUint8Array(C||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,d=a&&function(g){const C=void 0===g.code?pe.UNKNOWN:pH(g.code);return new Le(C,g.message||"")}(a);e=new vH(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=jf(n,i.document.name),s=$r(i.document.updateTime),a=i.document.createTime?$r(i.document.createTime):At.min(),d=new yo({mapValue:{fields:i.document.fields}}),g=Gi.newFoundDocument(r,s,a,d);e=new SM(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const i=t.documentDelete,r=jf(n,i.document),s=i.readTime?$r(i.readTime):At.min(),a=Gi.newNoDocument(r,s);e=new SM([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=jf(n,i.document);e=new SM([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return mt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,a=new FJ(r,s);e=new yH(i.targetId,a)}}var g;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return At.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?At.min():s.readTime?$r(s.readTime):At.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=MD(this.serializer),e.addTarget=function(r,s){let a;const d=s.target;if(a=yM(d)?{documents:TH(r,d)}:{query:PN(r,d)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=EH(r,s.resumeToken);const g=MN(r,s.expectedCount);null!==g&&(a.expectedCount=g)}else if(s.snapshotVersion.compareTo(At.min())>0){a.readTime=hC(r,s.snapshotVersion.toTimestamp());const g=MN(r,s.expectedCount);null!==g&&(a.expectedCount=g)}return a}(this.serializer,t);const i=function(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=MD(this.serializer),e.removeTarget=t,this.Wo(e)}}class PX extends E4{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function(n,t){return n&&n.length>0?(St(void 0!==t),n.map(e=>function(i,r){let s=$r(i.updateTime?i.updateTime:r);return s.isEqual(At.min())&&(s=$r(r)),new RJ(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=$r(t.commitTime);return this.listener.cu(i,e)}return St(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=MD(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>kD(this.serializer,i))};this.Wo(e)}}class NX extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Le(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Le(pe.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,e,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(pe.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class LX{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(qr(e),this.mu=!1):je("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class BX{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(d=>{i.enqueueAndForget((0,G.Z)(function*(){var g;ry(a)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,G.Z)(function*(C){const I=it(C);I.vu.add(4),yield yC(I),I.bu.set("Unknown"),I.vu.delete(4),yield jD(I)}),function(C){return g.apply(this,arguments)})(a))}))}),this.bu=new LX(i,r)}}function jD(n){return sF.apply(this,arguments)}function sF(){return sF=(0,G.Z)(function*(n){if(ry(n))for(const t of n.Ru)yield t(!0)}),sF.apply(this,arguments)}function yC(n){return oF.apply(this,arguments)}function oF(){return oF=(0,G.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),oF.apply(this,arguments)}function zM(n,t){const e=it(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),cF(e)?lF(e):bC(e).Ko()&&aF(e,t))}function HD(n,t){const e=it(n),i=bC(e);e.Au.delete(t),i.Ko()&&x4(e,t),0===e.Au.size&&(i.Ko()?i.jo():ry(e)&&e.bu.set("Unknown"))}function aF(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}bC(n).su(t)}function x4(n,t){n.Vu.qt(t),bC(n).iu(t)}function lF(n){n.Vu=new BJ({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),bC(n).start(),n.bu.gu()}function cF(n){return ry(n)&&!bC(n).Uo()&&n.Au.size>0}function ry(n){return 0===it(n).vu.size}function D4(n){n.Vu=void 0}function VX(n){return uF.apply(this,arguments)}function uF(){return uF=(0,G.Z)(function*(n){n.Au.forEach((t,e)=>{aF(n,t)})}),uF.apply(this,arguments)}function UX(n,t){return dF.apply(this,arguments)}function dF(){return dF=(0,G.Z)(function*(n,t){D4(n),cF(n)?(n.bu.Iu(t),lF(n)):n.bu.set("Unknown")}),dF.apply(this,arguments)}function jX(n,t,e){return hF.apply(this,arguments)}function hF(){return hF=(0,G.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof vH&&2===t.state&&t.cause)try{yield(i=(0,G.Z)(function*(r,s){const a=s.cause;for(const d of s.targetIds)r.Au.has(d)&&(yield r.remoteSyncer.rejectListen(d,a),r.Au.delete(d),r.Vu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield GM(n,i)}else if(t instanceof SM?n.Vu.Ht(t):t instanceof yH?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(At.min()))try{const i=yield f4(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const C=r.Au.get(g);C&&r.Au.set(g,C.withResumeToken(d.resumeToken,s))}}),a.targetMismatches.forEach((d,g)=>{const C=r.Au.get(d);if(!C)return;r.Au.set(d,C.withResumeToken(_s.EMPTY_BYTE_STRING,C.snapshotVersion)),x4(r,d);const I=new qm(C.target,d,g,C.sequenceNumber);aF(r,I)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield GM(n,i)}var i}),hF.apply(this,arguments)}function GM(n,t,e){return fF.apply(this,arguments)}function fF(){return fF=(0,G.Z)(function*(n,t,e){if(!$_(t))throw t;n.vu.add(1),yield yC(n),n.bu.set("Offline"),e||(e=()=>f4(n.localStore)),n.asyncQueue.enqueueRetryable((0,G.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield jD(n)}))}),fF.apply(this,arguments)}function S4(n,t){return t().catch(e=>GM(n,e,t))}function vC(n){return pF.apply(this,arguments)}function pF(){return pF=(0,G.Z)(function*(n){const t=it(n),e=sy(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;HX(t);)try{const r=yield SX(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,zX(t,r)}catch(r){yield GM(t,r)}A4(t)&&I4(t)}),pF.apply(this,arguments)}function HX(n){return ry(n)&&n.Eu.length<10}function zX(n,t){n.Eu.push(t);const e=sy(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function A4(n){return ry(n)&&!sy(n).Uo()&&n.Eu.length>0}function I4(n){sy(n).start()}function GX(n){return mF.apply(this,arguments)}function mF(){return mF=(0,G.Z)(function*(n){sy(n).hu()}),mF.apply(this,arguments)}function qX(n){return gF.apply(this,arguments)}function gF(){return gF=(0,G.Z)(function*(n){const t=sy(n);for(const e of n.Eu)t.uu(e.mutations)}),gF.apply(this,arguments)}function $X(n,t,e){return _F.apply(this,arguments)}function _F(){return _F=(0,G.Z)(function*(n,t,e){const i=n.Eu.shift(),r=SN.from(i,t,e);yield S4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vC(n)}),_F.apply(this,arguments)}function ZX(n,t){return yF.apply(this,arguments)}function yF(){return yF=(0,G.Z)(function*(n,t){var e;t&&sy(n).ou&&(yield(e=(0,G.Z)(function*(i,r){if(fH(s=r.code)&&s!==pe.ABORTED){const a=i.Eu.shift();sy(i).Qo(),yield S4(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield vC(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),A4(n)&&I4(n)}),yF.apply(this,arguments)}function T4(n,t){return vF.apply(this,arguments)}function vF(){return vF=(0,G.Z)(function*(n,t){const e=it(n);e.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=ry(e);e.vu.add(3),yield yC(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield jD(e)}),vF.apply(this,arguments)}function bF(n,t){return wF.apply(this,arguments)}function wF(){return wF=(0,G.Z)(function*(n,t){const e=it(n);t?(e.vu.delete(2),yield jD(e)):t||(e.vu.add(2),yield yC(e),e.bu.set("Unknown"))}),wF.apply(this,arguments)}function bC(n){return n.Su||(n.Su=function(t,e,i){const r=it(t);return r.fu(),new OX(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:VX.bind(null,n),ao:UX.bind(null,n),nu:jX.bind(null,n)}),n.Ru.push(function(){var t=(0,G.Z)(function*(e){e?(n.Su.Qo(),cF(n)?lF(n):n.bu.set("Unknown")):(yield n.Su.stop(),D4(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function sy(n){return n.Du||(n.Du=function(t,e,i){const r=it(t);return r.fu(),new PX(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:GX.bind(null,n),ao:ZX.bind(null,n),au:qX.bind(null,n),cu:$X.bind(null,n)}),n.Ru.push(function(){var t=(0,G.Z)(function*(e){e?(n.Du.Qo(),yield vC(n)):(yield n.Du.stop(),n.Eu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class CF{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,d=new CF(t,e,a,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(pe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wC(n,t){if(qr("AsyncQueue",`${t}: ${n}`),$_(n))return new Le(pe.UNAVAILABLE,`${t}: ${n}`);throw n}class CC{constructor(t){this.comparator=t?(e,i)=>t(e,i)||tt.comparator(e.key,i.key):(e,i)=>tt.comparator(e.key,i.key),this.keyedMap=CD(),this.sortedSet=new ki(this.comparator)}static emptySet(t){return new CC(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof CC)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new CC;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class M4{constructor(){this.Cu=new ki(tt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):mt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class EC{constructor(t,e,i,r,s,a,d,g,C){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=C}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(d=>{a.push({type:0,doc:d})}),new EC(t,e,CC.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bD(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class WX{constructor(){this.Nu=void 0,this.listeners=[]}}class YX{constructor(){this.queries=new zm(t=>Wj(t),bD),this.onlineState="Unknown",this.ku=new Set}}function EF(n,t){return xF.apply(this,arguments)}function xF(){return xF=(0,G.Z)(function*(n,t){const e=it(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new WX),r)try{s.Nu=yield e.onListen(i)}catch(a){const d=wC(a,`Initialization of query '${CN(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&AF(e)}),xF.apply(this,arguments)}function DF(n,t){return SF.apply(this,arguments)}function SF(){return SF=(0,G.Z)(function*(n,t){const e=it(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),SF.apply(this,arguments)}function KX(n,t){const e=it(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const d of a.listeners)d.$u(r)&&(i=!0);a.Nu=r}}i&&AF(e)}function QX(n,t,e){const i=it(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function AF(n){n.ku.forEach(t=>{t.next()})}class IF{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new EC(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=EC.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class JX{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class k4{constructor(t){this.serializer=t}rr(t){return jf(this.serializer,t)}ur(t){return t.metadata.exists?IH(this.serializer,t.document,!1):Gi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return $r(t)}}class XX{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=R4(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Un.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new k4(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const a of r.metadata.queries){const d=(e.get(a)||un()).add(s);e.set(a,d)}}return e}complete(){var t=this;return(0,G.Z)(function*(){const e=yield function(n,t,e,i){return KN.apply(this,arguments)}(t.localStore,new k4(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield IX(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function R4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class O4{constructor(t){this.key=t}}class P4{constructor(t){this.key=t}}class N4{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=un(),this.mutatedKeys=un(),this.tc=Kj(t),this.ec=new CC(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new M4,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,d=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,C="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((I,T)=>{const O=r.get(I),L=wD(this.query,T)?T:null,q=!!O&&this.mutatedKeys.has(O.key),te=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let re=!1;O&&L?O.data.isEqual(L.data)?q!==te&&(i.track({type:3,doc:L}),re=!0):this.rc(O,L)||(i.track({type:2,doc:L}),re=!0,(g&&this.tc(L,g)>0||C&&this.tc(L,C)<0)&&(d=!0)):!O&&L?(i.track({type:0,doc:L}),re=!0):O&&!L&&(i.track({type:1,doc:O}),re=!0,(g||C)&&(d=!0)),re&&(L?(a=a.add(L),s=te?s.add(I):s.delete(I)):(a=a.delete(I),s=s.delete(I)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const I="F"===this.query.limitType?a.last():a.first();a=a.delete(I.key),s=s.delete(I.key),i.track({type:1,doc:I})}return{ec:a,ic:i,zi:d,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((C,I)=>function(T,O){const L=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return L(T)-L(O)}(C.type,I.type)||this.tc(C.doc,I.doc)),this.oc(i);const a=e?this.uc():[],d=0===this.Zu.size&&this.current?1:0,g=d!==this.Xu;return this.Xu=d,0!==s.length||g?{snapshot:new EC(this.query,t.ec,r,s,t.mutatedKeys,0===d,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new M4,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=un(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new P4(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new O4(i))}),e}hc(t){this.Yu=t.ir,this.Zu=un();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return EC.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class eee{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class tee{constructor(t){this.key=t,this.fc=!1}}class nee{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new zm(d=>Wj(d),bD),this._c=new Map,this.mc=new Set,this.gc=new ki(tt.comparator),this.yc=new Map,this.Ic=new HN,this.Tc={},this.Ec=new Map,this.Ac=Zb.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function iee(n,t){return TF.apply(this,arguments)}function TF(){return TF=(0,G.Z)(function*(n,t){const e=JF(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=yield gC(e.localStore,Oa(t)),d=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield MF(e,t,i,"current"===d,a.resumeToken),e.isPrimaryClient&&zM(e.remoteStore,a)}return r}),TF.apply(this,arguments)}function MF(n,t,e,i,r){return kF.apply(this,arguments)}function kF(){return kF=(0,G.Z)(function*(n,t,e,i,r){n.Rc=(T,O,L)=>{return(q=(0,G.Z)(function*(te,re,_e,Ve){let Pe=re.view.sc(_e);Pe.zi&&(Pe=yield BM(te.localStore,re.query,!1).then(({documents:Pt})=>re.view.sc(Pt,Pe)));const Ge=Ve&&Ve.targetChanges.get(re.targetId),kt=re.view.applyChanges(Pe,te.isPrimaryClient,Ge);return jF(te,re.targetId,kt.cc),kt.snapshot}),function(te,re,_e,Ve){return q.apply(this,arguments)})(n,T,O,L);var q};const s=yield BM(n.localStore,t,!0),a=new N4(t,s.ir),d=a.sc(s.documents),g=ID.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),C=a.applyChanges(d,n.isPrimaryClient,g);jF(n,e,C.cc);const I=new eee(t,e,a);return n.wc.set(t,I),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),C.snapshot}),kF.apply(this,arguments)}function ree(n,t){return RF.apply(this,arguments)}function RF(){return RF=(0,G.Z)(function*(n,t){const e=it(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!bD(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _C(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),HD(e.remoteStore,i.targetId),xC(e,i.targetId)}).catch(q_))):(xC(e,i.targetId),yield _C(e.localStore,i.targetId,!0))}),RF.apply(this,arguments)}function OF(){return OF=(0,G.Z)(function*(n,t,e){const i=XF(n);try{const r=yield function(s,a){const d=it(s),g=ir.now(),C=a.reduce((O,L)=>O.add(L.key),un());let I,T;return d.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=Il(),q=un();return d.Zi.getEntries(O,C).next(te=>{L=te,L.forEach((re,_e)=>{_e.isValidDocument()||(q=q.add(re))})}).next(()=>d.localDocuments.getOverlayedDocuments(O,L)).next(te=>{I=te;const re=[];for(const _e of a){const Ve=PJ(_e,I.get(_e.key).overlayedDocument);null!=Ve&&re.push(new Gm(_e.key,Ve,Pj(Ve.value.mapValue),rr.exists(!0)))}return d.mutationQueue.addMutationBatch(O,g,re,a)}).next(te=>{T=te;const re=te.applyToLocalDocumentSet(I,q);return d.documentOverlayCache.saveOverlays(O,te.batchId,re)})}).then(()=>({batchId:T.batchId,changes:Jj(I)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,d){let g=s.Tc[s.currentUser.toKey()];g||(g=new ki(Qt)),g=g.insert(a,d),s.Tc[s.currentUser.toKey()]=g}(i,r.batchId,e),yield $m(i,r.changes),yield vC(i.remoteStore)}catch(r){const s=wC(r,"Failed to persist write");e.reject(s)}}),OF.apply(this,arguments)}function F4(n,t){return PF.apply(this,arguments)}function PF(){return PF=(0,G.Z)(function*(n,t){const e=it(n);try{const i=yield DX(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.yc.get(s);a&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?St(a.fc):r.removedDocuments.size>0&&(St(a.fc),a.fc=!1))}),yield $m(e,i,t)}catch(i){yield q_(i)}}),PF.apply(this,arguments)}function L4(n,t,e){const i=it(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,a)=>{const d=a.view.Mu(t);d.snapshot&&r.push(d.snapshot)}),function(s,a){const d=it(s);d.onlineState=a;let g=!1;d.queries.forEach((C,I)=>{for(const T of I.listeners)T.Mu(a)&&(g=!0)}),g&&AF(d)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function oee(n,t,e){return NF.apply(this,arguments)}function NF(){return NF=(0,G.Z)(function*(n,t,e){const i=it(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let a=new ki(tt.comparator);a=a.insert(s,Gi.newNoDocument(s,At.min()));const d=un().add(s),g=new AD(At.min(),new Map,new ki(Qt),a,d);yield F4(i,g),i.gc=i.gc.remove(s),i.yc.delete(t),HF(i)}else yield _C(i.localStore,t,!1).then(()=>xC(i,t,e)).catch(q_)}),NF.apply(this,arguments)}function aee(n,t){return FF.apply(this,arguments)}function FF(){return FF=(0,G.Z)(function*(n,t){const e=it(n),i=t.batch.batchId;try{const r=yield xX(e.localStore,t);UF(e,i,null),VF(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield $m(e,r)}catch(r){yield q_(r)}}),FF.apply(this,arguments)}function lee(n,t,e){return LF.apply(this,arguments)}function LF(){return LF=(0,G.Z)(function*(n,t,e){const i=it(n);try{const r=yield function(s,a){const d=it(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let C;return d.mutationQueue.lookupMutationBatch(g,a).next(I=>(St(null!==I),C=I.keys(),d.mutationQueue.removeMutationBatch(g,I))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,C,a)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,C)).next(()=>d.localDocuments.getDocuments(g,C))})}(i.localStore,t);UF(i,t,e),VF(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield $m(i,r)}catch(r){yield q_(r)}}),LF.apply(this,arguments)}function BF(){return BF=(0,G.Z)(function*(n,t){const e=it(n);ry(e.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=it(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>a.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=wC(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),BF.apply(this,arguments)}function VF(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function UF(n,t,e){const i=it(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function xC(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||B4(n,i)})}function B4(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(HD(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),HF(n))}function jF(n,t,e){for(const i of e)i instanceof O4?(n.Ic.addReference(i.key,t),uee(n,i)):i instanceof P4?(je("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||B4(n,i.key)):mt()}function uee(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(je("SyncEngine","New document in limbo: "+e),n.mc.add(i),HF(n))}function HF(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new tt(Un.fromString(t)),i=n.Ac.next();n.yc.set(i,new tee(e)),n.gc=n.gc.insert(e,i),zM(n.remoteStore,new qm(Oa(aC(e.path)),i,"TargetPurposeLimboResolution",Cc.ct))}}function $m(n,t,e){return zF.apply(this,arguments)}function zF(){return zF=(0,G.Z)(function*(n,t,e){const i=it(n),r=[],s=[],a=[];var d;i.wc.isEmpty()||(i.wc.forEach((d,g)=>{a.push(i.Rc(g,t,e).then(C=>{if((C||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,(null==C?void 0:C.fromCache)?"not-current":"current"),C){r.push(C);const I=ZN.Li(g.targetId,C);s.push(I)}}))}),yield Promise.all(a),i.dc.nu(r),yield(d=(0,G.Z)(function*(g,C){const I=it(g);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>fe.forEach(C,O=>fe.forEach(O.Fi,L=>I.persistence.referenceDelegate.addReference(T,O.targetId,L)).next(()=>fe.forEach(O.Bi,L=>I.persistence.referenceDelegate.removeReference(T,O.targetId,L)))))}catch(T){if(!$_(T))throw T;je("LocalStore","Failed to update sequence numbers: "+T)}for(const T of C){const O=T.targetId;if(!T.fromCache){const L=I.Ji.get(O),te=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);I.Ji=I.Ji.insert(O,te)}}}),function(g,C){return d.apply(this,arguments)})(i.localStore,s))}),zF.apply(this,arguments)}function dee(n,t){return GF.apply(this,arguments)}function GF(){return GF=(0,G.Z)(function*(n,t){const e=it(n);if(!e.currentUser.isEqual(t)){je("SyncEngine","User change. New user:",t.toKey());const i=yield h4(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(a=>{a.forEach(d=>{d.reject(new Le(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield $m(e,i.er)}var r}),GF.apply(this,arguments)}function hee(n,t){const e=it(n),i=e.yc.get(t);if(i&&i.fc)return un().add(i.key);{let r=un();const s=e._c.get(t);if(!s)return r;for(const a of s){const d=e.wc.get(a);r=r.unionWith(d.view.nc)}return r}}function fee(n,t){return qF.apply(this,arguments)}function qF(){return qF=(0,G.Z)(function*(n,t){const e=it(n),i=yield BM(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&jF(e,t.targetId,r.cc),r}),qF.apply(this,arguments)}function pee(n,t){return $F.apply(this,arguments)}function $F(){return $F=(0,G.Z)(function*(n,t){const e=it(n);return g4(e.localStore,t).then(i=>$m(e,i))}),$F.apply(this,arguments)}function mee(n,t,e,i){return ZF.apply(this,arguments)}function ZF(){return ZF=(0,G.Z)(function*(n,t,e,i){const r=it(n),s=yield function(a,d){const g=it(a),C=it(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",I=>C.Sn(I,d).next(T=>T?g.localDocuments.getDocuments(I,T):fe.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield vC(r.remoteStore):"acknowledged"===e||"rejected"===e?(UF(r,t,i||null),VF(r,t),d=t,it(it(r.localStore).mutationQueue).Cn(d)):mt(),yield $m(r,s)):je("SyncEngine","Cannot apply mutation batch with id: "+t)}),ZF.apply(this,arguments)}function WF(){return WF=(0,G.Z)(function*(n,t){const e=it(n);if(JF(e),XF(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield V4(e,i.toArray());e.vc=!0,yield bF(e.remoteStore,!0);for(const s of r)zM(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(xC(e,a),_C(e.localStore,a,!0))),HD(e.remoteStore,a)}),yield r,yield V4(e,i),function(s){const a=it(s);a.yc.forEach((d,g)=>{HD(a.remoteStore,g)}),a.Ic.Ts(),a.yc=new Map,a.gc=new ki(tt.comparator)}(e),e.vc=!1,yield bF(e.remoteStore,!1)}}),WF.apply(this,arguments)}function V4(n,t,e){return YF.apply(this,arguments)}function YF(){return YF=(0,G.Z)(function*(n,t,e){const i=it(n),r=[],s=[];for(const a of t){let d;const g=i._c.get(a);if(g&&0!==g.length){d=yield gC(i.localStore,Oa(g[0]));for(const C of g){const I=i.wc.get(C),T=yield fee(i,I);T.snapshot&&s.push(T.snapshot)}}else{const C=yield m4(i.localStore,a);d=yield gC(i.localStore,C),yield MF(i,U4(C),a,!1,d.resumeToken)}r.push(d)}return i.dc.nu(s),r}),YF.apply(this,arguments)}function U4(n){return $j(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _ee(n){const t=it(n);return it(it(t.localStore).persistence).$i()}function yee(n,t,e,i){return KF.apply(this,arguments)}function KF(){return KF=(0,G.Z)(function*(n,t,e,i){const r=it(n);if(r.vc)return void je("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield g4(r.localStore,Yj(s[0])),d=AD.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,_s.EMPTY_BYTE_STRING);yield $m(r,a,d);break}case"rejected":yield _C(r.localStore,t,!0),xC(r,t,i);break;default:mt()}}),KF.apply(this,arguments)}function vee(n,t,e){return QF.apply(this,arguments)}function QF(){return QF=(0,G.Z)(function*(n,t,e){const i=JF(n);if(i.vc){for(const r of t){if(i._c.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const s=yield m4(i.localStore,r),a=yield gC(i.localStore,s);yield MF(i,U4(s),a.targetId,!1,a.resumeToken),zM(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield _C(i.localStore,r,!1).then(()=>{HD(i.remoteStore,r),xC(i,r)}).catch(q_))}}),QF.apply(this,arguments)}function JF(n){const t=it(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=F4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hee.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oee.bind(null,t),t.dc.nu=KX.bind(null,t.eventManager),t.dc.Pc=QX.bind(null,t.eventManager),t}function XF(n){const t=it(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aee.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lee.bind(null,t),t}class zD{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,G.Z)(function*(){e.serializer=UD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return d4(this.persistence,new u4,t.initialUser,this.serializer)}createPersistence(t){return new zN(NM.zs,this.serializer)}createSharedClientState(t){return new b4}terminate(){var t=this;return(0,G.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class eL extends zD{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,G.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield XF(i.Vc.syncEngine),yield vC(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return d4(this.persistence,new u4,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new e4(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new $Q(e,this.persistence);return new qQ(t.asyncQueue,i)}createPersistence(t){const e=$N(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new qN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,C4(),HM(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new b4}}class j4 extends eL{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,G.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof tF&&(i.sharedClientState.syncEngine={jr:mee.bind(null,r),zr:yee.bind(null,r),Wr:vee.bind(null,r),$i:_ee.bind(null,r),Qr:pee.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,G.Z)(function*(a){yield function(n,t){return WF.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=C4();if(!tF.D(e))throw new Le(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=$N(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new tF(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class DC{initialize(t,e){var i=this;return(0,G.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>L4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=dee.bind(null,i.syncEngine),yield bF(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new YX}createDatastore(t){const e=UD(t.databaseInfo.databaseId),i=new RX(t.databaseInfo);return new NX(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>L4(this.syncEngine,d,0),a=w4.D()?new w4:new TX,new BX(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,d,g,C){const I=new nee(i,r,s,a,d,g);return C&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,G.Z)(function*(e){const i=it(e);je("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield yC(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function H4(n,t=10240){let e=0;return{read:()=>(0,G.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,G.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qM{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):qr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Cee{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new gs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,G.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,G.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,G.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new JX(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,G.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,G.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,G.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Eee{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,G.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Le(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,G.Z)(function*(s,a){const d=it(s),g=MD(d.serializer)+"/documents",C={documents:a.map(L=>TD(d.serializer,L))},I=yield d.vo("BatchGetDocuments",g,C,a.length),T=new Map;I.forEach(L=>{const q=function(n,t){return"found"in t?function(e,i){St(!!i.found);const r=jf(e,i.found.name),s=$r(i.found.updateTime),a=i.found.createTime?$r(i.found.createTime):At.min(),d=new yo({mapValue:{fields:i.found.fields}});return Gi.newFoundDocument(r,s,a,d)}(n,t):"missing"in t?function(e,i){St(!!i.missing),St(!!i.readTime);const r=jf(e,i.missing),s=$r(i.readTime);return Gi.newNoDocument(r,s)}(n,t):mt()}(d.serializer,L);T.set(q.key.toString(),q)});const O=[];return a.forEach(L=>{const q=T.get(L.toString());St(!!q),O.push(q)}),O}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new dC(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,G.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=tt.fromPath(r);t.mutations.push(new xN(s,t.precondition(s)))}),yield(i=(0,G.Z)(function*(r,s){const a=it(r),d=MD(a.serializer)+"/documents",g={writes:s.map(C=>kD(a.serializer,C))};yield a.Io("Commit",d,g)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw mt();e=At.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Le(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(At.min())?rr.exists(!1):rr.updateTime(e):rr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(At.min()))throw new Le(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(e)}return rr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class xee{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new iF(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,G.Z)(function*(){const e=new Eee(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!fD(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!fH(e)}return!1}}class Dee{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Vs.UNAUTHENTICATED,this.clientId=uj.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,G.Z)(function*(d){je("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(je("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,G.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=wC(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function $M(n,t){return tL.apply(this,arguments)}function tL(){return tL=(0,G.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,G.Z)(function*(s){i.isEqual(s)||(yield h4(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),tL.apply(this,arguments)}function nL(n,t){return iL.apply(this,arguments)}function iL(){return iL=(0,G.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield rL(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>T4(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>T4(t.remoteStore,s)),n._onlineComponents=t}),iL.apply(this,arguments)}function z4(n){return"FirebaseError"===n.name?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function rL(n){return sL.apply(this,arguments)}function sL(){return sL=(0,G.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $M(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!z4(e))throw e;Nu("Error using user provided cache. Falling back to memory cache: "+e),yield $M(n,new zD)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield $M(n,new zD);return n._offlineComponents}),sL.apply(this,arguments)}function ZM(n){return oL.apply(this,arguments)}function oL(){return oL=(0,G.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield nL(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield nL(n,new DC))),n._onlineComponents}),oL.apply(this,arguments)}function G4(n){return rL(n).then(t=>t.persistence)}function WM(n){return rL(n).then(t=>t.localStore)}function q4(n){return ZM(n).then(t=>t.remoteStore)}function aL(n){return ZM(n).then(t=>t.syncEngine)}function SC(n){return lL.apply(this,arguments)}function lL(){return lL=(0,G.Z)(function*(n){const t=yield ZM(n),e=t.eventManager;return e.onListen=iee.bind(null,t.syncEngine),e.onUnlisten=ree.bind(null,t.syncEngine),e}),lL.apply(this,arguments)}function Z4(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(r,s,a,d,g){const C=new qM({next:T=>{s.enqueueAndForget(()=>DF(r,I));const O=T.docs.has(a);!O&&T.fromCache?g.reject(new Le(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&d&&"server"===d.source?g.reject(new Le(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),I=new IF(aC(a.path),C,{includeMetadataChanges:!0,Ku:!0});return EF(r,I)}(yield SC(n),n.asyncQueue,t,e,i)})),i.promise}function W4(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(r,s,a,d,g){const C=new qM({next:T=>{s.enqueueAndForget(()=>DF(r,I)),T.fromCache&&"server"===d.source?g.reject(new Le(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),I=new IF(a,C,{includeMetadataChanges:!0,Ku:!0});return EF(r,I)}(yield SC(n),n.asyncQueue,t,e,i)})),i.promise}function Y4(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const K4=new Map;function cL(n,t,e){if(!e)throw new Le(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Q4(n,t,e,i){if(!0===t&&!0===i)throw new Le(pe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function J4(n){if(!tt.isDocumentKey(n))throw new Le(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function X4(n){if(tt.isDocumentKey(n))throw new Le(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function YM(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":mt()}function In(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Le(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=YM(n);throw new Le(pe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function ez(n,t){if(t<=0)throw new Le(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class tz{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Le(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Le(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Q4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Y4(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Le(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class GD{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Le(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tz(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new OQ;switch(e.type){case"firstParty":return new LQ(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Le(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=K4.get(t);e&&(je("ComponentProvider","Removing Datastore"),K4.delete(t),e.terminate())}(this),Promise.resolve()}}class qi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qi(this.firestore,t,this._key)}}class vo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vo(this.firestore,t,this._query)}}class Hf extends vo{constructor(t,e,i){super(t,e,aC(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qi(this.firestore,null,new tt(t))}withConverter(t){return new Hf(this.firestore,t,this._path)}}function iz(n,t,...e){if(n=Fs(n),cL("collection","path",t),n instanceof GD){const i=Un.fromString(t,...e);return X4(i),new Hf(n,null,i)}{if(!(n instanceof qi||n instanceof Hf))throw new Le(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(t,...e));return X4(i),new Hf(n.firestore,null,i)}}function KM(n,t,...e){if(n=Fs(n),1===arguments.length&&(t=uj.A()),cL("doc","path",t),n instanceof GD){const i=Un.fromString(t,...e);return J4(i),new qi(n,null,new tt(i))}{if(!(n instanceof qi||n instanceof Hf))throw new Le(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(t,...e));return J4(i),new qi(n.firestore,n instanceof Hf?n.converter:null,new tt(i))}}function rz(n,t){return n=Fs(n),t=Fs(t),(n instanceof qi||n instanceof Hf)&&(t instanceof qi||t instanceof Hf)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function uL(n,t){return n=Fs(n),t=Fs(t),n instanceof vo&&t instanceof vo&&n.firestore===t.firestore&&bD(n._query,t._query)&&n.converter===t.converter}class Nee{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new iF(this,"async_queue_retry"),this.Xc=()=>{const e=HM();e&&je("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=HM();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=HM();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new gs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,G.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!$_(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,qr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=CF.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var t=this;return(0,G.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function dL(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Fee{constructor(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class $i extends GD{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Nee,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sz(this),this._firestoreClient.terminate()}}function Zr(n){return n._firestoreClient||sz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sz(n){var t,e,i;const r=n._freezeSettings(),s=(d=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new fJ(n._databaseId,d,n._persistenceKey,(C=r).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,Y4(C.experimentalLongPollingOptions),C.useFetchStreams));var d,C;n._firestoreClient=new Dee(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(e=r.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function oz(n,t,e){const i=new gs;return n.asyncQueue.enqueue((0,G.Z)(function*(){try{yield $M(n,e),yield nL(n,t),i.resolve()}catch(r){const s=r;if(!z4(s))throw s;Nu("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function az(n){if(n._initialized||n._terminated)throw new Le(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zf(_s.fromBase64String(t))}catch(e){throw new Le(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zf(_s.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Zm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Le(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Yb{constructor(t){this._methodName=t}}class QM{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Le(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Le(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}const Zee=/^__.*__$/;class Wee{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Gm(t,this.data,this.fieldMask,e,this.fieldTransforms):new uC(t,this.data,e,this.fieldTransforms)}}class lz{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Gm(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function cz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class JM{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new JM(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return tk(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(cz(this.ca)&&Zee.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Yee{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||UD(t)}ya(t,e,i,r=!1){return new JM({ca:t,methodName:e,ga:i,path:Or.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kb(n){const t=n._freezeSettings(),e=UD(n._databaseId);return new Yee(n._databaseId,!!t.ignoreUndefinedProperties,e)}function XM(n,t,e,i,r,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,t,e,r);mL("Data must be an object, but it was:",a,i);const d=hz(i,a);let g,C;if(s.merge)g=new Al(a.fieldMask),C=a.fieldTransforms;else if(s.mergeFields){const I=[];for(const T of s.mergeFields){const O=ZD(t,T,e);if(!a.contains(O))throw new Le(pe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);pz(I,O)||I.push(O)}g=new Al(I),C=a.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,C=a.fieldTransforms;return new Wee(new yo(d),g,C)}class $D extends Yb{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $D}}function uz(n,t,e){return new JM({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class hL extends Yb{_toFieldTransform(t){return new xD(t.path,new lC)}isEqual(t){return t instanceof hL}}class Kee extends Yb{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=uz(this,t,!0),i=this.pa.map(s=>Qb(s,e)),r=new Ub(i);return new xD(t.path,r)}isEqual(t){return this===t}}class Qee extends Yb{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=uz(this,t,!0),i=this.pa.map(s=>Qb(s,e)),r=new jb(i);return new xD(t.path,r)}isEqual(t){return this===t}}class Jee extends Yb{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new cC(t.serializer,nH(t.serializer,this.Ia));return new xD(t.path,e)}isEqual(t){return this===t}}function fL(n,t,e,i){const r=n.ya(1,t,e);mL("Data must be an object, but it was:",r,i);const s=[],a=yo.empty();Z_(i,(g,C)=>{const I=ek(t,g,e);C=Fs(C);const T=r.da(I);if(C instanceof $D)s.push(I);else{const O=Qb(C,T);null!=O&&(s.push(I),a.set(I,O))}});const d=new Al(s);return new lz(a,d,r.fieldTransforms)}function pL(n,t,e,i,r,s){const a=n.ya(1,t,e),d=[ZD(t,i,e)],g=[r];if(s.length%2!=0)throw new Le(pe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)d.push(ZD(t,s[O])),g.push(s[O+1]);const C=[],I=yo.empty();for(let O=d.length-1;O>=0;--O)if(!pz(C,d[O])){const L=d[O];let q=g[O];q=Fs(q);const te=a.da(L);if(q instanceof $D)C.push(L);else{const re=Qb(q,te);null!=re&&(C.push(L),I.set(L,re))}}const T=new Al(C);return new lz(I,T,a.fieldTransforms)}function dz(n,t,e,i=!1){return Qb(e,n.ya(i?4:3,t))}function Qb(n,t){if(fz(n=Fs(n)))return mL("Unsupported field value:",t,n),hz(n,t);if(n instanceof Yb)return function(e,i){if(!cz(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let d=Qb(a,i.wa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=Fs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nH(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ir.fromDate(e);return{timestampValue:hC(i.serializer,r)}}if(e instanceof ir){const r=new ir(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hC(i.serializer,r)}}if(e instanceof QM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zf)return{bytesValue:EH(i.serializer,e._byteString)};if(e instanceof qi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:kN(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${YM(e)}`)}(n,t)}function hz(n,t){const e={};return Dj(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Z_(n,(i,r)=>{const s=Qb(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function fz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof QM||n instanceof zf||n instanceof qi||n instanceof Yb)}function mL(n,t,e){if(!fz(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=YM(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function ZD(n,t,e){if((t=Fs(t))instanceof Zm)return t._internalPath;if("string"==typeof t)return ek(n,t);throw tk("Field path arguments must be of type string or ",n,!1,void 0,e)}const Xee=new RegExp("[~\\*/\\[\\]]");function ek(n,t,e){if(t.search(Xee)>=0)throw tk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Zm(...t.split("."))._internalPath}catch(i){throw tk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function tk(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(s||a)&&(g+=" (found",s&&(g+=` in field ${i}`),a&&(g+=` in document ${r}`),g+=")"),new Le(pe.INVALID_ARGUMENT,d+n+g)}function pz(n,t){return n.some(e=>e.isEqual(t))}class WD{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new ete(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(nk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class ete extends WD{data(){return super.data()}}function nk(n,t){return"string"==typeof t?ek(n,t):t instanceof Zm?t._internalPath:t._delegate._internalPath}function mz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gL{}class YD extends gL{}function oy(n,t,...e){let i=[];t instanceof gL&&i.push(t),i=i.concat(e),function(r){const s=r.filter(d=>d instanceof AC).length,a=r.filter(d=>d instanceof KD).length;if(s>1||s>0&&a>0)throw new Le(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class KD extends YD{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new KD(t,e,i)}_apply(t){const e=this._parse(t);return vz(t._query,e),new vo(t.firestore,t.converter,wN(t._query,e))}_parse(t){const e=Kb(t.firestore);return function(r,s,a,d,g,C,I){let T;if(g.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Le(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){yz(I,C);const O=[];for(const L of I)O.push(_z(d,r,L));T={arrayValue:{values:O}}}else T=_z(d,r,I)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||yz(I,C),T=dz(a,"where",I,"in"===C||"not-in"===C);return An.create(g,C,T)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class AC extends gL{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new AC(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:fi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const d of a)vz(s,d),s=wN(s,d)}(t._query,e),new vo(t.firestore,t.converter,wN(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _L extends YD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new _L(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new sC(r,s);return function(d,g){if(null===vN(d)){const C=bM(d);null!==C&&bz(0,C,g.field)}}(i,a),a}(t._query,this._field,this._direction);return new vo(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Hm(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class ik extends YD{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new ik(t,e,i)}_apply(t){return new vo(t.firestore,t.converter,wM(t._query,this._limit,this._limitType))}}class rk extends YD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new rk(t,e,i)}_apply(t){const e=gz(t,this.type,this._docOrFields,this._inclusive);return new vo(t.firestore,t.converter,(r=e,new Hm((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class sk extends YD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new sk(t,e,i)}_apply(t){const e=gz(t,this.type,this._docOrFields,this._inclusive);return new vo(t.firestore,t.converter,(r=e,new Hm((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function gz(n,t,e,i){if(e[0]=Fs(e[0]),e[0]instanceof WD)return function(r,s,a,d,g){if(!d)throw new Le(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const C=[];for(const I of Vb(r))if(I.field.isKeyField())C.push(Lb(s,d.key));else{const T=d.data.field(I.field);if(fM(T))throw new Le(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const O=I.field.canonicalString();throw new Le(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}C.push(T)}return new X_(C,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Kb(n.firestore);return function(s,a,d,g,C,I){const T=s.explicitOrderBy;if(C.length>T.length)throw new Le(pe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let L=0;L<C.length;L++){const q=C[L];if(T[L].field.isKeyField()){if("string"!=typeof q)throw new Le(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof q}`);if(!bN(s)&&-1!==q.indexOf("/"))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${q}' contains a slash.`);const te=s.path.child(Un.fromString(q));if(!tt.isDocumentKey(te))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const re=new tt(te);O.push(Lb(a,re))}else{const te=dz(d,g,q);O.push(te)}}return new X_(O,I)}(n._query,n.firestore._databaseId,r,t,e,i)}}function _z(n,t,e){if("string"==typeof(e=Fs(e))){if(""===e)throw new Le(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bN(t)&&-1!==e.indexOf("/"))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Un.fromString(e));if(!tt.isDocumentKey(i))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Lb(n,new tt(i))}if(e instanceof qi)return Lb(n,e._key);throw new Le(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YM(e)}.`)}function yz(n,t){if(!Array.isArray(n)||0===n.length)throw new Le(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vz(n,t){if(t.isInequality()){const i=bM(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=vN(n);null!==s&&bz(0,r,s)}const e=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Le(pe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function bz(n,t,e){if(!e.isEqual(t))throw new Le(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class yL{convertValue(t,e="none"){switch(Q_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(jm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw mt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Z_(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new QM(Pr(t.latitude),Pr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=pM(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(mD(t));default:return null}}convertTimestamp(t){const e=W_(t);return new ir(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Un.fromString(t);St(OH(i));const r=new Y_(i.get(1),i.get(3)),s=new tt(i.popFirst(5));return r.isEqual(e)||qr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function ok(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class cte extends yL{constructor(t){super(),this.firestore=t}convertBytes(t){return new zf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qi(this.firestore,null,e)}}class Jb{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wm extends WD{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new QD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(nk("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class QD extends Wm{data(t={}){return super.data(t)}}class ay{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Jb(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new QD(this._firestore,this._userDataWriter,i.key,i,new Jb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Le(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new QD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const d=new QD(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,C=-1;return 0!==a.type&&(g=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),C=s.indexOf(a.doc.key)),{type:dte(a.type),doc:d,oldIndex:g,newIndex:C}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function dte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function Cz(n,t){return n instanceof Wm&&t instanceof Wm?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ay&&t instanceof ay&&n._firestore===t._firestore&&uL(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class ly extends yL{constructor(t){super(),this.firestore=t}convertBytes(t){return new zf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qi(this.firestore,null,e)}}function Ez(n,t,e){n=In(n,qi);const i=In(n.firestore,$i),r=ok(n.converter,t,e);return IC(i,[XM(Kb(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,rr.none())])}function xz(n,t,e,...i){n=In(n,qi);const r=In(n.firestore,$i),s=Kb(r);let a;return a="string"==typeof(t=Fs(t))||t instanceof Zm?pL(s,"updateDoc",n._key,t,e,i):fL(s,"updateDoc",n._key,t),IC(r,[a.toMutation(n._key,rr.exists(!0))])}function Dz(n,...t){var e,i,r;n=Fs(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||dL(t[a])||(s=t[a],a++);const d={includeMetadataChanges:s.includeMetadataChanges};if(dL(t[a])){const T=t[a];t[a]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[a+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),t[a+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let g,C,I;if(n instanceof qi)C=In(n.firestore,$i),I=aC(n._key.path),g={next:T=>{t[a]&&t[a](vL(C,n,T))},error:t[a+1],complete:t[a+2]};else{const T=In(n,vo);C=In(T.firestore,$i),I=T._query;const O=new ly(C);g={next:L=>{t[a]&&t[a](new ay(C,O,T,L))},error:t[a+1],complete:t[a+2]},mz(n._query)}return function(T,O,L,q){const te=new qM(q),re=new IF(O,te,L);return T.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return EF(yield SC(T),re)})),()=>{te.Dc(),T.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return DF(yield SC(T),re)}))}}(Zr(C),I,d,g)}function IC(n,t){return function(e,i){const r=new gs;return e.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(n,t,e){return OF.apply(this,arguments)}(yield aL(e),i,r)})),r.promise}(Zr(n),t)}function vL(n,t,e){const i=e.docs.get(t._key),r=new ly(n);return new Wm(n,r,t._key,i,new Jb(e.hasPendingWrites,e.fromCache),t.converter)}const Tte={maxAttempts:5};class Sz{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Kb(t)}set(t,e,i){this._verifyNotCommitted();const r=cy(t,this._firestore),s=ok(r.converter,e,i),a=XM(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,rr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=cy(t,this._firestore);let a;return a="string"==typeof(e=Fs(e))||e instanceof Zm?pL(this._dataReader,"WriteBatch.update",s._key,e,i,r):fL(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,rr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=cy(t,this._firestore);return this._mutations=this._mutations.concat(new dC(e._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cy(n,t){if((n=Fs(n)).firestore!==t)throw new Le(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Mte extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Kb(t)}get(t){const e=cy(t,this._firestore),i=new cte(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return mt();const s=r[0];if(s.isFoundDocument())return new WD(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new WD(this._firestore,i,e._key,null,e.converter);throw mt()})}set(t,e,i){const r=cy(t,this._firestore),s=ok(r.converter,e,i),a=XM(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=cy(t,this._firestore);let a;return a="string"==typeof(e=Fs(e))||e instanceof Zm?pL(this._dataReader,"Transaction.update",s._key,e,i,r):fL(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=cy(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=cy(t,this._firestore),i=new ly(this._firestore);return super.get(t).then(r=>new Wm(this._firestore,i,e._key,r._document,new Jb(!1,!1),e.converter))}}!function(n,t=!0){tC=ot.SDK_VERSION,(0,ot._registerComponent)(new gK("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),a=new $i(new NQ(e.getProvider("auth-internal")),new BQ(e.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Le(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Y_(d.options.projectId,g)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(aj,"3.13.0",n),(0,ot.registerVersion)(aj,"3.13.0","esm2017")}();Error;function Pz(n){return n&&n._delegate?n._delegate:n}Error;class lne{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}function DL(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Nz(){if("undefined"==typeof Uint8Array)throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function Fz(){if("undefined"==typeof atob)throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}class JD{constructor(t){this._delegate=t}static fromBase64String(t){return Fz(),new JD(zf.fromBase64String(t))}static fromUint8Array(t){return Nz(),new JD(zf.fromUint8Array(t))}toBase64(){return Fz(),this._delegate.toBase64()}toUint8Array(){return Nz(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SL(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class mne{enableIndexedDbPersistence(t,e){return function(n,t){az(n=In(n,$i));const e=Zr(n);if(e._uninitializedComponentsProvider)throw new Le(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Nu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new DC;return oz(e,r,new eL(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){az(n=In(n,$i));const t=Zr(n);if(t._uninitializedComponentsProvider)throw new Le(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Nu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new DC;return oz(t,i,new j4(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new Le(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new gs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{yield(e=(0,G.Z)(function*(i){if(!eh.D())return Promise.resolve();const r=i+"main";yield eh.delete(r)}),function(i){return e.apply(this,arguments)})($N(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Lz{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Y_||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Nu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var r;const s=(n=In(n,GD))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let d,g;if("string"==typeof i.mockUserToken)d=i.mockUserToken,g=Vs.MOCK_USER;else{d=function(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[V6(JSON.stringify({alg:"none",type:"JWT"})),V6(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const C=i.mockUserToken.sub||i.mockUserToken.user_id;if(!C)throw new Le(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Vs(C)}n._authCredentials=new PQ(new lj(d,g))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,G.Z)(function*(){const t=yield G4(n),e=yield q4(n);return t.setNetworkEnabled(!0),function(i){const r=it(i);return r.vu.delete(0),jD(r)}(e)}))}(Zr(n=In(n,$i)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,G.Z)(function*(){const t=yield G4(n),e=yield q4(n);return t.setNetworkEnabled(!1),(i=(0,G.Z)(function*(r){const s=it(r);s.vu.add(0),yield yC(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Zr(n=In(n,$i)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Q4("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new gs;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(n,t){return BF.apply(this,arguments)}(yield aL(t),e)})),e.promise}(Zr(n=In(n,$i)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new qM(t);return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return i=yield SC(n),r=e,it(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return i=yield SC(n),r=e,void it(i).ku.delete(r);var i,r}))}}(Zr(n=In(n,$i)),dL(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new TC(this,iz(this._delegate,t))}catch(e){throw Pa(e,"collection()","Firestore.collection()")}}doc(t){try{return new Fu(this,KM(this._delegate,t))}catch(e){throw Pa(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Na(this,function(n,t){if(n=In(n,GD),cL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Le(pe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vo(n,null,(e=t,new Hm(Un.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Pa(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t,e){n=In(n,$i);const i=Object.assign(Object.assign({},Tte),void 0);return function(r){if(r.maxAttempts<1)throw new Le(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const d=new gs;return r.asyncQueue.enqueueAndForget((0,G.Z)(function*(){const g=yield function(n){return ZM(n).then(t=>t.datastore)}(r);new xee(r.asyncQueue,g,a,s,d).run()})),d.promise}(Zr(n),r=>t(new Mte(n,r)),i)}(this._delegate,e=>t(new Bz(this,e)))}batch(){return Zr(this._delegate),new Vz(new Sz(this._delegate,t=>IC(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Zr(n=In(n,$i)),i=new Fee;return function(n,t,e,i){const r=function(s,a){let d;return d="string"==typeof s?mH().encode(s):s,g=function(g,C){if(g instanceof Uint8Array)return H4(g,C);if(g instanceof ArrayBuffer)return H4(new Uint8Array(g),C);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new Cee(g,a);var g}(e,UD(t));n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){!function(n,t,e){const i=it(n);var r;(r=(0,G.Z)(function*(s,a,d){try{const g=yield a.getMetadata();if(yield function(O,L){const q=it(O),te=$r(L.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",re=>q.qs.getBundleMetadata(re,L.id)).then(re=>!!re&&re.createTime.compareTo(te)>=0)}(s.localStore,g))return yield a.close(),d._completeWith({taskState:"Success",documentsLoaded:(O=g).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);d._updateProgress(R4(g));const C=new XX(g,s.localStore,a.serializer);let I=yield a.bc();for(;I;){const O=yield C.zu(I);O&&d._updateProgress(O),I=yield a.bc()}const T=yield C.complete();return yield $m(s,T.Ju,void 0),yield function(O,L){const q=it(O);return q.persistence.runTransaction("Save bundle","readwrite",te=>q.qs.saveBundleMetadata(te,L))}(s.localStore,g),d._completeWith(T.progress),Promise.resolve(T.Hu)}catch(g){return Nu("SyncEngine",`Loading bundle failed with ${g}`),d._failWith(g),Promise.resolve(new Set)}var O}),function(s,a,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield aL(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,G.Z)(function*(){return function(e,i){const r=it(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield WM(n),t)}))}(Zr(n=In(n,$i)),t).then(e=>e?new vo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Na(this,e):null)}}class uk extends yL{constructor(t){super(),this.firestore=t}convertBytes(t){return new JD(new zf(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Fu.forKey(e,this.firestore,null)}}class Bz{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new uk(t)}get(t){const e=t0(t);return this._delegate.get(e).then(i=>new XD(this._firestore,new Wm(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=t0(t);return i?(DL("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=t0(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=t0(t);return this._delegate.delete(e),this}}class Vz{constructor(t){this._delegate=t}set(t,e,i){const r=t0(t);return i?(DL("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=t0(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=t0(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class e0{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new QD(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new eS(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=e0.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new e0(t,new uk(t),e),r.set(e,s)),s}}e0.INSTANCES=new WeakMap;class Fu{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new uk(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Fu(e,new qi(e._delegate,i,new tt(t)))}static forKey(t,e,i){return new Fu(e,new qi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new TC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new TC(this.firestore,iz(this._delegate,t))}catch(e){throw Pa(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=Pz(t))instanceof qi&&rz(this._delegate,t)}set(t,e){e=DL("DocumentReference.set",e);try{return e?Ez(this._delegate,t,e):Ez(this._delegate,t)}catch(i){throw Pa(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?xz(this._delegate,t):xz(this._delegate,t,e,...i)}catch(r){throw Pa(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return IC(In(n.firestore,$i),[new dC(n._key,rr.none())])}(this._delegate)}onSnapshot(...t){const e=Uz(t),i=jz(t,r=>new XD(this.firestore,new Wm(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Dz(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=In(n,qi);const t=In(n.firestore,$i),e=Zr(t),i=new ly(t);return function(n,t){const e=new gs;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(i=(0,G.Z)(function*(r,s,a){try{const d=yield function(g,C){const I=it(g);return I.persistence.runTransaction("read document","readonly",T=>I.localDocuments.getDocument(T,C))}(r,s);d.isFoundDocument()?a.resolve(d):d.isNoDocument()?a.resolve(null):a.reject(new Le(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const g=wC(d,`Failed to get document '${s} from cache`);a.reject(g)}}),function(r,s,a){return i.apply(this,arguments)})(yield WM(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Wm(t,i,n._key,r,new Jb(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=In(n,qi);const t=In(n.firestore,$i);return Z4(Zr(t),n._key,{source:"server"}).then(e=>vL(t,n,e))}(this._delegate):function(n){n=In(n,qi);const t=In(n.firestore,$i);return Z4(Zr(t),n._key).then(e=>vL(t,n,e))}(this._delegate),e.then(i=>new XD(this.firestore,new Wm(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Fu(this.firestore,this._delegate.withConverter(t?e0.getInstance(this.firestore,t):null))}}function Pa(n,t,e){return n.message=n.message.replace(t,e),n}function Uz(n){for(const t of n)if("object"==typeof t&&!SL(t))return t;return{}}function jz(n,t){var e,i;let r;return r=SL(n[0])?n[0]:SL(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class XD{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Fu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Cz(this._delegate,t._delegate)}}class eS extends XD{data(t){const e=this._delegate.data(t);return function(n,t){n||mt()}(void 0!==e),e}}class Na{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new uk(t)}where(t,e,i){try{return new Na(this.firestore,oy(this._delegate,function(n,t,e){const i=t,r=nk("where",n);return KD._create(r,i,e)}(t,e,i)))}catch(r){throw Pa(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Na(this.firestore,oy(this._delegate,function(n,t="asc"){const e=t,i=nk("orderBy",n);return _L._create(i,e)}(t,e)))}catch(i){throw Pa(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Na(this.firestore,oy(this._delegate,function(n){return ez("limit",n),ik._create("limit",n,"F")}(t)))}catch(e){throw Pa(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Na(this.firestore,oy(this._delegate,function(n){return ez("limitToLast",n),ik._create("limitToLast",n,"L")}(t)))}catch(e){throw Pa(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Na(this.firestore,oy(this._delegate,function(...n){return rk._create("startAt",n,!0)}(...t)))}catch(e){throw Pa(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Na(this.firestore,oy(this._delegate,function(...n){return rk._create("startAfter",n,!1)}(...t)))}catch(e){throw Pa(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Na(this.firestore,oy(this._delegate,function(...n){return sk._create("endBefore",n,!1)}(...t)))}catch(e){throw Pa(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Na(this.firestore,oy(this._delegate,function(...n){return sk._create("endAt",n,!0)}(...t)))}catch(e){throw Pa(e,"endAt()","Query.endAt()")}}isEqual(t){return uL(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=In(n,vo);const t=In(n.firestore,$i),e=Zr(t),i=new ly(t);return function(n,t){const e=new gs;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(i=(0,G.Z)(function*(r,s,a){try{const d=yield BM(r,s,!0),g=new N4(s,d.ir),C=g.sc(d.documents),I=g.applyChanges(C,!1);a.resolve(I.snapshot)}catch(d){const g=wC(d,`Failed to execute query '${s} against cache`);a.reject(g)}}),function(r,s,a){return i.apply(this,arguments)})(yield WM(n),t,e);var i})),e.promise}(e,n._query).then(r=>new ay(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=In(n,vo);const t=In(n.firestore,$i),e=Zr(t),i=new ly(t);return W4(e,n._query,{source:"server"}).then(r=>new ay(t,i,n,r))}(this._delegate):function(n){n=In(n,vo);const t=In(n.firestore,$i),e=Zr(t),i=new ly(t);return mz(n._query),W4(e,n._query).then(r=>new ay(t,i,n,r))}(this._delegate),e.then(i=>new AL(this.firestore,new ay(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Uz(t),i=jz(t,r=>new AL(this.firestore,new ay(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Dz(this._delegate,e,i)}withConverter(t){return new Na(this.firestore,this._delegate.withConverter(t?e0.getInstance(this.firestore,t):null))}}class _ne{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new eS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AL{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new eS(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new _ne(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new eS(this._firestore,i))})}isEqual(t){return Cz(this._delegate,t._delegate)}}class TC extends Na{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Fu(this.firestore,t):null}doc(t){try{return new Fu(this.firestore,void 0===t?KM(this._delegate):KM(this._delegate,t))}catch(e){throw Pa(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=In(n.firestore,$i),i=KM(n),r=ok(n.converter,t);return IC(e,[XM(Kb(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,rr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Fu(this.firestore,e))}isEqual(t){return rz(this._delegate,t._delegate)}withConverter(t){return new TC(this.firestore,this._delegate.withConverter(t?e0.getInstance(this.firestore,t):null))}}function t0(n){return In(n,qi)}class IL{constructor(...t){this._delegate=new Zm(...t)}static documentId(){return new IL(Or.keyField().canonicalString())}isEqual(t){return(t=Pz(t))instanceof Zm&&this._delegate._internalPath.isEqual(t._internalPath)}}class n0{constructor(t){this._delegate=t}static serverTimestamp(){const t=new hL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new n0(t)}static delete(){const t=new $D("deleteField");return t._methodName="FieldValue.delete",new n0(t)}static arrayUnion(...t){const e=function(...n){return new Kee("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new n0(e)}static arrayRemove(...t){const e=function(...n){return new Qee("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new n0(e)}static increment(t){const e=function(n){return new Jee("increment",n)}(t);return e._methodName="FieldValue.increment",new n0(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const yne={Firestore:Lz,GeoPoint:QM,Timestamp:ir,Blob:JD,Transaction:Bz,WriteBatch:Vz,DocumentReference:Fu,DocumentSnapshot:XD,Query:Na,QueryDocumentSnapshot:eS,QuerySnapshot:AL,CollectionReference:TC,FieldPath:IL,FieldValue:n0,setLogLevel:function(n){!function(n){G_.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Hz(n,t){return function(n,t=k_.z){return new oi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function TL(n,t){return Hz(n,t).pipe((0,rt.U)(e=>({payload:e,type:"query"})))}function dk(n,t){return TL(n,t).pipe(di(void 0),dP(),(0,rt.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,d)=>{const g=r.find(I=>I.doc.ref.isEqual(a.ref)),C=null==e?void 0:e.payload.docs.find(I=>I.ref.isEqual(a.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(a.metadata)||!g&&C&&JSON.stringify(C.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:a}})}),s}))}function zz(n,t,e){return dk(n,e).pipe(ts((i,r)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return ML(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return ML(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ML(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Ow(),(0,rt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function ML(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Gz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,t){n.INTERNAL.registerComponent(new lne("firestore-compat",e=>((t,e)=>new Lz(t,e,new mne))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},yne)))})(n),n.registerVersion("@firebase/firestore-compat","0.3.12")}(hP.Z);class qz{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=dk(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,rt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(di(void 0),dP(),Sn(([i,r])=>r.length>0||!i),(0,rt.U)(([i,r])=>r),dn.iC)}auditTrail(t){return this.stateChanges(t).pipe(ts((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Gz(t);return zz(this.query,e,this.afs.schedulers.outsideAngular).pipe(dn.iC)}valueChanges(t={}){return TL(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),dn.iC)}get(t){return(0,Cn.D)(this.query.get(t)).pipe(dn.iC)}add(t){return this.ref.add(t)}doc(t){return new $z(this.ref.doc(t),this.afs)}}class $z{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=Yz(i,e);return new qz(r,s,this.afs)}snapshotChanges(){return function(n,t){return Hz(n,t).pipe(di(void 0),dP(),(0,rt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(dn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Cn.D)(this.ref.get(t)).pipe(dn.iC)}}class Dne{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?dk(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Sn(e=>e.length>0),dn.iC):dk(this.query,this.afs.schedulers.outsideAngular).pipe(dn.iC)}auditTrail(t){return this.stateChanges(t).pipe(ts((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Gz(t);return zz(this.query,e,this.afs.schedulers.outsideAngular).pipe(dn.iC)}valueChanges(t={}){return TL(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),dn.iC)}get(t){return(0,Cn.D)(this.query.get(t)).pipe(dn.iC)}}const Zz=new o.OlP("angularfire2.enableFirestorePersistence"),Wz=new o.OlP("angularfire2.firestore.persistenceSettings"),Sne=new o.OlP("angularfire2.firestore.settings"),Ane=new o.OlP("angularfire2.firestore.use-emulator");function Yz(n,t=(e=>e)){return{query:t(n),ref:n}}let tS=(()=>{class n{constructor(e,i,r,s,a,d,g,C,I,T,O,L,q,te,re,_e,Ve){this.schedulers=g;const Pe=(0,pr.on)(e,d,i),Ge=I;T&&hw(Pe,d,O,q,te,re,L,_e),[this.firestore,this.persistenceEnabled$]=(0,pr.cc)(`${Pe.name}.firestore`,"AngularFirestore",Pe.name,()=>{const kt=d.runOutsideAngular(()=>Pe.firestore());if(s&&kt.settings(s),Ge&&kt.useEmulator(...Ge),r&&!gi(a)){const Pt=()=>{try{return(0,Cn.D)(kt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Tn){return"undefined"!=typeof console&&console.warn(Tn),ct(!1)}};return[kt,d.runOutsideAngular(Pt)]}return[kt,ct(!1)]},[s,Ge,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=Yz(r,i),d=this.schedulers.ngZone.run(()=>s);return new qz(d,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new Dne(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new $z(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pr.Dh),o.LFG(pr.xv,8),o.LFG(Zz,8),o.LFG(Sne,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(dn.HU),o.LFG(Wz,8),o.LFG(Ane,8),o.LFG(v_,8),o.LFG(Cm,8),o.LFG(PE,8),o.LFG(NE,8),o.LFG(FE,8),o.LFG(y_,8),o.LFG(dw,8),o.LFG(Zv,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ine=(()=>{class n{constructor(){OE.Z.registerVersion("angularfire",dn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Zz,useValue:!0},{provide:Wz,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[tS]}),n})();const Kz=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},Qz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,d=a?n[r+1]:0,g=r+2<n.length,C=g?n[r+2]:0;let O=(15&d)<<2|C>>6,L=63&C;g||(L=64,a||(O=64)),i.push(e[s>>2],e[(3&s)<<4|d>>4],e[O],e[L])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Kz(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const g=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(1023&g))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],d=r<n.length?e[n.charAt(r)]:0;++r;const C=r<n.length?e[n.charAt(r)]:64;++r;const T=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==d||null==C||null==T)throw new Rne;i.push(s<<2|d>>4),64!==C&&(i.push(d<<4&240|C>>2),64!==T&&i.push(C<<6&192|T))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Rne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jz=function(n){return function(n){const t=Kz(n);return Qz.encodeByteArray(t,!0)}(n).replace(/\./g,"")},hk=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=n&&function(n){try{return Qz.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class pk extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,pk.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zne.prototype.create)}}class zne{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?function(n,t){return n.replace(qne,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new pk(r,`${this.serviceName}: ${a} (${r}).`,i)}}const qne=/\{\$([^}]+)}/g;function uy(n){return n&&n._delegate?n._delegate:n}const iG="firebasestorage.googleapis.com",rG="storageBucket";class mr extends pk{constructor(t,e,i=0){super(NL(t),`Firebase Storage: ${e} (${NL(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return NL(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ri=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ri||(Ri={})),Ri))();function NL(n){return"storage/"+n}function FL(){return new mr(Ri.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sG(){return new mr(Ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oG(){return new mr(Ri.CANCELED,"User canceled the upload/download.")}function aG(){return new mr(Ri.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function MC(n){return new mr(Ri.INVALID_ARGUMENT,n)}function lG(){return new mr(Ri.APP_DELETED,"The Firebase app was deleted.")}function cG(n){return new mr(Ri.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nS(n,t){return new mr(Ri.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function iS(n){throw new mr(Ri.INTERNAL_ERROR,"Internal error: "+n)}class Yo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Yo.makeFromUrl(t,e)}catch(r){return new Yo(t,"")}if(""===i.path)return i;throw function(n){return new mr(Ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function C(Ge){Ge.path_=decodeURIComponent(Ge.path)}const T=e.replace(/[.]/g,"\\."),Pe=[{regex:d,indices:{bucket:1,path:3},postModify:function(Ge){"/"===Ge.path.charAt(Ge.path.length-1)&&(Ge.path_=Ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${e===iG?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let Ge=0;Ge<Pe.length;Ge++){const kt=Pe[Ge],Pt=kt.regex.exec(t);if(Pt){let yr=Pt[kt.indices.path];yr||(yr=""),i=new Yo(Pt[kt.indices.bucket],yr),kt.postModify(i);break}}if(null==i)throw function(n){return new mr(Ri.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class yie{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function gk(n){return"string"==typeof n||n instanceof String}function uG(n){return LL()&&n instanceof Blob}function LL(){return"undefined"!=typeof Blob&&!function(){var n;const t=null===(n=hk())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()}function BL(n,t,e,i){if(i<t)throw MC(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw MC(`Invalid value for '${n}'. Expected ${e} or less.`)}function Ym(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function dG(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var dy=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(dy||(dy={})),dy))();function hG(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class xie{constructor(t,e,i,r,s,a,d,g,C,I,T,O=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=d,this.errorCallback_=g,this.timeout_=C,this.progressCallback_=I,this.connectionFactory_=T,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,q)=>{this.resolve_=L,this.reject_=q,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,a=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());!function(n){return void 0!==n}(g)?s():s(g)}catch(g){a(g)}else if(null!==d){const g=FL();g.serverResponse=d.getErrorText(),a(this.errorCallback_?this.errorCallback_(d,g):g)}else a(r.canceled?this.appDelete_?lG():oG():sG())};this.canceled_?e(0,new _k(!1,null,!0)):this.backoffId_=function(n,t,e){let i=1,r=null,s=null,a=!1,d=0;function g(){return 2===d}let C=!1;function I(...re){C||(C=!0,t.apply(null,re))}function T(re){r=setTimeout(()=>{r=null,n(L,g())},re)}function O(){s&&clearTimeout(s)}function L(re,..._e){if(C)return void O();if(re)return O(),void I.call(null,re,..._e);if(g()||a)return O(),void I.call(null,re,..._e);let Pe;i<64&&(i*=2),1===d?(d=2,Pe=0):Pe=1e3*(i+Math.random()),T(Pe)}let q=!1;function te(re){q||(q=!0,O(),!C&&(null!==r?(re||(d=2),clearTimeout(r),T(0)):re||(d=1)))}return T(0),s=setTimeout(()=>{a=!0,te(!0)},e),te}((i,r)=>{if(r)return void i(!1,new _k(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const d=s.getErrorCode()===dy.NO_ERROR,g=s.getStatus();if(!d||hG(g,this.additionalRetryCodes_)&&this.retry){const I=s.getErrorCode()===dy.ABORT;return void i(!1,new _k(!1,null,I))}const C=-1!==this.successCodes_.indexOf(g);i(!0,new _k(C,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _k{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function kie(...n){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(LL())return new Blob(n);throw new mr(Ri.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ec={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VL{constructor(t,e){this.data=t,this.contentType=e||null}}function UL(n,t){switch(n){case Ec.RAW:return new VL(fG(t));case Ec.BASE64:case Ec.BASE64URL:return new VL(pG(n,t));case Ec.DATA_URL:return new VL(function(n){const t=new mG(n);return t.base64?pG(Ec.BASE64,t.rest):function(n){let t;try{t=decodeURIComponent(n)}catch(e){throw nS(Ec.DATA_URL,"Malformed data URL.")}return fG(t)}(t.rest)}(t),function(n){return new mG(n).contentType}(t))}throw FL()}function fG(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function pG(n,t){switch(n){case Ec.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw nS(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ec.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw nS(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(n){if("undefined"==typeof atob)throw new mr(Ri.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:nS(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class mG{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw nS(Ec.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}class Gf{constructor(t,e){let i=0,r="";uG(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(uG(this.data_)){const r=function(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Gf(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Gf(i,!0)}}static getBlob(...t){if(LL()){const e=t.map(i=>i instanceof Gf?i.data_:i);return new Gf(kie.apply(null,e))}{const e=t.map(a=>gk(a)?UL(Ec.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(a=>{for(let d=0;d<a.length;d++)r[s++]=a[d]}),new Gf(r,!0)}}uploadData(){return this.data_}}function jL(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function gG(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Uie(n,t){return t}class Fa{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Uie}}let yk=null;function rS(){if(yk)return yk;const n=[];n.push(new Fa("bucket")),n.push(new Fa("generation")),n.push(new Fa("metageneration")),n.push(new Fa("name","fullPath",!0));const e=new Fa("name");e.xform=function(s,a){return function(n){return!gk(n)||n.length<2?n:gG(n)}(a)},n.push(e);const r=new Fa("size");return r.xform=function(s,a){return void 0!==a?Number(a):a},n.push(r),n.push(new Fa("timeCreated")),n.push(new Fa("updated")),n.push(new Fa("md5Hash",null,!0)),n.push(new Fa("cacheControl",null,!0)),n.push(new Fa("contentDisposition",null,!0)),n.push(new Fa("contentEncoding",null,!0)),n.push(new Fa("contentLanguage",null,!0)),n.push(new Fa("contentType",null,!0)),n.push(new Fa("metadata","customMetadata",!0)),yk=n,yk}function _G(n,t,e){const i=jL(t);return null===i?null:function(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const a=e[s];i[a.local]=a.xform(i,t[a.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){const s=new Yo(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function HL(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const yG="prefixes";class qf{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $f(n){if(!n)throw FL()}function vk(n,t){return function(i,r){const s=_G(n,r,t);return $f(null!==s),s}}function kC(n){return function(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new mr(Ri.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new mr(Ri.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(n){return new mr(Ri.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function(n){return new mr(Ri.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function sS(n){const t=kC(n);return function(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function(n){return new mr(Ri.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function bG(n,t,e){const r=Ym(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new qf(r,"GET",vk(n,e),a);return d.errorHandler=sS(t),d}function Yie(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=Ym(t.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,I=new qf(d,"GET",function(n,t){return function(i,r){const s=function(n,t,e){const i=jL(e);return null===i?null:function(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[yG])for(const r of e[yG]){const s=r.replace(/\/$/,""),a=n._makeStorageReference(new Yo(t,s));i.prefixes.push(a)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new Yo(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return $f(null!==s),s}}(n,t.bucket),C);return I.urlParams=s,I.errorHandler=kC(t),I}function CG(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),i}class bk{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function zL(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){$f(!1)}return $f(!!e&&-1!==(t||["active"]).indexOf(e)),e}const ire={STATE_CHANGED:"state_changed"},La={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function GL(n){switch(n){case"running":case"pausing":case"canceling":return La.RUNNING;case"paused":return La.PAUSED;case"success":return La.SUCCESS;case"canceled":return La.CANCELED;default:return La.ERROR}}class rre{constructor(t,e,i){if(function(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function RC(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class ore extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dy.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dy.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dy.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw iS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iS("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw iS("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iS("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function th(){return new ore}class SG{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=rS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ri.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(hG(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=sG()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ri.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a=CG(t,i,r),d={name:a.fullPath},g=Ym(s,n.host,n._protocol),I={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},T=HL(a,e),q=new qf(g,"POST",function(te){let re;zL(te);try{re=te.getResponseHeader("X-Goog-Upload-URL")}catch(_e){$f(!1)}return $f(gk(re)),re},n.maxUploadRetryTime);return q.urlParams=d,q.headers=I,q.body=T,q.errorHandler=kC(t),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,th,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function(n,t,e,i){const g=new qf(e,"POST",function(C){const I=zL(C,["active","final"]);let T=null;try{T=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){$f(!1)}T||$f(!1);const O=Number(T);return $f(!isNaN(O)),new bk(O,i.size(),"final"===I)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=kC(t),g}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,th,e,i);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new bk(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=function(n,t,e,i,r,s,a,d){const g=new bk(0,0);if(a?(g.current=a.current,g.total=a.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw new mr(Ri.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const C=g.total-g.current;let I=C;r>0&&(I=Math.min(I,r));const T=g.current;let L="";L=0===I?"finalize":C===I?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":L,"X-Goog-Upload-Offset":`${g.current}`},te=i.slice(T,T+I);if(null===te)throw aG();const Pe=new qf(e,"POST",function(Ge,kt){const Pt=zL(Ge,["active","final"]),Tn=g.current+I,yr=i.size();let Qo;return Qo="final"===Pt?vk(t,s)(Ge,kt):null,new bk(Tn,yr,"final"===Pt,Qo)},t.maxUploadRetryTime);return Pe.headers=q,Pe.body=te.uploadData(),Pe.progressCallback=d||null,Pe.errorHandler=kC(n),Pe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const d=this._ref.storage._makeRequest(a,th,r,s,!1);this._request=d,d.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=bG(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,th,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},g=function(){let Pe="";for(let Ge=0;Ge<2;Ge++)Pe+=Math.random().toString().slice(2);return Pe}();a["Content-Type"]="multipart/related; boundary="+g;const C=CG(t,i,r),I=HL(C,e),L=Gf.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+I+"\r\n--"+g+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===L)throw aG();const q={name:C.fullPath},te=Ym(s,n.host,n._protocol),_e=n.maxUploadRetryTime,Ve=new qf(te,"POST",vk(n,e),_e);return Ve.urlParams=q,Ve.headers=a,Ve.body=L.uploadData(),Ve.errorHandler=kC(t),Ve}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,th,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=oG(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=GL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new rre(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(GL(this._state)){case La.SUCCESS:RC(this._resolve.bind(null,this.snapshot))();break;case La.CANCELED:case La.ERROR:RC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(GL(this._state)){case La.RUNNING:case La.PAUSED:t.next&&RC(t.next.bind(t,this.snapshot))();break;case La.SUCCESS:t.complete&&RC(t.complete.bind(t))();break;default:t.error&&RC(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class s0{constructor(t,e){this._service=t,this._location=e instanceof Yo?e:Yo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new s0(t,e)}get root(){const t=new Yo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gG(this._location.path)}get storage(){return this._service}get parent(){const t=function(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Yo(this._location.bucket,t);return new s0(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw cG(t)}}function IG(n,t,e){return qL.apply(this,arguments)}function qL(){return qL=(0,G.Z)(function*(n,t,e){const r=yield TG(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield IG(n,t,r.nextPageToken))}),qL.apply(this,arguments)}function TG(n,t){null!=t&&"number"==typeof t.maxResults&&BL("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Yie(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,th)}function yre(n){n._throwIfRoot("getDownloadURL");const t=function(n,t,e){const r=Ym(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new qf(r,"GET",function(n,t){return function(i,r){const s=_G(n,r,t);return $f(null!==s),function(n,t,e,i){const r=jL(t);if(null===r||!gk(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(C=>{const T=n.fullPath;return Ym("/b/"+a(n.bucket)+"/o/"+a(T),e,i)+dG({alt:"media",token:C})})[0]}(s,r,n.host,n._protocol)}}(n,e),a);return d.errorHandler=sS(t),d}(n.storage,n._location,rS());return n.storage.makeRequestWithTokens(t,th).then(e=>{if(null===e)throw new mr(Ri.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function MG(n,t){const e=function(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Yo(n._location.bucket,e);return new s0(n.storage,i)}function kG(n,t){if(n instanceof $L){const e=n;if(null==e._bucket)throw new mr(Ri.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rG+"' property when initializing the app?");const i=new s0(e,e._bucket);return null!=t?kG(i,t):i}return void 0!==t?MG(n,t):n}function Cre(n,t){if(t&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof $L)return function(n,t){return new s0(n,t)}(n,t);throw MC("To use ref(service, url), the first argument must be a Storage instance.")}return kG(n,t)}function RG(n,t){const e=null==t?void 0:t[rG];return null==e?null:Yo.makeFromBucketSpec(e,n)}class $L{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=iG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Yo.makeFromBucketSpec(r,this._host):RG(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Yo.makeFromBucketSpec(this._url,t):RG(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){BL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){BL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,G.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,G.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new s0(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new yie(lG());{const a=function(n,t,e,i,r,s,a=!0){const d=dG(n.urlParams),g=n.url+d,C=Object.assign({},n.headers);return function(n,t){t&&(n["X-Firebase-GMPID"]=t)}(C,t),function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(C,e),function(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(C,s),function(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(C,i),new xie(g,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var i=this;return(0,G.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const OG="@firebase/storage";function FG(n,t){return Cre(n=uy(n),t)}function LG(n,t,e,i={}){!function(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:function(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jz(JSON.stringify({alg:"none",type:"JWT"})),Jz(JSON.stringify(a)),""].join(".")}(r,n.app.options.projectId))}(n,t,e,i)}(0,ot._registerComponent)(new class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}("storage",function(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new $L(e,i,r,t,ot.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(OG,"0.11.2",""),(0,ot.registerVersion)(OG,"0.11.2","esm2017");Error;Error;class sse{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}class xk{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class GG{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xk(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new xk(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?a=>e(new xk(a,this,this._ref)):{next:e.next?a=>e.next(new xk(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class qG{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Km(t,this._service))}get items(){return this._delegate.items.map(t=>new Km(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Km{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(n,t){return MG(n,t)}(this._delegate,t);return new Km(e,this.storage)}get root(){return new Km(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Km(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new GG(function(n,t,e){return function(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new SG(n,new Gf(t),e)}(n=uy(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Ec.RAW,i){this._throwIfRoot("putString");const r=UL(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new GG(new SG(this._delegate,new Gf(r.data,!0),s),this)}listAll(){return function(n){return function(n){const t={prefixes:[],items:[]};return IG(n,t).then(()=>t)}(n=uy(n))}(this._delegate).then(t=>new qG(t,this.storage))}list(t){return function(n,t){return TG(n=uy(n),t)}(this._delegate,t||void 0).then(e=>new qG(e,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const t=bG(n.storage,n._location,rS());return n.storage.makeRequestWithTokens(t,th)}(n=uy(n))}(this._delegate)}updateMetadata(t){return function(n,t){return function(n,t){n._throwIfRoot("updateMetadata");const e=function(n,t,e,i){const s=Ym(t.fullServerUrl(),n.host,n._protocol),d=HL(e,i),C=n.maxOperationRetryTime,I=new qf(s,"PATCH",vk(n,i),C);return I.headers={"Content-Type":"application/json; charset=utf-8"},I.body=d,I.errorHandler=sS(t),I}(n.storage,n._location,t,rS());return n.storage.makeRequestWithTokens(e,th)}(n=uy(n),t)}(this._delegate,t)}getDownloadURL(){return function(n){return yre(n=uy(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const t=function(n,t){const i=Ym(t.fullServerUrl(),n.host,n._protocol),d=new qf(i,"DELETE",function(g,C){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=sS(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,th)}(n=uy(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw cG(t)}}class $G{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(ZG(t))throw MC("ref() expected a child path but got a URL, use refFromURL instead.");return new Km(FG(this._delegate,t),this)}refFromURL(t){if(!ZG(t))throw MC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Yo.makeFromUrl(t,this._delegate.host)}catch(e){throw MC("refFromUrl() expected a valid full URL but got an invalid one.")}return new Km(FG(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){LG(this._delegate,t,e,i)}}function ZG(n){return/^[A-Za-z]+:\/\//.test(n)}function hse(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new $G(e,i)}function WG(n){const t=function(n){return new oi.y(t=>{const e=a=>t.next(a);e(n.snapshot);const s=n.on("state_changed",e);return n.then(a=>{e(a),t.complete()},a=>{e(n.snapshot),(a=>{t.error(a)})(a)}),function(){s()}}).pipe(lb(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,rt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Dk(n){return{getDownloadURL:()=>ct(void 0).pipe(dn.fc,$n(()=>n.getDownloadURL()),dn.iC),getMetadata:()=>ct(void 0).pipe(dn.fc,$n(()=>n.getMetadata()),dn.iC),delete:()=>(0,Cn.D)(n.delete()),child:t=>Dk(n.child(t)),updateMetadata:t=>(0,Cn.D)(n.updateMetadata(t)),put:(t,e)=>WG(n.put(t,e)),putString:(t,e,i)=>WG(n.putString(t,e,i)),list:t=>(0,Cn.D)(n.list(t)),listAll:()=>(0,Cn.D)(n.listAll())}}!function(n){const t={TaskState:La,TaskEvent:ire,StringFormat:Ec,Storage:$G,Reference:Km};n.INTERNAL.registerComponent(new sse("storage-compat",hse,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(hP.Z);const mse=new o.OlP("angularfire2.storageBucket"),gse=new o.OlP("angularfire2.storage.maxUploadRetryTime"),_se=new o.OlP("angularfire2.storage.maxOperationRetryTime"),yse=new o.OlP("angularfire2.storage.use-emulator");let YG=(()=>{class n{constructor(e,i,r,s,a,d,g,C,I,T){const O=(0,pr.on)(e,a,i);this.storage=(0,pr.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const L=a.runOutsideAngular(()=>O.storage(r||void 0)),q=I;return q&&L.useEmulator(...q),g&&L.setMaxUploadRetryTime(g),C&&L.setMaxOperationRetryTime(C),L},[g,C])}ref(e){return Dk(this.storage.ref(e))}refFromURL(e){return Dk(this.storage.refFromURL(e))}upload(e,i,r){return Dk(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pr.Dh),o.LFG(pr.xv,8),o.LFG(mse,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(dn.HU),o.LFG(gse,8),o.LFG(_se,8),o.LFG(yse,8),o.LFG(Zv,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const vse=["mat-calendar-body",""];function bse(n,t){if(1&n&&(o.TgZ(0,"tr",2),o.TgZ(1,"td",3),o._uU(2),o.qZA(),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e.numCols),o.xp6(1),o.hij(" ",e.label," ")}}function wse(n,t){if(1&n&&(o.TgZ(0,"td",3),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e._firstRowOffset),o.xp6(1),o.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Cse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",7),o.NdJ("click",function(r){const a=o.CHM(e).$implicit;return o.oxw(2)._cellClicked(a,r)}),o.TgZ(1,"div",8),o._uU(2),o.qZA(),o._UZ(3,"div",9),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),o.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),o.uIk("data-mat-row",r)("data-mat-col",i)("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-selected",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),o.xp6(1),o.hij(" ",e.displayValue," ")}}function Ese(n,t){if(1&n&&(o.TgZ(0,"tr",4),o.YNc(1,wse,2,6,"td",5),o.YNc(2,Cse,4,47,"td",6),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&r._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",e)}}function xse(n,t){if(1&n&&(o.TgZ(0,"th",5),o.TgZ(1,"abbr",6),o._uU(2),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.uIk("aria-label",e.long),o.xp6(1),o.uIk("title",e.long),o.xp6(1),o.Oqu(e.narrow)}}const Dse=["*"];function Sse(n,t){}function Ase(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("_userSelection",function(r){return o.CHM(e),o.oxw()._dateSelected(r)}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function Ise(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("monthSelected",function(r){return o.CHM(e),o.oxw()._monthSelectedInYearView(r)})("selectedChange",function(r){return o.CHM(e),o.oxw()._goToDateInView(r,"month")}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Tse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("yearSelected",function(r){return o.CHM(e),o.oxw()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return o.CHM(e),o.oxw()._goToDateInView(r,"year")}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Mse(n,t){}const kse=["button"];function Rse(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const Ose=[[["","matDatepickerToggleIcon",""]]],Pse=["[matDatepickerToggleIcon]"];class JL{constructor(t,e,i,r,s={},a=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=a,this.rawValue=d}}let OC=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&XL(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Dn.q)(1)).subscribe(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})}_isRangeStart(e){return e2(e,this.startValue,this.endValue)}_isRangeEnd(e){return t2(e,this.startValue,this.endValue)}_isInRange(e){return n2(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return e2(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const a=this.rows[i-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const a=this.rows[i+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return t2(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return n2(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return e2(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return t2(e,this.previewStart,this.previewEnd)}_isInPreview(e){return n2(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(XL(e)?i=e:XL(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:vse,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(o.YNc(0,bse,3,6,"tr",0),o.YNc(1,Ese,3,2,"tr",1)),2&e&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows))},directives:[sn,jt,ie],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function XL(n){return"TD"===n.nodeName}function e2(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function t2(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function n2(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Tl{constructor(t,e){this.start=t,this.end=e}}let hy=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new dt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Nse=(()=>{class n extends hy{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const KG={provide:hy,deps:[[new o.FiY,new o.tp0,hy],fo],useFactory:function(n,t){return n||new Nse(t)}},Sk=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let QG=(()=>{class n{constructor(e,i,r,s,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=Ln.w0.EMPTY,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Tl?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(di(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.createDate(r,s,i);let d,g;this._selected instanceof Tl?(d=this._getDateInCurrentMonth(this._selected.start),g=this._getDateInCurrentMonth(this._selected.end)):d=g=this._getDateInCurrentMonth(this._selected),(d!==i||g!==i)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!ho(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((a,d)=>({long:a,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(a),g=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),C=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new JL(r+1,i[r],g,d,C,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Tl?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Eb,8),o.Y36(fo,8),o.Y36(rs,8),o.Y36(Sk,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(OC,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0),o.TgZ(1,"thead",1),o.TgZ(2,"tr"),o.YNc(3,xse,3,3,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA(),o.qZA(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[jt,OC],encapsulation:2,changeDetection:0}),n})(),JG=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ln.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),XG(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Tl?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(di(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-oS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-oS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-oS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return oS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new JL(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Tl){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(fo,8),o.Y36(rs,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(OC,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0),o.TgZ(1,"thead",1),o.TgZ(2,"tr"),o._UZ(3,"th",2),o.qZA(),o.qZA(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[OC],encapsulation:2,changeDetection:0}),n})();function XG(n,t,e,i,r){const s=n.getYear(t),a=n.getYear(e),d=eq(n,i,r);return Math.floor((s-d)/24)===Math.floor((a-d)/24)}function oS(n,t,e,i){return function(n,t){return(n%24+24)%24}(n.getYear(t)-eq(n,e,i))}function eq(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let tq=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Ln.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Tl?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(di(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new JL(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Tl?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Eb,8),o.Y36(fo,8),o.Y36(rs,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(OC,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0),o.TgZ(1,"thead",1),o.TgZ(2,"tr"),o._UZ(3,"th",2),o.qZA(),o.qZA(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[OC],encapsulation:2,changeDetection:0}),n})(),aS=(()=>{class n{constructor(){this.changes=new dt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hse=0,zse=(()=>{class n{constructor(e,i,r,s,a){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+Hse++,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-oS(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,a)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):XG(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(aS),o.Y36((0,o.Gpc)(()=>o2)),o.Y36(fo,8),o.Y36(Eb,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Dse,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"polygon",4),o.qZA(),o.qZA(),o.kcU(),o._UZ(7,"div",5),o.Hsn(8),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.nextClicked()}),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),o.xp6(1),o.uIk("id",i._buttonDescriptionId),o.xp6(1),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel))},directives:[Qd,Fe],encapsulation:2,changeDetection:0}),n})(),o2=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this.stateChanges=new dt.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Tl?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new jw(this.headerComponent||zse),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate||e.maxDate||e.dateFilter;if(i&&!i.firstChange){const r=this._getCurrentViewComponent();r&&(this._changeDetectorRef.detectChanges(),r._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Tl||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(aS),o.Y36(fo,8),o.Y36(Eb,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(o.Gf(QG,5),o.Gf(tq,5),o.Gf(JG,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.monthView=r.first),o.iGM(r=o.CRH())&&(i.yearView=r.first),o.iGM(r=o.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[o._Bn([KG]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(o.YNc(0,Sse,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,Ase,1,8,"mat-month-view",2),o.YNc(3,Ise,1,6,"mat-year-view",3),o.YNc(4,Tse,1,6,"mat-multi-year-view",4),o.qZA()),2&e&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},directives:[dT,ka,Ys,Er,QG,tq,JG],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),n})();const nq={transformPanel:ui("transformPanel",[fn("void => enter-dropdown",xn("120ms cubic-bezier(0, 0, 0.2, 1)",to([xt({opacity:0,transform:"scale(1, 0.8)"}),xt({opacity:1,transform:"scale(1, 1)"})]))),fn("void => enter-dialog",xn("150ms cubic-bezier(0, 0, 0.2, 1)",to([xt({opacity:0,transform:"scale(0.7)"}),xt({transform:"none",opacity:1})]))),fn("* => void",xn("100ms linear",xt({opacity:0})))]),fadeInCalendar:ui("fadeInCalendar",[bn("void",xt({opacity:0})),bn("enter",xt({opacity:1})),fn("void => *",xn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Gse=0;const iq=new o.OlP("mat-datepicker-scroll-strategy"),$se={provide:iq,deps:[Ou],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},Zse=wb(class{constructor(n){this._elementRef=n}});let Wse=(()=>{class n extends Zse{constructor(e,i,r,s,a,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new Ln.w0,this._animationDone=new dt.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Tl;if(s&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(hy),o.Y36(fo),o.Y36(Sk,8),o.Y36(aS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&o.Gf(o2,5),2&e){let r;o.iGM(r=o.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&o.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),o.qZA(),o.YNc(2,Mse,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA(),o.qZA()),2&e&&(o.ekj("mat-datepicker-content-container-with-actions",i._actionsPortal),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText))},directives:[c,o2,ie,dT,Qd],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[nq.transformPanel,nq.fadeInCalendar]},changeDetection:0}),n})(),rq=(()=>{class n{constructor(e,i,r,s,a,d,g){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=a,this._dir=d,this._model=g,this._inputStateChanges=Ln.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+Gse++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new dt.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=vt(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=vt(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=vt(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){vt(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof c6&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=fb(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,Dn.q)(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,i;null===(i=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=this.datepickerInput.getOverlayLabelId(),r=new jw(Wse,this._viewContainerRef),s=this._overlayRef=this._overlay.create(new Fx({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")})),a=s.overlayElement;a.setAttribute("role","dialog"),i&&a.setAttribute("aria-labelledby",i),e&&a.setAttribute("aria-modal","true"),this._getCloseStream(s).subscribe(d=>{d&&d.preventDefault(),this.close()}),this._componentRef=s.attach(r),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe((0,Dn.q)(1)).subscribe(()=>s.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",a="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:a}])}_getCloseStream(e){return(0,Mi.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Sn(i=>27===i.keyCode&&!ho(i)||this.datepickerInput&&ho(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ou),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(iq),o.Y36(fo,8),o.Y36(rs,8),o.Y36(hy))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),Ak=(()=>{class n extends rq{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([KG,{provide:rq,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class Ik{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let Yse=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new dt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ln.w0.EMPTY,this._localeSubscription=Ln.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!a||this._dateAdapter.compareDate(d,a)<=0?null:{matDatepickerMin:{min:d,actual:a}}},this._maxValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!a||this._dateAdapter.compareDate(d,a)>=0?null:{matDatepickerMax:{max:d,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=vt(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Ik(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ik(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r),this._dateAdapter.sameDate(r,this.value)?(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(r),this._cvaOnChange(r),this.dateInput.emit(new Ik(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ik(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fo,8),o.Y36(Eb,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const Qse={provide:Ia,useExisting:(0,o.Gpc)(()=>PC),multi:!0},Jse={provide:ps,useExisting:(0,o.Gpc)(()=>PC),multi:!0};let PC=(()=>{class n extends Yse{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Ln.w0.EMPTY,this._validator=Ps.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fo,8),o.Y36(Eb,8),o.Y36(JI,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([Qse,Jse,{provide:RU,useExisting:n}]),o.qOj]}),n})(),Xse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),Tk=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ln.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=vt(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:ct(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ct(),r=this.datepicker?(0,Mi.T)(this.datepicker.openedStream,this.datepicker.closedStream):ct();this._stateChanges.unsubscribe(),this._stateChanges=(0,Mi.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(aS),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Xse,5),2&e){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(kse,5),2&e){let r;o.iGM(r=o.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._open(s)}),2&e&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:Pse,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(o.F$t(Ose),o.TgZ(0,"button",0,1),o.YNc(2,Rse,2,0,"svg",2),o.Hsn(3),o.qZA()),2&e&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},directives:[Qd,sn],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),eoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[aS,$se],imports:[[Jt,LO,Lx,Bw,qO,En],j_]}),n})();const a2={primary:"bg-fuchsia-800",lightPrimary:"bg-fuchsia-300",secondary:"bg-blue-800",lightSecondary:"bg-blue-300",accent:"bg-pink-800",warn:"bg-red-800",light:"bg-gray-400",dark:"bg-gray-800"},l2={xSmall:"px-1 py-0.5 text-xs",small:"px-2 py-1 text-sm",medium:"px-3 py-1.5 text-base",large:"px-4 py-2 text-lg",xLarge:"px-5 py-3 text-xl"},c2=[{value:1,label:"Not Start",color:"text-gray-600"},{value:2,label:"On Going",color:"text-purple-600"},{value:3,label:"Completed",color:"text-green-600"},{value:4,label:"On Hold",color:"text-yellow-600"},{value:5,label:"Cancelled",color:"text-red-600"}],sq=Array.from({length:11},(n,t)=>({value:10*t,label:10*t+"%"}));let toe=(()=>{class n{constructor(){}ngOnInit(){}getColorClass(e){return a2[e]||a2.primary}getButtonSize(e){return l2[e]||l2.medium}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-ui"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"div")},encapsulation:2}),n})();function oq(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const u2="inline",Mk=["row","column","row-reverse","column-reverse"];function aq(n){let[t,e,i]=function(n){n=n?n.toLowerCase():"";let[t,e,i]=n.split(" ");return Mk.find(r=>r===t)||(t=Mk[0]),e===u2&&(e=i!==u2?i:"",i=u2),[t,noe(e),!!i]}(n);return function(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function noe(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}const soe={provide:o.tb,useFactory:function(n,t){return()=>{if(Xn(t)){const e=Array.from(n.querySelectorAll(`[class*=${cq}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${cq}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[ce,o.Lbi],multi:!0},cq="flex-layout-";let d2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[soe]}),n})();class a0{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new a0(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let ooe=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h2={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},fy=new o.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>h2}),NC=new o.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),f2=new o.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function uq(n,t){return n=n?n.clone():new a0,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Nr{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Zi=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:oq(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:oq(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||gi(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)||""}lookupInlineStyle(e,i){return Xn(this._platformId)?e.style.getPropertyValue(i):this._getServerStyle(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(Xn(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],a=Array.isArray(s)?s:[s];a.sort();for(let d of a)d=d?d+"":"",Xn(this._platformId)||!this._serverModuleLoaded?Xn(this._platformId)?i.style.setProperty(r,d):this._setServerStyle(i,r,d):this._serverStylesheet.addStyleToElement(i,r,d)})}_setServerStyle(e,i,r){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=this._readStyleAttribute(e);s[i]=r||"",this._writeStyleAttribute(e,s)}_getServerStyle(e,i){return this._readStyleAttribute(e)[i]||""}_readStyleAttribute(e){const i={},r=e.getAttribute("style");if(r){const s=r.split(/;+/g);for(let a=0;a<s.length;a++){const d=s[a].trim();if(d.length>0){const g=d.indexOf(":");if(-1===g)throw new Error(`Invalid CSS style: ${d}`);i[d.substr(0,g).trim()]=d.substr(g+1).trim()}}}return i}_writeStyleAttribute(e,i){let r="";for(const s in i)i[s]&&(r+=s+":"+i[s]+";");e.setAttribute("style",r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ooe),o.LFG(NC),o.LFG(o.Lbi),o.LFG(fy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cS(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function aoe(n,t){return(n.priority||0)-(t.priority||0)}let p2=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new hr(new a0(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){const i=this.registry.get(e);return i?i.matches:this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(Sn(a=>!i||e.indexOf(a.mediaQuery)>-1)),s=new oi.y(a=>{const d=this.registerQuery(e);if(d.length){const g=d.pop();d.forEach(C=>{a.next(C)}),this.source.next(g)}a.complete()});return(0,Mi.T)(s,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function(n,t){const e=n.filter(i=>!dq[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>dq[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const a=g=>{this._zone.run(()=>this.source.next(new a0(g.matches,s)))};let d=this.registry.get(s);d||(d=this.buildMQL(s),d.addListener(a),this.pendingRemoveListenerFns.push(()=>d.removeListener(a)),this.registry.set(s,d)),d.matches&&r.push(new a0(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,Xn(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(o.Lbi),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dq={},uoe=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],hq="(orientation: portrait) and (max-width: 599.98px)",fq="(orientation: landscape) and (max-width: 959.98px)",pq="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",mq="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",gq="(orientation: portrait) and (min-width: 840px)",_q="(orientation: landscape) and (min-width: 1280px)",Jm={HANDSET:`${hq}, ${fq}`,TABLET:`${pq} , ${mq}`,WEB:`${gq}, ${_q} `,HANDSET_PORTRAIT:`${hq}`,TABLET_PORTRAIT:`${pq} `,WEB_PORTRAIT:`${gq}`,HANDSET_LANDSCAPE:`${fq}`,TABLET_LANDSCAPE:`${mq}`,WEB_LANDSCAPE:`${_q}`},doe=[{alias:"handset",priority:2e3,mediaQuery:Jm.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Jm.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Jm.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Jm.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Jm.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Jm.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Jm.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Jm.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Jm.WEB_PORTRAIT,overlapping:!0}],hoe=/(\.|-|_)/g;function foe(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const _oe=new o.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,o.f3M)(f2),t=(0,o.f3M)(fy),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?function(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i])}(e[i.alias],i):e[i.alias]=i}),function(n){return n.forEach(t=>{t.suffix||(t.suffix=function(n){return n.replace(hoe,"|").split("|").map(foe).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:uoe).concat(t.addOrientationBps?doe:[]),e)}});let m2=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(aoe)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias==e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)||null,this.findByMap.set(e,r)),r||null}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FC="print",yoe={alias:FC,mediaQuery:FC,priority:1e3};let voe=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new boe,this.deactivations=[]}withPrintQuery(e){return[...e,FC]}isPrintEvent(e){return e.mediaQuery.startsWith(FC)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(cS)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?i.mediaQuery:""),uq(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new a0(!0,FC))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return this.registerBeforeAfterPrintHooks(e),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(e.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(e.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(cS))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(m2),o.LFG(fy),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class boe{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(yoe),t.sort(cS),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(n){return!!n&&n.mediaQuery.startsWith(FC)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let sr=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new dt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);i&&((e=uq(e,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(cS),this.updateStyles()):!e.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(cS),this.updateStyles()))}init(e,i,r,s,a=[]){yq(this.updateMap,e,i,r),yq(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const a=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let a=this.elementMap.get(e);if(a){const g=(a.get(s)||new Map).set(i,r);a.set(s,g),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,a);const d=this.getValue(e,i);void 0!==d&&this.updateElement(e,i,d)}trackValue(e,i){return this.subject.asObservable().pipe(Sn(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,d)=>{this.updateElement(i,d,a),r.delete(d)}),r.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const d=s.get(a);this.updateElement(i,a,d)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,d)=>this.updateElement(e,d,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const d=(0,Mi.T)(...r).subscribe(()=>{const g=this.getValue(e,i);this.updateElement(e,i,g)});s.set(i,d)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const d=e.get(this.activatedBreakpoints[s].alias);if(d&&(void 0===i||d.has(i)&&null!=d.get(i)))return d}const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const i=this.breakpoints.items.map(r=>r.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe((0,Si.b)(this.hook.interceptEvents(this)),Sn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(p2),o.LFG(m2),o.LFG(voe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yq(n,t,e,i){if(void 0!==i){let r=n.get(t);r||(r=new Map,n.set(t,r)),r.set(e,i)}}let gr=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new dt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=r.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru=Object.assign({},a),this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=aq(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Nr),o.Y36(Zi),o.Y36(sr))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})(),Toe=(()=>{class n extends gr{constructor(e,i,r,s,a,d,g){super(e,null,i,r),this.ngClassInstance=g,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new ie(s,a,e,d)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Zi),o.Y36(sr),o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.Qsj),o.Y36(ie,10))},n.\u0275dir=o.lG2({type:n,inputs:{klass:["class","klass"]},features:[o.qOj]}),n})();const Moe=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let g2=(()=>{class n extends Toe{constructor(){super(...arguments),this.inputs=Moe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[o.qOj]}),n})(),Sq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[d2]]}),n})();const joe=function(n,t){return[n,t]},Hoe=["*"];let LC=(()=>{class n extends toe{constructor(){super(),this.color=a2.primary,this.disabled=!1,this.size=l2.small,this.type="button"}ngOnInit(){this.color=this.getColorClass(this.color),this.size=this.getButtonSize(this.size)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-button-ui"]],inputs:{color:"color",disabled:"disabled",size:"size",type:"type"},features:[o.qOj],ngContentSelectors:Hoe,decls:2,vars:5,consts:[[1,"flex","justify-content-center","items-center","drop-shadow-md","shadow-fuchsia-950","text-white","px-3","py-1","rounded-pill","border-b-1","border-white","border-opacity-30","hover:bg-opacity-75","hover:border-opacity-75",3,"ngClass"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"button",0),o.Hsn(1),o.qZA()),2&e&&(o.Q6J("ngClass",o.WLB(2,joe,i.color,i.size)),o.uIk("type",i.type))},directives:[ie,g2],styles:[""]}),n})();function zoe(n,t){if(1&n&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function Goe(n,t){if(1&n&&(o.TgZ(0,"div",20),o._UZ(1,"img",27),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("src",e.previewImage,o.LSH)}}let qoe=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.firestore=i,this.storage=r,this.parentProjects=[{id:1,name:"Parent Project 1"},{id:2,name:"Parent Project 2"},{id:3,name:"Parent Project 3"}],this.selectedFile=null,this.previewImage=null}ngOnInit(){}onFileSelected(e){const i=e.target.files[0];if(i){this.selectedFile=i;const r=new FileReader;r.onload=s=>{this.previewImage=r.result},r.readAsDataURL(i)}}onSubmit(e){if(e.valid){const i={name:e.value.name,status:e.value.status,parentProject:e.value.parentProject,detail:e.value.detail,startDate:e.value.startDate,endDate:e.value.endDate,imageUrl:""};if(this.selectedFile){const r=`projects/${this.selectedFile.name}`,s=this.storage.ref(r);this.storage.upload(r,this.selectedFile).snapshotChanges().pipe(Fd(()=>{s.getDownloadURL().subscribe(d=>{i.imageUrl=d,this.firestore.collection("projects").add(i).then(()=>{console.log("Project added successfully"),this.dialogRef.close(i)})})})).subscribe()}else this.firestore.collection("projects").add(i).then(()=>{console.log("Project added successfully"),this.dialogRef.close(i)})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ib),o.Y36(tS),o.Y36(YG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-new-project"]],decls:56,vars:6,consts:[[1,"p-4","pb-0","h-100","flex","flex-col","gap-y-2",3,"ngSubmit"],["projectForm","ngForm"],[1,""],[1,"grow","flex-col","gap-y-2"],[1,"flex","space-x-6"],["appearance","fill",1,"w-100"],["matInput","","name","name","ngModel","","required",""],["name","parentProject","ngModel",""],[3,"value",4,"ngFor","ngForOf"],["name","status","ngModel","","required",""],["value","Active"],["value","Completed"],["value","On Hold"],["value","Cancelled"],["matInput","","name","startDate","ngModel","","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","name","endDate","ngModel","","required","",3,"matDatepicker"],["endDatePicker",""],["matInput","","name","detail","ngModel",""],[1,"mb-3"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","mb-3",4,"ngIf"],[1,"flex","pt-2","pb-2","items-end","justify-end","space-x-4"],["size","small","color","light"],["size","medium","type","submit"],[3,"value"],["alt","Preview","width","150","height","150",1,"rounded","border",3,"src"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"form",0,1),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(1);return i.onSubmit(a)}),o.TgZ(2,"h2",2),o._uU(3,"New Project"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"mat-form-field",5),o.TgZ(7,"mat-label"),o._uU(8,"Project Name"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"mat-form-field",5),o.TgZ(11,"mat-label"),o._uU(12,"Parent Project"),o.qZA(),o.TgZ(13,"mat-select",7),o.YNc(14,zoe,2,2,"mat-option",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"mat-form-field",5),o.TgZ(16,"mat-label"),o._uU(17,"Status"),o.qZA(),o.TgZ(18,"mat-select",9),o.TgZ(19,"mat-option",10),o._uU(20,"Active"),o.qZA(),o.TgZ(21,"mat-option",11),o._uU(22,"Completed"),o.qZA(),o.TgZ(23,"mat-option",12),o._uU(24,"On Hold"),o.qZA(),o.TgZ(25,"mat-option",13),o._uU(26,"Cancelled"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",4),o.TgZ(28,"mat-form-field",5),o.TgZ(29,"mat-label"),o._uU(30,"Start Date"),o.qZA(),o._UZ(31,"input",14),o._UZ(32,"mat-datepicker-toggle",15),o._UZ(33,"mat-datepicker",null,16),o.qZA(),o.TgZ(35,"mat-form-field",5),o.TgZ(36,"mat-label"),o._uU(37,"End Date"),o.qZA(),o._UZ(38,"input",17),o._UZ(39,"mat-datepicker-toggle",15),o._UZ(40,"mat-datepicker",null,18),o.qZA(),o.qZA(),o.TgZ(42,"mat-form-field",5),o.TgZ(43,"mat-label"),o._uU(44,"Project Detail"),o.qZA(),o._UZ(45,"textarea",19),o.qZA(),o.TgZ(46,"div",20),o.TgZ(47,"label"),o._uU(48,"Project Image"),o.qZA(),o.TgZ(49,"input",21),o.NdJ("change",function(a){return i.onFileSelected(a)}),o.qZA(),o.qZA(),o.YNc(50,Goe,2,1,"div",22),o.qZA(),o.TgZ(51,"div",23),o.TgZ(52,"app-button-ui",24),o._uU(53,"Cancel"),o.qZA(),o.TgZ(54,"app-button-ui",25),o._uU(55,"Create Project"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const r=o.MAs(34),s=o.MAs(41);o.xp6(14),o.Q6J("ngForOf",i.parentProjects),o.xp6(17),o.Q6J("matDatepicker",r),o.xp6(1),o.Q6J("for",r),o.xp6(6),o.Q6J("matDatepicker",s),o.xp6(1),o.Q6J("for",s),o.xp6(11),o.Q6J("ngIf",i.previewImage)}},directives:[Tm,Dm,Iu,Db,L_,Vw,Au,Sf,Tf,Kd,zw,jt,xb,PC,Tk,QI,Ak,sn,LC],styles:[""]}),n})();function $oe(n,t){if(1&n&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function Zoe(n,t){if(1&n&&(o.TgZ(0,"div",20),o._UZ(1,"img",27),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("src",e.previewImage,o.LSH)}}let Woe=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.data=i,this.firestore=r,this.storage=s,this.parentProjects=[{id:1,name:"Parent Project 1"},{id:2,name:"Parent Project 2"},{id:3,name:"Parent Project 3"}],this.selectedFile=null,this.previewImage=null,this.projectData=Object.assign({},i)}ngOnInit(){this.projectData.imageUrl&&(this.previewImage=this.projectData.imageUrl)}onFileSelected(e){const i=e.target.files[0];if(i){this.selectedFile=i;const r=new FileReader;r.onload=s=>{this.previewImage=r.result},r.readAsDataURL(i)}}onSubmit(e){if(e.valid){const i={name:e.value.name,status:e.value.status,parentProject:e.value.parentProject,detail:e.value.detail,startDate:e.value.startDate,endDate:e.value.endDate,imageUrl:this.projectData.imageUrl};if(this.selectedFile){const r=`projects/${this.selectedFile.name}`,s=this.storage.ref(r);this.storage.upload(r,this.selectedFile).snapshotChanges().pipe(Fd(()=>{s.getDownloadURL().subscribe(d=>{i.imageUrl=d,this.updateProject(i)})})).subscribe()}else this.updateProject(i)}}updateProject(e){this.firestore.collection("projects").doc(this.projectData.id).update(e).then(()=>{console.log("Project updated successfully"),this.dialogRef.close(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ib),o.Y36(MT),o.Y36(tS),o.Y36(YG))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-project"]],decls:56,vars:12,consts:[[1,"p-4","pb-0","h-100","flex","flex-col","gap-y-2",3,"ngSubmit"],["projectForm","ngForm"],[1,""],[1,"grow","flex-col","gap-y-2"],[1,"flex","space-x-6"],["appearance","fill",1,"w-100"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],["name","parentProject",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","status","required","",3,"ngModel","ngModelChange"],["value","Active"],["value","Completed"],["value","On Hold"],["value","Cancelled"],["matInput","","name","startDate","required","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","name","endDate","required","",3,"matDatepicker","ngModel","ngModelChange"],["endDatePicker",""],["matInput","","name","detail",3,"ngModel","ngModelChange"],[1,"mb-3"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","mb-3",4,"ngIf"],[1,"flex","pt-2","pb-2","items-end","justify-end","space-x-4"],["size","small","color","light",3,"click"],["size","medium","type","submit"],[3,"value"],["alt","Preview","width","150","height","150",1,"rounded","border",3,"src"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"form",0,1),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(1);return i.onSubmit(a)}),o.TgZ(2,"h2",2),o._uU(3,"Edit Project"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"mat-form-field",5),o.TgZ(7,"mat-label"),o._uU(8,"Project Name"),o.qZA(),o.TgZ(9,"input",6),o.NdJ("ngModelChange",function(a){return i.projectData.name=a}),o.qZA(),o.qZA(),o.TgZ(10,"mat-form-field",5),o.TgZ(11,"mat-label"),o._uU(12,"Parent Project"),o.qZA(),o.TgZ(13,"mat-select",7),o.NdJ("ngModelChange",function(a){return i.projectData.parentProject=a}),o.YNc(14,$oe,2,2,"mat-option",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"mat-form-field",5),o.TgZ(16,"mat-label"),o._uU(17,"Status"),o.qZA(),o.TgZ(18,"mat-select",9),o.NdJ("ngModelChange",function(a){return i.projectData.status=a}),o.TgZ(19,"mat-option",10),o._uU(20,"Active"),o.qZA(),o.TgZ(21,"mat-option",11),o._uU(22,"Completed"),o.qZA(),o.TgZ(23,"mat-option",12),o._uU(24,"On Hold"),o.qZA(),o.TgZ(25,"mat-option",13),o._uU(26,"Cancelled"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",4),o.TgZ(28,"mat-form-field",5),o.TgZ(29,"mat-label"),o._uU(30,"Start Date"),o.qZA(),o.TgZ(31,"input",14),o.NdJ("ngModelChange",function(a){return i.projectData.startDate=a}),o.qZA(),o._UZ(32,"mat-datepicker-toggle",15),o._UZ(33,"mat-datepicker",null,16),o.qZA(),o.TgZ(35,"mat-form-field",5),o.TgZ(36,"mat-label"),o._uU(37,"End Date"),o.qZA(),o.TgZ(38,"input",17),o.NdJ("ngModelChange",function(a){return i.projectData.endDate=a}),o.qZA(),o._UZ(39,"mat-datepicker-toggle",15),o._UZ(40,"mat-datepicker",null,18),o.qZA(),o.qZA(),o.TgZ(42,"mat-form-field",5),o.TgZ(43,"mat-label"),o._uU(44,"Project Detail"),o.qZA(),o.TgZ(45,"textarea",19),o.NdJ("ngModelChange",function(a){return i.projectData.detail=a}),o.qZA(),o.qZA(),o.TgZ(46,"div",20),o.TgZ(47,"label"),o._uU(48,"Project Image"),o.qZA(),o.TgZ(49,"input",21),o.NdJ("change",function(a){return i.onFileSelected(a)}),o.qZA(),o.qZA(),o.YNc(50,Zoe,2,1,"div",22),o.qZA(),o.TgZ(51,"div",23),o.TgZ(52,"app-button-ui",24),o.NdJ("click",function(){return i.dialogRef.close()}),o._uU(53,"Cancel"),o.qZA(),o.TgZ(54,"app-button-ui",25),o._uU(55,"Update Project"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const r=o.MAs(34),s=o.MAs(41);o.xp6(9),o.Q6J("ngModel",i.projectData.name),o.xp6(4),o.Q6J("ngModel",i.projectData.parentProject),o.xp6(1),o.Q6J("ngForOf",i.parentProjects),o.xp6(4),o.Q6J("ngModel",i.projectData.status),o.xp6(13),o.Q6J("matDatepicker",r)("ngModel",i.projectData.startDate),o.xp6(1),o.Q6J("for",r),o.xp6(6),o.Q6J("matDatepicker",s)("ngModel",i.projectData.endDate),o.xp6(1),o.Q6J("for",s),o.xp6(6),o.Q6J("ngModel",i.projectData.detail),o.xp6(5),o.Q6J("ngIf",i.previewImage)}},directives:[Tm,Dm,Iu,Db,L_,Vw,Au,Kd,Sf,Tf,zw,jt,xb,PC,Tk,QI,Ak,sn,LC],styles:[""]}),n})(),Aq=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ib),o.Y36(MT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h1",0),o._uU(1,"Confirm Delete"),o.qZA(),o.TgZ(2,"div",1),o.TgZ(3,"p"),o._uU(4,"Are you sure you want to delete this project?"),o.qZA(),o.qZA(),o.TgZ(5,"div",2),o.TgZ(6,"button",3),o.NdJ("click",function(){return i.onNoClick()}),o._uU(7,"No"),o.qZA(),o.TgZ(8,"button",3),o.NdJ("click",function(){return i.onYesClick()}),o._uU(9,"Yes"),o.qZA(),o.qZA())},directives:[L9,B9,V9,Qd],styles:[""]}),n})(),kk=(()=>{class n{constructor(e){this.firestore=e}getProjects(){return this.firestore.collection("projects").valueChanges({idField:"id"}).pipe((0,rt.U)(e=>e.map(i=>Object.assign(Object.assign({},i),{startDate:i.startDate.toDate(),endDate:i.endDate.toDate()}))))}deleteProject(e){return(0,Cn.D)(this.firestore.collection("projects").doc(e).delete())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tS))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yoe=["*"];let Iq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-blanket"]],ngContentSelectors:Yoe,decls:2,vars:0,consts:[[1,"p-4","mt-4","bg-white","border","rounded-md"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[""]}),n})();function Koe(n,t){1&n&&(o.TgZ(0,"th",22),o._uU(1," Image "),o.qZA())}function Qoe(n,t){if(1&n&&(o.TgZ(0,"td",23),o._UZ(1,"img",24),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.s9C("alt",e.name),o.Q6J("src",e.imageUrl?e.imageUrl:"assets/images/default-image-icon.png",o.LSH)}}function Joe(n,t){1&n&&(o.TgZ(0,"th",25),o._uU(1," Project Name "),o.qZA())}const Xoe=function(n){return["/task",n]};function eae(n,t){if(1&n&&(o.TgZ(0,"td",23),o.TgZ(1,"a",26),o._uU(2),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("routerLink",o.VKq(2,Xoe,e.id)),o.xp6(1),o.hij(" ",e.name," ")}}function tae(n,t){1&n&&(o.TgZ(0,"th",27),o._uU(1," Status "),o.qZA())}function nae(n,t){if(1&n&&(o.TgZ(0,"td",23),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.status," ")}}function iae(n,t){1&n&&(o.TgZ(0,"th",28),o._uU(1," Start Date "),o.qZA())}function rae(n,t){if(1&n&&(o.TgZ(0,"td",23),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,e.startDate)," ")}}function sae(n,t){1&n&&(o.TgZ(0,"th",29),o._uU(1," End Date "),o.qZA())}function oae(n,t){if(1&n&&(o.TgZ(0,"td",23),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,e.endDate)," ")}}function aae(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1," Action "),o.qZA())}function lae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",23),o.TgZ(1,"div",31),o.TgZ(2,"button",32),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().openEditDialog(s)}),o.TgZ(3,"mat-icon"),o._uU(4,"edit"),o.qZA(),o.qZA(),o.TgZ(5,"button",32),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().openDeleteDialog(s)}),o.TgZ(6,"mat-icon"),o._uU(7,"delete"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function cae(n,t){1&n&&o._UZ(0,"tr",33)}function uae(n,t){1&n&&o._UZ(0,"tr",34)}const dae=function(){return[5,10,20]};let hae=(()=>{class n{constructor(e,i,r){this._liveAnnouncer=e,this.dialog=i,this.projectService=r,this.displayedColumns=["imageUrl","name","status","startDate","endDate","action"],this.dataSource=new P6}ngOnInit(){this.projectService.getProjects().subscribe(e=>{this.dataSource.data=e})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}openDialog(){this.dialog.open(qoe,{width:"80%",height:"80%"}).afterClosed().subscribe(i=>{console.log("The dialog was closed")})}openEditDialog(e){this.dialog.open(Woe,{width:"60%",height:"60%",data:e}).afterClosed().subscribe(r=>{console.log("The dialog was closed")})}openDeleteDialog(e){this.dialog.open(Aq,{width:"250px",data:{name:e.name}}).afterClosed().subscribe(r=>{r&&this.projectService.deleteProject(e.id).subscribe(()=>{this.dataSource.data=this.dataSource.data.filter(s=>s.id!==e.id)})})}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ft),o.Y36(kT),o.Y36(kk))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-project"]],viewQuery:function(e,i){if(1&e&&(o.Gf(oT,5),o.Gf(mT,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:31,vars:5,consts:[[1,"flex-col","gap-y-2","h-100","m-0","bg-purple-50","p-4"],[1,"bl-header","pb-2","mb-2","flex","justify-content-between"],[1,"flex-grow-0"],["size","small",3,"click"],[1,"flex-grow-1"],["mat-table","","matSort","",1,"w-100",3,"dataSource","matSortChange"],["matColumnDef","imageUrl"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Image",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by status",4,"matHeaderCellDef"],["matColumnDef","startDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by start date",4,"matHeaderCellDef"],["matColumnDef","endDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by end date",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of projects",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by Image"],["mat-cell",""],[1,"w-16","h-16","m-2","object-cover","rounded-full",3,"src","alt"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],[1,"text-blue-500","hover:underline",3,"routerLink"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by start date"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by end date"],["mat-header-cell",""],[1,"flex","space-x-1"],["mat-icon-button","",1,"small-icon-button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"app-breadcrumb"),o.TgZ(2,"app-blanket"),o.TgZ(3,"section",1),o.TgZ(4,"h2",2),o._uU(5," Project "),o.qZA(),o.TgZ(6,"app-button-ui",3),o.NdJ("click",function(){return i.openDialog()}),o._uU(7," New Project "),o.qZA(),o.qZA(),o.TgZ(8,"div",4),o.TgZ(9,"table",5),o.NdJ("matSortChange",function(s){return i.announceSortChange(s)}),o.ynx(10,6),o.YNc(11,Koe,2,0,"th",7),o.YNc(12,Qoe,2,2,"td",8),o.BQk(),o.ynx(13,9),o.YNc(14,Joe,2,0,"th",10),o.YNc(15,eae,3,4,"td",8),o.BQk(),o.ynx(16,11),o.YNc(17,tae,2,0,"th",12),o.YNc(18,nae,2,1,"td",8),o.BQk(),o.ynx(19,13),o.YNc(20,iae,2,0,"th",14),o.YNc(21,rae,3,3,"td",8),o.BQk(),o.ynx(22,15),o.YNc(23,sae,2,0,"th",16),o.YNc(24,oae,3,3,"td",8),o.BQk(),o.ynx(25,17),o.YNc(26,aae,2,0,"th",18),o.YNc(27,lae,8,0,"td",8),o.BQk(),o.YNc(28,cae,1,0,"tr",19),o.YNc(29,uae,1,0,"tr",20),o.qZA(),o._UZ(30,"mat-paginator",21),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(9),o.Q6J("dataSource",i.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(4,dae)))},directives:[eT,Iq,LC,sP,oT,AT,ST,DT,oP,aP,mT,IT,CY,TT,m,Qd,rT,lP,cP],pipes:[ea],styles:[""]}),n})(),fae=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-project-detail"]],decls:35,vars:0,consts:[[1,"container-fluid"],[1,"row","ps-3"],[1,"row","px-3"],[1,"col-md-8","col-sm-12"],[1,"block-02"],[1,"bl-header","p-3","m-0","border-bottom"],[1,"bl-body","p-3"],[1,"row"],[1,"col-md-6"],[1,"row","py-2"],[1,"col-md-4","fw-bold","text-end"],[1,"col-md-8"],[1,"btn","rounded-pill","btn-primary","btn-sm"],[1,"bl-footer"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"app-breadcrumb"),o.qZA(),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"header",5),o.TgZ(7,"h2"),o._uU(8,"Project Name will be placed right here"),o.qZA(),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"div",7),o.TgZ(11,"div",8),o.TgZ(12,"div",9),o.TgZ(13,"div",10),o._uU(14," Status: "),o.qZA(),o.TgZ(15,"div",11),o.TgZ(16,"span",12),o._uU(17,"Active"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"div",9),o.TgZ(19,"div",10),o._uU(20,"Client:"),o.qZA(),o.TgZ(21,"div",11),o._uU(22,"Link to a client page"),o.qZA(),o.qZA(),o.TgZ(23,"div",9),o.TgZ(24,"div",10),o._uU(25,"Start date:"),o.qZA(),o.TgZ(26,"div",11),o._uU(27,"12/12/2021"),o.qZA(),o.qZA(),o.TgZ(28,"div",9),o.TgZ(29,"div",10),o._uU(30,"Closing date:"),o.qZA(),o.TgZ(31,"div",11),o._uU(32,"02/12/2022"),o.qZA(),o.qZA(),o.qZA(),o._UZ(33,"div",8),o.qZA(),o.qZA(),o._UZ(34,"footer",13),o.qZA(),o.qZA(),o.qZA(),o.qZA())},directives:[eT],styles:[""]}),n})(),y2=(()=>{class n{constructor(e){this.firestore=e}getTasks(){return this.firestore.collection("tasks").valueChanges({idField:"id"}).pipe((0,rt.U)(e=>e.map(i=>{var r,s;return Object.assign(Object.assign({},i),{startDate:null===(r=null==i?void 0:i.startDate)||void 0===r?void 0:r.toDate(),endDate:null===(s=null==i?void 0:i.endDate)||void 0===s?void 0:s.toDate()})})))}addTask(e){return(0,Cn.D)(this.firestore.collection("tasks").add(e))}updateTask(e,i){return(0,Cn.D)(this.firestore.collection("tasks").doc(e).update(i))}deleteTask(e){return(0,Cn.D)(this.firestore.collection("tasks").doc(e).delete())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tS))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v2=(()=>{class n{transform(e){return null==e?"":e+"%"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"percentage",type:n,pure:!0}),n})();function pae(n,t){if(1&n&&(o.TgZ(0,"mat-option",32),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function mae(n,t){if(1&n&&(o.TgZ(0,"mat-option",32),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function gae(n,t){if(1&n&&(o.TgZ(0,"mat-option",32),o._uU(1),o.ALo(2,"percentage"),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.value),o.xp6(1),o.hij(" ",o.lcZ(2,2,e.value)," ")}}let _ae=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.taskService=i,this.projectService=r,this.dialogRef=s,this.projects=[],this.tasks=[],this.percentageParams=sq,this.taskForm=this.fb.group({name:["",Ps.required],project:["",Ps.required],dueDate:[""],status:["",Ps.required],detail:["",Ps.required],startDate:[""],endDate:[""],numberOfDays:[{value:"",disabled:!0}],priority:[""],parentTask:[""],loe:[""],percentageCompletion:[""],taskNumber:[""]})}ngOnInit(){this.projectService.getProjects().subscribe(e=>{this.projects=e}),this.taskService.getTasks().subscribe(e=>{this.tasks=e})}calculateDays(){var e,i,r;const s=null===(e=this.taskForm.get("startDate"))||void 0===e?void 0:e.value,a=null===(i=this.taskForm.get("endDate"))||void 0===i?void 0:i.value;if(s&&a){const d=new Date(s),g=new Date(a),C=Math.abs(g.getTime()-d.getTime()),I=Math.ceil(C/864e5);null===(r=this.taskForm.get("numberOfDays"))||void 0===r||r.setValue(I)}}onSubmit(){if(this.taskForm.valid){const e=Object.assign(Object.assign({},this.taskForm.value),{taskNumber:Math.floor(1e9+9e9*Math.random()).toString()});this.taskService.addTask(e).subscribe(()=>{this.dialogRef.close()})}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ux),o.Y36(y2),o.Y36(kk),o.Y36(Ib))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-new-task"]],decls:84,vars:9,consts:[[1,"p-4","pb-0","h-100","flex","flex-col","gap-y-2",3,"formGroup","ngSubmit"],[1,"flex","justify-between","items-center"],[1,"grow","flex-col","gap-y-2"],[1,"flex","space-x-6"],["appearance","fill",1,"w-100"],["matInput","","formControlName","name","required",""],["formControlName","project","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","parentTask"],["matInput","","formControlName","startDate",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateChange"],["endPicker",""],["matInput","","formControlName","numberOfDays"],["formControlName","status","required",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["formControlName","priority"],["value","Low"],["value","Medium"],["value","High"],["value","Critical"],["matInput","","formControlName","loe"],["formControlName","percentageCompletion"],["rows","10","matInput","","formControlName","detail"],[1,"flex","pt-2","pb-2","items-end","justify-end","space-x-4"],["size","small","color","light",3,"click"],["size","medium","type","submit",3,"disabled"],[3,"value"]],template:function(e,i){if(1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(1,"div",1),o.TgZ(2,"h2"),o._uU(3,"New Task:"),o.qZA(),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"div",3),o.TgZ(6,"mat-form-field",4),o.TgZ(7,"mat-label"),o._uU(8,"Task Name: "),o.qZA(),o._UZ(9,"input",5),o.qZA(),o.TgZ(10,"mat-form-field",4),o.TgZ(11,"mat-label"),o._uU(12,"Project"),o.qZA(),o.TgZ(13,"mat-select",6),o.YNc(14,pae,2,2,"mat-option",7),o.qZA(),o.qZA(),o.TgZ(15,"mat-form-field",4),o.TgZ(16,"mat-label"),o._uU(17,"Parent Task"),o.qZA(),o.TgZ(18,"mat-select",8),o.YNc(19,mae,2,2,"mat-option",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",3),o.TgZ(21,"mat-form-field",4),o.TgZ(22,"mat-label"),o._uU(23,"Start Date"),o.qZA(),o.TgZ(24,"input",9),o.NdJ("dateChange",function(){return i.calculateDays()}),o.qZA(),o._UZ(25,"mat-datepicker-toggle",10),o._UZ(26,"mat-datepicker",null,11),o.qZA(),o.TgZ(28,"mat-form-field",4),o.TgZ(29,"mat-label"),o._uU(30,"End Date"),o.qZA(),o.TgZ(31,"input",12),o.NdJ("dateChange",function(){return i.calculateDays()}),o.qZA(),o._UZ(32,"mat-datepicker-toggle",10),o._UZ(33,"mat-datepicker",null,13),o.qZA(),o.TgZ(35,"mat-form-field",4),o.TgZ(36,"mat-label"),o._uU(37,"Number of Days"),o.qZA(),o._UZ(38,"input",14),o.qZA(),o.qZA(),o.TgZ(39,"div",3),o.TgZ(40,"mat-form-field",4),o.TgZ(41,"mat-label"),o._uU(42,"Status"),o.qZA(),o.TgZ(43,"mat-select",15),o.TgZ(44,"mat-option",16),o._uU(45,"Not Start"),o.qZA(),o.TgZ(46,"mat-option",17),o._uU(47,"On Going"),o.qZA(),o.TgZ(48,"mat-option",18),o._uU(49,"Completed"),o.qZA(),o.TgZ(50,"mat-option",19),o._uU(51,"On Hold"),o.qZA(),o.TgZ(52,"mat-option",20),o._uU(53,"Cancelled"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(54,"mat-form-field",4),o.TgZ(55,"mat-label"),o._uU(56,"Priority"),o.qZA(),o.TgZ(57,"mat-select",21),o.TgZ(58,"mat-option",22),o._uU(59,"Low"),o.qZA(),o.TgZ(60,"mat-option",23),o._uU(61,"Medium"),o.qZA(),o.TgZ(62,"mat-option",24),o._uU(63,"High"),o.qZA(),o.TgZ(64,"mat-option",25),o._uU(65,"Critical"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(66,"mat-form-field",4),o.TgZ(67,"mat-label"),o._uU(68,"Level of Effort (LOE)"),o.qZA(),o._UZ(69,"input",26),o.qZA(),o.TgZ(70,"mat-form-field",4),o.TgZ(71,"mat-label"),o._uU(72,"Percentage of Completion"),o.qZA(),o.TgZ(73,"mat-select",27),o.YNc(74,gae,3,4,"mat-option",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(75,"mat-form-field",4),o.TgZ(76,"mat-label"),o._uU(77,"Task Detail"),o.qZA(),o._UZ(78,"textarea",28),o.qZA(),o.qZA(),o.TgZ(79,"div",29),o.TgZ(80,"app-button-ui",30),o.NdJ("click",function(){return i.onCancel()}),o._uU(81,"Cancel"),o.qZA(),o.TgZ(82,"app-button-ui",31),o._uU(83,"Create Task"),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(27),s=o.MAs(34);o.Q6J("formGroup",i.taskForm),o.xp6(14),o.Q6J("ngForOf",i.projects),o.xp6(5),o.Q6J("ngForOf",i.tasks),o.xp6(5),o.Q6J("matDatepicker",r),o.xp6(1),o.Q6J("for",r),o.xp6(6),o.Q6J("matDatepicker",s),o.xp6(1),o.Q6J("for",s),o.xp6(42),o.Q6J("ngForOf",i.percentageParams),o.xp6(8),o.Q6J("disabled",i.taskForm.invalid)}},directives:[Tm,Dm,Mf,Db,L_,Vw,Au,Sf,nb,Kd,zw,jt,PC,Tk,QI,Ak,xb,LC],pipes:[v2],styles:[""]}),n})();function yae(n,t){if(1&n&&(o.TgZ(0,"mat-option",33),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function vae(n,t){if(1&n&&(o.TgZ(0,"mat-option",33),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function bae(n,t){if(1&n&&(o.TgZ(0,"mat-option",33),o._uU(1),o.ALo(2,"percentage"),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.value),o.xp6(1),o.hij(" ",o.lcZ(2,2,e.value)," ")}}let wae=(()=>{class n{constructor(e,i,r,s,a){this.fb=e,this.taskService=i,this.projectService=r,this.dialogRef=s,this.data=a,this.projects=[],this.tasks=[],this.percentageParams=sq,this.taskForm=this.fb.group({name:[a.name,Ps.required],project:[a.project,Ps.required],dueDate:[a.dueDate,Ps.required],status:[a.status,Ps.required],detail:[a.detail,Ps.required],startDate:[a.startDate],endDate:[a.endDate],numberOfDays:[{value:a.numberOfDays,disabled:!0}],priority:[a.priority],parentTask:[a.parentTask],loe:[a.loe],percentageCompletion:[a.percentageCompletion],taskNumber:[a.taskNumber]})}ngOnInit(){this.projectService.getProjects().subscribe(e=>{this.projects=e}),this.taskService.getTasks().subscribe(e=>{this.tasks=e})}calculateDays(){var e,i,r;const s=null===(e=this.taskForm.get("startDate"))||void 0===e?void 0:e.value,a=null===(i=this.taskForm.get("endDate"))||void 0===i?void 0:i.value;if(s&&a){const d=new Date(s),g=new Date(a),C=Math.abs(g.getTime()-d.getTime()),I=Math.ceil(C/864e5);null===(r=this.taskForm.get("numberOfDays"))||void 0===r||r.setValue(I)}}onSubmit(){var e,i,r;this.taskForm.valid&&(null===(e=this.taskForm.get("numberOfDays"))||void 0===e||e.setValue((null===(i=this.taskForm.get("numberOfDays"))||void 0===i?void 0:i.value)||0),this.taskForm.value.numberOfDays=null===(r=this.taskForm.get("numberOfDays"))||void 0===r?void 0:r.value,this.taskService.updateTask(this.data.id,this.taskForm.value).subscribe(()=>{this.dialogRef.close()}))}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ux),o.Y36(y2),o.Y36(kk),o.Y36(Ib),o.Y36(MT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-task"]],decls:86,vars:10,consts:[[1,"p-4","pb-0","h-100","flex","flex-col","gap-y-2",3,"formGroup","ngSubmit"],[1,"flex","justify-between","items-center"],[1,"text-orange-500","font-thin"],[1,"grow","flex-col","gap-y-2"],[1,"flex","space-x-6"],["appearance","fill",1,"w-100"],["matInput","","formControlName","name","required",""],["formControlName","project","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","parentTask"],["matInput","","formControlName","startDate",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","endDate",3,"matDatepicker","dateChange"],["endPicker",""],["matInput","","formControlName","numberOfDays"],["formControlName","status","required",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["formControlName","priority"],["value","Low"],["value","Medium"],["value","High"],["value","Critical"],["matInput","","formControlName","loe"],["formControlName","percentageCompletion"],["rows","10","matInput","","formControlName","detail"],[1,"flex","pt-2","pb-2","items-end","justify-end","space-x-4"],["size","small","color","light",3,"click"],["size","medium","type","submit",3,"disabled"],[3,"value"]],template:function(e,i){if(1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(1,"div",1),o.TgZ(2,"h2"),o._uU(3,"Edit Task:"),o.qZA(),o.TgZ(4,"span",2),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"mat-form-field",5),o.TgZ(9,"mat-label"),o._uU(10,"Task Name: "),o.qZA(),o._UZ(11,"input",6),o.qZA(),o.TgZ(12,"mat-form-field",5),o.TgZ(13,"mat-label"),o._uU(14,"Project"),o.qZA(),o.TgZ(15,"mat-select",7),o.YNc(16,yae,2,2,"mat-option",8),o.qZA(),o.qZA(),o.TgZ(17,"mat-form-field",5),o.TgZ(18,"mat-label"),o._uU(19,"Parent Task"),o.qZA(),o.TgZ(20,"mat-select",9),o.YNc(21,vae,2,2,"mat-option",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",4),o.TgZ(23,"mat-form-field",5),o.TgZ(24,"mat-label"),o._uU(25,"Start Date"),o.qZA(),o.TgZ(26,"input",10),o.NdJ("dateChange",function(){return i.calculateDays()}),o.qZA(),o._UZ(27,"mat-datepicker-toggle",11),o._UZ(28,"mat-datepicker",null,12),o.qZA(),o.TgZ(30,"mat-form-field",5),o.TgZ(31,"mat-label"),o._uU(32,"End Date"),o.qZA(),o.TgZ(33,"input",13),o.NdJ("dateChange",function(){return i.calculateDays()}),o.qZA(),o._UZ(34,"mat-datepicker-toggle",11),o._UZ(35,"mat-datepicker",null,14),o.qZA(),o.TgZ(37,"mat-form-field",5),o.TgZ(38,"mat-label"),o._uU(39,"Number of Days"),o.qZA(),o._UZ(40,"input",15),o.qZA(),o.qZA(),o.TgZ(41,"div",4),o.TgZ(42,"mat-form-field",5),o.TgZ(43,"mat-label"),o._uU(44,"Status"),o.qZA(),o.TgZ(45,"mat-select",16),o.TgZ(46,"mat-option",17),o._uU(47,"Not Start"),o.qZA(),o.TgZ(48,"mat-option",18),o._uU(49,"On Going"),o.qZA(),o.TgZ(50,"mat-option",19),o._uU(51,"Completed"),o.qZA(),o.TgZ(52,"mat-option",20),o._uU(53,"On Hold"),o.qZA(),o.TgZ(54,"mat-option",21),o._uU(55,"Cancelled"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(56,"mat-form-field",5),o.TgZ(57,"mat-label"),o._uU(58,"Priority"),o.qZA(),o.TgZ(59,"mat-select",22),o.TgZ(60,"mat-option",23),o._uU(61,"Low"),o.qZA(),o.TgZ(62,"mat-option",24),o._uU(63,"Medium"),o.qZA(),o.TgZ(64,"mat-option",25),o._uU(65,"High"),o.qZA(),o.TgZ(66,"mat-option",26),o._uU(67,"Critical"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(68,"mat-form-field",5),o.TgZ(69,"mat-label"),o._uU(70,"Level of Effort (LOE)"),o.qZA(),o._UZ(71,"input",27),o.qZA(),o.TgZ(72,"mat-form-field",5),o.TgZ(73,"mat-label"),o._uU(74,"Percentage of Completion"),o.qZA(),o.TgZ(75,"mat-select",28),o.YNc(76,bae,3,4,"mat-option",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(77,"mat-form-field",5),o.TgZ(78,"mat-label"),o._uU(79,"Task Detail"),o.qZA(),o._UZ(80,"textarea",29),o.qZA(),o.qZA(),o.TgZ(81,"div",30),o.TgZ(82,"app-button-ui",31),o.NdJ("click",function(){return i.onCancel()}),o._uU(83,"Cancel"),o.qZA(),o.TgZ(84,"app-button-ui",32),o._uU(85,"Update Task"),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(29),s=o.MAs(36);o.Q6J("formGroup",i.taskForm),o.xp6(5),o.Oqu(i.taskForm.value.taskNumber),o.xp6(11),o.Q6J("ngForOf",i.projects),o.xp6(5),o.Q6J("ngForOf",i.tasks),o.xp6(5),o.Q6J("matDatepicker",r),o.xp6(1),o.Q6J("for",r),o.xp6(6),o.Q6J("matDatepicker",s),o.xp6(1),o.Q6J("for",s),o.xp6(42),o.Q6J("ngForOf",i.percentageParams),o.xp6(8),o.Q6J("disabled",i.taskForm.invalid)}},directives:[Tm,Dm,Mf,Db,L_,Vw,Au,Sf,nb,Kd,zw,jt,PC,Tk,QI,Ak,xb,LC],pipes:[v2],styles:[""]}),n})(),Cae=(()=>{class n{transform(e){const i=c2.find(r=>r.value.toString()===e.toString());return i?i.label:"Unknown"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"status",type:n,pure:!0}),n})(),Eae=(()=>{class n{transform(e){const i=c2.find(r=>r.value.toString()===e.toString());return i?i.color:"text-black"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"statusColor",type:n,pure:!0}),n})();function xae(n,t){if(1&n&&(o.TgZ(0,"mat-option",42),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function Dae(n,t){if(1&n&&(o.TgZ(0,"mat-option",42),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.value),o.xp6(1),o.Oqu(e.label)}}function Sae(n,t){1&n&&(o.TgZ(0,"th",43),o._uU(1," # "),o.qZA())}function Aae(n,t){if(1&n&&(o.TgZ(0,"td",44),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.taskNumber," ")}}function Iae(n,t){1&n&&(o.TgZ(0,"th",45),o._uU(1," Name "),o.qZA())}function Tae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",49),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.name=r})("blur",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"name")}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.name)}}function Mae(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e.name)}}function kae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",46),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"name")}),o.YNc(1,Tae,1,1,"input",47),o.YNc(2,Mae,2,1,"span",48),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isEditing(e,"name")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"name"))}}function Rae(n,t){1&n&&(o.TgZ(0,"th",50),o._uU(1," Project "),o.qZA())}function Oae(n,t){if(1&n&&(o.TgZ(0,"mat-option",42),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function Pae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-select",52),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.project=r})("selectionChange",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"project")}),o.YNc(1,Oae,2,2,"mat-option",11),o.qZA()}if(2&n){const e=o.oxw().$implicit,i=o.oxw();o.Q6J("ngModel",e.project),o.xp6(1),o.Q6J("ngForOf",i.projects)}}function Nae(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.Oqu(i.getProjectName(e.project))}}function Fae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",46),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"project")}),o.YNc(1,Pae,2,2,"mat-select",51),o.YNc(2,Nae,2,1,"span",48),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isEditing(e,"project")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"project"))}}function Lae(n,t){1&n&&(o.TgZ(0,"th",53),o._uU(1," Status "),o.qZA())}function Bae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-select",52),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.status=r})("selectionChange",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"status")}),o.TgZ(1,"mat-option",55),o._uU(2,"Not Start"),o.qZA(),o.TgZ(3,"mat-option",56),o._uU(4,"On Going"),o.qZA(),o.TgZ(5,"mat-option",57),o._uU(6,"Completed"),o.qZA(),o.TgZ(7,"mat-option",58),o._uU(8,"On Hold"),o.qZA(),o.TgZ(9,"mat-option",59),o._uU(10,"Cancelled"),o.qZA(),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.status)}}function Vae(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"status"),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e.status))}}function Uae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",54),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"status")}),o.ALo(1,"statusColor"),o.YNc(2,Bae,11,1,"mat-select",51),o.YNc(3,Vae,3,3,"span",48),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.Q6J("ngClass",o.lcZ(1,3,e.status)),o.xp6(2),o.Q6J("ngIf",i.isEditing(e,"status")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"status"))}}function jae(n,t){1&n&&(o.TgZ(0,"th",50),o._uU(1," Start Date "),o.qZA())}function Hae(n,t){if(1&n&&(o.TgZ(0,"td",60),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,e.startDate)," ")}}function zae(n,t){1&n&&(o.TgZ(0,"th",50),o._uU(1," End Date "),o.qZA())}function Gae(n,t){if(1&n&&(o.TgZ(0,"td",60),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,e.endDate)," ")}}function qae(n,t){1&n&&(o.TgZ(0,"th",50),o._uU(1," Days "),o.qZA())}function $ae(n,t){if(1&n&&(o.TgZ(0,"td",61),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.numberOfDays," ")}}function Zae(n,t){1&n&&(o.TgZ(0,"th",62),o._uU(1," LOE "),o.qZA())}function Wae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",64),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.loe=r})("blur",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"loe")}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.loe)}}function Yae(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e.loe)}}function Kae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",46),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"loe")}),o.YNc(1,Wae,1,1,"input",63),o.YNc(2,Yae,2,1,"span",48),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isEditing(e,"loe")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"loe"))}}function Qae(n,t){1&n&&(o.TgZ(0,"th",65),o._uU(1," Percentage "),o.qZA())}function Jae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",67),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.percentageCompletion=r})("blur",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().saveEdit(r,"percentageCompletion")}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.percentageCompletion)}}function Xae(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"percentage"),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e.percentageCompletion))}}function ele(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",46),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit;return o.oxw().editCell(s,"percentageCompletion")}),o.YNc(1,Jae,1,1,"input",66),o.YNc(2,Xae,3,3,"span",48),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isEditing(e,"percentageCompletion")),o.xp6(1),o.Q6J("ngIf",!i.isEditing(e,"percentageCompletion"))}}function tle(n,t){1&n&&(o.TgZ(0,"th",68),o._uU(1," Action "),o.qZA())}function nle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",60),o.TgZ(1,"div",69),o.TgZ(2,"button",70),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().openEditDialog(s)}),o.TgZ(3,"mat-icon"),o._uU(4,"edit"),o.qZA(),o.qZA(),o.TgZ(5,"button",70),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().openDeleteDialog(s)}),o.TgZ(6,"mat-icon"),o._uU(7,"delete"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function ile(n,t){1&n&&o._UZ(0,"tr",71)}function rle(n,t){1&n&&o._UZ(0,"tr",72)}const sle=function(){return[5,10,20]};let Tq=(()=>{class n{constructor(e,i,r,s){this.taskService=e,this.projectService=i,this.dialog=r,this.route=s,this.displayedColumns=["taskNumber","name","project","status","percentageCompletion","startDate","endDate","numberOfDays","loe","action"],this.dataSource=new P6,this.statusParams=c2,this.projectId="",this.pageSize=10,this.projects=[],this.selectedProject="",this.editingCell={}}ngOnInit(){this.loadProjects().subscribe(()=>{this.route.paramMap.subscribe(e=>{this.projectId=e.get("projectId"),this.loadTasks()})})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}applyProjectFilter(e){this.selectedProject=e,this.dataSource.filter=this.selectedProject?this.selectedProject:""}applyStatusFilter(e){this.dataSource.filterPredicate=(i,r)=>!e||+i.status===e,this.dataSource.filter=e?e.toString():""}loadTasks(){this.taskService.getTasks().subscribe(e=>{this.dataSource.data=this.projectId?e.filter(i=>i.project===this.projectId):e})}loadProjects(){return this.projectService.getProjects().pipe((0,rt.U)(e=>(this.projects=e,e)))}openNewDialog(){this.dialog.open(_ae,{width:"80%",height:"80%"}).afterClosed().subscribe(i=>{console.log("The dialog was closed")})}openEditDialog(e){this.dialog.open(wae,{width:"80%",height:"80%",data:e}).afterClosed().subscribe(r=>{console.log("The dialog was closed")})}openDeleteDialog(e){this.dialog.open(Aq,{width:"250px",data:{title:"Delete Task",message:`Are you sure you want to delete task "${e.name}"?`}}).afterClosed().subscribe(r=>{r&&this.taskService.deleteTask(e.id).subscribe(()=>{this.dataSource.data=this.dataSource.data.filter(s=>s.id!==e.id)})})}editCell(e,i){this.editingCell[e.id+i]=!0}isEditing(e,i){return this.editingCell[e.id+i]}saveEdit(e,i){this.editingCell[e.id+i]=!1,this.taskService.updateTask(e.id,e).subscribe()}getProjectName(e){const i=this.projects.find(r=>r.id.toString()===e);return i?i.name:""}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(y2),o.Y36(kk),o.Y36(kT),o.Y36(ac))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-task"]],viewQuery:function(e,i){if(1&e&&(o.Gf(oT,5),o.Gf(mT,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:66,vars:8,consts:[[1,"flex-col","gap-y-2","h-100","m-0","bg-purple-50","p-4"],[1,"bl-header","pb-2","mb-2","flex","space-x-6","justify-content-between"],[1,"flex-grow-1","m-0"],[1,"flex","items-center","space-x-4"],[1,"relative"],["for","name",1,"absolute","-top-2","left-2","inline-block","rounded-lg","bg-white","px-1","text-xs","font-medium","text-gray-900"],["type","text","placeholder","Search task here",1,"block","w-56","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6",3,"keyup"],["for","project",1,"absolute","-top-2","left-2","inline-block","rounded-lg","bg-white","px-1","text-xs","font-medium","text-gray-900"],[1,"w-56"],[1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","border","outline","outline-1","-outline-offset-1","outline-gray-300","focus:outline","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","status",1,"absolute","-top-2","left-2","inline-block","rounded-lg","bg-white","px-1","text-xs","font-medium","text-gray-900"],[1,"flex","items-center"],["size","small",3,"click"],[1,"flex-grow-1"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","taskNumber"],["width","150","mat-header-cell","",4,"matHeaderCellDef"],["class","text-gray-800 font-bold","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["width","380","mat-header-cell","",4,"matHeaderCellDef"],["class","pe-2","mat-cell","",3,"dblclick",4,"matCellDef"],["matColumnDef","project"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","status"],["class","w-28","mat-header-cell","",4,"matHeaderCellDef"],["class","pe-2","mat-cell","",3,"ngClass","dblclick",4,"matCellDef"],["matColumnDef","startDate"],["mat-cell","",4,"matCellDef"],["matColumnDef","endDate"],["matColumnDef","numberOfDays"],["class","text-gray-300","mat-cell","",4,"matCellDef"],["matColumnDef","loe"],["class","w-14","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","percentageCompletion"],["class","w-16","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","action"],["class","text-center","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of projects",3,"pageSizeOptions","pageSize"],[3,"value"],["width","150","mat-header-cell",""],["mat-cell","",1,"text-gray-800","font-bold"],["width","380","mat-header-cell",""],["mat-cell","",1,"pe-2",3,"dblclick"],["class","p-2 border rounded-md w-full",3,"ngModel","ngModelChange","blur",4,"ngIf"],[4,"ngIf"],[1,"p-2","border","rounded-md","w-full",3,"ngModel","ngModelChange","blur"],["mat-header-cell",""],["class","p-1 border rounded-md",3,"ngModel","ngModelChange","selectionChange",4,"ngIf"],[1,"p-1","border","rounded-md",3,"ngModel","ngModelChange","selectionChange"],["mat-header-cell","",1,"w-28"],["mat-cell","",1,"pe-2",3,"ngClass","dblclick"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["mat-cell",""],["mat-cell","",1,"text-gray-300"],["mat-header-cell","",1,"w-14"],["class","p-1 border rounded-md w-12",3,"ngModel","ngModelChange","blur",4,"ngIf"],[1,"p-1","border","rounded-md","w-12",3,"ngModel","ngModelChange","blur"],["mat-header-cell","",1,"w-16"],["class","p-1 border rounded-md w-14",3,"ngModel","ngModelChange","blur",4,"ngIf"],[1,"p-1","border","rounded-md","w-14",3,"ngModel","ngModelChange","blur"],["mat-header-cell","",1,"text-center"],[1,"flex","justify-center"],["mat-icon-button","",1,"small-icon-button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"app-breadcrumb"),o.TgZ(2,"app-blanket"),o.TgZ(3,"section",1),o.TgZ(4,"h2",2),o._uU(5," Task Management "),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"div",4),o.TgZ(8,"label",5),o._uU(9,"Search"),o.qZA(),o.TgZ(10,"input",6),o.NdJ("keyup",function(s){return i.applyFilter(s)}),o.qZA(),o.qZA(),o.TgZ(11,"div",4),o.TgZ(12,"label",7),o._uU(13,"Project"),o.qZA(),o.TgZ(14,"div",8),o.TgZ(15,"mat-select",9),o.NdJ("selectionChange",function(s){return i.applyProjectFilter(s.value)}),o.TgZ(16,"mat-option",10),o._uU(17,"All"),o.qZA(),o.YNc(18,xae,2,2,"mat-option",11),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",4),o.TgZ(20,"label",12),o._uU(21,"Status"),o.qZA(),o.TgZ(22,"div",8),o.TgZ(23,"mat-select",9),o.NdJ("selectionChange",function(s){return i.applyStatusFilter(s.value)}),o.TgZ(24,"mat-option",10),o._uU(25,"All"),o.qZA(),o.YNc(26,Dae,2,2,"mat-option",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(27,"div",13),o.TgZ(28,"app-button-ui",14),o.NdJ("click",function(){return i.openNewDialog()}),o._uU(29," New Task "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"div",15),o.TgZ(31,"table",16),o.ynx(32,17),o.YNc(33,Sae,2,0,"th",18),o.YNc(34,Aae,2,1,"td",19),o.BQk(),o.ynx(35,20),o.YNc(36,Iae,2,0,"th",21),o.YNc(37,kae,3,2,"td",22),o.BQk(),o.ynx(38,23),o.YNc(39,Rae,2,0,"th",24),o.YNc(40,Fae,3,2,"td",22),o.BQk(),o.ynx(41,25),o.YNc(42,Lae,2,0,"th",26),o.YNc(43,Uae,4,5,"td",27),o.BQk(),o.ynx(44,28),o.YNc(45,jae,2,0,"th",24),o.YNc(46,Hae,3,3,"td",29),o.BQk(),o.ynx(47,30),o.YNc(48,zae,2,0,"th",24),o.YNc(49,Gae,3,3,"td",29),o.BQk(),o.ynx(50,31),o.YNc(51,qae,2,0,"th",24),o.YNc(52,$ae,2,1,"td",32),o.BQk(),o.ynx(53,33),o.YNc(54,Zae,2,0,"th",34),o.YNc(55,Kae,3,2,"td",22),o.BQk(),o._uU(56," <"),o.ynx(57,35),o.YNc(58,Qae,2,0,"th",36),o.YNc(59,ele,3,2,"td",22),o.BQk(),o.ynx(60,37),o.YNc(61,tle,2,0,"th",38),o.YNc(62,nle,8,0,"td",29),o.BQk(),o.YNc(63,ile,1,0,"tr",39),o.YNc(64,rle,1,0,"tr",40),o.qZA(),o._UZ(65,"mat-paginator",41),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(18),o.Q6J("ngForOf",i.projects),o.xp6(8),o.Q6J("ngForOf",i.statusParams),o.xp6(5),o.Q6J("dataSource",i.dataSource),o.xp6(32),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(7,sle))("pageSize",i.pageSize))},directives:[eT,Iq,zw,xb,jt,LC,sP,AT,ST,DT,oP,aP,mT,IT,TT,sn,Au,Sf,Tf,ie,g2,Qd,rT,lP,cP],pipes:[Eae,Cae,ea,v2],styles:[""]}),n})();const ole=[{path:"login",component:OU},{path:"logout",component:OU},{path:"register",component:xW},{path:"project",component:hae},{path:"project-detail/:id",component:fae},{path:"task",component:Tq},{path:"task/:projectId",component:Tq},{path:"home",component:hY},{path:"",redirectTo:"/home",pathMatch:"full"}];let ale=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jt,gm.forRoot(ole)],gm]}),n})();const Ye=function(n,t){if(!n)throw BC(t)},BC=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},Mq=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},w2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,d=a?n[r+1]:0,g=r+2<n.length,C=g?n[r+2]:0;let O=(15&d)<<2|C>>6,L=63&C;g||(L=64,a||(O=64)),i.push(e[s>>2],e[(3&s)<<4|d>>4],e[O],e[L])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Mq(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const g=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(1023&g))}else{const s=n[e++],a=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],d=r<n.length?e[n.charAt(r)]:0;++r;const C=r<n.length?e[n.charAt(r)]:64;++r;const T=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==d||null==C||null==T)throw new dle;i.push(s<<2|d>>4),64!==C&&(i.push(d<<4&240|C>>2),64!==T&&i.push(C<<6&192|T))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kq=function(n){const t=Mq(n);return w2.encodeByteArray(t,!0)},Rq=function(n){return kq(n).replace(/\./g,"")},C2=function(n){try{return w2.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hle(n){return Oq(void 0,n)}function Oq(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!fle(e)||(n[e]=Oq(n[e],t[e]));return n}function fle(n){return"__proto__"!==n}class Ba{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function Pq(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function uS(n){return JSON.parse(n)}function ys(n){return JSON.stringify(n)}Error;const Pk=function(n){let t={},e={},i={},r="";try{const s=n.split(".");t=uS(C2(s[0])||""),e=uS(C2(s[1])||""),r=s[2],i=e.d||{},delete e.d}catch(s){}return{header:t,claims:e,data:i,signature:r}};function nh(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function l0(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function x2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Nk(n,t,e){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}class Mle{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if("string"==typeof t)for(let T=0;T<16;T++)i[T]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let T=0;T<16;T++)i[T]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let T=16;T<80;T++){const O=i[T-3]^i[T-8]^i[T-14]^i[T-16];i[T]=4294967295&(O<<1|O>>>31)}let C,I,r=this.chain_[0],s=this.chain_[1],a=this.chain_[2],d=this.chain_[3],g=this.chain_[4];for(let T=0;T<80;T++){T<40?T<20?(C=d^s&(a^d),I=1518500249):(C=s^a^d,I=1859775393):T<60?(C=s&a|d&(s|a),I=2400959708):(C=s^a^d,I=3395469782);const O=(r<<5|r>>>27)+C+g+I+i[T]&4294967295;g=d,d=a,a=4294967295&(s<<30|s>>>2),s=r,r=O}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const i=e-this.blockSize;let r=0;const s=this.buf_;let a=this.inbuf_;for(;r<e;){if(0===a)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(s[a]=t.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}else for(;r<e;)if(s[a]=t[r],++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}}const qt=function(n,t,e,i){let r;if(i<t?r="at least "+t:i>e&&(r=0===e?"none":"no more than "+e),r)throw new Error(n+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function Va(n,t){return`${n} failed: ${t} argument `}function Hs(n,t,e,i){if((!i||e)&&"function"!=typeof e)throw new Error(Va(n,t)+"must be a valid function.")}function Fq(n,t,e,i){if((!i||e)&&("object"!=typeof e||null===e))throw new Error(Va(n,t)+"must be a valid context object.")}const Fk=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};function Dc(n){return n&&n._delegate?n._delegate:n}class S2{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const c0="[DEFAULT]";class Lq{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Ba;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:c0})}catch(e){}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(t=c0){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,G.Z)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=c0){return this.instances.has(t)}getOptions(t=c0){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,a]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&a.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch(s){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Vle(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(r){}return i||null}normalizeInstanceIdentifier(t=c0){return this.component?this.component.multipleInstances?t:c0:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Vle(n){return n===c0?void 0:n}class jle{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Lq(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const A2=[];var bi=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(bi||(bi={})),bi))();const Bq={debug:bi.DEBUG,verbose:bi.VERBOSE,info:bi.INFO,warn:bi.WARN,error:bi.ERROR,silent:bi.SILENT},Hle=bi.INFO,zle={[bi.DEBUG]:"log",[bi.VERBOSE]:"log",[bi.INFO]:"info",[bi.WARN]:"warn",[bi.ERROR]:"error"},Gle=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=zle[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class Vq{constructor(t){this.name=t,this._logLevel=Hle,this._logHandler=Gle,this._userLogHandler=null,A2.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in bi))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Bq[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,bi.DEBUG,...t),this._logHandler(this,bi.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,bi.VERBOSE,...t),this._logHandler(this,bi.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,bi.INFO,...t),this._logHandler(this,bi.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,bi.WARN,...t),this._logHandler(this,bi.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,bi.ERROR,...t),this._logHandler(this,bi.ERROR,...t)}}const Uq="@firebase/database";let I2="";function Hq(n){I2=n}class qle{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ys(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:uS(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class $le{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return nh(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const zq=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new qle(t)}}catch(t){}return new $le},u0=zq("localStorage"),T2=zq("sessionStorage"),VC=new Vq("@firebase/database"),Gq=function(){let n=1;return function(){return n++}}(),qq=function(n){const t=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Ye(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(n.charCodeAt(i)-56320)}r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):r<65536?(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t}(n),e=new Mle;e.update(t);const i=e.digest();return w2.encodeByteArray(i)},dS=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=dS.apply(null,i):t+="object"==typeof i?ys(i):i,t+=" "}return t};let d0=null,$q=!0;const Zq=function(n,t){Ye(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(VC.logLevel=bi.VERBOSE,d0=VC.log.bind(VC),t&&T2.set("logging_enabled",!0)):"function"==typeof n?d0=n:(d0=null,T2.remove("logging_enabled"))},zs=function(...n){if(!0===$q&&($q=!1,null===d0&&!0===T2.get("logging_enabled")&&Zq(!0)),d0){const t=dS.apply(null,n);d0(t)}},hS=function(n){return function(...t){zs(n,...t)}},M2=function(...n){const t="FIREBASE INTERNAL ERROR: "+dS(...n);VC.error(t)},Zf=function(...n){const t=`FIREBASE FATAL ERROR: ${dS(...n)}`;throw VC.error(t),new Error(t)},Ko=function(...n){const t="FIREBASE WARNING: "+dS(...n);VC.warn(t)},Lk=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},py="[MIN_NAME]",eg="[MAX_NAME]",h0=function(n,t){if(n===t)return 0;if(n===py||t===eg)return-1;if(t===py||n===eg)return 1;{const e=Kq(n),i=Kq(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Yle=function(n,t){return n===t?0:n<t?-1:1},fS=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+ys(t))},k2=function(n){if("object"!=typeof n||null===n)return ys(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=ys(t[i]),e+=":",e+=k2(n[t[i]]);return e+="}",e},Wq=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Gs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Yq=function(n){Ye(!Lk(n),"Invalid JSON number");const i=1023;let r,s,a,d,g;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,a=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const C=[];for(g=52;g;g-=1)C.push(a%2?1:0),a=Math.floor(a/2);for(g=11;g;g-=1)C.push(s%2?1:0),s=Math.floor(s/2);C.push(r?1:0),C.reverse();const I=C.join("");let T="";for(g=0;g<64;g+=8){let O=parseInt(I.substr(g,8),2).toString(16);1===O.length&&(O="0"+O),T+=O}return T.toLowerCase()},Xle=new RegExp("^-?(0*)\\d{1,10}$"),Kq=function(n){if(Xle.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},UC=function(n){try{n()}catch(t){setTimeout(()=>{throw Ko("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},pS=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class ice{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ko(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class rce{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(zs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ko(t)}}let mS=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const t$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,r$="websocket",s$="long_polling";class O2{constructor(t,e,i,r,s=!1,a="",d=!1,g=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=u0.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&u0.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function o$(n,t,e){let i;if(Ye("string"==typeof t,"typeof type must == string"),Ye("object"==typeof e,"typeof params must == object"),t===r$)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==s$)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Gs(e,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class oce{constructor(){this.counters_={}}incrementCounter(t,e=1){nh(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return hle(this.counters_)}}const P2={},N2={};function F2(n){const t=n.toString();return P2[t]||(P2[t]=new oce),P2[t]}class lce{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&UC(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class my{constructor(t,e,i,r,s,a,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hS(t),this.stats_=F2(e),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),o$(e,s$,g))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new lce(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new L2((...s)=>{const[a,d,g,C,I]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=d,this.password=g;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&t$.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){my.forceAllow_=!0}static forceDisallow(){my.forceDisallow_=!0}static isAvailable(){return!(!my.forceAllow_&&(my.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=ys(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=kq(e),r=Wq(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=ys(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class L2{constructor(t,e,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Gq(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=L2.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(d){zs("frame writing exception"),d.stack&&zs(d.stack),zs(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||zs("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{zs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Vk=null;"undefined"!=typeof MozWebSocket?Vk=MozWebSocket:"undefined"!=typeof WebSocket&&(Vk=WebSocket);let jC=(()=>{class n{constructor(e,i,r,s,a,d,g){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hS(this.connId),this.stats_=F2(i),this.connURL=n.connectionURL_(i,d,g,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,a){const d={v:"5"};return"undefined"!=typeof location&&location.hostname&&t$.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),a&&(d.p=a),o$(e,r$,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,u0.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new Vk(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Vk&&!n.forceDisallow_}static previouslyFailed(){return u0.isInMemoryStorage||!0===u0.get("previous_websocket_failure")}markConnectionHealthy(){u0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=uS(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ye(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=ys(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Wq(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),f$=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[my,jC]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=jC&&jC.isAvailable();let r=i&&!jC.previouslyFailed();if(e.webSocketOnly&&(i||Ko("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jC];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class b${constructor(t,e,i,r,s,a,d,g,C,I){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=d,this.onDisconnect_=g,this.onKill_=C,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hS("c:"+this.id+":"),this.transportManager_=new f$(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=pS(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=fS("t",t),i=fS("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=fS("t",t),i=fS("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=fS("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?M2("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M2("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ko("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),pS(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pS(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(u0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class w${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class C${constructor(t){this.allowedEvents_=t,this.listeners_={},Ye(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){Ye(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Uk extends C${constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!Pq()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Uk}getInitialEvent(t){return Ye("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class li{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Qn(){return new li("")}function mn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function gy(n){return n.pieces_.length-n.pieceNum_}function Ai(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new li(n.pieces_,t)}function V2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function gS(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function D$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new li(t,0)}function or(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof li)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new li(e,0)}function gn(n){return n.pieceNum_>=n.pieces_.length}function Ua(n,t){const e=mn(n),i=mn(t);if(null===e)return t;if(e===i)return Ua(Ai(n),Ai(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Mce(n,t){const e=gS(n,0),i=gS(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=h0(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function U2(n,t){if(gy(n)!==gy(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Lu(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(gy(n)>gy(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class kce{constructor(t,e){this.errorPrefix_=e,this.parts_=gS(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Fk(this.parts_[i]);S$(this)}}function S$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+f0(n))}function f0(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class j2 extends C${constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new j2}getInitialEvent(t){return Ye("visible"===t,"Unknown event type: "+t),[this.visible_]}}const _S=1e3;let Hk,p0=(()=>{class n extends w${constructor(e,i,r,s,a,d,g,C){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.authOverride_=C,this.id=n.nextPersistentConnectionId_++,this.log_=hS("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_S,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");j2.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Uk.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,a={r:s,a:e,b:i};this.log_(ys(a)),Ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new Ba,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const g=d.d;"ok"===d.s?i.resolve(g):i.reject(g)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const a=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+a),this.listens.has(d)||this.listens.set(d,new Map),Ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ye(!this.listens.get(d).has(a),"listen() called twice for same path/queryId.");const g={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(a,g),this.connected_&&this.sendListen_(g)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,g=>{const C=g.d,I=g.s;n.warnOnListenWarnings_(C,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",g),"ok"!==I&&this.removeListen_(r,s),e.onComplete&&e.onComplete(I,C))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&nh(e,"w")){const r=l0(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Ko(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(n){const t=Pk(n).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=function(n){const e=Pk(n).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,d=s.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const a={p:e};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,a){this.initConnection_();const d={p:i,d:r};void 0!==a&&(d.h=a),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ys(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):M2("Unrecognized action received from server: "+ys(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_S,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_S,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_S),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,G.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let g=!1,C=null;const I=function(){C?C.close():(g=!0,s())};e.realtime_={close:I,sendRequest:function(L){Ye(C,"sendRequest call when we're not connected not allowed."),C.sendRequest(L)}};const O=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[L,q]=yield Promise.all([e.authTokenProvider_.getToken(O),e.appCheckTokenProvider_.getToken(O)]);g?zs("getToken() completed but was canceled"):(zs("getToken() completed. Creating connection."),e.authToken_=L&&L.accessToken,e.appCheckToken_=q&&q.token,C=new b$(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,te=>{Ko(te+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(L){e.log_("Failed to get token: "+L),g||(e.repoInfo_.nodeAdmin&&Ko(L),I())}}})()}interrupt(e){zs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],x2(this.interruptReasons_)&&(this.reconnectDelay_=_S,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>k2(a)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new li(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){zs("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){zs("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+I2.replace(/\./g,"-")]=1,Pq()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Uk.getInstance().currentlyOnline();return x2(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class _n{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new _n(t,e)}}class jk{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new _n(py,t),r=new _n(py,e);return 0!==this.compare(i,r)}minPost(){return _n.MIN}}class T$ extends jk{static get __EMPTY_NODE(){return Hk}static set __EMPTY_NODE(t){Hk=t}compare(t,e){return h0(t.name,e.name)}isDefinedOn(t){throw BC("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return _n.MIN}maxPost(){return new _n(eg,Hk)}makePost(t,e){return Ye("string"==typeof t,"KeyIndex indexValue must always be a string."),new _n(t,Hk)}toString(){return".key"}}const Wf=new T$;class zk{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let z2,ih=(()=>{class n{constructor(e,i,r,s,a){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Ml.EMPTY_NODE,this.right=null!=a?a:Ml.EMPTY_NODE}copy(e,i,r,s,a){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=a?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ml.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ml.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ml{constructor(t,e=Ml.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ml(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ih.BLACK,null,null))}remove(t){return new Ml(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ih.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new zk(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new zk(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new zk(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new zk(this.root_,null,this.comparator_,!0,t)}}function Vce(n,t){return h0(n.name,t.name)}function H2(n,t){return h0(n,t)}Ml.EMPTY_NODE=new class{copy(t,e,i,r,s){return this}insert(t,e,i){return new ih(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const M$=function(n){return"number"==typeof n?"number:"+Yq(n):"string:"+n},k$=function(n){if(n.isLeafNode()){const t=n.val();Ye("string"==typeof t||"number"==typeof t||"object"==typeof t&&nh(t,".sv"),"Priority must be a string or number.")}else Ye(n===z2||n.isEmpty(),"priority of unexpected type.");Ye(n===z2||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let R$,O$,P$,HC=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Ye(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),k$(this.priorityNode_)}static set __childrenNodeConstructor(e){R$=e}static get __childrenNodeConstructor(){return R$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gn(e)?this:".priority"===mn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=mn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:(Ye(".priority"!==r||1===gy(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ai(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+M$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Yq(this.value_):this.value_,this.lazyHash_=qq(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:(Ye(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return Ye(s>=0,"Unknown leaf type: "+i),Ye(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Oi=new class extends jk{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?h0(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return _n.MIN}maxPost(){return new _n(eg,new HC("[PRIORITY-POST]",P$))}makePost(t,e){const i=O$(t);return new _n(e,new HC("[PRIORITY-POST]",i))}toString(){return".priority"}},Gce=Math.log(2);class qce{constructor(t){this.count=parseInt(Math.log(t+1)/Gce,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Gk=function(n,t,e,i){n.sort(t);const r=function(g,C){const I=C-g;let T,O;if(0===I)return null;if(1===I)return T=n[g],O=e?e(T):T,new ih(O,T.node,ih.BLACK,null,null);{const L=parseInt(I/2,10)+g,q=r(g,L),te=r(L+1,C);return T=n[L],O=e?e(T):T,new ih(O,T.node,ih.BLACK,q,te)}},d=function(g){let C=null,I=null,T=n.length;const O=function(q,te){const re=T-q,_e=T;T-=q;const Ve=r(re+1,_e),Pe=n[re],Ge=e?e(Pe):Pe;L(new ih(Ge,Pe.node,te,null,Ve))},L=function(q){C?(C.left=q,C=q):(I=q,C=q)};for(let q=0;q<g.count;++q){const te=g.nextBitIsOne(),re=Math.pow(2,g.count-(q+1));te?O(re,ih.BLACK):(O(re,ih.BLACK),O(re,ih.RED))}return I}(new qce(n.length));return new Ml(i||t,d)};let G2;const zC={};class tg{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return Ye(zC&&Oi,"ChildrenNode.ts has not been loaded"),G2=G2||new tg({".priority":zC},{".priority":Oi}),G2}get(t){const e=l0(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ml?e:null}hasIndex(t){return nh(this.indexSet_,t.toString())}addIndex(t,e){Ye(t!==Wf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(_n.Wrap);let d,a=s.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=s.getNext();d=r?Gk(i,t.getCompare()):zC;const g=t.toString(),C=Object.assign({},this.indexSet_);C[g]=t;const I=Object.assign({},this.indexes_);return I[g]=d,new tg(I,C)}addToIndexes(t,e){const i=Nk(this.indexes_,(r,s)=>{const a=l0(this.indexSet_,s);if(Ye(a,"Missing index implementation for "+s),r===zC){if(a.isDefinedOn(t.node)){const d=[],g=e.getIterator(_n.Wrap);let C=g.getNext();for(;C;)C.name!==t.name&&d.push(C),C=g.getNext();return d.push(t),Gk(d,a.getCompare())}return zC}{const d=e.get(t.name);let g=r;return d&&(g=g.remove(new _n(t.name,d))),g.insert(t,t.node)}});return new tg(i,this.indexSet_)}removeFromIndexes(t,e){const i=Nk(this.indexes_,r=>{if(r===zC)return r;{const s=e.get(t.name);return s?r.remove(new _n(t.name,s)):r}});return new tg(i,this.indexSet_)}}let yS,an=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&k$(this.priorityNode_),this.children_.isEmpty()&&Ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yS||(yS=new n(new Ml(H2),null,tg.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yS}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?yS:i}}getChild(e){const i=mn(e);return null===i?this:this.getImmediateChild(i).getChild(Ai(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if(Ye(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new _n(e,i);let s,a;i.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?yS:this.priorityNode_;return new n(s,d,a)}}updateChild(e,i){const r=mn(e);if(null===r)return i;{Ye(".priority"!==mn(e)||1===gy(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ai(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(Oi,(d,g)=>{i[d]=g.val(e),r++,a&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):a=!1}),!e&&a&&s<2*r){const d=[];for(const g in i)d[g]=i[g];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+M$(this.getPriority().val())+":"),this.forEachChild(Oi,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":qq(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new _n(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new _n(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new _n(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,_n.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,_n.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vS?-1:0}withIndex(e){if(e===Wf||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Wf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Oi),s=i.getIterator(Oi);let a=r.getNext(),d=s.getNext();for(;a&&d;){if(a.name!==d.name||!a.node.equals(d.node))return!1;a=r.getNext(),d=s.getNext()}return null===a&&null===d}return!1}return!1}}resolveIndex_(e){return e===Wf?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vS=new class extends an{constructor(){super(new Ml(H2),an.EMPTY_NODE,tg.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return an.EMPTY_NODE}isEmpty(){return!1}};function _r(n,t=null){if(null===n)return an.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),Ye(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new HC(n,_r(t));if(n instanceof Array){let e=an.EMPTY_NODE;return Gs(n,(i,r)=>{if(nh(n,i)&&"."!==i.substring(0,1)){const s=_r(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(_r(t))}{const e=[];let i=!1;if(Gs(n,(a,d)=>{if("."!==a.substring(0,1)){const g=_r(d);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),e.push(new _n(a,g)))}}),0===e.length)return an.EMPTY_NODE;const s=Gk(e,Vce,a=>a.name,H2);if(i){const a=Gk(e,Oi.getCompare());return new an(s,_r(t),new tg({".priority":a},{".priority":Oi}))}return new an(s,_r(t),tg.Default)}}Object.defineProperties(_n,{MIN:{value:new _n(py,an.EMPTY_NODE)},MAX:{value:new _n(eg,vS)}}),T$.__EMPTY_NODE=an.EMPTY_NODE,HC.__childrenNodeConstructor=an,function(n){z2=n}(vS),function(n){P$=n}(vS),function(n){O$=n}(_r);class q2 extends jk{constructor(t){super(),this.indexPath_=t,Ye(!gn(t)&&".priority"!==mn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?h0(t.name,e.name):s}makePost(t,e){const i=_r(t),r=an.EMPTY_NODE.updateChild(this.indexPath_,i);return new _n(e,r)}maxPost(){const t=an.EMPTY_NODE.updateChild(this.indexPath_,vS);return new _n(eg,t)}toString(){return gS(this.indexPath_,0).join("/")}}const $2=new class extends jk{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?h0(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return _n.MIN}maxPost(){return _n.MAX}makePost(t,e){const i=_r(t);return new _n(e,i)}toString(){return".value"}};function N$(n){return{type:"value",snapshotNode:n}}function GC(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function bS(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function wS(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Z2{constructor(t){this.index_=t}updateChild(t,e,i,r,s,a){Ye(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(bS(e,d)):Ye(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?a.trackChildChange(GC(e,i)):a.trackChildChange(wS(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Oi,(r,s)=>{e.hasChild(r)||i.trackChildChange(bS(r,s))}),e.isLeafNode()||e.forEachChild(Oi,(r,s)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(s)||i.trackChildChange(wS(r,s,a))}else i.trackChildChange(GC(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?an.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class CS{constructor(t){this.indexedFilter_=new Z2(t.getIndex()),this.index_=t.getIndex(),this.startPost_=CS.getStartPost_(t),this.endPost_=CS.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,a){return this.matches(new _n(e,i))||(i=an.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=an.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(an.EMPTY_NODE);const s=this;return e.forEachChild(Oi,(a,d)=>{s.matches(new _n(a,d))||(r=r.updateImmediateChild(a,an.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Kce{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new CS(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,a){return this.rangedFilter_.matches(new _n(e,i))||(i=an.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,a):this.fullLimitUpdateChild_(t,e,i,s,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=an.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=an.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const d=s.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;r=r.updateImmediateChild(d.name,d.node),a++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(an.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;s.hasNext();){const d=s.getNext();a<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?a++:r=r.updateImmediateChild(d.name,an.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let a;if(this.reverse_){const T=this.index_.getCompare();a=(O,L)=>T(L,O)}else a=this.index_.getCompare();const d=t;Ye(d.numChildren()===this.limit_,"");const g=new _n(e,i),C=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),I=this.rangedFilter_.matches(g);if(d.hasChild(e)){const T=d.getImmediateChild(e);let O=r.getChildAfterChild(this.index_,C,this.reverse_);for(;null!=O&&(O.name===e||d.hasChild(O.name));)O=r.getChildAfterChild(this.index_,O,this.reverse_);const L=null==O?1:a(O,g);if(I&&!i.isEmpty()&&L>=0)return null!=s&&s.trackChildChange(wS(e,i,T)),d.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(bS(e,T));const te=d.updateImmediateChild(e,an.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(null!=s&&s.trackChildChange(GC(O.name,O.node)),te.updateImmediateChild(O.name,O.node)):te}}return i.isEmpty()?t:I&&a(C,g)>=0?(null!=s&&(s.trackChildChange(bS(C.name,C.node)),s.trackChildChange(GC(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(C.name,an.EMPTY_NODE)):t}}class qk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:py}hasEnd(){return this.endSet_}getIndexEndValue(){return Ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:eg}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oi}copy(){const t=new qk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function W2(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Y2(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function $k(n,t){const e=n.copy();return e.index_=t,e}function F$(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Oi?e="$priority":n.index_===$2?e="$value":n.index_===Wf?e="$key":(Ye(n.index_ instanceof q2,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=ys(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=ys(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+ys(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=ys(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+ys(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function L$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Oi&&(t.i=n.index_.toString()),t}class Zk extends w${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=hS("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:(Ye(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=Zk.getListenId_(t,i),d={};this.listens_[a]=d;const g=F$(t._queryParams);this.restRequest_(s+".json",g,(C,I)=>{let T=I;if(404===C&&(T=null,C=null),null===C&&this.onDataUpdate_(s,T,!1,i),l0(this.listens_,a)===d){let O;O=C?401===C?"permission_denied":"rest_error:"+C:"ok",r(O,null)}})}unlisten(t,e){const i=Zk.getListenId_(t,e);delete this.listens_[i]}get(t){const e=F$(t._queryParams),i=t._path.toString(),r=new Ba;return this.restRequest_(i+".json",e,(s,a)=>{let d=a;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+function(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}(e);this.log_("Sending REST request for "+a);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+a+" received. status:",d.status,"response:",d.responseText);let g=null;if(d.status>=200&&d.status<300){try{g=uS(d.responseText)}catch(C){Ko("Failed to parse JSON response for "+a+": "+d.responseText)}i(null,g)}else 401!==d.status&&404!==d.status&&Ko("Got unsuccessful REST response for "+a+" Status: "+d.status),i(d.status);i=null}},d.open("GET",a,!0),d.send()})}}class nue{constructor(){this.rootNode_=an.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Wk(){return{value:null,children:new Map}}function qC(n,t,e){if(gn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=mn(t);n.children.has(i)||n.children.set(i,Wk()),qC(n.children.get(i),t=Ai(t),e)}}function K2(n,t){if(gn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Oi,(i,r)=>{qC(n,new li(i),r)}),K2(n,t)}}if(n.children.size>0){const e=mn(t);return t=Ai(t),n.children.has(e)&&K2(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Q2(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{Q2(r,new li(t.toString()+"/"+i),e)})}class rue{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Gs(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class aue{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new rue(t);const i=1e4+2e4*Math.random();pS(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Gs(t,(r,s)=>{s>0&&nh(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),pS(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bu=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Bu||(Bu={})),Bu))();function eB(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Yk{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Bu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(gn(this.path)){if(null!=this.affectedTree.value)return Ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new li(t));return new Yk(Qn(),e,this.revert)}}return Ye(mn(this.path)===t,"operationForChild called for unrelated child."),new Yk(Ai(this.path),this.affectedTree,this.revert)}}class ES{constructor(t,e){this.source=t,this.path=e,this.type=Bu.LISTEN_COMPLETE}operationForChild(t){return gn(this.path)?new ES(this.source,Qn()):new ES(this.source,Ai(this.path))}}class m0{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Bu.OVERWRITE}operationForChild(t){return gn(this.path)?new m0(this.source,Qn(),this.snap.getImmediateChild(t)):new m0(this.source,Ai(this.path),this.snap)}}class $C{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Bu.MERGE}operationForChild(t){if(gn(this.path)){const e=this.children.subtree(new li(t));return e.isEmpty()?null:e.value?new m0(this.source,Qn(),e.value):new $C(this.source,Qn(),e)}return Ye(mn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new $C(this.source,Ai(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _y{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(gn(t))return this.isFullyInitialized()&&!this.filtered_;const e=mn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class lue{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function xS(n,t,e,i,r,s){const a=i.filter(d=>d.type===e);a.sort((d,g)=>function(n,t,e){if(null==t.childName||null==e.childName)throw BC("Should only compare child_ events.");const i=new _n(t.childName,t.snapshotNode),r=new _n(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,g)),a.forEach(d=>{const g=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(C=>{C.respondsTo(d.type)&&t.push(C.createEvent(g,n.query_))})})}function Kk(n,t){return{eventCache:n,serverCache:t}}function DS(n,t,e,i){return Kk(new _y(t,e,i),n.serverCache)}function V$(n,t,e,i){return Kk(n.eventCache,new _y(t,e,i))}function Qk(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function g0(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let tB;class Pi{constructor(t,e=(()=>(tB||(tB=new Ml(Yle)),tB))()){this.value=t,this.children=e}static fromObject(t){let e=new Pi(null);return Gs(t,(i,r)=>{e=e.set(new li(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Qn(),value:this.value};if(gn(t))return null;{const i=mn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Ai(t),e);return null!=s?{path:or(new li(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(gn(t))return this;{const e=mn(t),i=this.children.get(e);return null!==i?i.subtree(Ai(t)):new Pi(null)}}set(t,e){if(gn(t))return new Pi(e,this.children);{const i=mn(t),s=(this.children.get(i)||new Pi(null)).set(Ai(t),e),a=this.children.insert(i,s);return new Pi(this.value,a)}}remove(t){if(gn(t))return this.children.isEmpty()?new Pi(null):new Pi(null,this.children);{const e=mn(t),i=this.children.get(e);if(i){const r=i.remove(Ai(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Pi(null):new Pi(this.value,s)}return this}}get(t){if(gn(t))return this.value;{const e=mn(t),i=this.children.get(e);return i?i.get(Ai(t)):null}}setTree(t,e){if(gn(t))return e;{const i=mn(t),s=(this.children.get(i)||new Pi(null)).setTree(Ai(t),e);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Pi(this.value,a)}}fold(t){return this.fold_(Qn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(or(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Qn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(gn(t))return null;{const s=mn(t),a=this.children.get(s);return a?a.findOnPath_(Ai(t),or(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Qn(),e)}foreachOnPath_(t,e,i){if(gn(t))return this;{this.value&&i(e,this.value);const r=mn(t),s=this.children.get(r);return s?s.foreachOnPath_(Ai(t),or(e,r),i):new Pi(null)}}foreach(t){this.foreach_(Qn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(or(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class rh{constructor(t){this.writeTree_=t}static empty(){return new rh(new Pi(null))}}function SS(n,t,e){if(gn(t))return new rh(new Pi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=Ua(r,t);return s=s.updateChild(a,e),new rh(n.writeTree_.set(r,s))}{const r=new Pi(e),s=n.writeTree_.setTree(t,r);return new rh(s)}}}function nB(n,t,e){let i=n;return Gs(e,(r,s)=>{i=SS(i,or(t,r),s)}),i}function U$(n,t){if(gn(t))return rh.empty();{const e=n.writeTree_.setTree(t,new Pi(null));return new rh(e)}}function iB(n,t){return null!=_0(n,t)}function _0(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ua(e.path,t)):null}function j$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Oi,(i,r)=>{t.push(new _n(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new _n(i,r.value))}),t}function yy(n,t){if(gn(t))return n;{const e=_0(n,t);return new rh(null!=e?new Pi(e):n.writeTree_.subtree(t))}}function rB(n){return n.writeTree_.isEmpty()}function ZC(n,t){return H$(Qn(),n.writeTree_,t)}function H$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?(Ye(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=H$(or(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(or(n,".priority"),i)),e}}function Jk(n,t){return Z$(t,n)}function _ue(n,t){if(n.snap)return Lu(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Lu(or(n.path,e),t))return!0;return!1}function vue(n){return n.visible}function z$(n,t,e){let i=rh.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const a=s.path;let d;if(s.snap)Lu(e,a)?(d=Ua(e,a),i=SS(i,d,s.snap)):Lu(a,e)&&(d=Ua(a,e),i=SS(i,Qn(),s.snap.getChild(d)));else{if(!s.children)throw BC("WriteRecord should have .snap or .children");if(Lu(e,a))d=Ua(e,a),i=nB(i,d,s.children);else if(Lu(a,e))if(d=Ua(a,e),gn(d))i=nB(i,Qn(),s.children);else{const g=l0(s.children,mn(d));if(g){const C=g.getChild(Ai(d));i=SS(i,Qn(),C)}}}}}return i}function G$(n,t,e,i,r){if(i||r){const s=yy(n.visibleWrites,t);return!r&&rB(s)?e:r||null!=e||iB(s,Qn())?ZC(z$(n.allWrites,function(C){return(C.visible||r)&&(!i||!~i.indexOf(C.writeId))&&(Lu(C.path,t)||Lu(t,C.path))},t),e||an.EMPTY_NODE):null}{const s=_0(n.visibleWrites,t);if(null!=s)return s;{const a=yy(n.visibleWrites,t);return rB(a)?e:null!=e||iB(a,Qn())?ZC(a,e||an.EMPTY_NODE):null}}}function Xk(n,t,e,i){return G$(n.writeTree,n.treePath,t,e,i)}function sB(n,t){return function(n,t,e){let i=an.EMPTY_NODE;const r=_0(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Oi,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(e){const s=yy(n.visibleWrites,t);return e.forEachChild(Oi,(a,d)=>{const g=ZC(yy(s,new li(a)),d);i=i.updateImmediateChild(a,g)}),j$(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return j$(yy(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function q$(n,t,e,i){return function(n,t,e,i,r){Ye(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=or(t,e);if(iB(n.visibleWrites,s))return null;{const a=yy(n.visibleWrites,s);return rB(a)?r.getChild(e):ZC(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function e1(n,t){return function(n,t){return _0(n.visibleWrites,t)}(n.writeTree,or(n.treePath,t))}function oB(n,t,e){return function(n,t,e,i){const r=or(t,e),s=_0(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?ZC(yy(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function $$(n,t){return Z$(or(n.treePath,t),n.writeTree)}function Z$(n,t){return{treePath:n,writeTree:t}}class Aue{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;Ye("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Ye(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,wS(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,bS(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,GC(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw BC("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,wS(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const W$=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class aB{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new _y(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oB(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:g0(this.viewCache_),s=function(n,t,e,i,r,s){return function(n,t,e,i,r,s,a){let d;const g=yy(n.visibleWrites,t),C=_0(g,Qn());if(null!=C)d=C;else{if(null==e)return[];d=ZC(g,e)}if(d=d.withIndex(a),d.isEmpty()||d.isLeafNode())return[];{const I=[],T=a.getCompare(),O=s?d.getReverseIteratorFrom(i,a):d.getIteratorFrom(i,a);let L=O.getNext();for(;L&&I.length<r;)0!==T(L,i)&&I.push(L),L=O.getNext();return I}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function Y$(n,t,e,i,r,s){const a=t.eventCache;if(null!=e1(i,e))return t;{let d,g;if(gn(e))if(Ye(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const C=g0(t),T=sB(i,C instanceof an?C:an.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),T,s)}else{const C=Xk(i,g0(t));d=n.filter.updateFullNode(t.eventCache.getNode(),C,s)}else{const C=mn(e);if(".priority"===C){Ye(1===gy(e),"Can't have a priority with additional path components");const I=a.getNode();g=t.serverCache.getNode();const T=q$(i,e,I,g);d=null!=T?n.filter.updatePriority(I,T):a.getNode()}else{const I=Ai(e);let T;if(a.isCompleteForChild(C)){g=t.serverCache.getNode();const O=q$(i,e,a.getNode(),g);T=null!=O?a.getNode().getImmediateChild(C).updateChild(I,O):a.getNode().getImmediateChild(C)}else T=oB(i,C,t.serverCache);d=null!=T?n.filter.updateChild(a.getNode(),C,T,I,r,s):a.getNode()}}return DS(t,d,a.isFullyInitialized()||gn(e),n.filter.filtersNodes())}}function t1(n,t,e,i,r,s,a,d){const g=t.serverCache;let C;const I=a?n.filter:n.filter.getIndexedFilter();if(gn(e))C=I.updateFullNode(g.getNode(),i,null);else if(I.filtersNodes()&&!g.isFiltered()){const L=g.getNode().updateChild(e,i);C=I.updateFullNode(g.getNode(),L,null)}else{const L=mn(e);if(!g.isCompleteForPath(e)&&gy(e)>1)return t;const q=Ai(e),re=g.getNode().getImmediateChild(L).updateChild(q,i);C=".priority"===L?I.updatePriority(g.getNode(),re):I.updateChild(g.getNode(),L,re,q,W$,null)}const T=V$(t,C,g.isFullyInitialized()||gn(e),I.filtersNodes());return Y$(n,T,e,r,new aB(r,T,s),d)}function lB(n,t,e,i,r,s,a){const d=t.eventCache;let g,C;const I=new aB(r,t,s);if(gn(e))C=n.filter.updateFullNode(t.eventCache.getNode(),i,a),g=DS(t,C,!0,n.filter.filtersNodes());else{const T=mn(e);if(".priority"===T)C=n.filter.updatePriority(t.eventCache.getNode(),i),g=DS(t,C,d.isFullyInitialized(),d.isFiltered());else{const O=Ai(e),L=d.getNode().getImmediateChild(T);let q;if(gn(O))q=i;else{const te=I.getCompleteChild(T);q=null!=te?".priority"===V2(O)&&te.getChild(D$(O)).isEmpty()?te:te.updateChild(O,i):an.EMPTY_NODE}g=L.equals(q)?t:DS(t,n.filter.updateChild(d.getNode(),T,q,O,I,a),d.isFullyInitialized(),n.filter.filtersNodes())}}return g}function K$(n,t){return n.eventCache.isCompleteForChild(t)}function Q$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function cB(n,t,e,i,r,s,a,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let C,g=t;C=gn(e)?i:new Pi(null).setTree(e,i);const I=t.serverCache.getNode();return C.children.inorderTraversal((T,O)=>{if(I.hasChild(T)){const q=Q$(0,t.serverCache.getNode().getImmediateChild(T),O);g=t1(n,g,new li(T),q,r,s,a,d)}}),C.children.inorderTraversal((T,O)=>{const L=!t.serverCache.isCompleteForChild(T)&&null===O.value;if(!I.hasChild(T)&&!L){const te=Q$(0,t.serverCache.getNode().getImmediateChild(T),O);g=t1(n,g,new li(T),te,r,s,a,d)}}),g}class Lue{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Z2(i.getIndex()),s=function(n){return n.loadsAllData()?new Z2(n.getIndex()):n.hasLimit()?new Kce(n):new CS(n)}(i);this.processor_=function(n){return{filter:n}}(s);const a=e.serverCache,d=e.eventCache,g=r.updateFullNode(an.EMPTY_NODE,a.getNode(),null),C=s.updateFullNode(an.EMPTY_NODE,d.getNode(),null),I=new _y(g,a.isFullyInitialized(),r.filtersNodes()),T=new _y(C,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=Kk(T,I),this.eventGenerator_=new lue(this.query_)}get query(){return this.query_}}function Uue(n,t){const e=g0(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!gn(t)&&!e.getImmediateChild(mn(t)).isEmpty())?e.getChild(t):null}function J$(n){return 0===n.eventRegistrations_.length}function X$(n,t,e){const i=[];if(e){Ye(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function e8(n,t,e,i){t.type===Bu.MERGE&&null!==t.source.queryId&&(Ye(g0(n.viewCache_),"We should always have a full cache before handling merges"),Ye(Qk(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function(n,t,e,i,r){const s=new Aue;let a,d;if(e.type===Bu.OVERWRITE){const C=e;C.source.fromUser?a=lB(n,t,C.path,C.snap,i,r,s):(Ye(C.source.fromServer,"Unknown source."),d=C.source.tagged||t.serverCache.isFiltered()&&!gn(C.path),a=t1(n,t,C.path,C.snap,i,r,d,s))}else if(e.type===Bu.MERGE){const C=e;C.source.fromUser?a=function(n,t,e,i,r,s,a){let d=t;return i.foreach((g,C)=>{const I=or(e,g);K$(t,mn(I))&&(d=lB(n,d,I,C,r,s,a))}),i.foreach((g,C)=>{const I=or(e,g);K$(t,mn(I))||(d=lB(n,d,I,C,r,s,a))}),d}(n,t,C.path,C.children,i,r,s):(Ye(C.source.fromServer,"Unknown source."),d=C.source.tagged||t.serverCache.isFiltered(),a=cB(n,t,C.path,C.children,i,r,d,s))}else if(e.type===Bu.ACK_USER_WRITE){const C=e;a=C.revert?function(n,t,e,i,r,s){let a;if(null!=e1(i,e))return t;{const d=new aB(i,t,r),g=t.eventCache.getNode();let C;if(gn(e)||".priority"===mn(e)){let I;if(t.serverCache.isFullyInitialized())I=Xk(i,g0(t));else{const T=t.serverCache.getNode();Ye(T instanceof an,"serverChildren would be complete if leaf node"),I=sB(i,T)}I=I,C=n.filter.updateFullNode(g,I,s)}else{const I=mn(e);let T=oB(i,I,t.serverCache);null==T&&t.serverCache.isCompleteForChild(I)&&(T=g.getImmediateChild(I)),C=null!=T?n.filter.updateChild(g,I,T,Ai(e),d,s):t.eventCache.getNode().hasChild(I)?n.filter.updateChild(g,I,an.EMPTY_NODE,Ai(e),d,s):g,C.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Xk(i,g0(t)),a.isLeafNode()&&(C=n.filter.updateFullNode(C,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=e1(i,Qn()),DS(t,C,a,n.filter.filtersNodes())}}(n,t,C.path,i,r,s):function(n,t,e,i,r,s,a){if(null!=e1(r,e))return t;const d=t.serverCache.isFiltered(),g=t.serverCache;if(null!=i.value){if(gn(e)&&g.isFullyInitialized()||g.isCompleteForPath(e))return t1(n,t,e,g.getNode().getChild(e),r,s,d,a);if(gn(e)){let C=new Pi(null);return g.getNode().forEachChild(Wf,(I,T)=>{C=C.set(new li(I),T)}),cB(n,t,e,C,r,s,d,a)}return t}{let C=new Pi(null);return i.foreach((I,T)=>{const O=or(e,I);g.isCompleteForPath(O)&&(C=C.set(I,g.getNode().getChild(O)))}),cB(n,t,e,C,r,s,d,a)}}(n,t,C.path,C.affectedTree,i,r,s)}else{if(e.type!==Bu.LISTEN_COMPLETE)throw BC("Unknown operation type: "+e.type);a=function(n,t,e,i,r){const s=t.serverCache;return Y$(n,V$(t,s.getNode(),s.isFullyInitialized()||gn(e),s.isFiltered()),e,i,W$,r)}(n,t,e.path,i,s)}const g=s.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Qk(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(N$(Qk(t)))}}(t,a,g),{viewCache:a,changes:g}}(n.processor_,r,t,e,i);return function(n,t){Ye(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ye(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),Ye(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,t8(n,s.changes,s.viewCache.eventCache.getNode(),null)}function t8(n,t,e,i){return function(n,t,e,i){const r=[],s=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),xS(n,r,"child_removed",t,i,e),xS(n,r,"child_added",t,i,e),xS(n,r,"child_moved",s,i,e),xS(n,r,"child_changed",t,i,e),xS(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let n1,s1;class n8{constructor(){this.views=new Map}}function uB(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return Ye(null!=s,"SyncTree gave us an op for an invalid query."),e8(s,t,e,i)}{let s=[];for(const a of n.views.values())s=s.concat(e8(a,t,e,i));return s}}function i8(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let d=Xk(e,r?i:null),g=!1;d?g=!0:i instanceof an?(d=sB(e,i),g=!1):(d=an.EMPTY_NODE,g=!1);const C=Kk(new _y(d,g,!1),new _y(i,r,!1));return new Lue(t,C)}return a}function r8(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function vy(n,t){let e=null;for(const i of n.views.values())e=e||Uue(i,t);return e}function s8(n,t){return t._queryParams.loadsAllData()?r1(n):n.views.get(t._queryIdentifier)}function o8(n,t){return null!=s8(n,t)}function by(n){return null!=r1(n)}function r1(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Kue=1;class a8{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Pi(null),this.pendingWriteTree_={visibleWrites:rh.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dB(n,t,e,i,r){return function(n,t,e,i,r){Ye(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=SS(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?WC(n,new m0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function wy(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);Ye(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const d=n.allWrites[a];d.visible&&(a>=e&&_ue(d,i.path)?r=!1:Lu(i.path,d.path)&&(s=!0)),a--}return!!r&&(s?(function(n){n.visibleWrites=z$(n.allWrites,vue,Qn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=U$(n.visibleWrites,i.path):Gs(i.children,g=>{n.visibleWrites=U$(n.visibleWrites,or(i.path,g))}),!0))}(n.pendingWriteTree_,t)){let s=new Pi(null);return null!=i.snap?s=s.set(Qn(),!0):Gs(i.children,a=>{s=s.set(new li(a),!0)}),WC(n,new Yk(i.path,s,e))}return[]}function AS(n,t,e){return WC(n,new m0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function o1(n,t,e,i,r=!1){const s=t._path,a=n.syncPointTree_.get(s);let d=[];if(a&&("default"===t._queryIdentifier||o8(a,t))){const g=function(n,t,e,i){const r=t._queryIdentifier,s=[];let a=[];const d=by(n);if("default"===r)for(const[g,C]of n.views.entries())a=a.concat(X$(C,e,i)),J$(C)&&(n.views.delete(g),C.query._queryParams.loadsAllData()||s.push(C.query));else{const g=n.views.get(r);g&&(a=a.concat(X$(g,e,i)),J$(g)&&(n.views.delete(r),g.query._queryParams.loadsAllData()||s.push(g.query)))}return d&&!by(n)&&s.push(new(Ye(n1,"Reference.ts has not been loaded"),n1)(t._repo,t._path)),{removed:s,events:a}}(a,t,e,i);(function(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const C=g.removed;if(d=g.events,!r){const I=-1!==C.findIndex(O=>O._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(s,(O,L)=>by(L));if(I&&!T){const O=n.syncPointTree_.subtree(s);if(!O.isEmpty()){const L=function(n){return n.fold((t,e,i)=>{if(e&&by(e))return[r1(e)];{let r=[];return e&&(r=r8(e)),Gs(i,(s,a)=>{r=r.concat(a)}),r}})}(O);for(let q=0;q<L.length;++q){const te=L[q],re=te.query,_e=d8(n,te);n.listenProvider_.startListening(TS(re),IS(n,re),_e.hashFn,_e.onComplete)}}}if(!T&&C.length>0&&!i)if(I){const O=null;n.listenProvider_.stopListening(TS(t),O)}else C.forEach(O=>{const L=n.queryToTagMap.get(l1(O));n.listenProvider_.stopListening(TS(O),L)})}!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=l1(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,C)}return d}function l8(n,t,e,i){const r=fB(n,i);if(null!=r){const s=pB(r),a=s.path,d=s.queryId,g=Ua(a,t);return mB(n,a,new m0(eB(d),g,e))}return[]}function hB(n,t,e,i=!1){const r=t._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(O,L)=>{const q=Ua(O,r);s=s||vy(L,q),a=a||by(L)});let g,d=n.syncPointTree_.get(r);d?(a=a||by(d),s=s||vy(d,Qn())):(d=new n8,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?g=!0:(g=!1,s=an.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((L,q)=>{const te=vy(q,Qn());te&&(s=s.updateImmediateChild(L,te))}));const C=o8(d,t);if(!C&&!t._queryParams.loadsAllData()){const O=l1(t);Ye(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const L=Kue++;n.queryToTagMap.set(O,L),n.tagToQueryMap.set(L,O)}let T=function(n,t,e,i,r,s){const a=i8(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function(n,t){n.eventRegistrations_.push(t)}(a,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Oi,(s,a)=>{i.push(GC(s,a))}),e.isFullyInitialized()&&i.push(N$(e.getNode())),t8(n,i,e.getNode(),t)}(a,e)}(d,t,e,Jk(n.pendingWriteTree_,r),s,g);if(!C&&!a&&!i){const O=s8(d,t);T=T.concat(function(n,t,e){const i=t._path,r=IS(n,t),s=d8(n,e),a=n.listenProvider_.startListening(TS(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)Ye(!by(d.value),"If we're adding a query, it shouldn't be shadowed");else{const g=d.fold((C,I,T)=>{if(!gn(C)&&I&&by(I))return[r1(I).query];{let O=[];return I&&(O=O.concat(r8(I).map(L=>L.query))),Gs(T,(L,q)=>{O=O.concat(q)}),O}});for(let C=0;C<g.length;++C){const I=g[C];n.listenProvider_.stopListening(TS(I),IS(n,I))}}return a}(n,t,O))}return T}function a1(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(a,d)=>{const C=vy(d,Ua(a,t));if(C)return C});return G$(r,t,s,e,!0)}function WC(n,t){return c8(t,n.syncPointTree_,null,Jk(n.pendingWriteTree_,Qn()))}function c8(n,t,e,i){if(gn(n.path))return u8(n,t,e,i);{const r=t.get(Qn());null==e&&null!=r&&(e=vy(r,Qn()));let s=[];const a=mn(n.path),d=n.operationForChild(a),g=t.children.get(a);if(g&&d){const C=e?e.getImmediateChild(a):null,I=$$(i,a);s=s.concat(c8(d,g,C,I))}return r&&(s=s.concat(uB(r,n,i,e))),s}}function u8(n,t,e,i){const r=t.get(Qn());null==e&&null!=r&&(e=vy(r,Qn()));let s=[];return t.children.inorderTraversal((a,d)=>{const g=e?e.getImmediateChild(a):null,C=$$(i,a),I=n.operationForChild(a);I&&(s=s.concat(u8(I,d,g,C)))}),r&&(s=s.concat(uB(r,n,i,e))),s}function d8(n,t){const e=t.query,i=IS(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||an.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,t,e){const i=fB(n,e);if(i){const r=pB(i),s=r.path,a=r.queryId,d=Ua(s,t);return mB(n,s,new ES(eB(a),d))}return[]}(n,e._path,i):function(n,t){return WC(n,new ES({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return o1(n,e,null,s)}}}}function IS(n,t){const e=l1(t);return n.queryToTagMap.get(e)}function l1(n){return n._path.toString()+"$"+n._queryIdentifier}function fB(n,t){return n.tagToQueryMap.get(t)}function pB(n){const t=n.indexOf("$");return Ye(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new li(n.substr(0,t))}}function mB(n,t,e){const i=n.syncPointTree_.get(t);return Ye(i,"Missing sync point for query tag that we're tracking"),uB(i,e,Jk(n.pendingWriteTree_,t),null)}function TS(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Ye(s1,"Reference.ts has not been loaded"),s1)(n._repo,n._path):n}class gB{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new gB(e)}node(){return this.node_}}class _B{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=or(this.path_,t);return new _B(this.syncTree_,e)}node(){return a1(this.syncTree_,this.path_)}}const h8=function(n,t,e){return n&&"object"==typeof n?(Ye(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?lde(n[".sv"],t,e):"object"==typeof n[".sv"]?cde(n[".sv"],t):void Ye(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},lde=function(n,t,e){if("timestamp"===n)return e.timestamp;Ye(!1,"Unexpected server value: "+n)},cde=function(n,t,e){n.hasOwnProperty("increment")||Ye(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&Ye(!1,"Unexpected increment value: "+i);const r=t.node();if(Ye(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},f8=function(n,t,e,i){return vB(t,new _B(e,n),i)},yB=function(n,t,e){return vB(n,new gB(t),e)};function vB(n,t,e){const i=n.getPriority().val(),r=h8(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const a=n,d=h8(a.getValue(),t,e);return d!==a.getValue()||r!==a.getPriority().val()?new HC(d,_r(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new HC(r))),a.forEachChild(Oi,(d,g)=>{const C=vB(g,t.getImmediateChild(d),e);C!==g&&(s=s.updateImmediateChild(d,C))}),s}}class bB{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function c1(n,t){let e=t instanceof li?t:new li(t),i=n,r=mn(e);for(;null!==r;){const s=l0(i.node.children,r)||{children:{},childCount:0};i=new bB(r,i,s),e=Ai(e),r=mn(e)}return i}function y0(n){return n.node.value}function wB(n,t){n.node.value=t,CB(n)}function p8(n){return n.node.childCount>0}function u1(n,t){Gs(n.node.children,(e,i)=>{t(new bB(e,n,i))})}function m8(n,t,e,i){e&&!i&&t(n),u1(n,r=>{m8(r,t,!0,i)}),e&&i&&t(n)}function MS(n){return new li(null===n.parent?n.name:MS(n.parent)+"/"+n.name)}function CB(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===y0(n)&&!p8(n)}(e),r=nh(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,CB(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,CB(n))}(n.parent,n.name,n)}const fde=/[\[\].#$\/\u0000-\u001F\u007F]/,pde=/[\[\].#$\u0000-\u001F\u007F]/,EB=10485760,d1=function(n){return"string"==typeof n&&0!==n.length&&!fde.test(n)},g8=function(n){return"string"==typeof n&&0!==n.length&&!pde.test(n)},kS=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Lk(n)||n&&"object"==typeof n&&nh(n,".sv")},Yf=function(n,t,e,i){i&&void 0===t||RS(Va(n,"value"),t,e)},RS=function(n,t,e){const i=e instanceof li?new kce(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+f0(i));if("function"==typeof t)throw new Error(n+"contains a function "+f0(i)+" with contents = "+t.toString());if(Lk(t))throw new Error(n+"contains "+t.toString()+" "+f0(i));if("string"==typeof t&&t.length>EB/3&&Fk(t)>EB)throw new Error(n+"contains a string greater than "+EB+" utf8 bytes "+f0(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Gs(t,(a,d)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!d1(a)))throw new Error(n+" contains an invalid key ("+a+") "+f0(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Fk(t),S$(n)})(i,a),RS(n,d,i),function(n){const t=n.parts_.pop();n.byteLength_-=Fk(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+f0(i)+" in addition to actual children.")}},_8=function(n,t,e,i){if(i&&void 0===t)return;const r=Va(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Gs(t,(a,d)=>{const g=new li(a);if(RS(r,d,or(e,g)),".priority"===V2(g)&&!kS(d))throw new Error(r+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(g)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=gS(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!d1(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Mce);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Lu(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},xB=function(n,t,e){if(!e||void 0!==t){if(Lk(t))throw new Error(Va(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!kS(t))throw new Error(Va(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},OS=function(n,t,e,i){if(!(i&&void 0===e||d1(e)))throw new Error(Va(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},PS=function(n,t,e,i){if(!(i&&void 0===e||g8(e)))throw new Error(Va(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vu=function(n,t){if(".info"===mn(t))throw new Error(n+" failed = Can't modify data under /.info/")},y8=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!d1(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),g8(n)}(e))throw new Error(Va(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class yde{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function h1(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!U2(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function v8(n,t,e){h1(n,e),b8(n,i=>U2(i,t))}function Sc(n,t,e){h1(n,e),b8(n,i=>Lu(i,t)||Lu(t,i))}function b8(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(vde(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function vde(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();d0&&zs("event: "+e.toString()),UC(i)}}}const w8="repo_interrupt";class wde{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yde,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wk(),this.transactionQueueTree_=new bB,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function C8(n){const e=n.infoData_.getNode(new li(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function NS(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:C8(n)})}function E8(n,t,e,i,r){n.dataUpdateCount++;const s=new li(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const g=Nk(e,C=>_r(C));a=function(n,t,e,i){const r=fB(n,i);if(r){const s=pB(r),a=s.path,d=s.queryId,g=Ua(a,t),C=Pi.fromObject(e);return mB(n,a,new $C(eB(d),g,C))}return[]}(n.serverSyncTree_,s,g,r)}else{const g=_r(e);a=l8(n.serverSyncTree_,s,g,r)}else if(i){const g=Nk(e,C=>_r(C));a=function(n,t,e){const i=Pi.fromObject(e);return WC(n,new $C({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,g)}else{const g=_r(e);a=AS(n.serverSyncTree_,s,g)}let d=s;a.length>0&&(d=KC(n,s)),Sc(n.eventQueue_,d,a)}function x8(n,t){DB(n,"connected",t),!1===t&&function(n){YC(n,"onDisconnectEvents");const t=NS(n),e=Wk();Q2(n.onDisconnect_,Qn(),(r,s)=>{const a=f8(r,s,n.serverSyncTree_,t);qC(e,r,a)});let i=[];Q2(e,Qn(),(r,s)=>{i=i.concat(AS(n.serverSyncTree_,r,s));const a=TB(n,r);KC(n,a)}),n.onDisconnect_=Wk(),Sc(n.eventQueue_,Qn(),i)}(n)}function DB(n,t,e){const i=new li("/.info/"+t),r=_r(e);n.infoData_.updateSnapshot(i,r);const s=AS(n.infoSyncTree_,i,r);Sc(n.eventQueue_,i,s)}function f1(n){return n.nextWriteId_++}function SB(n,t,e,i,r){YC(n,"set",{path:t.toString(),value:e,priority:i});const s=NS(n),a=_r(e,i),d=a1(n.serverSyncTree_,t),g=yB(a,d,s),C=f1(n),I=dB(n.serverSyncTree_,t,g,C,!0);h1(n.eventQueue_,I),n.server_.put(t.toString(),a.val(!0),(O,L)=>{const q="ok"===O;q||Ko("set at "+t+" failed: "+O);const te=wy(n.serverSyncTree_,C,!q);Sc(n.eventQueue_,t,te),Cy(0,r,O,L)});const T=TB(n,t);KC(n,T),Sc(n.eventQueue_,T,[])}function Ade(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&K2(n.onDisconnect_,t),Cy(0,e,i,r)})}function D8(n,t,e,i){const r=_r(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,a)=>{"ok"===s&&qC(n.onDisconnect_,t,r),Cy(0,i,s,a)})}function AB(n,t,e){let i;i=".info"===mn(t._path)?o1(n.infoSyncTree_,t,e):o1(n.serverSyncTree_,t,e),v8(n.eventQueue_,t._path,i)}function S8(n){n.persistentConnection_&&n.persistentConnection_.interrupt(w8)}function YC(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),zs(e,...t)}function Cy(n,t,e,i){t&&UC(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,t(a)}})}function IB(n,t,e){return a1(n.serverSyncTree_,t,e)||an.EMPTY_NODE}function p1(n,t=n.transactionQueueTree_){if(t||m1(n,t),y0(t)){const e=I8(n,t);Ye(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function(n,t,e){const i=e.map(C=>C.currentWriteId),r=IB(n,t,i);let s=r;const a=r.hash();for(let C=0;C<e.length;C++){const I=e[C];Ye(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const T=Ua(t,I.path);s=s.updateChild(T,I.currentOutputSnapshotRaw)}const d=s.val(!0),g=t;n.server_.put(g.toString(),d,C=>{YC(n,"transaction put response",{path:g.toString(),status:C});let I=[];if("ok"===C){const T=[];for(let O=0;O<e.length;O++)e[O].status=2,I=I.concat(wy(n.serverSyncTree_,e[O].currentWriteId)),e[O].onComplete&&T.push(()=>e[O].onComplete(null,!0,e[O].currentOutputSnapshotResolved)),e[O].unwatcher();m1(n,c1(n.transactionQueueTree_,t)),p1(n,n.transactionQueueTree_),Sc(n.eventQueue_,t,I);for(let O=0;O<T.length;O++)UC(T[O])}else{if("datastale"===C)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{Ko("transaction at "+g.toString()+" failed: "+C);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=C}KC(n,t)}},a)}(n,MS(t),e)}else p8(t)&&u1(t,e=>{p1(n,e)})}function KC(n,t){const e=A8(n,t),i=MS(e);return function(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const g=t[d],C=Ua(e,g.path);let T,I=!1;if(Ye(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null."),4===g.status)I=!0,T=g.abortReason,r=r.concat(wy(n.serverSyncTree_,g.currentWriteId,!0));else if(0===g.status)if(g.retryCount>=25)I=!0,T="maxretry",r=r.concat(wy(n.serverSyncTree_,g.currentWriteId,!0));else{const O=IB(n,g.path,a);g.currentInputSnapshot=O;const L=t[d].update(O.val());if(void 0!==L){RS("transaction failed: Data returned ",L,g.path);let q=_r(L);"object"==typeof L&&null!=L&&nh(L,".priority")||(q=q.updatePriority(O.getPriority()));const re=g.currentWriteId,_e=NS(n),Ve=yB(q,O,_e);g.currentOutputSnapshotRaw=q,g.currentOutputSnapshotResolved=Ve,g.currentWriteId=f1(n),a.splice(a.indexOf(re),1),r=r.concat(dB(n.serverSyncTree_,g.path,Ve,g.currentWriteId,g.applyLocally)),r=r.concat(wy(n.serverSyncTree_,re,!0))}else I=!0,T="nodata",r=r.concat(wy(n.serverSyncTree_,g.currentWriteId,!0))}Sc(n.eventQueue_,e,r),r=[],I&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===T?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(T),!1,null)))}m1(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)UC(i[d]);p1(n,n.transactionQueueTree_)}(n,I8(n,e),i),i}function A8(n,t){let e,i=n.transactionQueueTree_;for(e=mn(t);null!==e&&void 0===y0(i);)i=c1(i,e),e=mn(t=Ai(t));return i}function I8(n,t){const e=[];return T8(n,t,e),e.sort((i,r)=>i.order-r.order),e}function T8(n,t,e){const i=y0(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);u1(t,r=>{T8(n,r,e)})}function m1(n,t){const e=y0(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,wB(t,e.length>0?e:void 0)}u1(t,i=>{m1(n,i)})}function TB(n,t){const e=MS(A8(n,t)),i=c1(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{MB(n,r)}),MB(n,i),m8(i,r=>{MB(n,r)}),e}function MB(n,t){const e=y0(t);if(e){const i=[];let r=[],s=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?(Ye(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=3,e[a].abortReason="set"):(Ye(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(wy(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?wB(t,void 0):e.length=s+1,Sc(n.eventQueue_,MS(t),r);for(let a=0;a<i.length;a++)UC(i[a])}}const kB=function(n,t){const e=Lde(n),i=e.namespace;return"firebase.com"===e.domain&&Zf(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Zf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ko("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new O2(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new li(e.pathString)}},Lde=function(n){let t="",e="",i="",r="",s="",a=!0,d="https",g=443;if("string"==typeof n){let C=n.indexOf("//");C>=0&&(d=n.substring(0,C-1),n=n.substring(C+2));let I=n.indexOf("/");-1===I&&(I=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(I,T)),I<T&&(r=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(I,T)));const O=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ko(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));C=t.indexOf(":"),C>=0?(a="https"===d||"wss"===d,g=parseInt(t.substring(C+1),10)):C=t.length;const L=t.slice(0,C);if("localhost"===L.toLowerCase())e="localhost";else if(L.split(".").length<=2)e=L;else{const q=t.indexOf(".");i=t.substring(0,q).toLowerCase(),e=t.substring(q+1),s=i}"ns"in O&&(s=O.ns)}return{host:t,port:g,domain:e,subdomain:i,secure:a,scheme:d,pathString:r,namespace:s}},M8="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Bde=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=M8.charAt(e%64),e=Math.floor(e/64);Ye(0===e,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=M8.charAt(t[r]);return Ye(20===a.length,"nextPushId: Length should be 20."),a}}();class k8{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ys(this.snapshot.exportVal())}}class R8{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class RB{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return Ye(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class O8{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new Ba;return Ade(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Vu("OnDisconnect.remove",this._path);const t=new Ba;return D8(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Vu("OnDisconnect.set",this._path),Yf("OnDisconnect.set",t,this._path,!1);const e=new Ba;return D8(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Vu("OnDisconnect.setWithPriority",this._path),Yf("OnDisconnect.setWithPriority",t,this._path,!1),xB("OnDisconnect.setWithPriority",e,!1);const i=new Ba;return function(n,t,e,i,r){const s=_r(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(a,d)=>{"ok"===a&&qC(n.onDisconnect_,t,s),Cy(0,r,a,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Vu("OnDisconnect.update",this._path),_8("OnDisconnect.update",t,this._path,!1);const e=new Ba;return function(n,t,e,i){if(x2(e))return zs("onDisconnect().update() called with empty data.  Don't do anything."),void Cy(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Gs(e,(a,d)=>{const g=_r(d);qC(n.onDisconnect_,or(t,a),g)}),Cy(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class kl{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return gn(this._path)?null:V2(this._path)}get ref(){return new Uu(this._repo,this._path)}get _queryIdentifier(){const t=L$(this._queryParams),e=k2(t);return"{}"===e?"default":e}get _queryObject(){return L$(this._queryParams)}isEqual(t){if(!((t=Dc(t))instanceof kl))return!1;const e=this._repo===t._repo,i=U2(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function g1(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ey(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Wf){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==py)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==eg)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Oi){if(null!=t&&!kS(t)||null!=e&&!kS(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ye(n.getIndex()instanceof q2||n.getIndex()===$2,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Uu extends kl{constructor(t,e){super(t,e,new qk,!1)}get parent(){const t=D$(this._path);return null===t?null:new Uu(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class v0{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new li(t),i=b0(this.ref,t);return new v0(this._node.getChild(e),i,Oi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new v0(r,b0(this.ref,i),Oi)))}hasChild(t){const e=new li(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function P8(n,t){return(n=Dc(n))._checkNotDeleted("ref"),void 0!==t?b0(n._root,t):n._root}function N8(n,t){(n=Dc(n))._checkNotDeleted("refFromURL");const e=kB(t,n._repo.repoInfo_.nodeAdmin);y8("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Zf("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),P8(n,e.path.toString())}function b0(n,t){return null===mn((n=Dc(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),PS("child","path",e,!1)):PS("child","path",t,!1),new Uu(n._repo,or(n._path,t));var e}function OB(n,t){n=Dc(n),Vu("set",n._path),Yf("set",t,n._path,!1);const e=new Ba;return SB(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function zde(n,t){_8("update",t,n._path,!1);const e=new Ba;return function(n,t,e,i){YC(n,"update",{path:t.toString(),value:e});let r=!0;const s=NS(n),a={};if(Gs(e,(d,g)=>{r=!1,a[d]=f8(or(t,d),_r(g),n.serverSyncTree_,s)}),r)zs("update() called with empty data.  Don't do anything."),Cy(0,i,"ok",void 0);else{const d=f1(n),g=function(n,t,e,i){!function(n,t,e,i){Ye(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=nB(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Pi.fromObject(e);return WC(n,new $C({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,d);h1(n.eventQueue_,g),n.server_.merge(t.toString(),e,(C,I)=>{const T="ok"===C;T||Ko("update at "+t+" failed: "+C);const O=wy(n.serverSyncTree_,d,!T),L=O.length>0?KC(n,t):t;Sc(n.eventQueue_,L,O),Cy(0,i,C,I)}),Gs(e,C=>{const I=TB(n,or(t,C));KC(n,I)}),Sc(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Gde(n){n=Dc(n);const t=new RB(()=>{}),e=new FS(t);return function(n,t,e){const i=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(C,I)=>{const T=Ua(C,e);i=i||vy(I,T)});let r=n.syncPointTree_.get(e);r?i=i||vy(r,Qn()):(r=new n8,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,a=s?new _y(i,!0,!1):null;return function(n){return Qk(n.viewCache_)}(i8(r,t,Jk(n.pendingWriteTree_,t._path),s?a.getNode():an.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=_r(r).withIndex(t._queryParams.getIndex());let a;if(hB(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=AS(n.serverSyncTree_,t._path,s);else{const d=IS(n.serverSyncTree_,t);a=l8(n.serverSyncTree_,t._path,s,d)}return Sc(n.eventQueue_,t._path,a),o1(n.serverSyncTree_,t,e,null,!0),s},r=>(YC(n,"get for query "+ys(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new v0(i,new Uu(n._repo,n._path),n._queryParams.getIndex()))}class FS{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new k8("value",this,new v0(t.snapshotNode,new Uu(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new R8(this,t,e):null}matches(t){return t instanceof FS&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class y1{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new R8(this,t,e):null}createEvent(t,e){Ye(null!=t.childName,"Child events should have a childName.");const i=b0(new Uu(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new k8(t.type,this,new v0(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof y1&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function LS(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const g=e,C=(I,T)=>{AB(n._repo,n,d),g(I,T)};C.userCallback=e.userCallback,C.context=e.context,e=C}const a=new RB(e,s||void 0),d="value"===t?new FS(a):new y1(t,a);return function(n,t,e){let i;i=".info"===mn(t._path)?hB(n.infoSyncTree_,t,e):hB(n.serverSyncTree_,t,e),v8(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>AB(n._repo,n,d)}function PB(n,t,e,i){return LS(n,"value",t,e,i)}function F8(n,t,e,i){return LS(n,"child_added",t,e,i)}function L8(n,t,e,i){return LS(n,"child_changed",t,e,i)}function B8(n,t,e,i){return LS(n,"child_moved",t,e,i)}function V8(n,t,e,i){return LS(n,"child_removed",t,e,i)}function U8(n,t,e){let i=null;const r=e?new RB(e):null;"value"===t?i=new FS(r):t&&(i=new y1(t,r)),AB(n._repo,n,i)}class sh{}class j8 extends sh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yf("endAt",this._value,t._path,!0);const e=Y2(t._queryParams,this._value,this._key);if(_1(e),Ey(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kl(t._repo,t._path,e,t._orderByCalled)}}class $de extends sh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yf("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i;return i=Y2(n,t,n.index_===Wf||e?e:py),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(_1(e),Ey(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kl(t._repo,t._path,e,t._orderByCalled)}}class H8 extends sh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yf("startAt",this._value,t._path,!0);const e=W2(t._queryParams,this._value,this._key);if(_1(e),Ey(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new kl(t._repo,t._path,e,t._orderByCalled)}}class Yde extends sh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yf("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;return i=W2(n,t,n.index_===Wf||e?e:eg),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(_1(e),Ey(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new kl(t._repo,t._path,e,t._orderByCalled)}}class Qde extends sh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new kl(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Xde extends sh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new kl(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class the extends sh{constructor(t){super(),this._path=t}_apply(t){g1(t,"orderByChild");const e=new li(this._path);if(gn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new q2(e),r=$k(t._queryParams,i);return Ey(r),new kl(t._repo,t._path,r,!0)}}class ihe extends sh{_apply(t){g1(t,"orderByKey");const e=$k(t._queryParams,Wf);return Ey(e),new kl(t._repo,t._path,e,!0)}}class she extends sh{_apply(t){g1(t,"orderByPriority");const e=$k(t._queryParams,Oi);return Ey(e),new kl(t._repo,t._path,e,!0)}}class ahe extends sh{_apply(t){g1(t,"orderByValue");const e=$k(t._queryParams,$2);return Ey(e),new kl(t._repo,t._path,e,!0)}}class che extends sh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Yf("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new j8(this._value,this._key)._apply(new H8(this._value,this._key)._apply(t))}}function oh(n,...t){let e=Dc(n);for(const i of t)e=i._apply(e);return e}(function(n){Ye(!n1,"__referenceConstructor has already been defined"),n1=n})(Uu),function(n){Ye(!s1,"__referenceConstructor has already been defined"),s1=n}(Uu);const NB={};function G8(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Zf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let g,C,a=kB(s,r),d=a.repoInfo;"undefined"!=typeof process&&process.env&&(C=process.env.FIREBASE_DATABASE_EMULATOR_HOST),C?(g=!0,s=`http://${C}?ns=${d.namespace}`,a=kB(s,r),d=a.repoInfo):g=!a.repoInfo.secure;const I=r&&g?new mS(mS.OWNER):new rce(n.name,n.options,t);y8("Invalid Firebase Database URL",a),gn(a.path)||Zf("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function(n,t,e,i){let r=NB[t.name];r||(r={},NB[t.name]=r);let s=r[n.toURLString()];return s&&Zf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new wde(n,false,e,i),r[n.toURLString()]=s,s}(d,n,I,new ice(n.name,e));return new ghe(T,n)}class ghe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=F2(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Zk(n.repoInfo_,(i,r,s,a)=>{E8(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>x8(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ys(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new p0(n.repoInfo_,t,(i,r,s,a)=>{E8(n,i,r,s,a)},i=>{x8(n,i)},i=>{!function(n,t){Gs(t,(e,i)=>{DB(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return N2[e]||(N2[e]=t()),N2[e]}(n.repoInfo_,()=>new aue(n.stats_,n.server_)),n.infoData_=new nue,n.infoSyncTree_=new a8({startListening:(i,r,s,a)=>{let d=[];const g=n.infoData_.getNode(i._path);return g.isEmpty()||(d=AS(n.infoSyncTree_,i._path,g),setTimeout(()=>{a("ok")},0)),d},stopListening:()=>{}}),DB(n,"connected",!1),n.serverSyncTree_=new a8({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(d,g)=>{const C=a(d,g);Sc(n.eventQueue_,i._path,C)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Uu(this._repo,Qn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=NB[t];(!e||e[n.key]!==n)&&Zf(`Database ${t}(${n.repoInfo_}) has already been deleted.`),S8(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Zf("Cannot call "+t+" on a deleted database.")}}function q8(){f$.IS_TRANSPORT_INITIALIZED&&Ko("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function _he(){q8(),my.forceDisallow()}function yhe(){q8(),jC.forceDisallow(),my.forceAllow()}function whe(n,t){Zq(n,t)}class She{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}p0.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},p0.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},Hq(ot.SDK_VERSION),(0,ot._registerComponent)(new S2("database",(t,{instanceIdentifier:e})=>G8(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(Uq,"0.14.4",void 0),(0,ot.registerVersion)(Uq,"0.14.4","esm2017");const Mhe=new Vq("@firebase/database-compat"),Z8=function(n){Mhe.warn("FIREBASE WARNING: "+n)};class Ohe{constructor(t){this._delegate=t}cancel(t){qt("OnDisconnect.cancel",0,1,arguments.length),Hs("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){qt("OnDisconnect.remove",0,1,arguments.length),Hs("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){qt("OnDisconnect.set",1,2,arguments.length),Hs("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){qt("OnDisconnect.setWithPriority",2,3,arguments.length),Hs("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if(qt("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,Z8("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hs("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Phe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return qt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xy{constructor(t,e){this._database=t,this._delegate=e}val(){return qt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return qt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return qt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return qt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return qt("DataSnapshot.child",0,1,arguments.length),t=String(t),PS("DataSnapshot.child","path",t,!1),new xy(this._database,this._delegate.child(t))}hasChild(t){return qt("DataSnapshot.hasChild",1,1,arguments.length),PS("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return qt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return qt("DataSnapshot.forEach",1,1,arguments.length),Hs("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new xy(this._database,e)))}hasChildren(){return qt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return qt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return qt("DataSnapshot.ref",0,0,arguments.length),new Ac(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class bo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;qt("Query.on",2,4,arguments.length),Hs("Query.on","callback",e,!1);const a=bo.getCancelAndContextArgs_("Query.on",i,r),d=(C,I)=>{e.call(a.context,new xy(this.database,C),I)};d.userCallback=e,d.context=a.context;const g=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(t){case"value":return PB(this._delegate,d,g),e;case"child_added":return F8(this._delegate,d,g),e;case"child_removed":return V8(this._delegate,d,g),e;case"child_changed":return L8(this._delegate,d,g),e;case"child_moved":return B8(this._delegate,d,g),e;default:throw new Error(Va("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if(qt("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Va("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),Hs("Query.off","callback",e,!0),Fq("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,U8(this._delegate,t,r)}else U8(this._delegate,t)}get(){return Gde(this._delegate).then(t=>new xy(this.database,t))}once(t,e,i,r){qt("Query.once",1,4,arguments.length),Hs("Query.once","callback",e,!0);const s=bo.getCancelAndContextArgs_("Query.once",i,r),a=new Ba,d=(C,I)=>{const T=new xy(this.database,C);e&&e.call(s.context,T,I),a.resolve(T)};d.userCallback=e,d.context=s.context;const g=C=>{s.cancel&&s.cancel.call(s.context,C),a.reject(C)};switch(t){case"value":PB(this._delegate,d,g,{onlyOnce:!0});break;case"child_added":F8(this._delegate,d,g,{onlyOnce:!0});break;case"child_removed":V8(this._delegate,d,g,{onlyOnce:!0});break;case"child_changed":L8(this._delegate,d,g,{onlyOnce:!0});break;case"child_moved":B8(this._delegate,d,g,{onlyOnce:!0});break;default:throw new Error(Va("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return qt("Query.limitToFirst",1,1,arguments.length),new bo(this.database,oh(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Qde(n)}(t)))}limitToLast(t){return qt("Query.limitToLast",1,1,arguments.length),new bo(this.database,oh(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Xde(n)}(t)))}orderByChild(t){return qt("Query.orderByChild",1,1,arguments.length),new bo(this.database,oh(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return PS("orderByChild","path",n,!1),new the(n)}(t)))}orderByKey(){return qt("Query.orderByKey",0,0,arguments.length),new bo(this.database,oh(this._delegate,new ihe))}orderByPriority(){return qt("Query.orderByPriority",0,0,arguments.length),new bo(this.database,oh(this._delegate,new she))}orderByValue(){return qt("Query.orderByValue",0,0,arguments.length),new bo(this.database,oh(this._delegate,new ahe))}startAt(t=null,e){return qt("Query.startAt",0,2,arguments.length),new bo(this.database,oh(this._delegate,function(n=null,t){return OS("startAt","key",t,!0),new H8(n,t)}(t,e)))}startAfter(t=null,e){return qt("Query.startAfter",0,2,arguments.length),new bo(this.database,oh(this._delegate,function(n,t){return OS("startAfter","key",t,!0),new Yde(n,t)}(t,e)))}endAt(t=null,e){return qt("Query.endAt",0,2,arguments.length),new bo(this.database,oh(this._delegate,function(n,t){return OS("endAt","key",t,!0),new j8(n,t)}(t,e)))}endBefore(t=null,e){return qt("Query.endBefore",0,2,arguments.length),new bo(this.database,oh(this._delegate,function(n,t){return OS("endBefore","key",t,!0),new $de(n,t)}(t,e)))}equalTo(t,e){return qt("Query.equalTo",1,2,arguments.length),new bo(this.database,oh(this._delegate,function(n,t){return OS("equalTo","key",t,!0),new che(n,t)}(t,e)))}toString(){return qt("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return qt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(qt("Query.isEqual",1,1,arguments.length),!(t instanceof bo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,Hs(t,"cancel",r.cancel,!0),r.context=i,Fq(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Va(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ac(this.database,new Uu(this._delegate._repo,this._delegate._path))}}class Ac extends bo{constructor(t,e){super(t,new kl(e._repo,e._path,new qk,!1)),this.database=t,this._delegate=e}getKey(){return qt("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return qt("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ac(this.database,b0(this._delegate,t))}getParent(){qt("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ac(this.database,t):null}getRoot(){return qt("Reference.root",0,0,arguments.length),new Ac(this.database,this._delegate.root)}set(t,e){qt("Reference.set",1,2,arguments.length),Hs("Reference.set","onComplete",e,!0);const i=OB(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if(qt("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,Z8("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vu("Reference.update",this._delegate._path),Hs("Reference.update","onComplete",e,!0);const i=zde(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){qt("Reference.setWithPriority",2,3,arguments.length),Hs("Reference.setWithPriority","onComplete",i,!0);const r=function(n,t,e){if(Vu("setWithPriority",n._path),Yf("setWithPriority",t,n._path,!1),xB("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new Ba;return SB(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){qt("Reference.remove",0,1,arguments.length),Hs("Reference.remove","onComplete",t,!0);const e=function(n){return Vu("remove",n._path),OB(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){qt("Reference.transaction",1,3,arguments.length),Hs("Reference.transaction","transactionUpdate",t,!1),Hs("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error(Va("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function(n,t,e){var i;if(n=Dc(n),Vu("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new Ba,d=PB(n,()=>{});return function(n,t,e,i,r,s){YC(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:Gq(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=IB(n,t,void 0);a.currentInputSnapshot=d;const g=a.update(d.val());if(void 0===g)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{RS("transaction failed: Data returned ",g,a.path),a.status=0;const C=c1(n.transactionQueueTree_,t),I=y0(C)||[];let T;I.push(a),wB(C,I),"object"==typeof g&&null!==g&&nh(g,".priority")?(T=l0(g,".priority"),Ye(kS(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(a1(n.serverSyncTree_,t)||an.EMPTY_NODE).getPriority().val();const O=NS(n),L=_r(g,T),q=yB(L,d,O);a.currentOutputSnapshotRaw=L,a.currentOutputSnapshotResolved=q,a.currentWriteId=f1(n);const te=dB(n.serverSyncTree_,t,q,a.currentWriteId,a.applyLocally);Sc(n.eventQueue_,t,te),p1(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(g,C,I)=>{let T=null;g?s.reject(g):(T=new v0(I,new Uu(n._repo,n._path),Oi),s.resolve(new She(C,T)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Phe(s.committed,new xy(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){qt("Reference.setPriority",1,2,arguments.length),Hs("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=Dc(n),Vu("setPriority",n._path),xB("setPriority",t,!1);const e=new Ba;return SB(n._repo,or(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){qt("Reference.push",0,2,arguments.length),Hs("Reference.push","onComplete",e,!0);const i=function(n,t){n=Dc(n),Vu("push",n._path),Yf("push",t,n._path,!0);const e=C8(n._repo),i=Bde(e),r=b0(n,i),s=b0(n,i);let a;return a=null!=t?OB(s,t).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new Ac(this.database,a));e&&r.then(()=>e(null),a=>e(a));const s=new Ac(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Vu("Reference.onDisconnect",this._delegate._path),new Ohe(new O8(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class BS{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:_he,forceLongPolling:yhe}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=Dc(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Zf("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Zf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new mS(mS.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:function(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rq(JSON.stringify({alg:"none",type:"JWT"})),Rq(JSON.stringify(a)),""].join(".")}(i.mockUserToken,n.app.options.projectId);s=new mS(a)}!function(n,t,e,i){n.repoInfo_=new O2(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if(qt("database.ref",0,1,arguments.length),t instanceof Ac){const e=N8(this._delegate,t.toString());return new Ac(this,e)}{const e=P8(this._delegate,t);return new Ac(this,e)}}refFromURL(t){qt("database.refFromURL",1,1,arguments.length);const i=N8(this._delegate,t);return new Ac(this,i)}goOffline(){return qt("database.goOffline",0,0,arguments.length),function(n){(n=Dc(n))._checkNotDeleted("goOffline"),S8(n._repo)}(this._delegate)}goOnline(){return qt("database.goOnline",0,0,arguments.length),function(n){(n=Dc(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(w8)}(n._repo)}(this._delegate)}}BS.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var Fhe=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Hq(e);const a=new Lq("auth-internal",new jle("database-standalone"));return a.setComponent(new S2("auth-internal",()=>i,"PRIVATE")),{instance:new BS(G8(n,a,void 0,t,s),n),namespace:r}}});const Lhe=BS.ServerValue;function W8(n){return null==n}function Y8(n){return"function"==typeof n.set}function K8(n,t){return Y8(t)?t:n.ref(t)}function Q8(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(Y8(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function VS(n,t,e="on",i=k_.z){return new oi.y(r=>{let s=null;return s=n[e](t,(a,d)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,rt.U)(r=>{const{snapshot:s,prevKey:a}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:a,key:d}}),(0,Cu.B)())}function J8(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function zhe(n,t){const{payload:e,prevKey:i,key:r}=t,s=J8(n,r),a=function(n,t){if(W8(t))return 0;{const e=J8(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(g=>{const C={payload:g,type:"value",prevKey:d,key:g.key};return d=g.key,n=[...n,C],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(g=>g.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,d),n}return n;default:return n}}function X8(n){return(W8(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function e5(n,t,e){return function(n,t,e){return VS(n,"value","once",e).pipe($n(i=>{const r=[ct(i)];return t.forEach(s=>r.push(VS(n,s,"on",e))),(0,Mi.T)(...r).pipe(ts(zhe,[]))}),Ow())}(n,t=X8(t),e)}function t5(n,t,e){const i=(t=X8(t)).map(r=>VS(n,r,"on",e));return(0,Mi.T)(...i)}function n5(n,t){return function(i,r){return Q8(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Zhe(n){return function(e){return e?Q8(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function r5(n,t){return function(){return VS(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new S2("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new BS(r,i)},"PUBLIC").setServiceProps({Reference:Ac,Query:bo,Database:BS,DataSnapshot:xy,enableLogging:whe,INTERNAL:Fhe,ServerValue:Lhe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(hP.Z);const Khe=new o.OlP("angularfire2.realtimeDatabaseURL"),Qhe=new o.OlP("angularfire2.database.use-emulator");let Jhe=(()=>{class n{constructor(e,i,r,s,a,d,g,C,I,T,O,L,q,te,re){this.schedulers=d;const _e=g,Ve=(0,pr.on)(e,a,i);C&&hw(Ve,a,I,O,L,q,T,te),this.database=(0,pr.cc)(`${Ve.name}.database.${r}`,"AngularFireDatabase",Ve.name,()=>{const Pe=a.runOutsideAngular(()=>Ve.database(r||void 0));return _e&&Pe.useEmulator(..._e),Pe},[_e])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>K8(this.database,e));let s=r;return i&&(s=i(r)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:n5(i,"update"),set:n5(i,"set"),push:r=>i.push(r),remove:Zhe(i),snapshotChanges:r=>e5(n,r,e).pipe(dn.iC),stateChanges:r=>t5(n,r,e).pipe(dn.iC),auditTrail:r=>function(n,t,e){return function(n,t,e){return function(n,t){return VS(n,"value","on",t).pipe((0,rt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function(...n){const t=(0,No.jO)(n);return(0,Bn.e)((e,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),d=!1;for(let g=0;g<r;g++)(0,Fn.Xf)(n[g]).subscribe(new ti.Q(i,C=>{s[g]=C,!d&&!a[g]&&(a[g]=!0,(d=a.every(ga.y))&&(a=null))},Pw.Z));e.subscribe(new ti.Q(i,g=>{if(d){const C=[g,...s];i.next(t?t(...C):C)}}))})}(t),(0,rt.U)(([r,s])=>{const a=r.lastKeyToLoad,d=s.map(g=>g.key);return{actions:s,lastKeyToLoad:a,loadedKeys:d}}),(0,Bn.e)((t,e)=>{let i=!1;t.subscribe(new ti.Q(e,s=>(i||(i=!(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad))(s)))&&e.next(s)))}),(0,rt.U)(r=>r.actions))}(n,t5(n,t).pipe(ts((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(dn.iC),valueChanges:(r,s)=>e5(n,r,e).pipe((0,rt.U)(d=>d.map(g=>s&&s.idField?Object.assign(Object.assign({},g.payload.val()),{[s.idField]:g.key}):g.payload.val())),dn.iC)}}(s,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>r5(n,t.schedulers.outsideAngular)().pipe(dn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>r5(n,t.schedulers.outsideAngular)().pipe(dn.iC,(0,rt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>K8(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pr.Dh),o.LFG(pr.xv,8),o.LFG(Khe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(dn.HU),o.LFG(Qhe,8),o.LFG(v_,8),o.LFG(Cm,8),o.LFG(PE,8),o.LFG(NE,8),o.LFG(FE,8),o.LFG(y_,8),o.LFG(dw,8),o.LFG(Zv,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xhe=(()=>{class n{constructor(){OE.Z.registerVersion("angularfire",dn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Jhe]}),n})();function s5(n,t){return t?e=>es(t.pipe((0,Dn.q)(1),(0,Bn.e)((n,t)=>{n.subscribe(new ti.Q(t,Pw.Z))})),e.pipe(s5(n))):(0,Vi.z)((e,i)=>n(e,i).pipe((0,Dn.q)(1),function(n){return(0,rt.U)(()=>n)}(e)))}function o5(n,t=k_.z){const e=n6(n,t);return s5(()=>e)}const nfe=["mat-menu-item",""];function ife(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const a5=["*"];function rfe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(r){return o.CHM(e),o.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return o.CHM(e),o.oxw()._onAnimationDone(r)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const v1={transformMenu:ui("transformMenu",[bn("void",xt({opacity:0,transform:"scale(0.8)"})),fn("void => enter",xn("120ms cubic-bezier(0, 0, 0.2, 1)",xt({opacity:1,transform:"scale(1)"}))),fn("* => void",xn("100ms 25ms linear",xt({opacity:0})))]),fadeInItems:ui("fadeInItems",[bn("showing",xt({opacity:1})),fn("void => *",[xt({opacity:0}),xn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},sfe=new o.OlP("MatMenuContent"),FB=new o.OlP("MAT_MENU_PANEL"),ofe=Cb(bb(class{}));let b1=(()=>{class n extends ofe{constructor(e,i,r,s,a){super(),this._elementRef=e,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new dt.x,this._focused=new dt.x,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(e=i.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ce),o.Y36(hn),o.Y36(FB,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:nfe,ngContentSelectors:a5,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,ife,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},directives:[F_,sn],encapsulation:2,changeDetection:0}),n})();const l5=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let lfe=0,US=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=Ln.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new dt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+lfe++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=vt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=vt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new xx(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(di(this._directDescendantItems),$n(e=>(0,Mi.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(di(this._directDescendantItems),$n(i=>(0,Mi.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:ho(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===i||40===i)&&r.setFocusOrigin("keyboard"),r.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe((0,Dn.q)(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const i=this._keyManager;if(i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length){let r=this._directDescendantItems.first._getHostElement().parentElement;for(;r;){if("menu"===r.getAttribute("role")){r.focus();break}r=r.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(di(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(l5))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,sfe,5),o.Suo(r,b1,5),o.Suo(r,b1,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),cfe=(()=>{class n extends US{constructor(e,i,r){super(e,i,r),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(l5))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:FB,useExisting:n}]),o.qOj],ngContentSelectors:a5,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,rfe,3,6,"ng-template"))},directives:[ie],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[v1.transformMenu,v1.fadeInItems]},changeDetection:0}),n})();const c5=new o.OlP("mat-menu-scroll-strategy"),dfe={provide:c5,deps:[Ou],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},d5=R_({passive:!0});let hfe=(()=>{class n{constructor(e,i,r,s,a,d,g,C){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=g,this._focusMonitor=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ln.w0.EMPTY,this._hoverSubscription=Ln.w0.EMPTY,this._menuCloseSubscription=Ln.w0.EMPTY,this._handleTouchStart=I=>{k(I)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof US?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,d5),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,d5),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig();this._setPosition(i.positionStrategy),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof US&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof US?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Sn(r=>"void"===r.toState),(0,Dn.q)(1),on(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Fx({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{this.menu.setPositionClasses("start"===i.connectionPair.overlayX?"after":"before","top"===i.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,a]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[d,g]=[s,a],[C,I]=[i,r],T=0;this.triggersSubmenu()?(I=i="before"===this.menu.xPosition?"start":"end",r=C="end"===i?"start":"end",T="bottom"===s?8:-8):this.menu.overlapTrigger||(d="top"===s?"bottom":"top",g="top"===a?"bottom":"top"),e.withPositions([{originX:i,originY:d,overlayX:C,overlayY:s,offsetY:T},{originX:r,originY:d,overlayX:I,overlayY:s,offsetY:T},{originX:i,originY:g,overlayX:C,overlayY:a,offsetY:-T},{originX:r,originY:g,overlayX:I,overlayY:a,offsetY:-T}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:ct(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Sn(a=>a!==this._menuItemInstance),Sn(()=>this._menuOpen)):ct();return(0,Mi.T)(e,r,s,i)}_handleMousedown(e){M(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Sn(e=>e===this._menuItemInstance&&!e.disabled),o5(0,jO)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof US&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Dn.q)(1),o5(0,jO),on(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new uT(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ou),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(c5),o.Y36(FB,8),o.Y36(b1,10),o.Y36(rs,8),o.Y36(hn))},n.\u0275dir=o.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),ffe=(()=>{class n extends hfe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),pfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[dfe],imports:[[Jt,En,Mx,Lx],j_,En]}),n})();const m5=new o.OlP("mat-chips-default-options");let Afe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ix,{provide:m5,useValue:{separatorKeyCodes:[13]}}],imports:[[En]]}),n})(),Tfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jt,En,Om,j_],j_,En]}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[En],En]}),n})(),zfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[gU,Mx,En,NO,Jt],gU,En,NO,g5]}),n})(),b5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[d2,Rm]]}),n})(),I5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[d2]]}),n})(),mge=(()=>{class n{constructor(e,i){gi(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:fy,useValue:Object.assign(Object.assign({},h2),e)},{provide:f2,useValue:i,multi:!0},{provide:NC,useValue:!0}]:[{provide:fy,useValue:Object.assign(Object.assign({},h2),e)},{provide:f2,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(NC),o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[b5,Sq,I5],b5,Sq,I5]}),n})();const T5_firebase={apiKey:"AIzaSyDo1ZbJhyzA89YJEYzeV0nA5JhQ8uH5e1M",authDomain:"tracking-cfa9d.firebaseapp.com",projectId:"tracking-cfa9d",storageBucket:"tracking-cfa9d.firebasestorage.app",messagingSenderId:"527750274978",appId:"1:527750274978:web:be546b2e166d1baf6b5cfb",measurementId:"G-X0SW8T5YXY"},BB=function(){return["active"]};let gge=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-left-navigation"]],decls:17,vars:6,consts:[[1,"d-flex","flex-column","h-100"],[1,"p-4","ts-bg-primary-dark","flex-grow-0"],[1,"list-unstyled","flex-grow-1","nav-link-item"],[1,"text-center"],["routerLink","/home",1,"p-3","d-block","text-white",3,"routerLinkActive"],[1,"bi-house-fill","f-xx-large"],["routerLink","/project",1,"p-3","d-block","text-white",3,"routerLinkActive"],[1,"bi-boxes","f-xx-large"],["routerLink","/task",1,"p-3","d-block","text-white",3,"routerLinkActive"],[1,"bi-alarm-fill","f-xx-large"],[1,"flex-grow-0"],[1,"p-3","text-center"],[1,"bi-gear-fill","f-xx-large"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"b"),o._uU(3,"LOGO"),o.qZA(),o.qZA(),o.TgZ(4,"ul",2),o.TgZ(5,"li",3),o.TgZ(6,"a",4),o._UZ(7,"i",5),o.qZA(),o.qZA(),o.TgZ(8,"li",3),o.TgZ(9,"a",6),o._UZ(10,"i",7),o.qZA(),o.qZA(),o.TgZ(11,"li",3),o.TgZ(12,"a",8),o._UZ(13,"i",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",10),o.TgZ(15,"div",11),o._UZ(16,"i",12),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(6),o.Q6J("routerLinkActive",o.DdM(3,BB)),o.xp6(3),o.Q6J("routerLinkActive",o.DdM(4,BB)),o.xp6(3),o.Q6J("routerLinkActive",o.DdM(5,BB)))},directives:[m,x],styles:[".nav-link-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .2s ease-in;background:rgba(0,0,0,0)}.nav-link-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-link-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}"]}),n})(),_ge=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-top-navigation"]],decls:35,vars:1,consts:[[1,"navbar","navbar-light","p-3"],[1,"container-fluid"],[1,"navbar-brand"],[1,"d-flex"],[1,"d-flex","ms-2"],["mat-button","","routerLink","/register","routerLinkActive","active"],[1,"bi-card-list","f-large"],[1,"ms-2"],["mat-button","","routerLink","/login","routerLinkActive","active"],[1,"bi-key-fill","f-large"],[1,"ms-1"],["mat-button","","aria-label","Account",3,"matMenuTriggerFor"],[1,"bi-person-fill","f-large"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","","disabled",""]],template:function(e,i){if(1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o.TgZ(2,"a",2),o._uU(3,"Tracking System"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"a",5),o._UZ(7,"i",6),o.TgZ(8,"span",7),o._uU(9,"Register"),o.qZA(),o.qZA(),o.TgZ(10,"a",8),o._UZ(11,"i",9),o.TgZ(12,"span",10),o._uU(13,"Login"),o.qZA(),o.qZA(),o.TgZ(14,"button",11),o._UZ(15,"i",12),o.TgZ(16,"span",10),o._uU(17,"Account"),o.qZA(),o.qZA(),o.TgZ(18,"mat-menu",null,13),o.TgZ(20,"button",14),o.TgZ(21,"mat-icon"),o._uU(22,"dialpad"),o.qZA(),o.TgZ(23,"span"),o._uU(24,"Logout"),o.qZA(),o.qZA(),o.TgZ(25,"button",15),o.TgZ(26,"mat-icon"),o._uU(27,"voicemail"),o.qZA(),o.TgZ(28,"span"),o._uU(29,"Check voice mail"),o.qZA(),o.qZA(),o.TgZ(30,"button",14),o.TgZ(31,"mat-icon"),o._uU(32,"notifications_off"),o.qZA(),o.TgZ(33,"span"),o._uU(34,"Disable alerts"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const r=o.MAs(19);o.xp6(14),o.Q6J("matMenuTriggerFor",r)}},directives:[EW,m,x,Qd,ffe,cfe,b1,rT],styles:[""]}),n})(),yge=(()=>{class n{constructor(){this.title="TrackingSystem13"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"h-100","ts-bg-primary"],[1,"h-100","d-flex","flex-row"],[1,"flex-grow-0","text-white","h-100"],[1,"flex-grow-1","p-0","h-100","bg-light","d-flex","flex-column"],[1,"bg-white","shadow-lg"],[1,"flex-grow-1"],[1,"p-3","border-top"]],template:function(e,i){1&e&&(o.TgZ(0,"main",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o._UZ(3,"app-left-navigation"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"header",4),o._UZ(6,"app-top-navigation"),o.qZA(),o.TgZ(7,"main",5),o._UZ(8,"router-outlet"),o.qZA(),o.TgZ(9,"footer",6),o._uU(10,"footer"),o.qZA(),o.qZA(),o.qZA(),o.qZA())},directives:[gge,_ge,Zg],styles:[""]}),n})(),vge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[yge]}),n.\u0275inj=o.cJS({providers:[],imports:[[id,Ag,mge,ale,GR,wI,pr.hO.initializeApp(T5_firebase),mR,Xhe,Ine,iY,pfe,LO,gW,NW,g5,zfe,dY,Afe,E9,EY,K7,j9,Tfe,FO,eoe,DZ,E6,XI]]}),n})();(0,o.G48)(),_h().bootstrapModule(vge).catch(n=>console.error(n))},8306:(ht,Ie,Z)=>{Z.d(Ie,{y:()=>Ee});var o=Z(930),ge=Z(727),oe=Z(8822),Te=Z(4671);var ce=Z(2416),be=Z(576),Re=Z(2806);let Ee=(()=>{class Ze{constructor(yt){yt&&(this._subscribe=yt)}lift(yt){const wt=new Ze;return wt.source=this,wt.operator=yt,wt}subscribe(yt,wt,Se){const Ue=function(Ze){return Ze&&Ze instanceof o.Lv||function(Ze){return Ze&&(0,be.m)(Ze.next)&&(0,be.m)(Ze.error)&&(0,be.m)(Ze.complete)}(Ze)&&(0,ge.Nn)(Ze)}(yt)?yt:new o.Hp(yt,wt,Se);return(0,Re.x)(()=>{const{operator:et,source:Qe}=this;Ue.add(et?et.call(Ue,Qe):Qe?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(yt){try{return this._subscribe(yt)}catch(wt){yt.error(wt)}}forEach(yt,wt){return new(wt=ye(wt))((Se,Ue)=>{let et;et=this.subscribe(Qe=>{try{yt(Qe)}catch(gt){Ue(gt),null==et||et.unsubscribe()}},Ue,Se)})}_subscribe(yt){var wt;return null===(wt=this.source)||void 0===wt?void 0:wt.subscribe(yt)}[oe.L](){return this}pipe(...yt){return function(Ze){return 0===Ze.length?Te.y:1===Ze.length?Ze[0]:function(yt){return Ze.reduce((wt,Se)=>Se(wt),yt)}}(yt)(this)}toPromise(yt){return new(yt=ye(yt))((wt,Se)=>{let Ue;this.subscribe(et=>Ue=et,et=>Se(et),()=>wt(Ue))})}}return Ze.create=pt=>new Ze(pt),Ze})();function ye(Ze){var pt;return null!==(pt=null!=Ze?Ze:ce.v.Promise)&&void 0!==pt?pt:Promise}},7579:(ht,Ie,Z)=>{Z.d(Ie,{x:()=>ce});var o=Z(8306),ge=Z(727);const Te=(0,Z(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=Z(8737),ke=Z(2806);let ce=(()=>{class Re extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const Me=new be(this,this);return Me.operator=ye,Me}_throwIfClosed(){if(this.closed)throw new Te}next(ye){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Me=this.observers.slice();for(const Ft of Me)Ft.next(ye)}})}error(ye){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ye)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:Me,isStopped:Ft,observers:Ze}=this;return Me||Ft?ge.Lc:(Ze.push(ye),new ge.w0(()=>(0,Oe.P)(Ze,ye)))}_checkFinalizedStatuses(ye){const{hasError:Me,thrownError:Ft,isStopped:Ze}=this;Me?ye.error(Ft):Ze&&ye.complete()}asObservable(){const ye=new o.y;return ye.source=this,ye}}return Re.create=(Ee,ye)=>new be(Ee,ye),Re})();class be extends ce{constructor(Ee,ye){super(),this.destination=Ee,this.source=ye}next(Ee){var ye,Me;null===(Me=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===Me||Me.call(ye,Ee)}error(Ee){var ye,Me;null===(Me=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===Me||Me.call(ye,Ee)}complete(){var Ee,ye;null===(ye=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.complete)||void 0===ye||ye.call(Ee)}_subscribe(Ee){var ye,Me;return null!==(Me=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Ee))&&void 0!==Me?Me:ge.Lc}}},930:(ht,Ie,Z)=>{Z.d(Ie,{Hp:()=>Ft,Lv:()=>Me});var o=Z(576),ge=Z(727),oe=Z(2416),Te=Z(7849),Oe=Z(5032);const ke=Re("C",void 0,void 0);function Re(Se,Ue,et){return{kind:Se,value:Ue,error:et}}var Ee=Z(3410),ye=Z(2806);class Me extends ge.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,ge.Nn)(Ue)&&Ue.add(this)):this.destination=wt}static create(Ue,et,Qe){return new Ft(Ue,et,Qe)}next(Ue){this.isStopped?yt(Re("N",Ue,void 0),this):this._next(Ue)}error(Ue){this.isStopped?yt(Re("E",void 0,Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?yt(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ft extends Me{constructor(Ue,et,Qe){let gt;if(super(),(0,o.m)(Ue))gt=Ue;else if(Ue){let qe;({next:gt,error:et,complete:Qe}=Ue),this&&oe.v.useDeprecatedNextContext?(qe=Object.create(Ue),qe.unsubscribe=()=>this.unsubscribe()):qe=Ue,gt=null==gt?void 0:gt.bind(qe),et=null==et?void 0:et.bind(qe),Qe=null==Qe?void 0:Qe.bind(qe)}this.destination={next:gt?Ze(gt):Oe.Z,error:Ze(null!=et?et:pt),complete:Qe?Ze(Qe):Oe.Z}}}function Ze(Se,Ue){return(...et)=>{try{Se(...et)}catch(Qe){oe.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(Qe):(0,Te.h)(Qe)}}}function pt(Se){throw Se}function yt(Se,Ue){const{onStoppedNotification:et}=oe.v;et&&Ee.z.setTimeout(()=>et(Se,Ue))}const wt={closed:!0,next:Oe.Z,error:pt,complete:Oe.Z}},727:(ht,Ie,Z)=>{Z.d(Ie,{Lc:()=>ke,w0:()=>Oe,Nn:()=>ce});var o=Z(576);const oe=(0,Z(3888).d)(Re=>function(ye){Re(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((Me,Ft)=>`${Ft+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var Te=Z(8737);class Oe{constructor(Ee){this.initialTeardown=Ee,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Ee;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const Ze of ye)Ze.remove(this);else ye.remove(this);const{initialTeardown:Me}=this;if((0,o.m)(Me))try{Me()}catch(Ze){Ee=Ze instanceof oe?Ze.errors:[Ze]}const{_teardowns:Ft}=this;if(Ft){this._teardowns=null;for(const Ze of Ft)try{be(Ze)}catch(pt){Ee=null!=Ee?Ee:[],pt instanceof oe?Ee=[...Ee,...pt.errors]:Ee.push(pt)}}if(Ee)throw new oe(Ee)}}add(Ee){var ye;if(Ee&&Ee!==this)if(this.closed)be(Ee);else{if(Ee instanceof Oe){if(Ee.closed||Ee._hasParent(this))return;Ee._addParent(this)}(this._teardowns=null!==(ye=this._teardowns)&&void 0!==ye?ye:[]).push(Ee)}}_hasParent(Ee){const{_parentage:ye}=this;return ye===Ee||Array.isArray(ye)&&ye.includes(Ee)}_addParent(Ee){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(Ee),ye):ye?[ye,Ee]:Ee}_removeParent(Ee){const{_parentage:ye}=this;ye===Ee?this._parentage=null:Array.isArray(ye)&&(0,Te.P)(ye,Ee)}remove(Ee){const{_teardowns:ye}=this;ye&&(0,Te.P)(ye,Ee),Ee instanceof Oe&&Ee._removeParent(this)}}Oe.EMPTY=(()=>{const Re=new Oe;return Re.closed=!0,Re})();const ke=Oe.EMPTY;function ce(Re){return Re instanceof Oe||Re&&"closed"in Re&&(0,o.m)(Re.remove)&&(0,o.m)(Re.add)&&(0,o.m)(Re.unsubscribe)}function be(Re){(0,o.m)(Re)?Re():Re.unsubscribe()}},2416:(ht,Ie,Z)=>{Z.d(Ie,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Ie,Z)=>{Z.d(Ie,{E:()=>ge});const ge=new(Z(8306).y)(Oe=>Oe.complete())},8996:(ht,Ie,Z)=>{Z.d(Ie,{D:()=>gt});var o=Z(8421),ge=Z(5363),oe=Z(9468),ke=Z(8306),be=Z(2202),Re=Z(576),Ee=Z(9672);function Me(qe,st){if(!qe)throw new Error("Iterable cannot be null");return new ke.y(Rt=>{(0,Ee.f)(Rt,st,()=>{const $t=qe[Symbol.asyncIterator]();(0,Ee.f)(Rt,st,()=>{$t.next().then(le=>{le.done?Rt.complete():Rt.next(le.value)})},0,!0)})})}var Ft=Z(3670),Ze=Z(8239),pt=Z(1144),yt=Z(6495),wt=Z(2206),Se=Z(4532),Ue=Z(3260);function gt(qe,st){return st?function(qe,st){if(null!=qe){if((0,Ft.c)(qe))return function(qe,st){return(0,o.Xf)(qe).pipe((0,oe.R)(st),(0,ge.Q)(st))}(qe,st);if((0,pt.z)(qe))return function(qe,st){return new ke.y(Rt=>{let $t=0;return st.schedule(function(){$t===qe.length?Rt.complete():(Rt.next(qe[$t++]),Rt.closed||this.schedule())})})}(qe,st);if((0,Ze.t)(qe))return function(qe,st){return(0,o.Xf)(qe).pipe((0,oe.R)(st),(0,ge.Q)(st))}(qe,st);if((0,wt.D)(qe))return Me(qe,st);if((0,yt.T)(qe))return function(qe,st){return new ke.y(Rt=>{let $t;return(0,Ee.f)(Rt,st,()=>{$t=qe[be.h](),(0,Ee.f)(Rt,st,()=>{let le,ve;try{({value:le,done:ve}=$t.next())}catch(Ae){return void Rt.error(Ae)}ve?Rt.complete():Rt.next(le)},0,!0)}),()=>(0,Re.m)(null==$t?void 0:$t.return)&&$t.return()})}(qe,st);if((0,Ue.L)(qe))return function(qe,st){return Me((0,Ue.Q)(qe),st)}(qe,st)}throw(0,Se.z)(qe)}(qe,st):(0,o.Xf)(qe)}},8421:(ht,Ie,Z)=>{Z.d(Ie,{Xf:()=>Ft});var o=Z(5987),ge=Z(1144),oe=Z(8239),Te=Z(8306),Oe=Z(3670),ke=Z(2206),ce=Z(4532),be=Z(6495),Re=Z(3260),Ee=Z(576),ye=Z(7849),Me=Z(8822);function Ft(Qe){if(Qe instanceof Te.y)return Qe;if(null!=Qe){if((0,Oe.c)(Qe))return function(Qe){return new Te.y(gt=>{const qe=Qe[Me.L]();if((0,Ee.m)(qe.subscribe))return qe.subscribe(gt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,ge.z)(Qe))return function(Qe){return new Te.y(gt=>{for(let qe=0;qe<Qe.length&&!gt.closed;qe++)gt.next(Qe[qe]);gt.complete()})}(Qe);if((0,oe.t)(Qe))return function(Qe){return new Te.y(gt=>{Qe.then(qe=>{gt.closed||(gt.next(qe),gt.complete())},qe=>gt.error(qe)).then(null,ye.h)})}(Qe);if((0,ke.D)(Qe))return Se(Qe);if((0,be.T)(Qe))return function(Qe){return new Te.y(gt=>{for(const qe of Qe)if(gt.next(qe),gt.closed)return;gt.complete()})}(Qe);if((0,Re.L)(Qe))return function(Qe){return Se((0,Re.Q)(Qe))}(Qe)}throw(0,ce.z)(Qe)}function Se(Qe){return new Te.y(gt=>{(function(Qe,gt){var qe,st,Rt,$t;return(0,o.mG)(this,void 0,void 0,function*(){try{for(qe=(0,o.KL)(Qe);!(st=yield qe.next()).done;)if(gt.next(st.value),gt.closed)return}catch(le){Rt={error:le}}finally{try{st&&!st.done&&($t=qe.return)&&(yield $t.call(qe))}finally{if(Rt)throw Rt.error}}gt.complete()})})(Qe,gt).catch(qe=>gt.error(qe))})}},6451:(ht,Ie,Z)=>{Z.d(Ie,{T:()=>ke});var o=Z(8189),ge=Z(8421),oe=Z(515),Te=Z(3269),Oe=Z(8996);function ke(...ce){const be=(0,Te.yG)(ce),Re=(0,Te._6)(ce,1/0),Ee=ce;return Ee.length?1===Ee.length?(0,ge.Xf)(Ee[0]):(0,o.J)(Re)((0,Oe.D)(Ee,be)):oe.E}},5403:(ht,Ie,Z)=>{Z.d(Ie,{Q:()=>ge});var o=Z(930);class ge extends o.Lv{constructor(Te,Oe,ke,ce,be){super(Te),this.onFinalize=be,this._next=Oe?function(Re){try{Oe(Re)}catch(Ee){Te.error(Ee)}}:super._next,this._error=ce?function(Re){try{ce(Re)}catch(Ee){Te.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(Re){Te.error(Re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;const{closed:Oe}=this;super.unsubscribe(),!Oe&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}},4004:(ht,Ie,Z)=>{Z.d(Ie,{U:()=>oe});var o=Z(4482),ge=Z(5403);function oe(Te,Oe){return(0,o.e)((ke,ce)=>{let be=0;ke.subscribe(new ge.Q(ce,Re=>{ce.next(Te.call(Oe,Re,be++))}))})}},8189:(ht,Ie,Z)=>{Z.d(Ie,{J:()=>oe});var o=Z(5577),ge=Z(4671);function oe(Te=1/0){return(0,o.z)(ge.y,Te)}},5577:(ht,Ie,Z)=>{Z.d(Ie,{z:()=>be});var o=Z(4004),ge=Z(8421),oe=Z(4482),Oe=(Z(9672),Z(5403)),ce=Z(576);function be(Re,Ee,ye=1/0){return(0,ce.m)(Ee)?be((Me,Ft)=>(0,o.U)((Ze,pt)=>Ee(Me,Ze,Ft,pt))((0,ge.Xf)(Re(Me,Ft))),ye):("number"==typeof Ee&&(ye=Ee),(0,oe.e)((Me,Ft)=>function(Re,Ee,ye,Me,Ft,Ze,pt,yt){const wt=[];let Se=0,Ue=0,et=!1;const Qe=()=>{et&&!wt.length&&!Se&&Ee.complete()},gt=st=>Se<Me?qe(st):wt.push(st),qe=st=>{Se++;let Rt=!1;(0,ge.Xf)(ye(st,Ue++)).subscribe(new Oe.Q(Ee,$t=>{Ee.next($t)},()=>{Rt=!0},void 0,()=>{if(Rt)try{for(Se--;wt.length&&Se<Me;){const $t=wt.shift();qe($t)}Qe()}catch($t){Ee.error($t)}}))};return Re.subscribe(new Oe.Q(Ee,gt,()=>{et=!0,Qe()})),()=>{}}(Me,Ft,Re,ye)))}},5363:(ht,Ie,Z)=>{Z.d(Ie,{Q:()=>Te});var o=Z(9672),ge=Z(4482),oe=Z(5403);function Te(Oe,ke=0){return(0,ge.e)((ce,be)=>{ce.subscribe(new oe.Q(be,Re=>(0,o.f)(be,Oe,()=>be.next(Re),ke),()=>(0,o.f)(be,Oe,()=>be.complete(),ke),Re=>(0,o.f)(be,Oe,()=>be.error(Re),ke)))})}},3099:(ht,Ie,Z)=>{Z.d(Ie,{B:()=>ke});var o=Z(8996),ge=Z(5698),oe=Z(7579),Te=Z(930),Oe=Z(4482);function ke(be={}){const{connector:Re=(()=>new oe.x),resetOnError:Ee=!0,resetOnComplete:ye=!0,resetOnRefCountZero:Me=!0}=be;return Ft=>{let Ze=null,pt=null,yt=null,wt=0,Se=!1,Ue=!1;const et=()=>{null==pt||pt.unsubscribe(),pt=null},Qe=()=>{et(),Ze=yt=null,Se=Ue=!1},gt=()=>{const qe=Ze;Qe(),null==qe||qe.unsubscribe()};return(0,Oe.e)((qe,st)=>{wt++,!Ue&&!Se&&et();const Rt=yt=null!=yt?yt:Re();st.add(()=>{wt--,0===wt&&!Ue&&!Se&&(pt=ce(gt,Me))}),Rt.subscribe(st),Ze||(Ze=new Te.Hp({next:$t=>Rt.next($t),error:$t=>{Ue=!0,et(),pt=ce(Qe,Ee,$t),Rt.error($t)},complete:()=>{Se=!0,et(),pt=ce(Qe,ye),Rt.complete()}}),(0,o.D)(qe).subscribe(Ze))})(Ft)}}function ce(be,Re,...Ee){return!0===Re?(be(),null):!1===Re?null:Re(...Ee).pipe((0,ge.q)(1)).subscribe(()=>be())}},9468:(ht,Ie,Z)=>{Z.d(Ie,{R:()=>ge});var o=Z(4482);function ge(oe,Te=0){return(0,o.e)((Oe,ke)=>{ke.add(oe.schedule(()=>Oe.subscribe(ke),Te))})}},5698:(ht,Ie,Z)=>{Z.d(Ie,{q:()=>Te});var o=Z(515),ge=Z(4482),oe=Z(5403);function Te(Oe){return Oe<=0?()=>o.E:(0,ge.e)((ke,ce)=>{let be=0;ke.subscribe(new oe.Q(ce,Re=>{++be<=Oe&&(ce.next(Re),Oe<=be&&ce.complete())}))})}},8505:(ht,Ie,Z)=>{Z.d(Ie,{b:()=>Oe});var o=Z(576),ge=Z(4482),oe=Z(5403),Te=Z(4671);function Oe(ke,ce,be){const Re=(0,o.m)(ke)||ce||be?{next:ke,error:ce,complete:be}:ke;return Re?(0,ge.e)((Ee,ye)=>{var Me;null===(Me=Re.subscribe)||void 0===Me||Me.call(Re);let Ft=!0;Ee.subscribe(new oe.Q(ye,Ze=>{var pt;null===(pt=Re.next)||void 0===pt||pt.call(Re,Ze),ye.next(Ze)},()=>{var Ze;Ft=!1,null===(Ze=Re.complete)||void 0===Ze||Ze.call(Re),ye.complete()},Ze=>{var pt;Ft=!1,null===(pt=Re.error)||void 0===pt||pt.call(Re,Ze),ye.error(Ze)},()=>{var Ze,pt;Ft&&(null===(Ze=Re.unsubscribe)||void 0===Ze||Ze.call(Re)),null===(pt=Re.finalize)||void 0===pt||pt.call(Re)}))}):Te.y}},4408:(ht,Ie,Z)=>{Z.d(Ie,{o:()=>Oe});var o=Z(727);class ge extends o.w0{constructor(ce,be){super()}schedule(ce,be=0){return this}}const oe={setInterval(...ke){const{delegate:ce}=oe;return((null==ce?void 0:ce.setInterval)||setInterval)(...ke)},clearInterval(ke){const{delegate:ce}=oe;return((null==ce?void 0:ce.clearInterval)||clearInterval)(ke)},delegate:void 0};var Te=Z(8737);class Oe extends ge{constructor(ce,be){super(ce,be),this.scheduler=ce,this.work=be,this.pending=!1}schedule(ce,be=0){if(this.closed)return this;this.state=ce;const Re=this.id,Ee=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(Ee,Re,be)),this.pending=!0,this.delay=be,this.id=this.id||this.requestAsyncId(Ee,this.id,be),this}requestAsyncId(ce,be,Re=0){return oe.setInterval(ce.flush.bind(ce,this),Re)}recycleAsyncId(ce,be,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return be;oe.clearInterval(be)}execute(ce,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(ce,be);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,be){let Ee,Re=!1;try{this.work(ce)}catch(ye){Re=!0,Ee=ye||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:ce,scheduler:be}=this,{actions:Re}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(Re,this),null!=ce&&(this.id=this.recycleAsyncId(be,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Ie,Z)=>{Z.d(Ie,{v:()=>oe});var o=Z(6063);class ge{constructor(Oe,ke=ge.now){this.schedulerActionCtor=Oe,this.now=ke}schedule(Oe,ke=0,ce){return new this.schedulerActionCtor(this,Oe).schedule(ce,ke)}}ge.now=o.l.now;class oe extends ge{constructor(Oe,ke=ge.now){super(Oe,ke),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Oe){const{actions:ke}=this;if(this._active)return void ke.push(Oe);let ce;this._active=!0;do{if(ce=Oe.execute(Oe.state,Oe.delay))break}while(Oe=ke.shift());if(this._active=!1,ce){for(;Oe=ke.shift();)Oe.unsubscribe();throw ce}}}},4986:(ht,Ie,Z)=>{Z.d(Ie,{z:()=>oe,P:()=>Te});var o=Z(4408);const oe=new(Z(7565).v)(o.o),Te=oe},6063:(ht,Ie,Z)=>{Z.d(Ie,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(ht,Ie,Z)=>{Z.d(Ie,{z:()=>o});const o={setTimeout(...ge){const{delegate:oe}=o;return((null==oe?void 0:oe.setTimeout)||setTimeout)(...ge)},clearTimeout(ge){const{delegate:oe}=o;return((null==oe?void 0:oe.clearTimeout)||clearTimeout)(ge)},delegate:void 0}},2202:(ht,Ie,Z)=>{Z.d(Ie,{h:()=>ge});const ge="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(ht,Ie,Z)=>{Z.d(Ie,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Ie,Z)=>{Z.d(Ie,{jO:()=>Te,yG:()=>Oe,_6:()=>ke});var o=Z(576),ge=Z(3532);function oe(ce){return ce[ce.length-1]}function Te(ce){return(0,o.m)(oe(ce))?ce.pop():void 0}function Oe(ce){return(0,ge.K)(oe(ce))?ce.pop():void 0}function ke(ce,be){return"number"==typeof oe(ce)?ce.pop():be}},8737:(ht,Ie,Z)=>{function o(ge,oe){if(ge){const Te=ge.indexOf(oe);0<=Te&&ge.splice(Te,1)}}Z.d(Ie,{P:()=>o})},3888:(ht,Ie,Z)=>{function o(ge){const Te=ge(Oe=>{Error.call(Oe),Oe.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}Z.d(Ie,{d:()=>o})},2806:(ht,Ie,Z)=>{Z.d(Ie,{x:()=>oe,O:()=>Te});var o=Z(2416);let ge=null;function oe(Oe){if(o.v.useDeprecatedSynchronousErrorHandling){const ke=!ge;if(ke&&(ge={errorThrown:!1,error:null}),Oe(),ke){const{errorThrown:ce,error:be}=ge;if(ge=null,ce)throw be}}else Oe()}function Te(Oe){o.v.useDeprecatedSynchronousErrorHandling&&ge&&(ge.errorThrown=!0,ge.error=Oe)}},9672:(ht,Ie,Z)=>{function o(ge,oe,Te,Oe=0,ke=!1){const ce=oe.schedule(function(){Te(),ke?ge.add(this.schedule(null,Oe)):this.unsubscribe()},Oe);if(ge.add(ce),!ke)return ce}Z.d(Ie,{f:()=>o})},4671:(ht,Ie,Z)=>{function o(ge){return ge}Z.d(Ie,{y:()=>o})},1144:(ht,Ie,Z)=>{Z.d(Ie,{z:()=>o});const o=ge=>ge&&"number"==typeof ge.length&&"function"!=typeof ge},2206:(ht,Ie,Z)=>{Z.d(Ie,{D:()=>ge});var o=Z(576);function ge(oe){return Symbol.asyncIterator&&(0,o.m)(null==oe?void 0:oe[Symbol.asyncIterator])}},576:(ht,Ie,Z)=>{function o(ge){return"function"==typeof ge}Z.d(Ie,{m:()=>o})},3670:(ht,Ie,Z)=>{Z.d(Ie,{c:()=>oe});var o=Z(8822),ge=Z(576);function oe(Te){return(0,ge.m)(Te[o.L])}},6495:(ht,Ie,Z)=>{Z.d(Ie,{T:()=>oe});var o=Z(2202),ge=Z(576);function oe(Te){return(0,ge.m)(null==Te?void 0:Te[o.h])}},8239:(ht,Ie,Z)=>{Z.d(Ie,{t:()=>ge});var o=Z(576);function ge(oe){return(0,o.m)(null==oe?void 0:oe.then)}},3260:(ht,Ie,Z)=>{Z.d(Ie,{Q:()=>oe,L:()=>Te});var o=Z(5987),ge=Z(576);function oe(Oe){return(0,o.FC)(this,arguments,function*(){const ce=Oe.getReader();try{for(;;){const{value:be,done:Re}=yield(0,o.qq)(ce.read());if(Re)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(be)}}finally{ce.releaseLock()}})}function Te(Oe){return(0,ge.m)(null==Oe?void 0:Oe.getReader)}},3532:(ht,Ie,Z)=>{Z.d(Ie,{K:()=>ge});var o=Z(576);function ge(oe){return oe&&(0,o.m)(oe.schedule)}},4482:(ht,Ie,Z)=>{Z.d(Ie,{A:()=>ge,e:()=>oe});var o=Z(576);function ge(Te){return(0,o.m)(null==Te?void 0:Te.lift)}function oe(Te){return Oe=>{if(ge(Oe))return Oe.lift(function(ke){try{return Te(ke,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Ie,Z)=>{function o(){}Z.d(Ie,{Z:()=>o})},7849:(ht,Ie,Z)=>{Z.d(Ie,{h:()=>oe});var o=Z(2416),ge=Z(3410);function oe(Te){ge.z.setTimeout(()=>{const{onUnhandledError:Oe}=o.v;if(!Oe)throw Te;Oe(Te)})}},4532:(ht,Ie,Z)=>{function o(ge){return new TypeError(`You provided ${null!==ge&&"object"==typeof ge?"an invalid object":`'${ge}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Z.d(Ie,{z:()=>o})},5987:(ht,Ie,Z)=>{function be(le,ve,Ae,Ne){return new(Ae||(Ae=Promise))(function(we,nn){function ni(On){try{rn(Ne.next(On))}catch(pn){nn(pn)}}function $s(On){try{rn(Ne.throw(On))}catch(pn){nn(pn)}}function rn(On){On.done?we(On.value):function(we){return we instanceof Ae?we:new Ae(function(nn){nn(we)})}(On.value).then(ni,$s)}rn((Ne=Ne.apply(le,ve||[])).next())})}function wt(le){return this instanceof wt?(this.v=le,this):new wt(le)}function Se(le,ve,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Ne=Ae.apply(le,ve||[]),we=[];return Ke={},nn("next"),nn("throw"),nn("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function nn(ar){Ne[ar]&&(Ke[ar]=function(vs){return new Promise(function(Wi,Mn){we.push([ar,vs,Wi,Mn])>1||ni(ar,vs)})})}function ni(ar,vs){try{!function(ar){ar.value instanceof wt?Promise.resolve(ar.value.v).then(rn,On):pn(we[0][2],ar)}(Ne[ar](vs))}catch(Wi){pn(we[0][3],Wi)}}function rn(ar){ni("next",ar)}function On(ar){ni("throw",ar)}function pn(ar,vs){ar(vs),we.shift(),we.length&&ni(we[0][0],we[0][1])}}function et(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ve=le[Symbol.asyncIterator];return ve?ve.call(le):(le=function(le){var ve="function"==typeof Symbol&&Symbol.iterator,Ae=ve&&le[ve],Ne=0;if(Ae)return Ae.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Ne>=le.length&&(le=void 0),{value:le&&le[Ne++],done:!le}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),Ae={},Ne("next"),Ne("throw"),Ne("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Ne(we){Ae[we]=le[we]&&function(nn){return new Promise(function(ni,$s){!function(we,nn,ni,$s){Promise.resolve($s).then(function(rn){we({value:rn,done:ni})},nn)}(ni,$s,(nn=le[we](nn)).done,nn.value)})}}}Z.d(Ie,{mG:()=>be,qq:()=>wt,FC:()=>Se,KL:()=>et})},5e3:(ht,Ie,Z)=>{Z.d(Ie,{deG:()=>rl,tb:()=>nO,AFp:()=>eO,ip1:()=>TI,CZH:()=>mb,hGG:()=>TO,z2F:()=>Rw,sBO:()=>QV,Sil:()=>RI,_Vd:()=>Jv,EJc:()=>kw,SBq:()=>If,qLn:()=>As,vpe:()=>Tu,tBr:()=>ll,XFs:()=>Kt,OlP:()=>ri,zs3:()=>m,ZZ4:()=>_b,aQg:()=>Nw,soG:()=>bx,YKP:()=>ix,h0i:()=>I_,PXZ:()=>zV,R0b:()=>Sl,FiY:()=>ca,Lbi:()=>kI,g9A:()=>tO,n_E:()=>sb,Qsj:()=>D_,FYo:()=>Xv,JOm:()=>es,q3G:()=>vi,tp0:()=>Oo,Rgc:()=>kf,dDg:()=>oO,q4F:()=>yw,GfV:()=>nx,s_b:()=>xw,ifc:()=>_t,eFA:()=>uO,G48:()=>KV,Gpc:()=>ye,f3M:()=>_p,X6Q:()=>YV,_c5:()=>$I,VLi:()=>UV,c2e:()=>iO,zSh:()=>vf,wAp:()=>Mt,vHH:()=>pt,EiD:()=>Fh,mCW:()=>fl,qzn:()=>Ds,JVY:()=>Po,pB0:()=>Ky,eBb:()=>Yy,L6k:()=>R0,LAX:()=>Cd,cg1:()=>LA,kL8:()=>BA,yhl:()=>k0,dqk:()=>kn,sIi:()=>Yd,CqO:()=>lA,QGY:()=>uE,F4k:()=>aA,RDi:()=>Qu,AaK:()=>be,z3N:()=>da,qOj:()=>Rv,TTD:()=>Cs,_Bn:()=>JE,xp6:()=>Kp,uIk:()=>he,Gre:()=>sw,ekj:()=>Hv,Suo:()=>dx,Xpm:()=>Rl,lG2:()=>pi,Yz7:()=>Mn,cJS:()=>ci,oAB:()=>Xo,Yjl:()=>Eo,Y36:()=>Y0,_UZ:()=>K0,GkF:()=>F1,BQk:()=>oA,ynx:()=>sA,qZA:()=>rA,TgZ:()=>Vv,EpF:()=>L1,n5z:()=>Ah,Ikx:()=>lw,LFG:()=>Di,$8M:()=>hp,$Z:()=>P1,NdJ:()=>dE,CRH:()=>ab,kcU:()=>Oy,O4$:()=>zn,oxw:()=>xf,ALo:()=>cI,lcZ:()=>dI,Hsn:()=>hA,F$t:()=>dA,Q6J:()=>cE,s9C:()=>fA,DdM:()=>iI,VKq:()=>sx,WLB:()=>rI,iGM:()=>vt,MAs:()=>Fv,CHM:()=>Vt,LSH:()=>xg,Udp:()=>d_,WFA:()=>cA,d8E:()=>cw,YNc:()=>YS,_uU:()=>SA,Oqu:()=>Gv,hij:()=>p_,Gf:()=>yc});var o=Z(7579),ge=Z(727),oe=Z(8306),Te=Z(6451),Oe=Z(3099);function ke(l){for(let c in l)if(l[c]===ke)return c;throw Error("Could not find renamed property on target object.")}function ce(l,c){for(const u in c)c.hasOwnProperty(u)&&!l.hasOwnProperty(u)&&(l[u]=c[u])}function be(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(be).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function Re(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const Ee=ke({__forward_ref__:ke});function ye(l){return l.__forward_ref__=ye,l.toString=function(){return be(this())},l}function Me(l){return Ft(l)?l():l}function Ft(l){return"function"==typeof l&&l.hasOwnProperty(Ee)&&l.__forward_ref__===ye}class pt extends Error{constructor(c,u){super(function(l,c){return`${l?`NG0${l}: `:""}${c}`}(c,u)),this.code=c}}function Se(l){return"string"==typeof l?l:null==l?"":String(l)}function Ue(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Se(l)}function qe(l,c){const u=c?` in ${c}`:"";throw new pt("201",`No provider for ${Ue(l)} found${u}`)}function On(l,c){null==l&&function(l,c,u,p){throw new Error(`ASSERTION ERROR: ${l}`+(null==p?"":` [Expected=> ${u} ${p} ${c} <=Actual]`))}(c,l,null,"!=")}function Mn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function ci(l){return{providers:l.providers||[],imports:l.imports||[]}}function Co(l){return ja(l,Ha)||ja(l,rg)}function ja(l,c){return l.hasOwnProperty(c)?l[c]:null}function ig(l){return l&&(l.hasOwnProperty(Mc)||l.hasOwnProperty(Sy))?l[Mc]:null}const Ha=ke({\u0275prov:ke}),Mc=ke({\u0275inj:ke}),rg=ke({ngInjectableDef:ke}),Sy=ke({ngInjectorDef:ke});var Kt=(()=>((Kt=Kt||{})[Kt.Default=0]="Default",Kt[Kt.Host=1]="Host",Kt[Kt.Self=2]="Self",Kt[Kt.SkipSelf=4]="SkipSelf",Kt[Kt.Optional=8]="Optional",Kt))();let br;function Zs(l){const c=br;return br=l,c}function ah(l,c,u){const p=Co(l);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:u&Kt.Optional?null:void 0!==c?c:void qe(be(l),"Injector")}function wr(l){return{toString:l}.toString()}var wi=(()=>((wi=wi||{})[wi.OnPush=0]="OnPush",wi[wi.Default=1]="Default",wi))(),_t=(()=>{return(l=_t||(_t={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",_t;var l})();const zt="undefined"!=typeof globalThis&&globalThis,zu="undefined"!=typeof window&&window,Jo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kn=zt||"undefined"!=typeof global&&global||zu||Jo,Pn={},Hn=[],Rn=ke({\u0275cmp:ke}),lh=ke({\u0275dir:ke}),Ga=ke({\u0275pipe:ke}),Gu=ke({\u0275mod:ke}),Fr=ke({\u0275fac:ke}),qa=ke({__NG_ELEMENT_ID__:ke});let ch=0;function Rl(l){return wr(()=>{const u={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||Hn,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||_t.Emulated,id:"c",styles:l.styles||Hn,_:null,setInput:null,schemas:l.schemas||null,tView:null},v=l.directives,E=l.features,A=l.pipes;return p.id+=ch++,p.inputs=bs(l.inputs,u),p.outputs=bs(l.outputs),E&&E.forEach(M=>M(p)),p.directiveDefs=v?()=>("function"==typeof v?v():v).map(Ol):null,p.pipeDefs=A?()=>("function"==typeof A?A():A).map(Bt):null,p})}function Ol(l){return nt(l)||function(l){return l[lh]||null}(l)}function Bt(l){return function(l){return l[Ga]||null}(l)}const Ci={};function Xo(l){return wr(()=>{const c={type:l.type,bootstrap:l.bootstrap||Hn,declarations:l.declarations||Hn,imports:l.imports||Hn,exports:l.exports||Hn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(Ci[l.id]=l.type),c})}function bs(l,c){if(null==l)return Pn;const u={};for(const p in l)if(l.hasOwnProperty(p)){let v=l[p],E=v;Array.isArray(v)&&(E=v[1],v=v[0]),u[v]=p,c&&(c[v]=E)}return u}const pi=Rl;function Eo(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function nt(l){return l[Rn]||null}function Lt(l,c){const u=l[Gu]||null;if(!u&&!0===c)throw new Error(`Type ${be(l)} does not have '\u0275mod' property.`);return u}const Q=11;function Er(l){return Array.isArray(l)&&"object"==typeof l[1]}function cr(l){return Array.isArray(l)&&!0===l[1]}function Za(l){return 0!=(8&l.flags)}function Ks(l){return 2==(2&l.flags)}function dh(l){return 1==(1&l.flags)}function Qr(l){return null!==l.template}function Pl(l){return 0!=(512&l[2])}function ws(l,c){return l.hasOwnProperty(Fr)?l[Fr]:null}class cs{constructor(c,u,p){this.previousValue=c,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}function Cs(){return Nc}function Nc(l){return l.type.prototype.ngOnChanges&&(l.setInput=Jt),ky}function ky(){const l=Ku(this),c=null==l?void 0:l.current;if(c){const u=l.previous;if(u===Pn)l.previous=c;else for(let p in c)u[p]=c[p];l.current=null,this.ngOnChanges(c)}}function Jt(l,c,u,p){const v=Ku(l)||function(l,c){return l[Yn]=c}(l,{previous:Pn,current:null}),E=v.current||(v.current={}),A=v.previous,M=this.declaredInputs[u],k=A[M];E[M]=new cs(k&&k.currentValue,c,A===Pn),l[p]=c}Cs.ngInherit=!0;const Yn="__ngSimpleChanges__";function Ku(l){return l[Yn]||null}const hh="http://www.w3.org/2000/svg";let Fl;function Qu(l){Fl=l}function Nn(l){return!!l.listen}const ag={createRenderer:(l,c)=>void 0!==Fl?Fl:"undefined"!=typeof document?document:void 0};function ei(l){for(;Array.isArray(l);)l=l[0];return l}function Ao(l,c){return ei(c[l])}function Ii(l,c){return ei(c[l.index])}function Ll(l,c){return l.data[c]}function ur(l,c){return l[c]}function Yi(l,c){const u=c[l];return Er(u)?u:u[0]}function Wa(l){return 4==(4&l[2])}function Js(l){return 128==(128&l[2])}function dr(l,c){return null==c?null:l[c]}function Ya(l){l[18]=0}function Xu(l,c){l[5]+=c;let u=l,p=l[3];for(;null!==p&&(1===c&&1===u[5]||-1===c&&0===u[5]);)p[5]+=c,u=p,p=p[3]}const Dt={lFrame:sd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function H(){return Dt.bindingsEnabled}function ne(){return Dt.lFrame.lView}function xe(){return Dt.lFrame.tView}function Vt(l){return Dt.lFrame.contextLView=l,l[8]}function lt(){let l=vn();for(;null!==l&&64===l.type;)l=l.parent;return l}function vn(){return Dt.lFrame.currentTNode}function Wt(l,c){const u=Dt.lFrame;u.currentTNode=l,u.isParent=c}function Xr(){return Dt.lFrame.isParent}function Ki(){Dt.lFrame.isParent=!1}function Vl(){return Dt.isInCheckNoChangesMode}function Uc(l){Dt.isInCheckNoChangesMode=l}function xr(){const l=Dt.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function Ul(){return Dt.lFrame.bindingIndex++}function Xs(l){const c=Dt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,u}function np(l,c){const u=Dt.lFrame;u.bindingIndex=u.bindingRootIndex=l,nd(c)}function nd(l){Dt.lFrame.currentDirectiveIndex=l}function _h(l){const c=Dt.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function yh(){return Dt.lFrame.currentQueryIndex}function id(l){Dt.lFrame.currentQueryIndex=l}function ta(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function vh(l,c,u){if(u&Kt.SkipSelf){let v=c,E=l;for(;!(v=v.parent,null!==v||u&Kt.Host||(v=ta(E),null===v||(E=E[15],10&v.type))););if(null===v)return!1;c=v,l=E}const p=Dt.lFrame=bh();return p.currentTNode=c,p.lView=l,!0}function rd(l){const c=bh(),u=l[1];Dt.lFrame=c,c.currentTNode=u.firstChild,c.lView=l,c.tView=u,c.contextLView=l,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function bh(){const l=Dt.lFrame,c=null===l?null:l.child;return null===c?sd(l):c}function sd(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function wh(){const l=Dt.lFrame;return Dt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const ip=wh;function Ch(){const l=wh();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function ii(){return Dt.lFrame.selectedIndex}function Ka(l){Dt.lFrame.selectedIndex=l}function _i(){const l=Dt.lFrame;return Ll(l.tView,l.selectedIndex)}function zn(){Dt.lFrame.currentNamespace=hh}function Oy(){Dt.lFrame.currentNamespace=null}function op(l,c){for(let u=c.directiveStart,p=c.directiveEnd;u<p;u++){const E=l.data[u].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:M,ngAfterViewInit:k,ngAfterViewChecked:F,ngOnDestroy:B}=E;A&&(l.contentHooks||(l.contentHooks=[])).push(-u,A),M&&((l.contentHooks||(l.contentHooks=[])).push(u,M),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(u,M)),k&&(l.viewHooks||(l.viewHooks=[])).push(-u,k),F&&((l.viewHooks||(l.viewHooks=[])).push(u,F),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(u,F)),null!=B&&(l.destroyHooks||(l.destroyHooks=[])).push(u,B)}}function Io(l,c,u){ug(l,c,3,u)}function Qa(l,c,u,p){(3&l[2])===u&&ug(l,c,u,p)}function Ja(l,c){let u=l[2];(3&u)===c&&(u&=2047,u+=1,l[2]=u)}function ug(l,c,u,p){const E=null!=p?p:-1,A=c.length-1;let M=0;for(let k=void 0!==p?65535&l[18]:0;k<A;k++)if("number"==typeof c[k+1]){if(M=c[k],null!=p&&M>=p)break}else c[k]<0&&(l[18]+=65536),(M<E||-1==E)&&(ap(l,u,c,k),l[18]=(4294901760&l[18])+k+2),k++}function ap(l,c,u,p){const v=u[p]<0,E=u[p+1],M=l[v?-u[p]:u[p]];if(v){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{E.call(M)}finally{}}}else try{E.call(M)}finally{}}class jc{constructor(c,u,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=p}}function To(l,c,u){const p=Nn(l);let v=0;for(;v<u.length;){const E=u[v];if("number"==typeof E){if(0!==E)break;v++;const A=u[v++],M=u[v++],k=u[v++];p?l.setAttribute(c,M,k,A):c.setAttributeNS(A,M,k)}else{const A=E,M=u[++v];Br(A)?p&&l.setProperty(c,A,M):p?l.setAttribute(c,A,M):c.setAttribute(A,M),v++}}return v}function zc(l){return 3===l||4===l||6===l}function Br(l){return 64===l.charCodeAt(0)}function ui(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let u=-1;for(let p=0;p<c.length;p++){const v=c[p];"number"==typeof v?u=v:0===u||xn(l,u,v,null,-1===u||2===u?c[++p]:null)}}return l}function xn(l,c,u,p,v){let E=0,A=l.length;if(-1===c)A=-1;else for(;E<l.length;){const M=l[E++];if("number"==typeof M){if(M===c){A=-1;break}if(M>c){A=E-1;break}}}for(;E<l.length;){const M=l[E];if("number"==typeof M)break;if(M===u){if(null===p)return void(null!==v&&(l[E+1]=v));if(p===l[E+1])return void(l[E+2]=v)}E++,null!==p&&E++,null!==v&&E++}-1!==A&&(l.splice(A,0,c),E=A+1),l.splice(E++,0,u),null!==p&&l.splice(E++,0,p),null!==v&&l.splice(E++,0,v)}function od(l){return-1!==l}function ra(l){return 32767&l}function bn(l,c){let u=function(l){return l>>16}(l),p=c;for(;u>0;)p=p[15],u--;return p}let to=!0;function fn(l){const c=to;return to=l,c}let Es=0;function Xa(l,c){const u=tl(l,c);if(-1!==u)return u;const p=c[1];p.firstCreatePass&&(l.injectorIndex=c.length,el(p.data,l),el(c,null),el(p.blueprint,null));const v=Gc(l,c),E=l.injectorIndex;if(od(v)){const A=ra(v),M=bn(v,c),k=M[1].data;for(let F=0;F<8;F++)c[E+F]=M[A+F]|k[A+F]}return c[E+8]=v,E}function el(l,c){l.push(0,0,0,0,0,0,0,0,c)}function tl(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Gc(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let u=0,p=null,v=c;for(;null!==v;){const E=v[1],A=E.type;if(p=2===A?E.declTNode:1===A?v[6]:null,null===p)return-1;if(u++,v=v[15],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return-1}function oa(l,c,u){!function(l,c,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty(qa)&&(p=u[qa]),null==p&&(p=u[qa]=Es++);const v=255&p;c.data[l+(v>>5)]|=1<<v}(l,c,u)}function aa(l,c,u){if(u&Kt.Optional)return l;qe(c,"NodeInjector")}function zl(l,c,u,p){if(u&Kt.Optional&&void 0===p&&(p=null),0==(u&(Kt.Self|Kt.Host))){const v=l[9],E=Zs(void 0);try{return v?v.get(c,p,u&Kt.Optional):ah(c,p,u&Kt.Optional)}finally{Zs(E)}}return aa(p,c,u)}function no(l,c,u,p=Kt.Default,v){if(null!==l){const E=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(qa)?l[qa]:void 0;return"number"==typeof c?c>=0?255&c:cd:c}(u);if("function"==typeof E){if(!vh(c,l,p))return p&Kt.Host?aa(v,u,p):zl(c,u,p,v);try{const A=E(p);if(null!=A||p&Kt.Optional)return A;qe(u)}finally{ip()}}else if("number"==typeof E){let A=null,M=tl(l,c),k=-1,F=p&Kt.Host?c[16][6]:null;for((-1===M||p&Kt.SkipSelf)&&(k=-1===M?Gc(l,c):c[M+8],-1!==k&&Gl(p,!1)?(A=c[1],M=ra(k),c=bn(k,c)):M=-1);-1!==M;){const B=c[1];if(qc(E,M,B.data)){const $=Qi(M,c,u,A,p,F);if($!==Dh)return $}k=c[M+8],-1!==k&&Gl(p,c[1].data[M+8]===F)&&qc(E,M,c)?(A=B,M=ra(k),c=bn(k,c)):M=-1}}}return zl(c,u,p,v)}const Dh={};function cd(){return new Vr(lt(),ne())}function Qi(l,c,u,p,v,E){const A=c[1],M=A.data[l+8],B=Sh(M,A,u,null==p?Ks(M)&&to:p!=A&&0!=(3&M.type),v&Kt.Host&&E===M);return null!==B?la(c,A,B,M):Dh}function Sh(l,c,u,p,v){const E=l.providerIndexes,A=c.data,M=1048575&E,k=l.directiveStart,B=E>>20,ee=v?M+B:l.directiveEnd;for(let ae=p?M:M+B;ae<ee;ae++){const Ce=A[ae];if(ae<k&&u===Ce||ae>=k&&Ce.type===u)return ae}if(v){const ae=A[k];if(ae&&Qr(ae)&&ae.type===u)return k}return null}function la(l,c,u,p){let v=l[u];const E=c.data;if(function(l){return l instanceof jc}(v)){const A=v;A.resolving&&function(l,c){throw new pt("200",`Circular dependency in DI detected for ${l}`)}(Ue(E[u]));const M=fn(A.canSeeViewProviders);A.resolving=!0;const k=A.injectImpl?Zs(A.injectImpl):null;vh(l,p,Kt.Default);try{v=l[u]=A.factory(void 0,E,l,p),c.firstCreatePass&&u>=p.directiveStart&&function(l,c,u){const{ngOnChanges:p,ngOnInit:v,ngDoCheck:E}=c.type.prototype;if(p){const A=Nc(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(l,A),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(l,A)}v&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-l,v),E&&((u.preOrderHooks||(u.preOrderHooks=[])).push(l,E),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(l,E))}(u,E[u],c)}finally{null!==k&&Zs(k),fn(M),A.resolving=!1,ip()}}return v}function qc(l,c,u){return!!(u[c+(l>>5)]&1<<l)}function Gl(l,c){return!(l&Kt.Self||l&Kt.Host&&c)}class Vr{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,p){return no(this._tNode,this._lView,c,p,u)}}function Ah(l){return wr(()=>{const c=l.prototype.constructor,u=c[Fr]||nl(c),p=Object.prototype;let v=Object.getPrototypeOf(l.prototype).constructor;for(;v&&v!==p;){const E=v[Fr]||nl(v);if(E&&E!==u)return E;v=Object.getPrototypeOf(v)}return E=>new E})}function nl(l){return Ft(l)?()=>{const c=nl(Me(l));return c&&c()}:ws(l)}function hp(l){return function(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const u=l.attrs;if(u){const p=u.length;let v=0;for(;v<p;){const E=u[v];if(zc(E))break;if(0===E)v+=2;else if("number"==typeof E)for(v++;v<p&&"string"==typeof u[v];)v++;else{if(E===c)return u[v+1];v+=2}}}return null}(lt(),l)}const il="__parameters__";function ko(l,c,u){return wr(()=>{const p=function(l){return function(...u){if(l){const p=l(...u);for(const v in p)this[v]=p[v]}}}(c);function v(...E){if(this instanceof v)return p.apply(this,E),this;const A=new v(...E);return M.annotation=A,M;function M(k,F,B){const $=k.hasOwnProperty(il)?k[il]:Object.defineProperty(k,il,{value:[]})[il];for(;$.length<=B;)$.push(null);return($[B]=$[B]||[]).push(A),k}}return u&&(v.prototype=Object.create(u.prototype)),v.prototype.ngMetadataName=l,v.annotationCls=v,v})}class ri{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Mn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rl=new ri("AnalyzeForEntryComponents");function si(l,c){void 0===c&&(c=l);for(let u=0;u<l.length;u++){let p=l[u];Array.isArray(p)?(c===l&&(c=l.slice(0,u)),si(p,c)):c!==l&&c.push(p)}return c}function Li(l,c){l.forEach(u=>Array.isArray(u)?Li(u,c):c(u))}function Zl(l,c,u){c>=l.length?l.push(u):l.splice(c,0,u)}function ol(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function Wl(l,c){const u=[];for(let p=0;p<l;p++)u.push(c);return u}function jr(l,c,u){let p=yi(l,c);return p>=0?l[1|p]=u:(p=~p,function(l,c,u,p){let v=l.length;if(v==c)l.push(u,p);else if(1===v)l.push(p,l[0]),l[0]=u;else{for(v--,l.push(l[v-1],l[v]);v>c;)l[v]=l[v-2],v--;l[c]=u,l[c+1]=p}}(l,p,c,u)),p}function fd(l,c){const u=yi(l,c);if(u>=0)return l[1|u]}function yi(l,c){return function(l,c,u){let p=0,v=l.length>>u;for(;v!==p;){const E=p+(v-p>>1),A=l[E<<u];if(c===A)return E<<u;A>c?v=E:p=E+1}return~(v<<u)}(l,c,1)}const al={},Xc="__NG_DI_FLAG__",Ro="ngTempTokenPath",By=/\n/gm,Yl="__source",Uy=ke({provide:String,useValue:ke});let us;function gp(l){const c=us;return us=l,c}function Kl(l,c=Kt.Default){if(void 0===us)throw new Error("inject() must be called from an injection context");return null===us?ah(l,void 0,c):us.get(l,c&Kt.Optional?null:void 0,c)}function Di(l,c=Kt.Default){return(br||Kl)(Me(l),c)}const _p=Di;function _d(l){const c=[];for(let u=0;u<l.length;u++){const p=Me(l[u]);if(Array.isArray(p)){if(0===p.length)throw new Error("Arguments array must have arguments.");let v,E=Kt.Default;for(let A=0;A<p.length;A++){const M=p[A],k=Rh(M);"number"==typeof k?-1===k?v=M.token:E|=k:v=M}c.push(Di(v,E))}else c.push(Di(p))}return c}function yd(l,c){return l[Xc]=c,l.prototype[Xc]=c,l}function Rh(l){return l[Xc]}const ll=yd(ko("Inject",l=>({token:l})),-1),ca=yd(ko("Optional"),8),Oo=yd(ko("SkipSelf"),4);let bd;function dl(l){var c;return(null===(c=function(){if(void 0===bd&&(bd=null,kn.trustedTypes))try{bd=kn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return bd}())||void 0===c?void 0:c.createHTML(l))||l}class Ji{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hl extends Ji{getTypeName(){return"HTML"}}class Jl extends Ji{getTypeName(){return"Style"}}class wp extends Ji{getTypeName(){return"Script"}}class Wy extends Ji{getTypeName(){return"URL"}}class vg extends Ji{getTypeName(){return"ResourceURL"}}function da(l){return l instanceof Ji?l.changingThisBreaksApplicationSecurity:l}function Ds(l,c){const u=k0(l);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function k0(l){return l instanceof Ji&&l.getTypeName()||null}function Po(l){return new hl(l)}function R0(l){return new Jl(l)}function Yy(l){return new wp(l)}function Cd(l){return new Wy(l)}function Ky(l){return new vg(l)}class Ed{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(dl(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Cp{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const p=this.inertDocument.createElement("body");u.appendChild(p)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=dl(c),u;const p=this.inertDocument.createElement("body");return p.innerHTML=dl(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(c){const u=c.attributes;for(let v=u.length-1;0<v;v--){const A=u.item(v).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&c.removeAttribute(A)}let p=c.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const Ep=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fl(l){return(l=String(l)).match(Ep)||l.match(Qy)?l:"unsafe:"+l}function Ss(l){const c={};for(const u of l.split(","))c[u]=!0;return c}function pl(...l){const c={};for(const u of l)for(const p in u)u.hasOwnProperty(p)&&(c[p]=!0);return c}const xd=Ss("area,br,col,hr,img,wbr"),Dd=Ss("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sd=Ss("rp,rt"),Dp=pl(xd,pl(Dd,Ss("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pl(Sd,Ss("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pl(Sd,Dd)),Nh=Ss("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sp=Ss("srcset"),Eg=pl(Nh,Sp,Ss("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ss("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ha=Ss("script,style,template");class Ap{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,p=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let v=this.checkClobberedElement(u,u.nextSibling);if(v){u=v;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!Dp.hasOwnProperty(u))return this.sanitizedSomething=!0,!ha.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=c.attributes;for(let v=0;v<p.length;v++){const E=p.item(v),A=E.name,M=A.toLowerCase();if(!Eg.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let k=E.value;Nh[M]&&(k=fl(k)),Sp[M]&&(l=k,k=(l=String(l)).split(",").map(c=>fl(c.trim())).join(", ")),this.buf.push(" ",A,'="',tv(k),'"')}var l;return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();Dp.hasOwnProperty(u)&&!xd.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(tv(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const ev=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P0=/([^\#-~ |!])/g;function tv(l){return l.replace(/&/g,"&amp;").replace(ev,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(P0,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ad;function Fh(l,c){let u=null;try{Ad=Ad||function(l){const c=new Cp(l);return function(){try{return!!(new window.DOMParser).parseFromString(dl(""),"text/html")}catch(l){return!1}}()?new Ed(c):c}(l);let p=c?String(c):"";u=Ad.getInertBodyElement(p);let v=5,E=p;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,p=E,E=u.innerHTML,u=Ad.getInertBodyElement(p)}while(p!==E);return dl((new Ap).sanitizeChildren(Lh(u)||u))}finally{if(u){const p=Lh(u)||u;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function Lh(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();function xg(l){const c=function(){const l=ne();return l&&l[12]}();return c?c.sanitize(vi.URL,l)||"":Ds(l,"URL")?da(l):fl(Se(l))}const Bh="__ngContext__";function Bi(l,c){l[Bh]=c}function Td(l){const c=function(l){return l[Bh]||null}(l);return c?Array.isArray(c)?c:c.lView:null}function dt(l){return l.ngOriginalError}function oi(l,...c){l.error(...c)}class As{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c),p=(l=c)&&l.ngErrorLogger||oi;var l;p(this._console,"ERROR",c),u&&p(this._console,"ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&dt(c);for(;u&&dt(u);)u=dt(u);return u||null}}const Fo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kn))();function ds(l){return l instanceof Function?l():l}var es=(()=>((es=es||{})[es.Important=1]="Important",es[es.DashCase=2]="DashCase",es))();function _a(l,c){return undefined(l,c)}function Bn(l){const c=l[3];return cr(c)?c[3]:c}function $n(l){return di(l[13])}function Dn(l){return di(l[4])}function di(l){for(;null!==l&&!cr(l);)l=l[4];return l}function ts(l,c,u,p,v){if(null!=p){let E,A=!1;cr(p)?E=p:Er(p)&&(A=!0,p=p[0]);const M=ei(p);0===l&&null!==u?null==v?Mg(c,u,M):ya(c,u,M,v||null,!0):1===l&&null!==u?ya(c,u,M,v||null,!0):2===l?function(l,c,u){const p=Wh(l,c);p&&function(l,c,u,p){Nn(l)?l.removeChild(c,u,p):c.removeChild(u)}(l,p,c,u)}(c,M,A):3===l&&c.destroyNode(M),null!=E&&function(l,c,u,p,v){const E=u[7];E!==ei(u)&&ts(c,l,p,E,v);for(let M=10;M<u.length;M++){const k=u[M];Ud(k[1],k,l,c,p,E)}}(c,l,E,u,v)}}function Xi(l,c,u){return Nn(l)?l.createElement(c,u):null===u?l.createElement(c):l.createElementNS(u,c)}function vl(l,c){const u=l[9],p=u.indexOf(c),v=c[3];1024&c[2]&&(c[2]&=-1025,Xu(v,-1)),u.splice(p,1)}function Si(l,c){if(l.length<=10)return;const u=10+c,p=l[u];if(p){const v=p[17];null!==v&&v!==l&&vl(v,p),c>0&&(l[u-1][4]=p[4]);const E=ol(l,10+c);!function(l,c){Ud(l,c,c[Q],2,null,null),c[0]=null,c[6]=null}(p[1],p);const A=E[19];null!==A&&A.detachView(E[1]),p[3]=null,p[4]=null,p[2]&=-129}return p}function Fd(l,c){if(!(256&c[2])){const u=c[Q];Nn(u)&&u.destroyNode&&Ud(l,c,u,3,null,null),function(l){let c=l[13];if(!c)return ao(l[1],l);for(;c;){let u=null;if(Er(c))u=c[13];else{const p=c[10];p&&(u=p)}if(!u){for(;c&&!c[4]&&c!==l;)Er(c)&&ao(c[1],c),c=c[3];null===c&&(c=l),Er(c)&&ao(c[1],c),u=c&&c[4]}c=u}}(c)}}function ao(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function(l,c){let u;if(null!=l&&null!=(u=l.destroyHooks))for(let p=0;p<u.length;p+=2){const v=c[u[p]];if(!(v instanceof jc)){const E=u[p+1];if(Array.isArray(E))for(let A=0;A<E.length;A+=2){const M=v[E[A]],k=E[A+1];try{k.call(M)}finally{}}else try{E.call(v)}finally{}}}}(l,c),function(l,c){const u=l.cleanup,p=c[7];let v=-1;if(null!==u)for(let E=0;E<u.length-1;E+=2)if("string"==typeof u[E]){const A=u[E+1],M="function"==typeof A?A(c):ei(c[A]),k=p[v=u[E+2]],F=u[E+3];"boolean"==typeof F?M.removeEventListener(u[E],k,F):F>=0?p[v=F]():p[v=-F].unsubscribe(),E+=2}else{const A=p[v=u[E+1]];u[E].call(A)}if(null!==p){for(let E=v+1;E<p.length;E++)p[E]();c[7]=null}}(l,c),1===c[1].type&&Nn(c[Q])&&c[Q].destroy();const u=c[17];if(null!==u&&cr(c[3])){u!==c[3]&&vl(u,c);const p=c[19];null!==p&&p.detachView(l)}}}function $h(l,c,u){return function(l,c,u){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return u[0];if(2&p.flags){const v=l.data[p.directiveStart].encapsulation;if(v===_t.None||v===_t.Emulated)return null}return Ii(p,u)}(l,c.parent,u)}function ya(l,c,u,p,v){Nn(l)?l.insertBefore(c,u,p,v):c.insertBefore(u,p,v)}function Mg(l,c,u){Nn(l)?l.appendChild(c,u):c.appendChild(u)}function zp(l,c,u,p,v){null!==p?ya(l,c,u,p,v):Mg(l,c,u)}function Wh(l,c){return Nn(l)?l.parentNode(c):c.parentNode}function qp(l,c,u){return $p(l,c,u)}let $p=function(l,c,u){return 40&l.type?Ii(l,u):null};function va(l,c,u,p){const v=$h(l,p,c),E=c[Q],M=qp(p.parent||c[6],p,c);if(null!=v)if(Array.isArray(u))for(let k=0;k<u.length;k++)zp(E,v,u[k],M,!1);else zp(E,v,u,M,!1)}function Gt(l,c){if(null!==c){const u=c.type;if(3&u)return Ii(c,l);if(4&u)return Ts(-1,l[c.index]);if(8&u){const p=c.child;if(null!==p)return Gt(l,p);{const v=l[c.index];return cr(v)?Ts(-1,v):ei(v)}}if(32&u)return _a(c,l)()||ei(l[c.index]);{const p=Rg(l,c);return null!==p?Array.isArray(p)?p[0]:Gt(Bn(l[16]),p):Gt(l,c.next)}}return null}function Rg(l,c){return null!==c?l[16][6].projection[c.projection]:null}function Ts(l,c){const u=10+l+1;if(u<c.length){const p=c[u],v=p[1].firstChild;if(null!==v)return Gt(p,v)}return c[7]}function nc(l,c,u,p,v,E,A){for(;null!=u;){const M=p[u.index],k=u.type;if(A&&0===c&&(M&&Bi(ei(M),p),u.flags|=4),64!=(64&u.flags))if(8&k)nc(l,c,u.child,p,v,E,!1),ts(c,l,v,M,E);else if(32&k){const F=_a(u,p);let B;for(;B=F();)ts(c,l,v,B,E);ts(c,l,v,M,E)}else 16&k?Og(l,c,p,u,v,E):ts(c,l,v,M,E);u=A?u.projectionNext:u.next}}function Ud(l,c,u,p,v,E){nc(u,p,l.firstChild,c,v,E,!1)}function Og(l,c,u,p,v,E){const A=u[16],k=A[6].projection[p.projection];if(Array.isArray(k))for(let F=0;F<k.length;F++)ts(c,l,v,k[F],E);else nc(l,c,k,A[3],v,E,!0)}function Qh(l,c,u){Nn(l)?l.setAttribute(c,"style",u):c.style.cssText=u}function ba(l,c,u){Nn(l)?""===u?l.removeAttribute(c,"class"):l.setAttribute(c,"class",u):c.className=u}function Pg(l,c,u){let p=l.length;for(;;){const v=l.indexOf(c,u);if(-1===v)return v;if(0===v||l.charCodeAt(v-1)<=32){const E=c.length;if(v+E===p||l.charCodeAt(v+E)<=32)return v}u=v+1}}const Bo="ng-template";function Wp(l,c,u){let p=0;for(;p<l.length;){let v=l[p++];if(u&&"class"===v){if(v=l[p],-1!==Pg(v.toLowerCase(),c,0))return!0}else if(1===v){for(;p<l.length&&"string"==typeof(v=l[p++]);)if(v.toLowerCase()===c)return!0;return!1}}return!1}function ov(l){return 4===l.type&&l.value!==Bo}function av(l,c,u){return c===(4!==l.type||u?l.value:Bo)}function Jh(l,c,u){let p=4;const v=l.attrs||[],E=function(l){for(let c=0;c<l.length;c++)if(zc(l[c]))return c;return l.length}(v);let A=!1;for(let M=0;M<c.length;M++){const k=c[M];if("number"!=typeof k){if(!A)if(4&p){if(p=2|1&p,""!==k&&!av(l,k,u)||""===k&&1===c.length){if(tn(p))return!1;A=!0}}else{const F=8&p?k:c[++M];if(8&p&&null!==l.attrs){if(!Wp(l.attrs,F,u)){if(tn(p))return!1;A=!0}continue}const $=Yp(8&p?"class":k,v,ov(l),u);if(-1===$){if(tn(p))return!1;A=!0;continue}if(""!==F){let ee;ee=$>E?"":v[$+1].toLowerCase();const ae=8&p?ee:null;if(ae&&-1!==Pg(ae,F,0)||2&p&&F!==ee){if(tn(p))return!1;A=!0}}}}else{if(!A&&!tn(p)&&!tn(k))return!1;if(A&&tn(k))continue;A=!1,p=k|1&p}}return tn(p)||A}function tn(l){return 0==(1&l)}function Yp(l,c,u,p){if(null===c)return-1;let v=0;if(p||!u){let E=!1;for(;v<c.length;){const A=c[v];if(A===l)return v;if(3===A||6===A)E=!0;else{if(1===A||2===A){let M=c[++v];for(;"string"==typeof M;)M=c[++v];continue}if(4===A)break;if(0===A){v+=4;continue}}v+=E?1:2}return-1}return function(l,c){let u=l.indexOf(4);if(u>-1)for(u++;u<l.length;){const p=l[u];if("number"==typeof p)return-1;if(p===c)return u;u++}return-1}(c,l)}function lv(l,c,u=!1){for(let p=0;p<c.length;p++)if(Jh(l,c[p],u))return!0;return!1}function wl(l,c){e:for(let u=0;u<c.length;u++){const p=c[u];if(l.length===p.length){for(let v=0;v<l.length;v++)if(l[v]!==p[v])continue e;return!0}}return!1}function ln(l,c){return l?":not("+c.trim()+")":c}function wa(l){let c=l[0],u=1,p=2,v="",E=!1;for(;u<l.length;){let A=l[u];if("string"==typeof A)if(2&p){const M=l[++u];v+="["+A+(M.length>0?'="'+M+'"':"")+"]"}else 8&p?v+="."+A:4&p&&(v+=" "+A);else""!==v&&!tn(A)&&(c+=ln(E,v),v=""),p=A,E=E||!tn(p);u++}return""!==v&&(c+=ln(E,v)),c}const Ot={};function Kp(l){ef(xe(),ne(),ii()+l,Vl())}function ef(l,c,u,p){if(!p)if(3==(3&c[2])){const E=l.preOrderCheckHooks;null!==E&&Io(c,E,u)}else{const E=l.preOrderHooks;null!==E&&Qa(c,E,0,u)}Ka(u)}function rc(l,c){return l<<17|c<<2}function Ar(l){return l>>17&32767}function nf(l){return 2|l}function Ms(l){return(131068&l)>>2}function Cl(l,c){return-131069&l|c<<2}function rf(l){return 1|l}function qg(l,c){const u=l.contentQueries;if(null!==u)for(let p=0;p<u.length;p+=2){const v=u[p],E=u[p+1];if(-1!==E){const A=l.data[E];id(v),A.contentQueries(2,c[E],E)}}}function uf(l,c,u,p,v,E,A,M,k,F){const B=c.blueprint.slice();return B[0]=v,B[2]=140|p,Ya(B),B[3]=B[15]=l,B[8]=u,B[10]=A||l&&l[10],B[Q]=M||l&&l[Q],B[12]=k||l&&l[12]||null,B[9]=F||l&&l[9]||null,B[6]=E,B[16]=2==c.type?l[16]:B,B}function cu(l,c,u,p,v){let E=l.data[c];if(null===E)E=function(l,c,u,p,v){const E=vn(),A=Xr(),k=l.data[c]=function(l,c,u,p,v,E){return{type:u,index:p,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:v,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?E:E&&E.parent,u,c,p,v);return null===l.firstChild&&(l.firstChild=k),null!==E&&(A?null==E.child&&null!==k.parent&&(E.child=k):null===E.next&&(E.next=k)),k}(l,c,u,p,v),Dt.lFrame.inI18n&&(E.flags|=64);else if(64&E.type){E.type=u,E.value=p,E.attrs=v;const A=function(){const l=Dt.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();E.injectorIndex=null===A?-1:A.injectorIndex}return Wt(E,!0),E}function zd(l,c,u,p){if(0===u)return-1;const v=c.length;for(let E=0;E<u;E++)c.push(p),l.blueprint.push(p),l.data.push(null);return v}function Ea(l,c,u){rd(c);try{const p=l.viewQuery;null!==p&&Zd(1,p,u);const v=l.template;null!==v&&uu(l,c,v,1,u),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&qg(l,c),l.staticViewQueries&&Zd(2,l.viewQuery,u);const E=l.components;null!==E&&function(l,c){for(let u=0;u<c.length;u++)Sv(l,c[u])}(c,E)}catch(p){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),p}finally{c[2]&=-5,Ch()}}function Rs(l,c,u,p){const v=c[2];if(256==(256&v))return;rd(c);const E=Vl();try{Ya(c),function(l){Dt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==u&&uu(l,c,u,2,p);const A=3==(3&v);if(!E)if(A){const F=l.preOrderCheckHooks;null!==F&&Io(c,F,null)}else{const F=l.preOrderHooks;null!==F&&Qa(c,F,0,null),Ja(c,0)}if(function(l){for(let c=$n(l);null!==c;c=Dn(c)){if(!c[2])continue;const u=c[9];for(let p=0;p<u.length;p++){const v=u[p],E=v[3];0==(1024&v[2])&&Xu(E,1),v[2]|=1024}}}(c),function(l){for(let c=$n(l);null!==c;c=Dn(c))for(let u=10;u<c.length;u++){const p=c[u],v=p[1];Js(p)&&Rs(v,p,v.template,p[8])}}(c),null!==l.contentQueries&&qg(l,c),!E)if(A){const F=l.contentCheckHooks;null!==F&&Io(c,F)}else{const F=l.contentHooks;null!==F&&Qa(c,F,1),Ja(c,1)}!function(l,c){const u=l.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const v=u[p];if(v<0)Ka(~v);else{const E=v,A=u[++p],M=u[++p];np(A,E),M(2,c[E])}}}finally{Ka(-1)}}(l,c);const M=l.components;null!==M&&function(l,c){for(let u=0;u<c.length;u++)Dv(l,c[u])}(c,M);const k=l.viewQuery;if(null!==k&&Zd(2,k,p),!E)if(A){const F=l.viewCheckHooks;null!==F&&Io(c,F)}else{const F=l.viewHooks;null!==F&&Qa(c,F,2),Ja(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),E||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,Xu(c[3],-1))}finally{Ch()}}function mv(l,c,u,p){const v=c[10],E=!Vl(),A=Wa(c);try{E&&!A&&v.begin&&v.begin(),A&&Ea(l,c,p),Rs(l,c,u,p)}finally{E&&!A&&v.end&&v.end()}}function uu(l,c,u,p,v){const E=ii(),A=2&p;try{Ka(-1),A&&c.length>20&&ef(l,c,20,Vl()),u(p,v)}finally{Ka(E)}}function df(l,c,u){if(Za(c)){const v=c.directiveEnd;for(let E=c.directiveStart;E<v;E++){const A=l.data[E];A.contentQueries&&A.contentQueries(1,u[E],E)}}}function gv(l,c,u){!H()||(function(l,c,u,p){const v=u.directiveStart,E=u.directiveEnd;l.firstCreatePass||Xa(u,c),Bi(p,c);const A=u.initialInputs;for(let M=v;M<E;M++){const k=l.data[M],F=Qr(k);F&&Jg(c,u,k);const B=la(c,l,M,u);Bi(B,c),null!==A&&xv(0,M-v,B,k,0,A),F&&(Yi(u.index,c)[8]=B)}}(l,c,u,Ii(u,c)),128==(128&u.flags)&&function(l,c,u){const p=u.directiveStart,v=u.directiveEnd,A=u.index,M=Dt.lFrame.currentDirectiveIndex;try{Ka(A);for(let k=p;k<v;k++){const F=l.data[k],B=c[k];nd(k),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&hu(F,B)}}finally{Ka(-1),nd(M)}}(l,c,u))}function _v(l,c,u=Ii){const p=c.localNames;if(null!==p){let v=c.index+1;for(let E=0;E<p.length;E+=2){const A=p[E+1],M=-1===A?u(c,l):l[A];l[v++]=M}}}function yv(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=lc(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function lc(l,c,u,p,v,E,A,M,k,F){const B=20+p,$=B+v,ee=function(l,c){const u=[];for(let p=0;p<c;p++)u.push(p<l?null:Ot);return u}(B,$),ae="function"==typeof F?F():F;return ee[1]={type:l,blueprint:ee,template:u,queries:null,viewQuery:M,declTNode:c,data:ee.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:k,consts:ae,incompleteFirstPass:!1}}function Wg(l,c,u,p){const v=pu(c);null===u?v.push(p):(v.push(u),l.firstCreatePass&&i_(l).push(p,v.length-1))}function om(l,c,u){for(let p in l)if(l.hasOwnProperty(p)){const v=l[p];(u=null===u?{}:u).hasOwnProperty(p)?u[p].push(c,v):u[p]=[c,v]}return u}function ns(l,c,u,p,v,E,A,M){const k=Ii(c,u);let B,F=c.inputs;!M&&null!=F&&(B=F[p])?(Wd(l,u,B,p,v),Ks(c)&&function(l,c){const u=Yi(c,l);16&u[2]||(u[2]|=64)}(u,c.index)):3&c.type&&(p=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(p),v=null!=A?A(v,c.value||"",p):v,Nn(E)?E.setProperty(k,p,v):Br(p)||(k.setProperty?k.setProperty(p,v):k[p]=v))}function cc(l,c,u,p){let v=!1;if(H()){const E=function(l,c,u){const p=l.directiveRegistry;let v=null;if(p)for(let E=0;E<p.length;E++){const A=p[E];lv(u,A.selectors,!1)&&(v||(v=[]),oa(Xa(u,c),l,A.type),Qr(A)?(qd(l,u),v.unshift(A)):v.push(A))}return v}(l,c,u),A=null===p?null:{"":-1};if(null!==E){v=!0,mf(u,l.data.length,E.length);for(let B=0;B<E.length;B++){const $=E[B];$.providersResolver&&$.providersResolver($)}let M=!1,k=!1,F=zd(l,c,E.length,null);for(let B=0;B<E.length;B++){const $=E[B];u.mergedAttrs=ui(u.mergedAttrs,$.hostAttrs),Ev(l,u,c,F,$),Cv(F,$,A),null!==$.contentQueries&&(u.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(u.flags|=128);const ee=$.type.prototype;!M&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(u.index),M=!0),!k&&(ee.ngOnChanges||ee.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(u.index),k=!0),F++}!function(l,c){const p=c.directiveEnd,v=l.data,E=c.attrs,A=[];let M=null,k=null;for(let F=c.directiveStart;F<p;F++){const B=v[F],$=B.inputs,ee=null===E||ov(c)?null:Dl($,E);A.push(ee),M=om($,F,M),k=om(B.outputs,F,k)}null!==M&&(M.hasOwnProperty("class")&&(c.flags|=16),M.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=A,c.inputs=M,c.outputs=k}(l,u)}A&&function(l,c,u){if(c){const p=l.localNames=[];for(let v=0;v<c.length;v+=2){const E=u[c[v+1]];if(null==E)throw new pt("301",`Export of name '${c[v+1]}' not found!`);p.push(c[v],E)}}}(u,p,A)}return u.mergedAttrs=ui(u.mergedAttrs,u.attrs),v}function er(l,c,u,p,v,E){const A=E.hostBindings;if(A){let M=l.hostBindingOpCodes;null===M&&(M=l.hostBindingOpCodes=[]);const k=~c.index;(function(l){let c=l.length;for(;c>0;){const u=l[--c];if("number"==typeof u&&u<0)return u}return 0})(M)!=k&&M.push(k),M.push(p,v,A)}}function hu(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function qd(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function Cv(l,c,u){if(u){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)u[c.exportAs[p]]=l;Qr(c)&&(u[""]=l)}}function mf(l,c,u){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+u,l.providerIndexes=c}function Ev(l,c,u,p,v){l.data[p]=v;const E=v.factory||(v.factory=ws(v.type)),A=new jc(E,Qr(v),null);l.blueprint[p]=A,u[p]=A,er(l,c,0,p,zd(l,u,v.hostVars,Ot),v)}function Jg(l,c,u){const p=Ii(c,l),v=yv(u),E=l[10],A=Da(l,uf(l,v,null,u.onPush?64:16,p,c,E,E.createRenderer(p,u),null,null));l[c.index]=A}function jo(l,c,u,p,v,E){const A=Ii(l,c);!function(l,c,u,p,v,E,A){if(null==E)Nn(l)?l.removeAttribute(c,v,u):c.removeAttribute(v);else{const M=null==A?Se(E):A(E,p||"",v);Nn(l)?l.setAttribute(c,v,M,u):u?c.setAttributeNS(u,v,M):c.setAttribute(v,M)}}(c[Q],A,E,l.value,u,p,v)}function xv(l,c,u,p,v,E){const A=E[c];if(null!==A){const M=p.setInput;for(let k=0;k<A.length;){const F=A[k++],B=A[k++],$=A[k++];null!==M?p.setInput(u,$,F,B):u[B]=$}}}function Dl(l,c){let u=null,p=0;for(;p<c.length;){const v=c[p];if(0!==v)if(5!==v){if("number"==typeof v)break;l.hasOwnProperty(v)&&(null===u&&(u=[]),u.push(v,l[v],c[p+1])),p+=2}else p+=2;else p+=4}return u}function Xg(l,c,u,p){return new Array(l,!0,!1,c,null,0,p,u,null,null)}function Dv(l,c){const u=Yi(c,l);if(Js(u)){const p=u[1];80&u[2]?Rs(p,u,p.template,u[8]):u[5]>0&&xa(u)}}function xa(l){for(let p=$n(l);null!==p;p=Dn(p))for(let v=10;v<p.length;v++){const E=p[v];if(1024&E[2]){const A=E[1];Rs(A,E,A.template,E[8])}else E[5]>0&&xa(E)}const u=l[1].components;if(null!==u)for(let p=0;p<u.length;p++){const v=Yi(u[p],l);Js(v)&&v[5]>0&&xa(v)}}function Sv(l,c){const u=Yi(c,l),p=u[1];(function(l,c){for(let u=c.length;u<l.blueprint.length;u++)c.push(l.blueprint[u])})(p,u),Ea(p,u,u[8])}function Da(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function fu(l){for(;l;){l[2]|=64;const c=Bn(l);if(Pl(l)&&!c)return l;l=c}return null}function dm(l,c,u){const p=c[10];p.begin&&p.begin();try{Rs(l,c,l.template,u)}catch(v){throw mu(c,v),v}finally{p.end&&p.end()}}function _f(l){!function(l){for(let c=0;c<l.components.length;c++){const u=l.components[c],p=Td(u),v=p[1];mv(v,p,v.template,u)}}(l[8])}function Zd(l,c,u){id(0),c(l,u)}const n_=(()=>Promise.resolve(null))();function pu(l){return l[7]||(l[7]=[])}function i_(l){return l.cleanup||(l.cleanup=[])}function Ir(l,c,u){return(null===l||Qr(l))&&(u=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(u[c.index])),u[Q]}function mu(l,c){const u=l[9],p=u?u.get(As,null):null;p&&p.handleError(c)}function Wd(l,c,u,p,v){for(let E=0;E<u.length;){const A=u[E++],M=u[E++],k=c[A],F=l.data[A];null!==F.setInput?F.setInput(k,v,p,M):k[M]=v}}function Ho(l,c,u){const p=Ao(c,l);!function(l,c,u){Nn(l)?l.setValue(c,u):c.textContent=u}(l[Q],p,u)}function dc(l,c,u){let p=u?l.styles:null,v=u?l.classes:null,E=0;if(null!==c)for(let A=0;A<c.length;A++){const M=c[A];"number"==typeof M?E=M:1==E?v=Re(v,M):2==E&&(p=Re(p,M+": "+c[++A]+";"))}u?l.styles=p:l.stylesWithoutHost=p,u?l.classes=v:l.classesWithoutHost=v}const yf=new ri("INJECTOR",-1);class co{get(c,u=al){if(u===al){const p=new Error(`NullInjectorError: No provider for ${be(c)}!`);throw p.name="NullInjectorError",p}return u}}const vf=new ri("Set Injector scope."),hc={},Iv={};let Os;function _u(){return void 0===Os&&(Os=new co),Os}function Tr(l,c=null,u=null,p){const v=fc(l,c,u,p);return v._resolveInjectorDefTypes(),v}function fc(l,c=null,u=null,p){return new bf(l,u,c||_u(),p)}class bf{constructor(c,u,p,v=null){this.parent=p,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const E=[];u&&Li(u,M=>this.processProvider(M,c,u)),Li([c],M=>this.processInjectorType(M,[],E)),this.records.set(yf,mc(void 0,this));const A=this.records.get(vf);this.scope=null!=A?A.value:null,this.source=v||("object"==typeof c?null:be(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,u=al,p=Kt.Default){this.assertNotDestroyed();const v=gp(this),E=Zs(void 0);try{if(!(p&Kt.SkipSelf)){let M=this.records.get(c);if(void 0===M){const k=("function"==typeof(l=c)||"object"==typeof l&&l instanceof ri)&&Co(c);M=k&&this.injectableDefInScope(k)?mc(yu(c),hc):null,this.records.set(c,M)}if(null!=M)return this.hydrate(c,M)}return(p&Kt.Self?_u():this.parent).get(c,u=p&Kt.Optional&&u===al?null:u)}catch(A){if("NullInjectorError"===A.name){if((A[Ro]=A[Ro]||[]).unshift(be(c)),v)throw A;return function(l,c,u,p){const v=l[Ro];throw c[Yl]&&v.unshift(c[Yl]),l.message=function(l,c,u,p=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let v=be(c);if(Array.isArray(c))v=c.map(be).join(" -> ");else if("object"==typeof c){let E=[];for(let A in c)if(c.hasOwnProperty(A)){let M=c[A];E.push(A+":"+("string"==typeof M?JSON.stringify(M):be(M)))}v=`{${E.join(", ")}}`}return`${u}${p?"("+p+")":""}[${v}]: ${l.replace(By,"\n  ")}`}("\n"+l.message,v,u,p),l.ngTokenPath=v,l[Ro]=null,l}(A,c,"R3InjectorError",this.source)}throw A}finally{Zs(E),gp(v)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((p,v)=>c.push(be(v))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(c,u,p){if(!(c=Me(c)))return!1;let v=ig(c);const E=null==v&&c.ngModule||void 0,A=void 0===E?c:E,M=-1!==p.indexOf(A);if(void 0!==E&&(v=ig(E)),null==v)return!1;if(null!=v.imports&&!M){let B;p.push(A);try{Li(v.imports,$=>{this.processInjectorType($,u,p)&&(void 0===B&&(B=[]),B.push($))})}finally{}if(void 0!==B)for(let $=0;$<B.length;$++){const{ngModule:ee,providers:ae}=B[$];Li(ae,Ce=>this.processProvider(Ce,ee,ae||Hn))}}this.injectorDefTypes.add(A);const k=ws(A)||(()=>new A);this.records.set(A,mc(k,hc));const F=v.providers;if(null!=F&&!M){const B=c;Li(F,$=>this.processProvider($,B,F))}return void 0!==E&&void 0!==c.providers}processProvider(c,u,p){let v=vu(c=Me(c))?c:Me(c&&c.provide);const E=(l=c,s_(l)?mc(void 0,l.useValue):mc(r_(l),hc));var l;if(vu(c)||!0!==c.multi)this.records.get(v);else{let A=this.records.get(v);A||(A=mc(void 0,hc,!0),A.factory=()=>_d(A.multi),this.records.set(v,A)),v=c,A.multi.push(c)}this.records.set(v,E)}hydrate(c,u){return u.value===hc&&(u.value=Iv,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(l=u.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var l}injectableDefInScope(c){if(!c.providedIn)return!1;const u=Me(c.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function yu(l){const c=Co(l),u=null!==c?c.factory:ws(l);if(null!==u)return u;if(l instanceof ri)throw new Error(`Token ${be(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const c=l.length;if(c>0){const p=Wl(c,"?");throw new Error(`Can't resolve all parameters for ${be(l)}: (${p.join(", ")}).`)}const u=function(l){const c=l&&(l[Ha]||l[rg]);if(c){const u=function(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(l);return null!==u?()=>u.factory(l):()=>new l}(l);throw new Error("unreachable")}function r_(l,c,u){let p;if(vu(l)){const v=Me(l);return ws(v)||yu(v)}if(s_(l))p=()=>Me(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))p=()=>l.useFactory(..._d(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))p=()=>Di(Me(l.useExisting));else{const v=Me(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return ws(v)||yu(v);p=()=>new v(..._d(l.deps))}return p}function mc(l,c,u=!1){return{factory:l,value:c,multi:u?[]:void 0}}function s_(l){return null!==l&&"object"==typeof l&&Uy in l}function vu(l){return"function"==typeof l}let m=(()=>{class l{static create(u,p){var v;if(Array.isArray(u))return Tr({name:""},p,u,"");{const E=null!==(v=u.name)&&void 0!==v?v:"";return Tr({name:E},u.parent,u.providers,E)}}}return l.THROW_IF_NOT_FOUND=al,l.NULL=new co,l.\u0275prov=Mn({token:l,providedIn:"any",factory:()=>Di(yf)}),l.__NG_ELEMENT_ID__=-1,l})();function Mi(l,c){op(Td(l)[1],lt())}function Rv(l){let c=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),u=!0;const p=[l];for(;c;){let v;if(Qr(l))v=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Error("Directives cannot inherit Components");v=c.\u0275dir}if(v){if(u){p.push(v);const A=l;A.inputs=wm(l.inputs),A.declaredInputs=wm(l.declaredInputs),A.outputs=wm(l.outputs);const M=v.hostBindings;M&&dn(l,M);const k=v.viewQuery,F=v.contentQueries;if(k&&q0(l,k),F&&Ov(l,F),ce(l.inputs,v.inputs),ce(l.declaredInputs,v.declaredInputs),ce(l.outputs,v.outputs),Qr(v)&&v.data.animation){const B=l.data;B.animation=(B.animation||[]).concat(v.data.animation)}}const E=v.features;if(E)for(let A=0;A<E.length;A++){const M=E[A];M&&M.ngInherit&&M(l),M===Rv&&(u=!1)}}c=Object.getPrototypeOf(c)}!function(l){let c=0,u=null;for(let p=l.length-1;p>=0;p--){const v=l[p];v.hostVars=c+=v.hostVars,v.hostAttrs=ui(v.hostAttrs,u=ui(u,v.hostAttrs))}}(p)}function wm(l){return l===Pn?{}:l===Hn?[]:l}function q0(l,c){const u=l.viewQuery;l.viewQuery=u?(p,v)=>{c(p,v),u(p,v)}:c}function Ov(l,c){const u=l.contentQueries;l.contentQueries=u?(p,v,E)=>{c(p,v,E),u(p,v,E)}:c}function dn(l,c){const u=l.hostBindings;l.hostBindings=u?(p,v)=>{c(p,v),u(p,v)}:c}let Pv=null;function Ef(){if(!Pv){const l=kn.Symbol;if(l&&l.iterator)Pv=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const p=c[u];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(Pv=p)}}}return Pv}function Yd(l){return!!f(l)&&(Array.isArray(l)||!(l instanceof Map)&&Ef()in l)}function f(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function b(l,c,u){return l[c]=u}function D(l,c,u){return!Object.is(l[c],u)&&(l[c]=u,!0)}function he(l,c,u,p){const v=ne();return D(v,Ul(),c)&&(xe(),jo(_i(),v,l,c,u,p)),he}function We(l,c,u,p){return D(l,Ul(),u)?c+Se(u)+p:Ot}function YS(l,c,u,p,v,E,A,M){const k=ne(),F=xe(),B=l+20,$=F.firstCreatePass?function(l,c,u,p,v,E,A,M,k){const F=c.consts,B=cu(c,l,4,A||null,dr(F,M));cc(c,u,B,dr(F,k)),op(c,B);const $=B.tViews=lc(2,B,p,v,E,c.directiveRegistry,c.pipeRegistry,null,c.schemas,F);return null!==c.queries&&(c.queries.template(c,B),$.queries=c.queries.embeddedTView(B)),B}(B,F,k,c,u,p,v,E,A):F.data[B];Wt($,!1);const ee=k[Q].createComment("");va(F,k,ee,$),Bi(ee,k),Da(k,k[B]=Xg(ee,k,ee,$)),dh($)&&gv(F,k,$),null!=A&&_v(k,$,M)}function Fv(l){return ur(Dt.lFrame.contextLView,20+l)}function Y0(l,c=Kt.Default){const u=ne();return null===u?Di(l,c):no(lt(),u,Me(l),c)}function P1(){throw new Error("invalid")}function cE(l,c,u){const p=ne();return D(p,Ul(),c)&&ns(xe(),_i(),p,l,c,p[Q],u,!1),cE}function iA(l,c,u,p,v){const A=v?"class":"style";Wd(l,u,c.inputs[A],A,p)}function Vv(l,c,u,p){const v=ne(),E=xe(),A=20+l,M=v[Q],k=v[A]=Xi(M,c,Dt.lFrame.currentNamespace),F=E.firstCreatePass?function(l,c,u,p,v,E,A){const M=c.consts,F=cu(c,l,2,v,dr(M,E));return cc(c,u,F,dr(M,A)),null!==F.attrs&&dc(F,F.attrs,!1),null!==F.mergedAttrs&&dc(F,F.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,F),F}(A,E,v,0,c,u,p):E.data[A];Wt(F,!0);const B=F.mergedAttrs;null!==B&&To(M,k,B);const $=F.classes;null!==$&&ba(M,k,$);const ee=F.styles;null!==ee&&Qh(M,k,ee),64!=(64&F.flags)&&va(E,v,k,F),0===Dt.lFrame.elementDepthCount&&Bi(k,v),Dt.lFrame.elementDepthCount++,dh(F)&&(gv(E,v,F),df(E,F,v)),null!==p&&_v(v,F)}function rA(){let l=lt();Xr()?Ki():(l=l.parent,Wt(l,!1));const c=l;Dt.lFrame.elementDepthCount--;const u=xe();u.firstCreatePass&&(op(u,l),Za(l)&&u.queries.elementEnd(l)),null!=c.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(c)&&iA(u,c,ne(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(c)&&iA(u,c,ne(),c.stylesWithoutHost,!1)}function K0(l,c,u,p){Vv(l,c,u,p),rA()}function sA(l,c,u){const p=ne(),v=xe(),E=l+20,A=v.firstCreatePass?function(l,c,u,p,v){const E=c.consts,A=dr(E,p),M=cu(c,l,8,"ng-container",A);return null!==A&&dc(M,A,!0),cc(c,u,M,dr(E,v)),null!==c.queries&&c.queries.elementStart(c,M),M}(E,v,p,c,u):v.data[E];Wt(A,!0);const M=p[E]=p[Q].createComment("");va(v,p,M,A),Bi(M,p),dh(A)&&(gv(v,p,A),df(v,A,p)),null!=u&&_v(p,A)}function oA(){let l=lt();const c=xe();Xr()?Ki():(l=l.parent,Wt(l,!1)),c.firstCreatePass&&(op(c,l),Za(l)&&c.queries.elementEnd(l))}function F1(l,c,u){sA(l,c,u),oA()}function L1(){return ne()}function uE(l){return!!l&&"function"==typeof l.then}function aA(l){return!!l&&"function"==typeof l.subscribe}const lA=aA;function dE(l,c,u,p){const v=ne(),E=xe(),A=lt();return uA(E,v,v[Q],A,l,c,!!u,p),dE}function cA(l,c){const u=lt(),p=ne(),v=xe();return uA(v,p,Ir(_h(v.data),u,p),u,l,c,!1),cA}function uA(l,c,u,p,v,E,A,M){const k=dh(p),B=l.firstCreatePass&&i_(l),$=c[8],ee=pu(c);let ae=!0;if(3&p.type||M){const Xe=Ii(p,c),ft=M?M(Xe):Xe,Fe=ee.length,Tt=M?cn=>M(ei(cn[p.index])):p.index;if(Nn(u)){let cn=null;if(!M&&k&&(cn=function(l,c,u,p){const v=l.cleanup;if(null!=v)for(let E=0;E<v.length-1;E+=2){const A=v[E];if(A===u&&v[E+1]===p){const M=c[7],k=v[E+2];return M.length>k?M[k]:null}"string"==typeof A&&(E+=2)}return null}(l,c,v,p.index)),null!==cn)(cn.__ngLastListenerFn__||cn).__ngNextListenerFn__=E,cn.__ngLastListenerFn__=E,ae=!1;else{E=Q0(p,c,$,E,!1);const hn=u.listen(ft,v,E);ee.push(E,hn),B&&B.push(v,Tt,Fe,Fe+1)}}else E=Q0(p,c,$,E,!0),ft.addEventListener(v,E,A),ee.push(E),B&&B.push(v,Tt,Fe,A)}else E=Q0(p,c,$,E,!1);const Ce=p.outputs;let $e;if(ae&&null!==Ce&&($e=Ce[v])){const Xe=$e.length;if(Xe)for(let ft=0;ft<Xe;ft+=2){const ka=c[$e[ft]][$e[ft+1]].subscribe(E),Pf=ee.length;ee.push(E,ka),B&&B.push(v,p.index,Pf,-(Pf+1))}}}function B1(l,c,u,p){try{return!1!==u(p)}catch(v){return mu(l,v),!1}}function Q0(l,c,u,p,v){return function E(A){if(A===Function)return p;const M=2&l.flags?Yi(l.index,c):c;0==(32&c[2])&&fu(M);let k=B1(c,0,p,A),F=E.__ngNextListenerFn__;for(;F;)k=B1(c,0,F,A)&&k,F=F.__ngNextListenerFn__;return v&&!1===k&&(A.preventDefault(),A.returnValue=!1),k}}function xf(l=1){return function(l){return(Dt.lFrame.contextLView=function(l,c){for(;l>0;)c=c[15],l--;return c}(l,Dt.lFrame.contextLView))[8]}(l)}function V1(l,c){let u=null;const p=function(l){const c=l.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(l);for(let v=0;v<c.length;v++){const E=c[v];if("*"!==E){if(null===p?lv(l,E,!0):wl(p,E))return v}else u=v}return u}function dA(l){const c=ne()[16][6];if(!c.projection){const p=c.projection=Wl(l?l.length:1,null),v=p.slice();let E=c.child;for(;null!==E;){const A=l?V1(E,l):0;null!==A&&(v[A]?v[A].projectionNext=E:p[A]=E,v[A]=E),E=E.next}}}function hA(l,c=0,u){const p=ne(),v=xe(),E=cu(v,20+l,16,null,u||null);null===E.projection&&(E.projection=c),Ki(),64!=(64&E.flags)&&function(l,c,u){Og(c[Q],0,c,u,$h(l,u,c),qp(u.parent||c[6],u,c))}(v,p,E)}function fA(l,c,u){return Uv(l,"",c,"",u),fA}function Uv(l,c,u,p,v){const E=ne(),A=We(E,c,u,p);return A!==Ot&&ns(xe(),_i(),E,l,A,E[Q],v,!1),Uv}function ji(l,c,u,p,v){const E=l[u+1],A=null===c;let M=p?Ar(E):Ms(E),k=!1;for(;0!==M&&(!1===k||A);){const B=l[M+1];z1(l[M],c)&&(k=!0,l[M+1]=p?rf(B):nf(B)),M=p?Ar(B):Ms(B)}k&&(l[u+1]=p?nf(E):rf(E))}function z1(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&yi(l,c)>=0}const tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function J0(l){return l.substring(tr.key,tr.keyEnd)}function bA(l,c){const u=tr.textEnd;return u===c?-1:(c=tr.keyEnd=function(l,c,u){for(;c<u&&l.charCodeAt(c)>32;)c++;return c}(l,tr.key=c,u),u_(l,c,u))}function u_(l,c,u){for(;c<u&&l.charCodeAt(c)<=32;)c++;return c}function d_(l,c,u){return gc(l,c,u,!1),d_}function Hv(l,c){return gc(l,c,null,!0),Hv}function Su(l,c){for(let u=function(l){return function(l){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=l.length}(l),bA(l,u_(l,0,tr.textEnd))}(c);u>=0;u=bA(c,u))jr(l,J0(c),!0)}function gc(l,c,u,p){const v=ne(),E=xe(),A=Xs(2);E.firstUpdatePass&&zv(E,l,A,p),c!==Ot&&D(v,A,c)&&bE(E,E.data[ii()],v,v[Q],l,v[A+1]=function(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=be(da(l)))),l}(c,u),p,A)}function mE(l,c){return c>=l.expandoStartIndex}function zv(l,c,u,p){const v=l.data;if(null===v[u+1]){const E=v[ii()],A=mE(l,u);tw(E,p)&&null===c&&!A&&(c=!1),c=function(l,c,u,p){const v=_h(l);let E=p?c.residualClasses:c.residualStyles;if(null===v)0===(p?c.classBindings:c.styleBindings)&&(u=h_(u=gE(null,l,c,u,p),c.attrs,p),E=null);else{const A=c.directiveStylingLast;if(-1===A||l[A]!==v)if(u=gE(v,l,c,u,p),null===E){let k=function(l,c,u){const p=u?c.classBindings:c.styleBindings;if(0!==Ms(p))return l[Ar(p)]}(l,c,p);void 0!==k&&Array.isArray(k)&&(k=gE(null,l,c,k[1],p),k=h_(k,c.attrs,p),function(l,c,u,p){l[Ar(u?c.classBindings:c.styleBindings)]=p}(l,c,p,k))}else E=function(l,c,u){let p;const v=c.directiveEnd;for(let E=1+c.directiveStylingLast;E<v;E++)p=h_(p,l[E].hostAttrs,u);return h_(p,c.attrs,u)}(l,c,p)}return void 0!==E&&(p?c.residualClasses=E:c.residualStyles=E),u}(v,E,c,p),function(l,c,u,p,v,E){let A=E?c.classBindings:c.styleBindings,M=Ar(A),k=Ms(A);l[p]=u;let B,F=!1;if(Array.isArray(u)){const $=u;B=$[1],(null===B||yi($,B)>0)&&(F=!0)}else B=u;if(v)if(0!==k){const ee=Ar(l[M+1]);l[p+1]=rc(ee,M),0!==ee&&(l[ee+1]=Cl(l[ee+1],p)),l[M+1]=function(l,c){return 131071&l|c<<17}(l[M+1],p)}else l[p+1]=rc(M,0),0!==M&&(l[M+1]=Cl(l[M+1],p)),M=p;else l[p+1]=rc(k,0),0===M?M=p:l[k+1]=Cl(l[k+1],p),k=p;F&&(l[p+1]=nf(l[p+1])),ji(l,B,p,!0),ji(l,B,p,!1),function(l,c,u,p,v){const E=v?l.residualClasses:l.residualStyles;null!=E&&"string"==typeof c&&yi(E,c)>=0&&(u[p+1]=rf(u[p+1]))}(c,B,l,p,E),A=rc(M,k),E?c.classBindings=A:c.styleBindings=A}(v,E,c,u,A,p)}}function gE(l,c,u,p,v){let E=null;const A=u.directiveEnd;let M=u.directiveStylingLast;for(-1===M?M=u.directiveStart:M++;M<A&&(E=c[M],p=h_(p,E.hostAttrs,v),E!==l);)M++;return null!==l&&(u.directiveStylingLast=M),p}function h_(l,c,u){const p=u?1:2;let v=-1;if(null!==c)for(let E=0;E<c.length;E++){const A=c[E];"number"==typeof A?v=A:v===p&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),jr(l,A,!!u||c[++E]))}return void 0===l?null:l}function bE(l,c,u,p,v,E,A,M){if(!(3&c.type))return;const k=l.data,F=k[M+1];ew(function(l){return 1==(1&l)}(F)?f_(k,c,u,v,Ms(F),A):void 0)||(ew(E)||function(l){return 2==(2&l)}(F)&&(E=f_(k,null,u,v,M,A)),function(l,c,u,p,v){const E=Nn(l);if(c)v?E?l.addClass(u,p):u.classList.add(p):E?l.removeClass(u,p):u.classList.remove(p);else{let A=-1===p.indexOf("-")?void 0:es.DashCase;if(null==v)E?l.removeStyle(u,p,A):u.style.removeProperty(p);else{const M="string"==typeof v&&v.endsWith("!important");M&&(v=v.slice(0,-10),A|=es.Important),E?l.setStyle(u,p,v,A):u.style.setProperty(p,v,M?"important":"")}}}(p,A,Ao(ii(),u),v,E))}function f_(l,c,u,p,v,E){const A=null===c;let M;for(;v>0;){const k=l[v],F=Array.isArray(k),B=F?k[1]:k,$=null===B;let ee=u[v+1];ee===Ot&&(ee=$?Hn:void 0);let ae=$?fd(ee,p):B===p?ee:void 0;if(F&&!ew(ae)&&(ae=fd(k,p)),ew(ae)&&(M=ae,A))return M;const Ce=l[v+1];v=A?Ar(Ce):Ms(Ce)}if(null!==c){let k=E?c.residualClasses:c.residualStyles;null!=k&&(M=fd(k,p))}return M}function ew(l){return void 0!==l}function tw(l,c){return 0!=(l.flags&(c?16:32))}function SA(l,c=""){const u=ne(),p=xe(),v=l+20,E=p.firstCreatePass?cu(p,v,1,c,null):p.data[v],A=u[v]=function(l,c){return Nn(l)?l.createText(c):l.createTextNode(c)}(u[Q],c);va(p,u,A,E),Wt(E,!1)}function Gv(l){return p_("",l,""),Gv}function p_(l,c,u){const p=ne(),v=We(p,l,c,u);return v!==Ot&&Ho(p,ii(),v),p_}function sw(l,c,u){!function(l,c,u,p){const v=xe(),E=Xs(2);v.firstUpdatePass&&zv(v,null,E,p);const A=ne();if(u!==Ot&&D(A,E,u)){const M=v.data[ii()];if(tw(M,p)&&!mE(v,E)){let k=p?M.classesWithoutHost:M.stylesWithoutHost;null!==k&&(u=Re(k,u||"")),iA(v,M,A,u,p)}else!function(l,c,u,p,v,E,A,M){v===Ot&&(v=Hn);let k=0,F=0,B=0<v.length?v[0]:null,$=0<E.length?E[0]:null;for(;null!==B||null!==$;){const ee=k<v.length?v[k+1]:void 0,ae=F<E.length?E[F+1]:void 0;let $e,Ce=null;B===$?(k+=2,F+=2,ee!==ae&&(Ce=$,$e=ae)):null===$||null!==B&&B<$?(k+=2,Ce=B):(F+=2,Ce=$,$e=ae),null!==Ce&&bE(l,c,u,p,Ce,$e,A,M),B=k<v.length?v[k]:null,$=F<E.length?E[F]:null}}(v,M,A,A[Q],A[E+1],A[E+1]=function(l,c,u){if(null==u||""===u)return Hn;const p=[],v=da(u);if(Array.isArray(v))for(let E=0;E<v.length;E++)l(p,v[E],!0);else if("object"==typeof v)for(const E in v)v.hasOwnProperty(E)&&l(p,E,v[E]);else"string"==typeof v&&c(p,v);return p}(l,c,u),p,E)}}(jr,Su,We(ne(),l,c,u),!0)}function lw(l,c,u){const p=ne();return D(p,Ul(),c)&&ns(xe(),_i(),p,l,c,p[Q],u,!0),lw}function cw(l,c,u){const p=ne();if(D(p,Ul(),c)){const E=xe(),A=_i();ns(E,A,p,l,c,Ir(_h(E.data),A,p),u,!0)}return cw}const g_=void 0;var rV=["en",[["a","p"],["AM","PM"],g_],[["AM","PM"],g_,g_],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],g_,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],g_,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",g_,"{1} 'at' {0}",g_],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const u=Math.floor(Math.abs(l)),p=l.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===p?1:5}];let $v={};function LA(l){const c=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let u=ME(c);if(u)return u;const p=c.split("-")[0];if(u=ME(p),u)return u;if("en"===p)return rV;throw new Error(`Missing locale data for the locale "${l}".`)}function BA(l){return LA(l)[Mt.PluralCase]}function ME(l){return l in $v||($v[l]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[l]),$v[l]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const __="en-US";let lR=__;function Sm(l,c,u,p,v){if(l=Me(l),Array.isArray(l))for(let E=0;E<l.length;E++)Sm(l[E],c,u,p,v);else{const E=xe(),A=ne();let M=vu(l)?l:Me(l.provide),k=r_(l);const F=lt(),B=1048575&F.providerIndexes,$=F.directiveStart,ee=F.providerIndexes>>20;if(vu(l)||!l.multi){const ae=new jc(k,v,Y0),Ce=YE(M,c,v?B:B+ee,$);-1===Ce?(oa(Xa(F,A),E,M),x_(E,l,c.length),c.push(M),F.directiveStart++,F.directiveEnd++,v&&(F.providerIndexes+=1048576),u.push(ae),A.push(ae)):(u[Ce]=ae,A[Ce]=ae)}else{const ae=YE(M,c,B+ee,$),Ce=YE(M,c,B,B+ee),$e=ae>=0&&u[ae],Xe=Ce>=0&&u[Ce];if(v&&!Xe||!v&&!$e){oa(Xa(F,A),E,M);const ft=function(l,c,u,p,v){const E=new jc(l,u,Y0);return E.multi=[],E.index=c,E.componentProviders=0,Qv(E,v,p&&!u),E}(v?gw:KE,u.length,v,p,k);!v&&Xe&&(u[Ce].providerFactory=ft),x_(E,l,c.length,0),c.push(M),F.directiveStart++,F.directiveEnd++,v&&(F.providerIndexes+=1048576),u.push(ft),A.push(ft)}else x_(E,l,ae>-1?ae:Ce,Qv(u[v?Ce:ae],k,!v&&p));!v&&p&&Xe&&u[Ce].componentProviders++}}}function x_(l,c,u,p){const v=vu(c),E=function(l){return!!l.useClass}(c);if(v||E){const k=(E?Me(c.useClass):c).prototype.ngOnDestroy;if(k){const F=l.destroyHooks||(l.destroyHooks=[]);if(!v&&c.multi){const B=F.indexOf(u);-1===B?F.push(u,[p,k]):F[B+1].push(p,k)}else F.push(u,k)}}}function Qv(l,c,u){return u&&l.componentProviders++,l.multi.push(c)-1}function YE(l,c,u,p){for(let v=u;v<p;v++)if(c[v]===l)return v;return-1}function KE(l,c,u,p){return QE(this.multi,[])}function gw(l,c,u,p){const v=this.multi;let E;if(this.providerFactory){const A=this.providerFactory.componentProviders,M=la(u,u[1],this.providerFactory.index,p);E=M.slice(0,A),QE(v,E);for(let k=A;k<M.length;k++)E.push(M[k])}else E=[],QE(v,E);return E}function QE(l,c){for(let u=0;u<l.length;u++)c.push((0,l[u])());return c}function JE(l,c=[]){return u=>{u.providersResolver=(p,v)=>function(l,c,u){const p=xe();if(p.firstCreatePass){const v=Qr(l);Sm(u,p.data,p.blueprint,v,!0),Sm(c,p.data,p.blueprint,v,!1)}}(p,v?v(l):l,c)}}class XE{}class ex{resolveComponentFactory(c){throw function(l){const c=Error(`No component factory found for ${be(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Jv=(()=>{class l{}return l.NULL=new ex,l})();function nI(){return Af(lt(),ne())}function Af(l,c){return new If(Ii(l,c))}let If=(()=>{class l{constructor(u){this.nativeElement=u}}return l.__NG_ELEMENT_ID__=nI,l})();function _V(l){return l instanceof If?l.nativeElement:l}class Xv{}let D_=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function(){const l=ne(),u=Yi(lt().index,l);return function(l){return l[Q]}(Er(u)?u:l)}(),l})(),tx=(()=>{class l{}return l.\u0275prov=Mn({token:l,providedIn:"root",factory:()=>null}),l})();class nx{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const yw=new nx("13.1.1"),vw={};function S_(l,c,u,p,v=!1){for(;null!==u;){const E=c[u.index];if(null!==E&&p.push(ei(E)),cr(E))for(let M=10;M<E.length;M++){const k=E[M],F=k[1].firstChild;null!==F&&S_(k[1],k,F,p)}const A=u.type;if(8&A)S_(l,c,u.child,p);else if(32&A){const M=_a(u,c);let k;for(;k=M();)p.push(k)}else if(16&A){const M=Rg(c,u);if(Array.isArray(M))p.push(...M);else{const k=Bn(c[16]);S_(k[1],k,M,p,!0)}}u=v?u.projectionNext:u.next}return p}class Am{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return S_(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(cr(c)){const u=c[8],p=u?u.indexOf(this):-1;p>-1&&(Si(c,p),ol(u,p))}this._attachedToViewContainer=!1}Fd(this._lView[1],this._lView)}onDestroy(c){Wg(this._lView[1],this._lView,null,c)}markForCheck(){fu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){dm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,c,u){Uc(!0);try{dm(l,c,u)}finally{Uc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var c;this._appRef=null,Ud(this._lView[1],c=this._lView,c[Q],2,null,null)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}}class Im extends Am{constructor(c){super(c),this._view=c}detectChanges(){_f(this._view)}checkNoChanges(){!function(l){Uc(!0);try{_f(l)}finally{Uc(!1)}}(this._view)}get context(){return null}}class A_ extends Jv{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=nt(c);return new ww(u,this.ngModule)}}function bw(l){const c=[];for(let u in l)l.hasOwnProperty(u)&&c.push({propName:l[u],templateName:u});return c}const tb=new ri("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fo});class ww extends XE{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=c.selectors.map(wa).join(","),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return bw(this.componentDef.inputs)}get outputs(){return bw(this.componentDef.outputs)}create(c,u,p,v){const E=(v=v||this.ngModule)?function(l,c){return{get:(u,p,v)=>{const E=l.get(u,vw,v);return E!==vw||p===vw?E:c.get(u,p,v)}}}(c,v.injector):c,A=E.get(Xv,ag),M=E.get(tx,null),k=A.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",B=p?function(l,c,u){if(Nn(l))return l.selectRootElement(c,u===_t.ShadowDom);let p="string"==typeof c?l.querySelector(c):c;return p.textContent="",p}(k,p,this.componentDef.encapsulation):Xi(A.createRenderer(null,this.componentDef),F,function(l){const c=l.toLowerCase();return"svg"===c?hh:"math"===c?"http://www.w3.org/1998/MathML/":null}(F)),$=this.componentDef.onPush?576:528,ee=function(l,c){return{components:[],scheduler:l||Fo,clean:n_,playerHandler:c||null,flags:0}}(),ae=lc(0,null,null,1,0,null,null,null,null,null),Ce=uf(null,ae,ee,$,null,null,A,k,M,E);let $e,Xe;rd(Ce);try{const ft=function(l,c,u,p,v,E){const A=u[1];u[20]=l;const k=cu(A,20,2,"#host",null),F=k.mergedAttrs=c.hostAttrs;null!==F&&(dc(k,F,!0),null!==l&&(To(v,l,F),null!==k.classes&&ba(v,l,k.classes),null!==k.styles&&Qh(v,l,k.styles)));const B=p.createRenderer(l,c),$=uf(u,yv(c),null,c.onPush?64:16,u[20],k,p,B,E||null,null);return A.firstCreatePass&&(oa(Xa(k,u),A,c.type),qd(A,k),mf(k,u.length,1)),Da(u,$),u[20]=$}(B,this.componentDef,Ce,A,k);if(B)if(p)To(k,B,["ng-version",yw.full]);else{const{attrs:Fe,classes:Tt}=function(l){const c=[],u=[];let p=1,v=2;for(;p<l.length;){let E=l[p];if("string"==typeof E)2===v?""!==E&&c.push(E,l[++p]):8===v&&u.push(E);else{if(!tn(v))break;v=E}p++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);Fe&&To(k,B,Fe),Tt&&Tt.length>0&&ba(k,B,Tt.join(" "))}if(Xe=Ll(ae,20),void 0!==u){const Fe=Xe.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const cn=u[Tt];Fe.push(null!=cn?Array.from(cn):null)}}$e=function(l,c,u,p,v){const E=u[1],A=function(l,c,u){const p=lt();l.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Ev(l,p,c,zd(l,c,1,null),u));const v=la(c,l,p.directiveStart,p);Bi(v,c);const E=Ii(p,c);return E&&Bi(E,c),v}(E,u,c);if(p.components.push(A),l[8]=A,v&&v.forEach(k=>k(A,c)),c.contentQueries){const k=lt();c.contentQueries(1,A,k.directiveStart)}const M=lt();return!E.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Ka(M.index),er(u[1],M,0,M.directiveStart,M.directiveEnd,c),hu(c,A)),A}(ft,this.componentDef,Ce,ee,[Mi]),Ea(ae,Ce,null)}finally{Ch()}return new vV(this.componentType,$e,Af(Xe,Ce),Ce,Xe)}}class vV extends class{}{constructor(c,u,p,v,E){super(),this.location=p,this._rootLView=v,this._tNode=E,this.instance=u,this.hostView=this.changeDetectorRef=new Im(v),this.componentType=c}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}class I_{}class ix{}const T_=new Map;class RR extends I_{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new A_(this);const p=Lt(c);this._bootstrapComponents=ds(p.bootstrap),this._r3Injector=fc(c,u,[{provide:I_,useValue:this},{provide:Jv,useValue:this.componentFactoryResolver}],be(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,u=m.THROW_IF_NOT_FOUND,p=Kt.Default){return c===m||c===I_||c===yf?this:this._r3Injector.get(c,u,p)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Cw extends ix{constructor(c){super(),this.moduleType=c,null!==Lt(c)&&function(l){const c=new Set;!function u(p){const v=Lt(p,!0),E=v.id;null!==E&&(function(l,c,u){if(c&&c!==u)throw new Error(`Duplicate module registered for ${l} - ${be(c)} vs ${be(c.name)}`)}(E,T_.get(E),p),T_.set(E,p));const A=ds(v.imports);for(const M of A)c.has(M)||(c.add(M),u(M))}(l)}(c)}create(c){return new RR(this.moduleType,c)}}function iI(l,c,u){const p=xr()+l,v=ne();return v[p]===Ot?b(v,p,u?c.call(u):c()):function(l,c){return l[c]}(v,p)}function sx(l,c,u,p){return aI(ne(),xr(),l,c,u,p)}function rI(l,c,u,p,v){return function(l,c,u,p,v,E,A){const M=c+u;return function(l,c,u,p){const v=D(l,c,u);return D(l,c+1,p)||v}(l,M,v,E)?b(l,M+2,A?p.call(A,v,E):p(v,E)):Mm(l,M+2)}(ne(),xr(),l,c,u,p,v)}function Mm(l,c){const u=l[c];return u===Ot?void 0:u}function aI(l,c,u,p,v,E){const A=c+u;return D(l,A,v)?b(l,A+1,E?p.call(E,v):p(v)):Mm(l,A+1)}function cI(l,c){const u=xe();let p;const v=l+20;u.firstCreatePass?(p=function(l,c){if(c)for(let u=c.length-1;u>=0;u--){const p=c[u];if(l===p.name)return p}}(c,u.pipeRegistry),u.data[v]=p,p.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(v,p.onDestroy)):p=u.data[v];const E=p.factory||(p.factory=ws(p.type)),A=Zs(Y0);try{const M=fn(!1),k=E();return fn(M),function(l,c,u,p){u>=l.data.length&&(l.data[u]=null,l.blueprint[u]=null),c[u]=p}(u,ne(),v,k),k}finally{Zs(A)}}function dI(l,c,u){const p=l+20,v=ne(),E=ur(v,p);return function(l,c){return l[1].data[c].pure}(v,p)?aI(v,xr(),c,E.transform,u,E):E.transform(u)}function rb(l){return c=>{setTimeout(l,void 0,c)}}const Tu=class extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,p){var v,E,A;let M=c,k=u||(()=>null),F=p;if(c&&"object"==typeof c){const $=c;M=null===(v=$.next)||void 0===v?void 0:v.bind($),k=null===(E=$.error)||void 0===E?void 0:E.bind($),F=null===(A=$.complete)||void 0===A?void 0:A.bind($)}this.__isAsync&&(k=rb(k),M&&(M=rb(M)),F&&(F=rb(F)));const B=super.subscribe({next:M,error:k,complete:F});return c instanceof ge.w0&&c.add(B),B}};function fI(){return this._results[Ef()]()}class sb{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ef(),p=sb.prototype;p[u]||(p[u]=fI)}get changes(){return this._changes||(this._changes=new Tu)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const p=this;p.dirty=!1;const v=si(c);(this._changesDetected=!function(l,c,u){if(l.length!==c.length)return!1;for(let p=0;p<l.length;p++){let v=l[p],E=c[p];if(u&&(v=u(v),E=u(E)),E!==v)return!1}return!0}(p._results,v,u))&&(p._results=v,p.length=v.length,p.last=v[this.length-1],p.first=v[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kf=(()=>{class l{}return l.__NG_ELEMENT_ID__=VR,l})();const BR=kf,pI=class extends BR{constructor(c,u,p){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=p}createEmbeddedView(c){const u=this._declarationTContainer.tViews,p=uf(this._declarationLView,u,c,16,null,u.declTNode,null,null,null,null);p[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(p[19]=E.createEmbeddedView(u)),Ea(u,p,c),new Am(p)}};function VR(){return ob(lt(),ne())}function ob(l,c){return 4&l.type?new pI(c,l,Af(l,c)):null}let xw=(()=>{class l{}return l.__NG_ELEMENT_ID__=UR,l})();function UR(){return gI(lt(),ne())}const Kd=xw,Dw=class extends Kd{constructor(c,u,p){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=p}get element(){return Af(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){const c=Gc(this._hostTNode,this._hostLView);if(od(c)){const u=bn(c,this._hostLView),p=ra(c);return new Vr(u[1].data[p+8],u)}return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=mI(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,p){const v=c.createEmbeddedView(u||{});return this.insert(v,p),v}createComponent(c,u,p,v,E){const A=c&&!("function"==typeof c);let M;if(A)M=u;else{const $=u||{};M=$.index,p=$.injector,v=$.projectableNodes,E=$.ngModuleRef}const k=A?c:new ww(nt(c)),F=p||this.parentInjector;if(!E&&null==k.ngModule&&F){const $=F.get(I_,null);$&&(E=$)}const B=k.create(F,v,void 0,E);return this.insert(B.hostView,M),B}insert(c,u){const p=c._lView,v=p[1];if(cr(p[3])){const B=this.indexOf(c);if(-1!==B)this.detach(B);else{const $=p[3],ee=new Dw($,$[6],$[3]);ee.detach(ee.indexOf(c))}}const E=this._adjustIndex(u),A=this._lContainer;!function(l,c,u,p){const v=10+p,E=u.length;p>0&&(u[v-1][4]=c),p<E-10?(c[4]=u[v],Zl(u,10+p,c)):(u.push(c),c[4]=null),c[3]=u;const A=c[17];null!==A&&u!==A&&function(l,c){const u=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===u?l[9]=[c]:u.push(c)}(A,c);const M=c[19];null!==M&&M.insertView(l),c[2]|=128}(v,p,A,E);const M=Ts(E,A),k=p[Q],F=Wh(k,A[7]);return null!==F&&function(l,c,u,p,v,E){p[0]=v,p[6]=c,Ud(l,p,u,1,v,E)}(v,A[6],k,p,F,M),c.attachToViewContainerRef(),Zl(M_(A),E,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=mI(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),p=Si(this._lContainer,u);p&&(ol(M_(this._lContainer),u),Fd(p[1],p))}detach(c){const u=this._adjustIndex(c,-1),p=Si(this._lContainer,u);return p&&null!=ol(M_(this._lContainer),u)?new Am(p):null}_adjustIndex(c,u=0){return null==c?this.length+u:c}};function mI(l){return l[8]}function M_(l){return l[8]||(l[8]=[])}function gI(l,c){let u;const p=c[l.index];if(cr(p))u=p;else{let v;if(8&l.type)v=ei(p);else{const E=c[Q];v=E.createComment("");const A=Ii(l,c);ya(E,Wh(E,A),v,function(l,c){return Nn(l)?l.nextSibling(c):c.nextSibling}(E,A),!1)}c[l.index]=u=Xg(p,c,v,l),Da(c,u)}return new Dw(u,l,c)}class cx{constructor(c){this.queryList=c,this.matches=null}clone(){return new cx(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sw{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const p=null!==c.contentQueries?c.contentQueries[0]:u.length,v=[];for(let E=0;E<p;E++){const A=u.getByIndex(E);v.push(this.queries[A.indexInDeclarationView].clone())}return new Sw(v)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==lb(c,u).matches&&this.queries[u].setDirty()}}class zR{constructor(c,u,p=null){this.predicate=c,this.flags=u,this.read=p}}class yI{constructor(c=[]){this.queries=c}elementStart(c,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let p=0;p<this.length;p++){const v=null!==u?u.length:0,E=this.getByIndex(p).embeddedTView(c,v);E&&(E.indexInDeclarationView=p,null!==u?u.push(E):u=[E])}return null!==u?new yI(u):null}template(c,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class vI{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new vI(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let v=0;v<p.length;v++){const E=p[v];this.matchTNodeWithReadOption(c,u,bI(u,E)),this.matchTNodeWithReadOption(c,u,Sh(u,c,E,!1,!1))}else p===kf?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Sh(u,c,p,!1,!1))}matchTNodeWithReadOption(c,u,p){if(null!==p){const v=this.metadata.read;if(null!==v)if(v===If||v===xw||v===kf&&4&u.type)this.addMatch(u.index,-2);else{const E=Sh(u,c,v,!1,!1);null!==E&&this.addMatch(u.index,E)}else this.addMatch(u.index,p)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function bI(l,c){const u=l.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===c)return u[p+1];return null}function wI(l,c,u,p){return-1===u?function(l,c){return 11&l.type?Af(l,c):4&l.type?ob(l,c):null}(c,l):-2===u?function(l,c,u){return u===If?Af(c,l):u===kf?ob(c,l):u===xw?gI(c,l):void 0}(l,c,p):la(l,l[1],u,c)}function ux(l,c,u,p){const v=c[19].queries[p];if(null===v.matches){const E=l.data,A=u.matches,M=[];for(let k=0;k<A.length;k+=2){const F=A[k];M.push(F<0?null:wI(c,E[F],A[k+1],u.metadata.read))}v.matches=M}return v.matches}function CI(l,c,u,p){const v=l.queries.getByIndex(u),E=v.matches;if(null!==E){const A=ux(l,c,v,u);for(let M=0;M<E.length;M+=2){const k=E[M];if(k>0)p.push(A[M/2]);else{const F=E[M+1],B=c[-k];for(let $=10;$<B.length;$++){const ee=B[$];ee[17]===ee[3]&&CI(ee[1],ee,F,p)}if(null!==B[9]){const $=B[9];for(let ee=0;ee<$.length;ee++){const ae=$[ee];CI(ae[1],ae,F,p)}}}}}return p}function vt(l){const c=ne(),u=xe(),p=yh();id(p+1);const v=lb(u,p);if(l.dirty&&Wa(c)===(2==(2&v.metadata.flags))){if(null===v.matches)l.reset([]);else{const E=v.crossesNgTemplate?CI(u,c,p,[]):ux(u,c,v,p);l.reset(E,_V),l.notifyOnChanges()}return!0}return!1}function yc(l,c,u){const p=xe();p.firstCreatePass&&(EI(p,new zR(l,c,u),-1),2==(2&c)&&(p.staticViewQueries=!0)),Mu(p,ne(),c)}function dx(l,c,u,p){const v=xe();if(v.firstCreatePass){const E=lt();EI(v,new zR(c,u,p),E.index),function(l,c){const u=l.contentQueries||(l.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(l.queries.length-1,c)}(v,l),2==(2&u)&&(v.staticContentQueries=!0)}Mu(v,ne(),u)}function ab(){return l=ne(),c=yh(),l[19].queries[c].queryList;var l,c}function Mu(l,c,u){const p=new sb(4==(4&u));Wg(l,c,p,p.destroy),null===c[19]&&(c[19]=new Sw),c[19].queries.push(new cx(p))}function EI(l,c,u){null===l.queries&&(l.queries=new yI),l.queries.track(new vI(c,u))}function lb(l,c){return l.queries.getByIndex(c)}function Mw(...l){}const TI=new ri("Application Initializer");let mb=(()=>{class l{constructor(u){this.appInits=u,this.resolve=Mw,this.reject=Mw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,v)=>{this.resolve=p,this.reject=v})}runInitializers(){if(this.initialized)return;const u=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let v=0;v<this.appInits.length;v++){const E=this.appInits[v]();if(uE(E))u.push(E);else if(lA(E)){const A=new Promise((M,k)=>{E.subscribe({complete:M,error:k})});u.push(A)}}Promise.all(u).then(()=>{p()}).catch(v=>{this.reject(v)}),0===u.length&&p(),this.initialized=!0}}return l.\u0275fac=function(u){return new(u||l)(Di(TI,8))},l.\u0275prov=Mn({token:l,factory:l.\u0275fac}),l})();const eO=new ri("AppId"),MV={provide:eO,useFactory:function(){return`${MI()}${MI()}${MI()}`},deps:[]};function MI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tO=new ri("Platform Initializer"),kI=new ri("Platform ID"),nO=new ri("appBootstrapListener");let iO=(()=>{class l{log(u){console.log(u)}warn(u){console.warn(u)}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Mn({token:l,factory:l.\u0275fac}),l})();const bx=new ri("LocaleId"),kw=new ri("DefaultCurrencyCode");class kV{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let RI=(()=>{class l{compileModuleSync(u){return new Cw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const p=this.compileModuleSync(u),E=ds(Lt(u).declarations).reduce((A,M)=>{const k=nt(M);return k&&A.push(new ww(k)),A},[]);return new kV(p,E)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Mn({token:l,factory:l.\u0275fac}),l})();const OV=(()=>Promise.resolve(0))();function OI(l){"undefined"==typeof Zone?OV.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Sl{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tu(!1),this.onMicrotaskEmpty=new Tu(!1),this.onStable=new Tu(!1),this.onError=new Tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!p&&u,v.shouldCoalesceRunChangeDetection=p,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function(){let l=kn.requestAnimationFrame,c=kn.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const u=l[Zone.__symbol__("OriginalDelegate")];u&&(l=u);const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function(l){const c=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(kn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,NI(l),l.isCheckStableRunning=!0,PI(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),NI(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,p,v,E,A,M)=>{try{return rO(l),u.invokeTask(v,E,A,M)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||l.shouldCoalesceRunChangeDetection)&&c(),sO(l)}},onInvoke:(u,p,v,E,A,M,k)=>{try{return rO(l),u.invoke(v,E,A,M,k)}finally{l.shouldCoalesceRunChangeDetection&&c(),sO(l)}},onHasTask:(u,p,v,E)=>{u.hasTask(v,E),p===v&&("microTask"==E.change?(l._hasPendingMicrotasks=E.microTask,NI(l),PI(l)):"macroTask"==E.change&&(l.hasPendingMacrotasks=E.macroTask))},onHandleError:(u,p,v,E)=>(u.handleError(v,E),l.runOutsideAngular(()=>l.onError.emit(E)),!1)})}(v)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Sl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,u,p){return this._inner.run(c,u,p)}runTask(c,u,p,v){const E=this._inner,A=E.scheduleEventTask("NgZoneEvent: "+v,c,NV,Mw,Mw);try{return E.runTask(A,u,p)}finally{E.cancelTask(A)}}runGuarded(c,u,p){return this._inner.runGuarded(c,u,p)}runOutsideAngular(c){return this._outer.run(c)}}const NV={};function PI(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function NI(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function rO(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function sO(l){l._nesting--,PI(l)}class BV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tu,this.onMicrotaskEmpty=new Tu,this.onStable=new Tu,this.onError=new Tu}run(c,u,p){return c.apply(u,p)}runGuarded(c,u,p){return c.apply(u,p)}runOutsideAngular(c){return c()}runTask(c,u,p,v){return c.apply(u,p)}}let oO=(()=>{class l{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sl.assertNotInAngularZone(),OI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())OI(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,v){let E=-1;p&&p>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==E),u(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:u,timeoutId:E,updateCb:v})}whenStable(u,p,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,p,v){return[]}}return l.\u0275fac=function(u){return new(u||l)(Di(Sl))},l.\u0275prov=Mn({token:l,factory:l.\u0275fac}),l})(),aO=(()=>{class l{constructor(){this._applications=new Map,FI.addToWindow(this)}registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return FI.findTestabilityInTree(this,u,p)}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=Mn({token:l,factory:l.\u0275fac}),l})();class VV{addToWindow(c){}findTestabilityInTree(c,u,p){return null}}function UV(l){FI=l}let vc,FI=new VV;const cO=new ri("AllowMultipleToken");class zV{constructor(c,u){this.name=c,this.token=u}}function uO(l,c,u=[]){const p=`Platform: ${c}`,v=new ri(p);return(E=[])=>{let A=dO();if(!A||A.injector.get(cO,!1))if(l)l(u.concat(E).concat({provide:v,useValue:!0}));else{const M=u.concat(E).concat({provide:v,useValue:!0},{provide:vf,useValue:"platform"});!function(l){if(vc&&!vc.destroyed&&!vc.injector.get(cO,!1))throw new pt("400","");vc=l.get(hO);const c=l.get(tO,null);c&&c.forEach(u=>u())}(m.create({providers:M,name:p}))}return function(l){const c=dO();if(!c)throw new pt("401","");return c}()}}function dO(){return vc&&!vc.destroyed?vc:null}let hO=(()=>{class l{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,p){const M=function(l,c){let u;return u="noop"===l?new BV:("zone.js"===l?void 0:l)||new Sl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),u}(p?p.ngZone:void 0,{ngZoneEventCoalescing:p&&p.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:p&&p.ngZoneRunCoalescing||!1}),k=[{provide:Sl,useValue:M}];return M.run(()=>{const F=m.create({providers:k,parent:this.injector,name:u.moduleType.name}),B=u.create(F),$=B.injector.get(As,null);if(!$)throw new pt("402","");return M.runOutsideAngular(()=>{const ee=M.onError.subscribe({next:ae=>{$.handleError(ae)}});B.onDestroy(()=>{LI(this._modules,B),ee.unsubscribe()})}),function(l,c,u){try{const p=u();return uE(p)?p.catch(v=>{throw c.runOutsideAngular(()=>l.handleError(v)),v}):p}catch(p){throw c.runOutsideAngular(()=>l.handleError(p)),p}}($,M,()=>{const ee=B.injector.get(mb);return ee.runInitializers(),ee.donePromise.then(()=>(function(l){On(l,"Expected localeId to be defined"),"string"==typeof l&&(lR=l.toLowerCase().replace(/_/g,"-"))}(B.injector.get(bx,__)||__),this._moduleDoBootstrap(B),B))})})}bootstrapModule(u,p=[]){const v=fO({},p);return function(l,c,u){const p=new Cw(u);return Promise.resolve(p)}(0,0,u).then(E=>this.bootstrapModuleFactory(E,v))}_moduleDoBootstrap(u){const p=u.injector.get(Rw);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(v=>p.bootstrap(v));else{if(!u.instance.ngDoBootstrap)throw new pt("403","");u.instance.ngDoBootstrap(p)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pt("404","");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(u){return new(u||l)(Di(m))},l.\u0275prov=Mn({token:l,factory:l.\u0275fac}),l})();function fO(l,c){return Array.isArray(c)?c.reduce(fO,l):Object.assign(Object.assign({},l),c)}let Rw=(()=>{class l{constructor(u,p,v,E,A){this._zone=u,this._injector=p,this._exceptionHandler=v,this._componentFactoryResolver=E,this._initStatus=A,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const M=new oe.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),k=new oe.y(F=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Sl.assertNotInAngularZone(),OI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{Sl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{B.unsubscribe(),$.unsubscribe()}});this.isStable=(0,Te.T)(M,k.pipe((0,Oe.B)()))}bootstrap(u,p){if(!this._initStatus.done)throw new pt("405","");let v;v=u instanceof XE?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(v.componentType);const E=function(l){return l.isBoundToModule}(v)?void 0:this._injector.get(I_),M=v.create(m.NULL,[],p||v.selector,E),k=M.location.nativeElement,F=M.injector.get(oO,null),B=F&&M.injector.get(aO);return F&&B&&B.registerApplication(k,F),M.onDestroy(()=>{this.detachView(M.hostView),LI(this.components,M),B&&B.unregisterApplication(k)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new pt("101","");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;LI(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(nO,[]).concat(this._bootstrapListeners).forEach(v=>v(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(u){return new(u||l)(Di(Sl),Di(m),Di(As),Di(Jv),Di(mb))},l.\u0275prov=Mn({token:l,factory:l.\u0275fac}),l})();function LI(l,c){const u=l.indexOf(c);u>-1&&l.splice(u,1)}let mO=!0,gO=!1;function YV(){return gO=!0,mO}function KV(){if(gO)throw new Error("Cannot enable prod mode after platform setup.");mO=!1}let QV=(()=>{class l{}return l.__NG_ELEMENT_ID__=JV,l})();function JV(l){return function(l,c,u){if(Ks(l)&&!u){const p=Yi(l.index,c);return new Am(p,p)}return 47&l.type?new Am(c[16],c):null}(lt(),ne(),16==(16&l))}class HI{constructor(){}supports(c){return Yd(c)}create(c){return new zI(c)}}const ho=(l,c)=>c;class zI{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||ho}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,p=this._removalsHead,v=0,E=null;for(;u||p;){const A=!p||u&&u.currentIndex<on(p,v,E)?u:p,M=on(A,v,E),k=A.currentIndex;if(A===p)v--,p=p._nextRemoved;else if(u=u._next,null==A.previousIndex)v++;else{E||(E=[]);const F=M-v,B=k-v;if(F!=B){for(let ee=0;ee<F;ee++){const ae=ee<E.length?E[ee]:E[ee]=0,Ce=ae+ee;B<=Ce&&Ce<F&&(E[ee]=ae+1)}E[A.previousIndex]=B-F}}M!==k&&c(A,M,k)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!Yd(c))throw new Error(`Error trying to diff '${be(c)}'. Only arrays and iterables are allowed`);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let v,E,A,u=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let M=0;M<this.length;M++)E=c[M],A=this._trackByFn(M,E),null!==u&&Object.is(u.trackById,A)?(p&&(u=this._verifyReinsertion(u,E,A,M)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,A,M),p=!0),u=u._next}else v=0,function(l,c){if(Array.isArray(l))for(let u=0;u<l.length;u++)c(l[u]);else{const u=l[Ef()]();let p;for(;!(p=u.next()).done;)c(p.value)}}(c,M=>{A=this._trackByFn(v,M),null!==u&&Object.is(u.trackById,A)?(p&&(u=this._verifyReinsertion(u,M,A,v)),Object.is(u.item,M)||this._addIdentityChange(u,M)):(u=this._mismatch(u,M,A,v),p=!0),u=u._next,v++}),this.length=v;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,p,v){let E;return null===c?E=this._itTail:(E=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,E,v)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,v))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,E,v)):c=this._addAfter(new Ow(u,p),E,v),c}_verifyReinsertion(c,u,p,v){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==E?c=this._reinsertAfter(E,c._prev,v):c.currentIndex!=v&&(c.currentIndex=v,this._addToMoves(c,v)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const v=c._prevRemoved,E=c._nextRemoved;return null===v?this._removalsHead=E:v._nextRemoved=E,null===E?this._removalsTail=v:E._prevRemoved=v,this._insertAfter(c,u,p),this._addToMoves(c,p),c}_moveAfter(c,u,p){return this._unlink(c),this._insertAfter(c,u,p),this._addToMoves(c,p),c}_addAfter(c,u,p){return this._insertAfter(c,u,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,p){const v=null===u?this._itHead:u._next;return c._next=v,c._prev=u,null===v?this._itTail=c:v._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new Pw),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,p=c._next;return null===u?this._itHead=p:u._next=p,null===p?this._itTail=u:p._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pw),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Ow{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CO{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===u||u<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const u=c._prevDup,p=c._nextDup;return null===u?this._head=p:u._nextDup=p,null===p?this._tail=u:p._prevDup=u,null===this._head}}class Pw{constructor(){this.map=new Map}put(c){const u=c.trackById;let p=this.map.get(u);p||(p=new CO,this.map.set(u,p)),p.add(c)}get(c,u){const v=this.map.get(c);return v?v.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function on(l,c,u){const p=l.previousIndex;if(null===p)return p;let v=0;return u&&p<u.length&&(v=u[p]),p+c+v}class Cx{constructor(){}supports(c){return c instanceof Map||f(c)}create(){return new EO}}class EO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||f(c)))throw new Error(`Error trying to diff '${be(c)}'. Only maps and objects are allowed`)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,v)=>{if(u&&u.key===v)this._maybeAddToChanges(u,p),this._appendAfter=u,u=u._next;else{const E=this._getOrCreateRecordForKey(v,p);u=this._insertBeforeOrAppend(u,E)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let p=u;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const p=c._prev;return u._next=c,u._prev=p,c._prev=u,p&&(p._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const v=this._records.get(c);this._maybeAddToChanges(v,u);const E=v._prev,A=v._next;return E&&(E._next=A),A&&(A._prev=E),v._next=null,v._prev=null,v}const p=new xO(c);return this._records.set(c,p),p.currentValue=u,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(p=>u(c[p],p))}}class xO{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gb(){return new _b([new HI])}let _b=(()=>{class l{constructor(u){this.factories=u}static create(u,p){if(null!=p){const v=p.factories.slice();u=u.concat(v)}return new l(u)}static extend(u){return{provide:l,useFactory:p=>l.create(u,p||gb()),deps:[[l,new Oo,new ca]]}}find(u){const p=this.factories.find(v=>v.supports(u));if(null!=p)return p;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(l){return l.name||typeof l}(u)}'`)}}return l.\u0275prov=Mn({token:l,providedIn:"root",factory:gb}),l})();function yb(){return new Nw([new Cx])}let Nw=(()=>{class l{constructor(u){this.factories=u}static create(u,p){if(p){const v=p.factories.slice();u=u.concat(v)}return new l(u)}static extend(u){return{provide:l,useFactory:p=>l.create(u,p||yb()),deps:[[l,new Oo,new ca]]}}find(u){const p=this.factories.find(v=>v.supports(u));if(p)return p;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return l.\u0275prov=Mn({token:l,providedIn:"root",factory:yb}),l})();const Ru=[new Cx],qI=new _b([new HI]),Ex=new Nw(Ru),$I=uO(null,"core",[{provide:kI,useValue:"unknown"},{provide:hO,deps:[m]},{provide:aO,deps:[]},{provide:iO,deps:[]}]),AO=[{provide:Rw,useClass:Rw,deps:[Sl,m,As,Jv,mb]},{provide:tb,deps:[Sl],useFactory:function(l){let c=[];return l.onStable.subscribe(()=>{for(;c.length;)c.pop()()}),function(u){c.push(u)}}},{provide:mb,useClass:mb,deps:[[new ca,TI]]},{provide:RI,useClass:RI,deps:[]},MV,{provide:_b,useFactory:function(){return qI},deps:[]},{provide:Nw,useFactory:function(){return Ex},deps:[]},{provide:bx,useFactory:function(l){return l||"undefined"!=typeof $localize&&$localize.locale||__},deps:[[new ll(bx),new ca,new Oo]]},{provide:kw,useValue:"USD"}];let TO=(()=>{class l{constructor(u){}}return l.\u0275fac=function(u){return new(u||l)(Di(Rw))},l.\u0275mod=Xo({type:l}),l.\u0275inj=ci({providers:AO}),l})()},8001:(ht,Ie,Z)=>{Z.d(Ie,{Z:()=>as});Error;function Me(W,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return V}for(const Y in V)!V.hasOwnProperty(Y)||!Ft(Y)||(W[Y]=Me(W[Y],V[Y]));return W}function Ft(W){return"__proto__"!==W}class vs extends Error{constructor(V,Y,Q){super(Y),this.code=V,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi.prototype.create)}}class Wi{constructor(V,Y,Q){this.service=V,this.serviceName=Y,this.errors=Q}create(V,...Y){const Q=Y[0]||{},ie=`${this.service}/${V}`,ze=this.errors[V],Ct=ze?function(W,V){return W.replace(wo,(Y,Q)=>{const ie=V[Q];return null!=ie?String(ie):`<${Q}?>`})}(ze,Q):"Error";return new vs(ie,`${this.serviceName}: ${Ct} (${ie}).`,Q)}}const wo=/\{\$([^}]+)}/g;function Mc(W,V){return Object.prototype.hasOwnProperty.call(W,V)}function kc(W,V){const Y=new Ni(W,V);return Y.subscribe.bind(Y)}class Ni{constructor(V,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{V(this)}).catch(Q=>{this.error(Q)})}next(V){this.forEachObserver(Y=>{Y.next(V)})}error(V){this.forEachObserver(Y=>{Y.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Y,Q){let ie;if(void 0===V&&void 0===Y&&void 0===Q)throw new Error("Missing Observer.");ie=function(W,V){if("object"!=typeof W||null===W)return!1;for(const Y of["next","error","complete"])if(Y in W&&"function"==typeof W[Y])return!0;return!1}(V)?V:{next:V,error:Y,complete:Q},void 0===ie.next&&(ie.next=zu),void 0===ie.error&&(ie.error=zu),void 0===ie.complete&&(ie.complete=zu);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(Ct){}}),this.observers.push(ie),ze}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,V)}sendOne(V,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Y(this.observers[V])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zu(){}class Ol{constructor(V,Y,Q){this.name=V,this.instanceFactory=Y,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}var pi=Z(3035);const Eo=[];var nt=(()=>{return(W=nt||(nt={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",nt;var W})();const os={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},Lr=nt.INFO,Lt={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},xo=(W,V,...Y)=>{if(V<W.logLevel)return;const Q=(new Date).toISOString(),ie=Lt[V];if(!ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ie](`[${Q}]  ${W.name}:`,...Y)};class Do{constructor(V,Y){this._delegate=V,this.firebase=Y,(0,pi._addComponent)(V,new Ol("app-compat",()=>this,"PUBLIC")),this.container=V.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this._delegate.automaticDataCollectionEnabled=V}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(V=>{this._delegate.checkDestroyed(),V()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,pi.deleteApp)(this._delegate)))}_getService(V,Y=pi._DEFAULT_ENTRY_NAME){var Q;this._delegate.checkDestroyed();const ie=this._delegate.container.getProvider(V);return!ie.isInitialized()&&"EXPLICIT"===(null===(Q=ie.getComponent())||void 0===Q?void 0:Q.instantiationMode)&&ie.initialize(),ie.getImmediate({identifier:Y})}_removeServiceInstance(V,Y=pi._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(V).clearInstance(Y)}_addComponent(V){(0,pi._addComponent)(this._delegate,V)}_addOrOverwriteComponent(V){(0,pi._addOrOverwriteComponent)(this._delegate,V)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const qu=new Wi("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ut=function Je(){const W=function(W){const V={},Y={__esModule:!0,initializeApp:function(Ht,sn={}){const Et=pi.initializeApp(Ht,sn);if(Mc(V,Et.name))return V[Et.name];const It=new W(Et,Y);return V[Et.name]=It,It},app:ie,registerVersion:pi.registerVersion,setLogLevel:pi.setLogLevel,onLog:pi.onLog,apps:null,SDK_VERSION:pi.SDK_VERSION,INTERNAL:{registerComponent:function(Ht){const sn=Ht.name,Et=sn.replace("-compat","");if(pi._registerComponent(Ht)&&"PUBLIC"===Ht.type){const It=(Kr=ie())=>{if("function"!=typeof Kr[Et])throw qu.create("invalid-app-argument",{appName:sn});return Kr[Et]()};void 0!==Ht.serviceProps&&Me(It,Ht.serviceProps),Y[Et]=It,W.prototype[Et]=function(...Kr){return this._getService.bind(this,sn).apply(this,Ht.multipleInstances?Kr:[])}}return"PUBLIC"===Ht.type?Y[Et]:null},removeApp:function(Ht){delete V[Ht]},useAsService:function(Ht,sn){return"serverAuth"===sn?null:sn},modularAPIs:pi}};function ie(Ht){if(!Mc(V,Ht=Ht||pi._DEFAULT_ENTRY_NAME))throw qu.create("no-app",{appName:Ht});return V[Ht]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function(){return Object.keys(V).map(Ht=>V[Ht])}}),ie.App=W,Y}(Do);return W.INTERNAL=Object.assign(Object.assign({},W.INTERNAL),{createFirebaseNamespace:Je,extendNamespace:function(Y){Me(W,Y)},createSubscribe:kc,ErrorFactory:Wi,deepExtend:Me}),W}(),yn=new class{constructor(V){this.name=V,this._logLevel=Lr,this._logHandler=xo,this._userLogHandler=null,Eo.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in nt))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?os[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...V),this._logHandler(this,nt.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...V),this._logHandler(this,nt.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...V),this._logHandler(this,nt.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...V),this._logHandler(this,nt.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...V),this._logHandler(this,nt.ERROR,...V)}}("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){yn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const W=self.firebase.SDK_VERSION;W&&W.indexOf("LITE")>=0&&yn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const as=Ut;(0,pi.registerVersion)("@firebase/app-compat","0.2.13",undefined)},3035:(ht,Ie,Z)=>{Z.r(Ie),Z.d(Ie,{FirebaseError:()=>Wi,SDK_VERSION:()=>hh,_DEFAULT_ENTRY_NAME:()=>Yu,_addComponent:()=>Nc,_addOrOverwriteComponent:()=>ky,_apps:()=>cs,_clearComponents:()=>Xf,_components:()=>Cs,_getProvider:()=>Yn,_registerComponent:()=>Jt,_removeServiceInstance:()=>Ku,deleteApp:()=>Bc,getApp:()=>Fl,getApps:()=>Qu,initializeApp:()=>Lc,onLog:()=>ag,registerVersion:()=>Nn,setLogLevel:()=>ph});var o=Z(5861);const Oe=function(U){const P=[];let H=0;for(let X=0;X<U.length;X++){let J=U.charCodeAt(X);J<128?P[H++]=J:J<2048?(P[H++]=J>>6|192,P[H++]=63&J|128):55296==(64512&J)&&X+1<U.length&&56320==(64512&U.charCodeAt(X+1))?(J=65536+((1023&J)<<10)+(1023&U.charCodeAt(++X)),P[H++]=J>>18|240,P[H++]=J>>12&63|128,P[H++]=J>>6&63|128,P[H++]=63&J|128):(P[H++]=J>>12|224,P[H++]=J>>6&63|128,P[H++]=63&J|128)}return P},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,P){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let J=0;J<U.length;J+=3){const ne=U[J],xe=J+1<U.length,Vt=xe?U[J+1]:0,lt=J+2<U.length,vn=lt?U[J+2]:0;let Xr=(15&Vt)<<2|vn>>6,Ki=63&vn;lt||(Ki=64,xe||(Xr=64)),X.push(H[ne>>2],H[(3&ne)<<4|Vt>>4],H[Xr],H[Ki])}return X.join("")},encodeString(U,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(U):this.encodeByteArray(Oe(U),P)},decodeString(U,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(U):function(U){const P=[];let H=0,X=0;for(;H<U.length;){const J=U[H++];if(J<128)P[X++]=String.fromCharCode(J);else if(J>191&&J<224){const ne=U[H++];P[X++]=String.fromCharCode((31&J)<<6|63&ne)}else if(J>239&&J<365){const lt=((7&J)<<18|(63&U[H++])<<12|(63&U[H++])<<6|63&U[H++])-65536;P[X++]=String.fromCharCode(55296+(lt>>10)),P[X++]=String.fromCharCode(56320+(1023&lt))}else{const ne=U[H++],xe=U[H++];P[X++]=String.fromCharCode((15&J)<<12|(63&ne)<<6|63&xe)}}return P.join("")}(this.decodeStringToByteArray(U,P))},decodeStringToByteArray(U,P){this.init_();const H=P?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let J=0;J<U.length;){const ne=H[U.charAt(J++)],Vt=J<U.length?H[U.charAt(J)]:0;++J;const vn=J<U.length?H[U.charAt(J)]:64;++J;const Wt=J<U.length?H[U.charAt(J)]:64;if(++J,null==ne||null==Vt||null==vn||null==Wt)throw new be;X.push(ne<<2|Vt>>4),64!==vn&&(X.push(Vt<<4&240|vn>>2),64!==Wt&&X.push(vn<<6&192|Wt))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(U){return function(U){const P=Oe(U);return ce.encodeByteArray(P,!0)}(U).replace(/\./g,"")},Ue=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if("undefined"==typeof document)return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(H){return}const P=U&&function(U){try{return ce.decodeString(U,!0)}catch(P){console.error("base64Decode failed: ",P)}return null}(U[1]);return P&&JSON.parse(P)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},gt=()=>{var U;return null===(U=Ue())||void 0===U?void 0:U.config};class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,H)=>{this.resolve=P,this.reject=H})}wrapCallback(P){return(H,X)=>{H?this.reject(H):this.resolve(X),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(H):P(H,X))}}}class Wi extends Error{constructor(P,H,X){super(H),this.code=P,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}}class Mn{constructor(P,H,X){this.service=P,this.serviceName=H,this.errors=X}create(P,...H){const X=H[0]||{},J=`${this.service}/${P}`,ne=this.errors[P],xe=ne?function(U,P){return U.replace(ci,(H,X)=>{const J=P[X];return null!=J?String(J):`<${X}?>`})}(ne,X):"Error";return new Wi(J,`${this.serviceName}: ${xe} (${J}).`,X)}}const ci=/\{\$([^}]+)}/g;function za(U,P){if(U===P)return!0;const H=Object.keys(U),X=Object.keys(P);for(const J of H){if(!X.includes(J))return!1;const ne=U[J],xe=P[J];if(Zs(ne)&&Zs(xe)){if(!za(ne,xe))return!1}else if(ne!==xe)return!1}for(const J of X)if(!H.includes(J))return!1;return!0}function Zs(U){return null!==U&&"object"==typeof U}class Bt{constructor(P,H,X){this.name=P,this.instanceFactory=H,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const Ci="[DEFAULT]";class Xo{constructor(P,H){this.name=P,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const H=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(H)){const X=new st;if(this.instancesDeferred.set(H,X),this.isInitialized(H)||this.shouldAutoInitialize())try{const J=this.getOrInitializeService({instanceIdentifier:H});J&&X.resolve(J)}catch(J){}}return this.instancesDeferred.get(H).promise}getImmediate(P){var H;const X=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),J=null!==(H=null==P?void 0:P.optional)&&void 0!==H&&H;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(J)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ne){if(J)return null;throw ne}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if("EAGER"===P.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ci})}catch(H){}for(const[H,X]of this.instancesDeferred.entries()){const J=this.normalizeInstanceIdentifier(H);try{const ne=this.getOrInitializeService({instanceIdentifier:J});X.resolve(ne)}catch(ne){}}}}clearInstance(P=Ci){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,o.Z)(function*(){const H=Array.from(P.instances.values());yield Promise.all([...H.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...H.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=Ci){return this.instances.has(P)}getOptions(P=Ci){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:H={}}=P,X=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const J=this.getOrInitializeService({instanceIdentifier:X,options:H});for(const[ne,xe]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(ne)&&xe.resolve(J);return J}onInit(P,H){var X;const J=this.normalizeInstanceIdentifier(H),ne=null!==(X=this.onInitCallbacks.get(J))&&void 0!==X?X:new Set;ne.add(P),this.onInitCallbacks.set(J,ne);const xe=this.instances.get(J);return xe&&P(xe,J),()=>{ne.delete(P)}}invokeOnInitCallbacks(P,H){const X=this.onInitCallbacks.get(H);if(X)for(const J of X)try{J(P,H)}catch(ne){}}getOrInitializeService({instanceIdentifier:P,options:H={}}){let X=this.instances.get(P);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(U=P,U===Ci?void 0:U),options:H}),this.instances.set(P,X),this.instancesOptions.set(P,H),this.invokeOnInitCallbacks(X,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,X)}catch(J){}var U;return X||null}normalizeInstanceIdentifier(P=Ci){return this.component?this.component.multipleInstances?P:Ci:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pi{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const H=this.getProvider(P.name);if(H.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);H.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const H=new Xo(P,this);return this.providers.set(P,H),H}getProviders(){return Array.from(this.providers.values())}}const Eo=[];var nt=(()=>{return(U=nt||(nt={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",nt;var U})();const os={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},Lr=nt.INFO,Lt={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},xo=(U,P,...H)=>{if(P<U.logLevel)return;const X=(new Date).toISOString(),J=Lt[P];if(!J)throw new Error(`Attempted to log a message with an invalid logType (value: ${P})`);console[J](`[${X}]  ${U.name}:`,...H)};let Ei,qu;const Ut=new WeakMap,yn=new WeakMap,lr=new WeakMap,Yr=new WeakMap,Jn=new WeakMap;let V={get(U,P,H){if(U instanceof IDBTransaction){if("done"===P)return yn.get(U);if("objectStoreNames"===P)return U.objectStoreNames||lr.get(U);if("store"===P)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return ze(U[P])},set:(U,P,H)=>(U[P]=H,!0),has:(U,P)=>U instanceof IDBTransaction&&("done"===P||"store"===P)||P in U};function ie(U){return"function"==typeof U?function(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qu||(qu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(U)?function(...P){return U.apply(Ct(this),P),ze(Ut.get(this))}:function(...P){return ze(U.apply(Ct(this),P))}:function(P,...H){const X=U.call(Ct(this),P,...H);return lr.set(X,P.sort?P.sort():[P]),ze(X)}}(U):(U instanceof IDBTransaction&&function(U){if(yn.has(U))return;const P=new Promise((H,X)=>{const J=()=>{U.removeEventListener("complete",ne),U.removeEventListener("error",xe),U.removeEventListener("abort",xe)},ne=()=>{H(),J()},xe=()=>{X(U.error||new DOMException("AbortError","AbortError")),J()};U.addEventListener("complete",ne),U.addEventListener("error",xe),U.addEventListener("abort",xe)});yn.set(U,P)}(U),((U,P)=>P.some(H=>U instanceof H))(U,Ei||(Ei=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(U,V):U)}function ze(U){if(U instanceof IDBRequest)return function(U){const P=new Promise((H,X)=>{const J=()=>{U.removeEventListener("success",ne),U.removeEventListener("error",xe)},ne=()=>{H(ze(U.result)),J()},xe=()=>{X(U.error),J()};U.addEventListener("success",ne),U.addEventListener("error",xe)});return P.then(H=>{H instanceof IDBCursor&&Ut.set(H,U)}).catch(()=>{}),Jn.set(P,U),P}(U);if(Yr.has(U))return Yr.get(U);const P=ie(U);return P!==U&&(Yr.set(U,P),Jn.set(P,U)),P}const Ct=U=>Jn.get(U),Ht=["get","getKey","getAll","getAllKeys","count"],sn=["put","add","delete","clear"],Et=new Map;function It(U,P){if(!(U instanceof IDBDatabase)||P in U||"string"!=typeof P)return;if(Et.get(P))return Et.get(P);const H=P.replace(/FromIndex$/,""),X=P!==H,J=sn.includes(H);if(!(H in(X?IDBIndex:IDBObjectStore).prototype)||!J&&!Ht.includes(H))return;const ne=function(){var xe=(0,o.Z)(function*(Vt,...lt){const vn=this.transaction(Vt,J?"readwrite":"readonly");let Kn=vn.store;return X&&(Kn=Kn.index(lt.shift())),(yield Promise.all([Kn[H](...lt),J&&vn.done]))[0]});return function(lt){return xe.apply(this,arguments)}}();return Et.set(P,ne),ne}var U;V=x1(E1({},U=V),{get:(P,H,X)=>It(P,H)||U.get(P,H,X),has:(P,H)=>!!It(P,H)||U.has(P,H)});class Kr{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map(H=>{if(function(U){const P=U.getComponent();return"VERSION"===(null==P?void 0:P.type)}(H)){const X=H.getImmediate();return`${X.library}/${X.version}`}return null}).filter(H=>H).join(" ")}}const Er="@firebase/app",Za=new class{constructor(P){this.name=P,this._logLevel=Lr,this._logHandler=xo,this._userLogHandler=null,Eo.push(this)}get logLevel(){return this._logLevel}set logLevel(P){if(!(P in nt))throw new TypeError(`Invalid value "${P}" assigned to \`logLevel\``);this._logLevel=P}setLogLevel(P){this._logLevel="string"==typeof P?os[P]:P}get logHandler(){return this._logHandler}set logHandler(P){if("function"!=typeof P)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=P}get userLogHandler(){return this._userLogHandler}set userLogHandler(P){this._userLogHandler=P}debug(...P){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...P),this._logHandler(this,nt.DEBUG,...P)}log(...P){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...P),this._logHandler(this,nt.VERBOSE,...P)}info(...P){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...P),this._logHandler(this,nt.INFO,...P)}warn(...P){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...P),this._logHandler(this,nt.WARN,...P)}error(...P){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...P),this._logHandler(this,nt.ERROR,...P)}}("@firebase/app"),Yu="[DEFAULT]",ws={[Er]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cs=new Map,Cs=new Map;function Nc(U,P){try{U.container.addComponent(P)}catch(H){Za.debug(`Component ${P.name} failed to register with FirebaseApp ${U.name}`,H)}}function ky(U,P){U.container.addOrOverwriteComponent(P)}function Jt(U){const P=U.name;if(Cs.has(P))return Za.debug(`There were multiple attempts to register component ${P}.`),!1;Cs.set(P,U);for(const H of cs.values())Nc(H,U);return!0}function Yn(U,P){const H=U.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),U.container.getProvider(P)}function Ku(U,P,H=Yu){Yn(U,P).clearInstance(H)}function Xf(){Cs.clear()}const Xn=new Mn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gi{constructor(P,H,X){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=X,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const hh="9.23.0";function Lc(U,P={}){let H=U;"object"!=typeof P&&(P={name:P});const X=Object.assign({name:Yu,automaticDataCollectionEnabled:!1},P),J=X.name;if("string"!=typeof J||!J)throw Xn.create("bad-app-name",{appName:String(J)});if(H||(H=gt()),!H)throw Xn.create("no-options");const ne=cs.get(J);if(ne){if(za(H,ne.options)&&za(X,ne.config))return ne;throw Xn.create("duplicate-app",{appName:J})}const xe=new pi(J);for(const lt of Cs.values())xe.addComponent(lt);const Vt=new gi(H,X,xe);return cs.set(J,Vt),Vt}function Fl(U=Yu){const P=cs.get(U);if(!P&&U===Yu&&gt())return Lc();if(!P)throw Xn.create("no-app",{appName:U});return P}function Qu(){return Array.from(cs.values())}function Bc(U){return fh.apply(this,arguments)}function fh(){return fh=(0,o.Z)(function*(U){const P=U.name;cs.has(P)&&(cs.delete(P),yield Promise.all(U.container.getProviders().map(H=>H.delete())),U.isDeleted=!0)}),fh.apply(this,arguments)}function Nn(U,P,H){var X;let J=null!==(X=ws[U])&&void 0!==X?X:U;H&&(J+=`-${H}`);const ne=J.match(/\s|\//),xe=P.match(/\s|\//);if(ne||xe){const Vt=[`Unable to register library "${J}" with version "${P}":`];return ne&&Vt.push(`library name "${J}" contains illegal characters (whitespace or "/")`),ne&&xe&&Vt.push("and"),xe&&Vt.push(`version name "${P}" contains illegal characters (whitespace or "/")`),void Za.warn(Vt.join(" "))}Jt(new Bt(`${J}-version`,()=>({library:J,version:P}),"VERSION"))}function ag(U,P){if(null!==U&&"function"!=typeof U)throw Xn.create("invalid-log-argument");!function(U,P){for(const H of Eo){let X=null;P&&P.level&&(X=os[P.level]),H.userLogHandler=null===U?null:(J,ne,...xe)=>{const Vt=xe.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch(vn){return null}}).filter(lt=>lt).join(" ");ne>=(null!=X?X:J.logLevel)&&U({level:nt[ne].toLowerCase(),message:Vt,args:xe,type:J.name})}}}(U,P)}function ph(U){!function(U){Eo.forEach(P=>{P.setLogLevel(U)})}(U)}const So="firebase-heartbeat-store";let Ao=null;function Ii(){return Ao||(Ao=function(U,P,{blocked:H,upgrade:X,blocking:J,terminated:ne}={}){const xe=indexedDB.open(U,P),Vt=ze(xe);return X&&xe.addEventListener("upgradeneeded",lt=>{X(ze(xe.result),lt.oldVersion,lt.newVersion,ze(xe.transaction),lt)}),H&&xe.addEventListener("blocked",lt=>H(lt.oldVersion,lt.newVersion,lt)),Vt.then(lt=>{ne&&lt.addEventListener("close",()=>ne()),J&&lt.addEventListener("versionchange",vn=>J(vn.oldVersion,vn.newVersion,vn))}).catch(()=>{}),Vt}("firebase-heartbeat-database",1,{upgrade:(U,P)=>{0===P&&U.createObjectStore(So)}}).catch(U=>{throw Xn.create("idb-open",{originalErrorMessage:U.message})})),Ao}function Ll(){return Ll=(0,o.Z)(function*(U){try{return yield(yield Ii()).transaction(So).objectStore(So).get(Wa(U))}catch(P){if(P instanceof Wi)Za.warn(P.message);else{const H=Xn.create("idb-get",{originalErrorMessage:null==P?void 0:P.message});Za.warn(H.message)}}}),Ll.apply(this,arguments)}function ur(U,P){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,o.Z)(function*(U,P){try{const X=(yield Ii()).transaction(So,"readwrite");yield X.objectStore(So).put(P,Wa(U)),yield X.done}catch(H){if(H instanceof Wi)Za.warn(H.message);else{const X=Xn.create("idb-set",{originalErrorMessage:null==H?void 0:H.message});Za.warn(X.message)}}}),Yi.apply(this,arguments)}function Wa(U){return`${U.name}!${U.options.appId}`}class dr{constructor(P){this.container=P,this._heartbeatsCache=null;const H=this.container.getProvider("app").getImmediate();this._storage=new Dt(H),this._heartbeatsCachePromise=this._storage.read().then(X=>(this._heartbeatsCache=X,X))}triggerHeartbeat(){var P=this;return(0,o.Z)(function*(){const X=P.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),J=Ya();if(null===P._heartbeatsCache&&(P._heartbeatsCache=yield P._heartbeatsCachePromise),P._heartbeatsCache.lastSentHeartbeatDate!==J&&!P._heartbeatsCache.heartbeats.some(ne=>ne.date===J))return P._heartbeatsCache.heartbeats.push({date:J,agent:X}),P._heartbeatsCache.heartbeats=P._heartbeatsCache.heartbeats.filter(ne=>{const xe=new Date(ne.date).valueOf();return Date.now()-xe<=2592e6}),P._storage.overwrite(P._heartbeatsCache)})()}getHeartbeatsHeader(){var P=this;return(0,o.Z)(function*(){if(null===P._heartbeatsCache&&(yield P._heartbeatsCachePromise),null===P._heartbeatsCache||0===P._heartbeatsCache.heartbeats.length)return"";const H=Ya(),{heartbeatsToSend:X,unsentEntries:J}=function(U,P=1024){const H=[];let X=U.slice();for(const J of U){const ne=H.find(xe=>xe.agent===J.agent);if(ne){if(ne.dates.push(J.date),ed(H)>P){ne.dates.pop();break}}else if(H.push({agent:J.agent,dates:[J.date]}),ed(H)>P){H.pop();break}X=X.slice(1)}return{heartbeatsToSend:H,unsentEntries:X}}(P._heartbeatsCache.heartbeats),ne=Ee(JSON.stringify({version:2,heartbeats:X}));return P._heartbeatsCache.lastSentHeartbeatDate=H,J.length>0?(P._heartbeatsCache.heartbeats=J,yield P._storage.overwrite(P._heartbeatsCache)):(P._heartbeatsCache.heartbeats=[],P._storage.overwrite(P._heartbeatsCache)),ne})()}}function Ya(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!function(){try{return"object"==typeof indexedDB}catch(U){return!1}}()&&new Promise((U,P)=>{try{let H=!0;const X="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(X);J.onsuccess=()=>{J.result.close(),H||self.indexedDB.deleteDatabase(X),U(!0)},J.onupgradeneeded=()=>{H=!1},J.onerror=()=>{var ne;P((null===(ne=J.error)||void 0===ne?void 0:ne.message)||"")}}catch(H){P(H)}}).then(()=>!0).catch(()=>!1)})()}read(){var P=this;return(0,o.Z)(function*(){return(yield P._canUseIndexedDBPromise)&&(yield function(U){return Ll.apply(this,arguments)}(P.app))||{heartbeats:[]}})()}overwrite(P){var H=this;return(0,o.Z)(function*(){var X;if(yield H._canUseIndexedDBPromise){const ne=yield H.read();return ur(H.app,{lastSentHeartbeatDate:null!==(X=P.lastSentHeartbeatDate)&&void 0!==X?X:ne.lastSentHeartbeatDate,heartbeats:P.heartbeats})}})()}add(P){var H=this;return(0,o.Z)(function*(){var X;if(yield H._canUseIndexedDBPromise){const ne=yield H.read();return ur(H.app,{lastSentHeartbeatDate:null!==(X=P.lastSentHeartbeatDate)&&void 0!==X?X:ne.lastSentHeartbeatDate,heartbeats:[...ne.heartbeats,...P.heartbeats]})}})()}}function ed(U){return Ee(JSON.stringify({version:2,heartbeats:U})).length}Jt(new Bt("platform-logger",P=>new Kr(P),"PRIVATE")),Jt(new Bt("heartbeat",P=>new dr(P),"PRIVATE")),Nn(Er,"0.9.13",""),Nn(Er,"0.9.13","esm2017"),Nn("fire-js","")},259:(ht,Ie,Z)=>{Z.d(Ie,{Mq:()=>o.getApp,C6:()=>o.getApps});var o=Z(3035);(0,o.registerVersion)("firebase","9.23.0","app")},9260:(ht,Ie,Z)=>{Z.d(Ie,{Z:()=>o.Z});var o=Z(8001);o.Z.registerVersion("firebase","9.23.0","app-compat")},4844:(ht,Ie,Z)=>{Z.r(Ie);var o=Z(5861),ge=Z(8001);const be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(y,h){if(!Array.isArray(y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const m=h?this.byteToCharMapWebSafe_:this.byteToCharMap_,w=[];for(let x=0;x<y.length;x+=3){const R=y[x],j=x+1<y.length,K=j?y[x+1]:0,de=x+2<y.length,ue=de?y[x+2]:0;let ut=(15&K)<<2|ue>>6,Vn=63&ue;de||(Vn=64,j||(ut=64)),w.push(m[R>>2],m[(3&R)<<4|K>>4],m[ut],m[Vn])}return w.join("")},encodeString(y,h){return this.HAS_NATIVE_SUPPORT&&!h?btoa(y):this.encodeByteArray(function(y){const h=[];let m=0;for(let w=0;w<y.length;w++){let x=y.charCodeAt(w);x<128?h[m++]=x:x<2048?(h[m++]=x>>6|192,h[m++]=63&x|128):55296==(64512&x)&&w+1<y.length&&56320==(64512&y.charCodeAt(w+1))?(x=65536+((1023&x)<<10)+(1023&y.charCodeAt(++w)),h[m++]=x>>18|240,h[m++]=x>>12&63|128,h[m++]=x>>6&63|128,h[m++]=63&x|128):(h[m++]=x>>12|224,h[m++]=x>>6&63|128,h[m++]=63&x|128)}return h}(y),h)},decodeString(y,h){return this.HAS_NATIVE_SUPPORT&&!h?atob(y):function(y){const h=[];let m=0,w=0;for(;m<y.length;){const x=y[m++];if(x<128)h[w++]=String.fromCharCode(x);else if(x>191&&x<224){const R=y[m++];h[w++]=String.fromCharCode((31&x)<<6|63&R)}else if(x>239&&x<365){const de=((7&x)<<18|(63&y[m++])<<12|(63&y[m++])<<6|63&y[m++])-65536;h[w++]=String.fromCharCode(55296+(de>>10)),h[w++]=String.fromCharCode(56320+(1023&de))}else{const R=y[m++],j=y[m++];h[w++]=String.fromCharCode((15&x)<<12|(63&R)<<6|63&j)}}return h.join("")}(this.decodeStringToByteArray(y,h))},decodeStringToByteArray(y,h){this.init_();const m=h?this.charToByteMapWebSafe_:this.charToByteMap_,w=[];for(let x=0;x<y.length;){const R=m[y.charAt(x++)],K=x<y.length?m[y.charAt(x)]:0;++x;const ue=x<y.length?m[y.charAt(x)]:64;++x;const me=x<y.length?m[y.charAt(x)]:64;if(++x,null==R||null==K||null==ue||null==me)throw new Re;w.push(R<<2|K>>4),64!==ue&&(w.push(K<<4&240|ue>>2),64!==me&&w.push(ue<<6&192|me))}return w},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let y=0;y<this.ENCODED_VALS.length;y++)this.byteToCharMap_[y]=this.ENCODED_VALS.charAt(y),this.charToByteMap_[this.byteToCharMap_[y]]=y,this.byteToCharMapWebSafe_[y]=this.ENCODED_VALS_WEBSAFE.charAt(y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[y]]=y,y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(y)]=y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(y)]=y)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(y){try{return be.decodeString(y,!0)}catch(h){console.error("base64Decode failed: ",h)}return null};function le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Mn extends Error{constructor(h,m,w){super(m),this.code=h,this.customData=w,this.name="FirebaseError",Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wo.prototype.create)}}class wo{constructor(h,m,w){this.service=h,this.serviceName=m,this.errors=w}create(h,...m){const w=m[0]||{},x=`${this.service}/${h}`,R=this.errors[h],j=R?function(y,h){return y.replace(Co,(m,w)=>{const x=h[w];return null!=x?String(x):`<${w}?>`})}(R,w):"Error";return new Mn(x,`${this.serviceName}: ${j} (${x}).`,w)}}const Co=/\{\$([^}]+)}/g;function br(y){for(const h in y)if(Object.prototype.hasOwnProperty.call(y,h))return!1;return!0}function wr(y){const h=[];for(const[m,w]of Object.entries(y))Array.isArray(w)?w.forEach(x=>{h.push(encodeURIComponent(m)+"="+encodeURIComponent(x))}):h.push(encodeURIComponent(m)+"="+encodeURIComponent(w));return h.length?"&"+h.join("&"):""}function wi(y){const h={};return y.replace(/^\?/,"").split("&").forEach(w=>{if(w){const[x,R]=w.split("=");h[decodeURIComponent(x)]=decodeURIComponent(R)}}),h}function kc(y){const h=y.indexOf("?");if(!h)return"";const m=y.indexOf("#",h);return y.substring(h,m>0?m:void 0)}class zt{constructor(h,m){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=m,this.task.then(()=>{h(this)}).catch(w=>{this.error(w)})}next(h){this.forEachObserver(m=>{m.next(h)})}error(h){this.forEachObserver(m=>{m.error(h)}),this.close(h)}complete(){this.forEachObserver(h=>{h.complete()}),this.close()}subscribe(h,m,w){let x;if(void 0===h&&void 0===m&&void 0===w)throw new Error("Missing Observer.");x=function(y,h){if("object"!=typeof y||null===y)return!1;for(const m of["next","error","complete"])if(m in y&&"function"==typeof y[m])return!0;return!1}(h)?h:{next:h,error:m,complete:w},void 0===x.next&&(x.next=Wr),void 0===x.error&&(x.error=Wr),void 0===x.complete&&(x.complete=Wr);const R=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch(j){}}),this.observers.push(x),R}unsubscribeOne(h){void 0===this.observers||void 0===this.observers[h]||(delete this.observers[h],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(h){if(!this.finalized)for(let m=0;m<this.observers.length;m++)this.sendOne(m,h)}sendOne(h,m){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[h])try{m(this.observers[h])}catch(w){"undefined"!=typeof console&&console.error&&console.error(w)}})}close(h){this.finalized||(this.finalized=!0,void 0!==h&&(this.finalError=h),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wr(){}function Bt(y){return y&&y._delegate?y._delegate:y}var Ci=Z(3035);function pi(y,h){var m={};for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&h.indexOf(w)<0&&(m[w]=y[w]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var x=0;for(w=Object.getOwnPropertySymbols(y);x<w.length;x++)h.indexOf(w[x])<0&&Object.prototype.propertyIsEnumerable.call(y,w[x])&&(m[w[x]]=y[w[x]])}return m}const Y=[];var Q=(()=>{return(y=Q||(Q={}))[y.DEBUG=0]="DEBUG",y[y.VERBOSE=1]="VERBOSE",y[y.INFO=2]="INFO",y[y.WARN=3]="WARN",y[y.ERROR=4]="ERROR",y[y.SILENT=5]="SILENT",Q;var y})();const ie={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ze=Q.INFO,Ct={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},jt=(y,h,...m)=>{if(h<y.logLevel)return;const w=(new Date).toISOString(),x=Ct[h];if(!x)throw new Error(`Attempted to log a message with an invalid logType (value: ${h})`);console[x](`[${w}]  ${y.name}:`,...m)};class Et{constructor(h,m,w){this.name=h,this.instanceFactory=m,this.type=w,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(h){return this.instantiationMode=h,this}setMultipleInstances(h){return this.multipleInstances=h,this}setServiceProps(h){return this.serviceProps=h,this}setInstanceCreatedCallback(h){return this.onInstanceCreated=h,this}}const sg=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Iy=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},og=new wo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$u=new class{constructor(h){this.name=h,this._logLevel=ze,this._logHandler=jt,this._userLogHandler=null,Y.push(this)}get logLevel(){return this._logLevel}set logLevel(h){if(!(h in Q))throw new TypeError(`Invalid value "${h}" assigned to \`logLevel\``);this._logLevel=h}setLogLevel(h){this._logLevel="string"==typeof h?ie[h]:h}get logHandler(){return this._logHandler}set logHandler(h){if("function"!=typeof h)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=h}get userLogHandler(){return this._userLogHandler}set userLogHandler(h){this._userLogHandler=h}debug(...h){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...h),this._logHandler(this,Q.DEBUG,...h)}log(...h){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...h),this._logHandler(this,Q.VERBOSE,...h)}info(...h){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...h),this._logHandler(this,Q.INFO,...h)}warn(...h){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...h),this._logHandler(this,Q.WARN,...h)}error(...h){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...h),this._logHandler(this,Q.ERROR,...h)}}("@firebase/auth");function Zu(y,...h){$u.logLevel<=Q.ERROR&&$u.error(`Auth (${Ci.SDK_VERSION}): ${y}`,...h)}function mi(y,...h){throw Wu(y,...h)}function Fi(y,...h){return Wu(y,...h)}function Qf(y,h,m){const w=Object.assign(Object.assign({},Iy()),{[h]:m});return new wo("auth","Firebase",w).create(h,{appName:y.name})}function ea(y,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&mi(y,"argument-error"),Qf(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wu(y,...h){if("string"!=typeof y){const m=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return og.create(y,...h)}function He(y,h,...m){if(!y)throw Wu(h,...m)}function Jr(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Zu(h),new Error(h)}function Qs(y,h){y||Jr(h)}function Nl(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Pc(){return"http:"===Jf()||"https:"===Jf()}function Jf(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ws{constructor(h,m){this.shortDelay=h,this.longDelay=m,Qs(m>h,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(le())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pc()||function(){const y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof y&&void 0!==y.id}()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function cs(y,h){Qs(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Cs{static initialize(h,m,w){this.fetchImpl=h,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ky=new ws(3e4,6e4);function Jt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Yn(y,h,m,w){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,o.Z)(function*(y,h,m,w,x={}){return Xf(y,x,(0,o.Z)(function*(){let R={},j={};w&&("GET"===h?j=w:R={body:JSON.stringify(w)});const K=wr(Object.assign({key:y.config.apiKey},j)).slice(1),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/json",y.languageCode&&(de["X-Firebase-Locale"]=y.languageCode),Cs.fetch()(hh(y,y.config.apiHost,m,K),Object.assign({method:h,headers:de,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Xf(y,h,m){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,o.Z)(function*(y,h,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Nc),h);try{const x=new Lc(y),R=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const j=yield R.json();if("needConfirmation"in j)throw Fl(y,"account-exists-with-different-credential",j);if(R.ok&&!("errorMessage"in j))return j;{const K=R.ok?j.errorMessage:j.error.message,[de,ue]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===de)throw Fl(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===de)throw Fl(y,"email-already-in-use",j);if("USER_DISABLED"===de)throw Fl(y,"user-disabled",j);const Be=w[de]||de.toLowerCase().replace(/[_\s]+/g,"-");if(ue)throw Qf(y,Be,ue);mi(y,Be)}}catch(x){if(x instanceof Mn)throw x;mi(y,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function Xn(y,h,m,w){return gi.apply(this,arguments)}function gi(){return(gi=(0,o.Z)(function*(y,h,m,w,x={}){const R=yield Yn(y,h,m,w,x);return"mfaPendingCredential"in R&&mi(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function hh(y,h,m,w){const x=`${h}${m}?${w}`;return y.config.emulator?cs(y.config,x):`${y.config.apiScheme}://${x}`}class Lc{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Fi(this.auth,"network-request-failed")),ky.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fl(y,h,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=Fi(y,h,w);return x.customData._tokenResponse=m,x}function Bc(){return(Bc=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function fh(y,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ag(y,h){return ph.apply(this,arguments)}function ph(){return(ph=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ei(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Ao(){return(Ao=(0,o.Z)(function*(y,h=!1){const m=Bt(y),w=yield m.getIdToken(h),x=Ju(w);He(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,j=null==R?void 0:R.sign_in_provider;return{claims:x,token:w,authTime:ei(Ii(x.auth_time)),issuedAtTime:ei(Ii(x.iat)),expirationTime:ei(Ii(x.exp)),signInProvider:j||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Ii(y){return 1e3*Number(y)}function Ju(y){const[h,m,w]=y.split(".");if(void 0===h||void 0===m||void 0===w)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const x=Me(m);return x?JSON.parse(x):(Zu("Failed to decode base64 JWT payload"),null)}catch(x){return Zu("Caught error parsing JWT payload as JSON",null==x?void 0:x.toString()),null}}function ur(y,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,o.Z)(function*(y,h,m=!1){if(m)return h;try{return yield h}catch(w){throw w instanceof Mn&&Wa(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Wa({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Js{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,o.Z)(function*(){yield m.iteration()}),w)}iteration(){var h=this;return(0,o.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&h.schedule(!0))}h.schedule()})()}}class Bl{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dr(y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,o.Z)(function*(y){var h;const m=y.auth,w=yield y.getIdToken(),x=yield ur(y,ag(m,{idToken:w}));He(null==x?void 0:x.users.length,m,"internal-error");const R=x.users[0];y._notifyReloadListener(R);const j=(null===(h=R.providerUserInfo)||void 0===h?void 0:h.length)?Vc(R.providerUserInfo):[],K=ed(y.providerData,j),Be=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==K?void 0:K.length)),me={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:K,metadata:new Bl(R.createdAt,R.lastLoginAt),isAnonymous:Be};Object.assign(y,me)})).apply(this,arguments)}function Dt(){return(Dt=(0,o.Z)(function*(y){const h=Bt(y);yield dr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ed(y,h){return[...y.filter(w=>!h.some(x=>x.providerId===w.providerId)),...h]}function Vc(y){return y.map(h=>{var{providerId:m}=h,w=pi(h,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function P(){return(P=(0,o.Z)(function*(y,h){const m=yield Xf(y,{},(0,o.Z)(function*(){const w=wr({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:x,apiKey:R}=y.config,j=hh(y,x,"/v1/token",`key=${R}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",Cs.fetch()(j,{method:"POST",headers:K,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){He(h.idToken,"internal-error"),He(void 0!==h.idToken,"internal-error"),He(void 0!==h.refreshToken,"internal-error");const m="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(y){const h=Ju(y);return He(h,"internal-error"),He(void 0!==h.exp,"internal-error"),He(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var w=this;return(0,o.Z)(function*(){return He(!w.accessToken||w.refreshToken,h,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var w=this;return(0,o.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:j}=yield function(y,h){return P.apply(this,arguments)}(h,m);w.updateTokensAndExpiration(x,R,Number(j))})()}updateTokensAndExpiration(h,m,w){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,m){const{refreshToken:w,accessToken:x,expirationTime:R}=m,j=new H;return w&&(He("string"==typeof w,"internal-error",{appName:h}),j.refreshToken=w),x&&(He("string"==typeof x,"internal-error",{appName:h}),j.accessToken=x),R&&(He("number"==typeof R,"internal-error",{appName:h}),j.expirationTime=R),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return Jr("not implemented")}}function X(y,h){He("string"==typeof y||void 0===y,"internal-error",{appName:h})}class J{constructor(h){var{uid:m,auth:w,stsTokenManager:x}=h,R=pi(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Js(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Bl(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,o.Z)(function*(){const w=yield ur(m,m.stsTokenManager.getToken(m.auth,h));return He(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(h){return function(y){return Ao.apply(this,arguments)}(this,h)}reload(){return function(y){return Dt.apply(this,arguments)}(this)}_assign(h){this!==h&&(He(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const m=new J(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(h){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var w=this;return(0,o.Z)(function*(){let x=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),x=!0),m&&(yield dr(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,o.Z)(function*(){const m=yield h.getIdToken();return yield ur(h,function(y,h){return Bc.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var w,x,R,j,K,de,ue,Be;const me=null!==(w=m.displayName)&&void 0!==w?w:void 0,ut=null!==(x=m.email)&&void 0!==x?x:void 0,Vn=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,hs=null!==(j=m.photoURL)&&void 0!==j?j:void 0,wf=null!==(K=m.tenantId)&&void 0!==K?K:void 0,gm=null!==(de=m._redirectEventId)&&void 0!==de?de:void 0,Mv=null!==(ue=m.createdAt)&&void 0!==ue?ue:void 0,kv=null!==(Be=m.lastLoginAt)&&void 0!==Be?Be:void 0,{uid:bu,emailVerified:_m,isAnonymous:ym,providerData:wu,stsTokenManager:vm}=m;He(bu&&vm,h,"internal-error");const zr=H.fromJSON(this.name,vm);He("string"==typeof bu,h,"internal-error"),X(me,h.name),X(ut,h.name),He("boolean"==typeof _m,h,"internal-error"),He("boolean"==typeof ym,h,"internal-error"),X(Vn,h.name),X(hs,h.name),X(wf,h.name),X(gm,h.name),X(Mv,h.name),X(kv,h.name);const Cf=new J({uid:bu,auth:h,email:ut,emailVerified:_m,displayName:me,isAnonymous:ym,photoURL:hs,phoneNumber:Vn,tenantId:wf,stsTokenManager:zr,createdAt:Mv,lastLoginAt:kv});return wu&&Array.isArray(wu)&&(Cf.providerData=wu.map(o_=>Object.assign({},o_))),gm&&(Cf._redirectEventId=gm),Cf}static _fromIdTokenResponse(h,m,w=!1){return(0,o.Z)(function*(){const x=new H;x.updateFromServerResponse(m);const R=new J({uid:m.localId,auth:h,stsTokenManager:x,isAnonymous:w});return yield dr(R),R})()}}const ne=new Map;function xe(y){Qs(y instanceof Function,"Expected a class definition");let h=ne.get(y);return h?(Qs(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,ne.set(y,h),h)}const lt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,o.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,o.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,o.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function vn(y,h,m){return`firebase:${y}:${h}:${m}`}class Kn{constructor(h,m,w){this.persistence=h,this.auth=m,this.userKey=w;const{config:x,name:R}=this.auth;this.fullUserKey=vn(this.userKey,x.apiKey,R),this.fullPersistenceKey=vn("persistence",x.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,o.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?J._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,o.Z)(function*(){if(m.persistence===h)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,w="authUser"){return(0,o.Z)(function*(){if(!m.length)return new Kn(xe(lt),h,w);const x=(yield Promise.all(m.map(function(){var ue=(0,o.Z)(function*(Be){if(yield Be._isAvailable())return Be});return function(Be){return ue.apply(this,arguments)}}()))).filter(ue=>ue);let R=x[0]||xe(lt);const j=vn(w,h.config.apiKey,h.name);let K=null;for(const ue of m)try{const Be=yield ue._get(j);if(Be){const me=J._fromJSON(h,Be);ue!==R&&(K=me),R=ue;break}}catch(Be){}const de=x.filter(ue=>ue._shouldAllowMigration);return R._shouldAllowMigration&&de.length?(R=de[0],K&&(yield R._set(j,K.toJSON())),yield Promise.all(m.map(function(){var ue=(0,o.Z)(function*(Be){if(Be!==R)try{yield Be._remove(j)}catch(me){}});return function(Be){return ue.apply(this,arguments)}}())),new Kn(R,h,w)):new Kn(R,h,w)})()}}function Wt(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(lg(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Xr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Uc(h))return"Blackberry";if(xr(h))return"Webos";if(Ki(h))return"Safari";if((h.includes("chrome/")||td(h))&&!h.includes("edge/"))return"Chrome";if(Vl(h))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Xr(y=le()){return/firefox\//i.test(y)}function Ki(y=le()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function td(y=le()){return/crios\//i.test(y)}function lg(y=le()){return/iemobile/i.test(y)}function Vl(y=le()){return/android/i.test(y)}function Uc(y=le()){return/blackberry/i.test(y)}function xr(y=le()){return/webos/i.test(y)}function Dr(y=le()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ep(y=le()){return Dr(y)||Vl(y)||xr(y)||Uc(y)||/windows phone/i.test(y)||lg(y)}function np(y,h=[]){let m;switch(y){case"Browser":m=Wt(le());break;case"Worker":m=`${Wt(le())}-${y}`;break;default:m=y}const w=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${Ci.SDK_VERSION}/${w}`}function nd(){return(nd=(0,o.Z)(function*(y){return(yield Yn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _h(y,h){return yh.apply(this,arguments)}function yh(){return(yh=(0,o.Z)(function*(y,h){return Yn(y,"GET","/v2/recaptchaConfig",Jt(y,h))})).apply(this,arguments)}function id(y){return void 0!==y&&void 0!==y.getResponse}function ta(y){return void 0!==y&&void 0!==y.enterprise}class vh{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function bh(y){return new Promise((h,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=h,w.onerror=x=>{const R=Fi("internal-error");R.customData=x,m(R)},w.type="text/javascript",w.charset="UTF-8",function(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(w)})}function sd(y){return`__${y}${Math.floor(1e6*Math.random())}`}class rp{constructor(h){this.type="recaptcha-enterprise",this.auth=zn(h)}verify(h="verify",m=!1){var w=this;return(0,o.Z)(function*(){function R(){return R=(0,o.Z)(function*(K){if(!m){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var de=(0,o.Z)(function*(ue,Be){_h(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(me=>{if(void 0!==me.recaptchaKey){const ut=new vh(me);return null==K.tenantId?K._agentRecaptchaConfig=ut:K._tenantRecaptchaConfigs[K.tenantId]=ut,ue(ut.siteKey)}Be(new Error("recaptcha Enterprise site key undefined"))}).catch(me=>{Be(me)})});return function(ue,Be){return de.apply(this,arguments)}}())}),R.apply(this,arguments)}function j(K,de,ue){const Be=window.grecaptcha;ta(Be)?Be.enterprise.ready(()=>{Be.enterprise.execute(K,{action:h}).then(me=>{de(me)}).catch(()=>{de("NO_RECAPTCHA")})}):ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,de)=>{(function(K){return R.apply(this,arguments)})(w.auth).then(ue=>{if(!m&&ta(window.grecaptcha))j(ue,K,de);else{if("undefined"==typeof window)return void de(new Error("RecaptchaVerifier is only supported in browser"));bh("https://www.google.com/recaptcha/enterprise.js?render="+ue).then(()=>{j(ue,K,de)}).catch(Be=>{de(Be)})}}).catch(ue=>{de(ue)})})})()}}function eo(y,h,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,o.Z)(function*(y,h,m,w=!1){const x=new rp(y);let R;try{R=yield x.verify(m)}catch(K){R=yield x.verify(m,!0)}const j=Object.assign({},h);return Object.assign(j,w?{captchaResp:R}:{captchaResponse:R}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class Ka{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const w=R=>new Promise((j,K)=>{try{j(h(R))}catch(de){K(de)}});w.onAbort=m,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,o.Z)(function*(){if(m.auth.currentUser===h)return;const w=[];try{for(const x of m.queue)yield x(h),x.onAbort&&w.push(x.onAbort)}catch(x){w.reverse();for(const R of w)try{R()}catch(j){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==x?void 0:x.message})}})()}}class _i{constructor(h,m,w,x){this.app=h,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=w,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eh(this),this.idTokenSubscription=new Eh(this),this.beforeStateQueue=new Ka(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=og,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(h,m){var w=this;return m&&(this._popupRedirectResolver=xe(m)),this._initializationPromise=this.queue((0,o.Z)(function*(){var x,R;if(!w._deleted&&(w.persistenceManager=yield Kn.create(w,h),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(j){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,o.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,o.Z)(function*(){var w;const x=yield m.assertedPersistence.getCurrentUser();let R=x,j=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const K=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,de=null==R?void 0:R._redirectEventId,ue=yield m.tryRedirectSignIn(h);(!K||K===de)&&(null==ue?void 0:ue.user)&&(R=ue.user,j=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(j)try{yield m.beforeStateQueue.runMiddleware(R)}catch(K){R=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(K))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return He(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(h){var m=this;return(0,o.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch(x){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,o.Z)(function*(){try{yield dr(h)}catch(w){if("auth/network-request-failed"!==(null==w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,o.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,o.Z)(function*(){const w=h?Bt(h):null;return w&&He(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(h,m=!1){var w=this;return(0,o.Z)(function*(){if(!w._deleted)return h&&He(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,o.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,o.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,o.Z)(function*(){yield m.assertedPersistence.setPersistence(xe(h))}))}initializeRecaptchaConfig(){var h=this;return(0,o.Z)(function*(){const m=yield _h(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new vh(m);null==h.tenantId?h._agentRecaptchaConfig=w:h._tenantRecaptchaConfigs[h.tenantId]=w,w.emailPasswordEnabled&&new rp(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new wo("auth","Firebase",h())}onAuthStateChanged(h,m,w){return this.registerStateListener(this.authStateSubscription,h,m,w)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,w){return this.registerStateListener(this.idTokenSubscription,h,m,w)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var w=this;return(0,o.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===h?x.removeCurrentUser():x.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,o.Z)(function*(){if(!m.redirectPersistenceManager){const w=h&&xe(h)||m._popupRedirectResolver;He(w,m,"argument-error"),m.redirectPersistenceManager=yield Kn.create(m,[xe(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,o.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,o.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===h?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,o.Z)(function*(){if(h===m.currentUser)return m.queue((0,o.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,w,x){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),j=this._isInitialized?Promise.resolve():this._initializationPromise;return He(j,this,"internal-error"),j.then(()=>R(this.currentUser)),"function"==typeof m?h.addObserver(m,w,x):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,o.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=np(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,o.Z)(function*(){var m;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const x=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();x&&(w["X-Firebase-Client"]=x);const R=yield h._getAppCheckToken();return R&&(w["X-Firebase-AppCheck"]=R),w})()}_getAppCheckToken(){var h=this;return(0,o.Z)(function*(){var m;const w=yield null===(m=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return(null==w?void 0:w.error)&&function(y,...h){$u.logLevel<=Q.WARN&&$u.warn(`Auth (${Ci.SDK_VERSION}): ${y}`,...[])}(`Error while retrieving App Check token: ${w.error}`),null==w?void 0:w.token})()}}function zn(y){return Bt(y)}class Eh{constructor(h){this.auth=h,this.observer=null,this.addObserver=function(y,h){const m=new zt(y,void 0);return m.subscribe.bind(m)}(m=>this.observer=m)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cg(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Io(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Ja{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return Jr("not implemented")}_getIdTokenResponse(h){return Jr("not implemented")}_linkToIdToken(h,m){return Jr("not implemented")}_getReauthenticationResolver(h){return Jr("not implemented")}}function ug(y,h){return ap.apply(this,arguments)}function ap(){return(ap=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:resetPassword",Jt(y,h))})).apply(this,arguments)}function na(y,h){return jc.apply(this,arguments)}function jc(){return(jc=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Hc(y,h){return lp.apply(this,arguments)}function lp(){return(lp=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:update",Jt(y,h))})).apply(this,arguments)}function jl(y,h){return xh.apply(this,arguments)}function xh(){return(xh=(0,o.Z)(function*(y,h){return Xn(y,"POST","/v1/accounts:signInWithPassword",Jt(y,h))})).apply(this,arguments)}function Hl(y,h){return ia.apply(this,arguments)}function ia(){return(ia=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:sendOobCode",Jt(y,h))})).apply(this,arguments)}function cp(y,h){return up.apply(this,arguments)}function up(){return(up=(0,o.Z)(function*(y,h){return Hl(y,h)})).apply(this,arguments)}function To(y,h){return zc.apply(this,arguments)}function zc(){return(zc=(0,o.Z)(function*(y,h){return Hl(y,h)})).apply(this,arguments)}function Br(y,h){return ui.apply(this,arguments)}function ui(){return(ui=(0,o.Z)(function*(y,h){return Hl(y,h)})).apply(this,arguments)}function xn(y,h){return od.apply(this,arguments)}function od(){return(od=(0,o.Z)(function*(y,h){return Hl(y,h)})).apply(this,arguments)}function xt(){return(xt=(0,o.Z)(function*(y,h){return Xn(y,"POST","/v1/accounts:signInWithEmailLink",Jt(y,h))})).apply(this,arguments)}function to(){return(to=(0,o.Z)(function*(y,h){return Xn(y,"POST","/v1/accounts:signInWithEmailLink",Jt(y,h))})).apply(this,arguments)}class fn extends Ja{constructor(h,m,w,x=null){super("password",w),this._email=h,this._password=m,this._tenantId=x}static _fromEmailAndPassword(h,m){return new fn(h,m,"password")}static _fromEmailAndCode(h,m,w=null){return new fn(h,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,o.Z)(function*(){var w;switch(m.signInMethod){case"password":const x={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null===(w=h._getRecaptchaConfig())||void 0===w?void 0:w.emailPasswordEnabled){const R=yield eo(h,x,"signInWithPassword");return jl(h,R)}return jl(h,x).catch(function(){var R=(0,o.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield eo(h,x,"signInWithPassword");return jl(h,K)}return Promise.reject(j)});return function(j){return R.apply(this,arguments)}}());case"emailLink":return function(y,h){return xt.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:mi(h,"internal-error")}})()}_linkToIdToken(h,m){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return na(h,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(y,h){return to.apply(this,arguments)}(h,{idToken:m,email:w._email,oobCode:w._password});default:mi(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function sa(y,h){return ad.apply(this,arguments)}function ad(){return(ad=(0,o.Z)(function*(y,h){return Xn(y,"POST","/v1/accounts:signInWithIdp",Jt(y,h))})).apply(this,arguments)}class Es extends Ja{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new Es(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):mi("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:x}=m,R=pi(m,["providerId","signInMethod"]);if(!w||!x)return null;const j=new Es(w,x);return j.idToken=R.idToken||void 0,j.accessToken=R.accessToken||void 0,j.secret=R.secret,j.nonce=R.nonce,j.pendingToken=R.pendingToken||null,j}_getIdTokenResponse(h){return sa(h,this.buildRequest())}_linkToIdToken(h,m){const w=this.buildRequest();return w.idToken=m,sa(h,w)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,sa(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=wr(m)}return h}}function Py(y,h){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:sendVerificationCode",Jt(y,h))})).apply(this,arguments)}function tl(){return(tl=(0,o.Z)(function*(y,h){return Xn(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,h))})).apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(y,h){const m=yield Xn(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,h));if(m.temporaryProof)throw Fl(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ld={USER_NOT_FOUND:"user-not-found"};function zl(){return(zl=(0,o.Z)(function*(y,h){return Xn(y,"POST","/v1/accounts:signInWithPhoneNumber",Jt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ld)})).apply(this,arguments)}class no extends Ja{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new no({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new no({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function(y,h){return tl.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function(y,h){return oa.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(y,h){return zl.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:R}=h;return w||m||x||R?new no({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:R}):null}}class Qi{constructor(h){var m,w,x,R,j,K;const de=wi(kc(h)),ue=null!==(m=de.apiKey)&&void 0!==m?m:null,Be=null!==(w=de.oobCode)&&void 0!==w?w:null,me=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=de.mode)&&void 0!==x?x:null);He(ue&&Be&&me,"argument-error"),this.apiKey=ue,this.operation=me,this.code=Be,this.continueUrl=null!==(R=de.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(j=de.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(K=de.tenantId)&&void 0!==K?K:null}static parseLink(h){const m=function(y){const h=wi(kc(y)).link,m=h?wi(kc(h)).deep_link_id:null,w=wi(kc(y)).deep_link_id;return(w?wi(kc(w)).link:null)||w||m||h||y}(h);try{return new Qi(m)}catch(w){return null}}}let la=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return fn._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=Qi.parseLink(w);return He(x,"argument-error"),fn._fromEmailAndCode(m,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Mo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class qc extends Mo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Gl extends qc{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return He("providerId"in m&&"signInMethod"in m,"argument-error"),Es._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return He(h.idToken||h.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Gl.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Gl.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:R,nonce:j,providerId:K}=h;if(!w&&!x&&!m&&!R||!K)return null;try{return new Gl(K)._credential({idToken:m,accessToken:w,nonce:j,pendingToken:R})}catch(de){return null}}}let Vr=(()=>{class y extends qc{constructor(){super("facebook.com")}static credential(m){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ah=(()=>{class y extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return y.credential(w,x)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),nl=(()=>{class y extends qc{constructor(){super("github.com")}static credential(m){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ur extends Ja{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return sa(h,this.buildRequest())}_linkToIdToken(h,m){const w=this.buildRequest();return w.idToken=m,sa(h,w)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,sa(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:x,pendingToken:R}=m;return w&&x&&R&&w===x?new Ur(w,R):null}static _create(h,m){return new Ur(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xs extends Mo{constructor(h){He(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return xs.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return xs.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=Ur.fromJSON(h);return He(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:w}=h;if(!m||!w)return null;try{return Ur._create(w,m)}catch(x){return null}}}let Ih=(()=>{class y extends qc{constructor(){super("twitter.com")}static credential(m,w){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return y.credential(w,x)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ql(y,h){return ko.apply(this,arguments)}function ko(){return(ko=(0,o.Z)(function*(y,h){return Xn(y,"POST","/v1/accounts:signUp",Jt(y,h))})).apply(this,arguments)}class io{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,w,x=!1){return(0,o.Z)(function*(){const R=yield J._fromIdTokenResponse(h,w,x),j=Ny(w);return new io({user:R,providerId:j,_tokenResponse:w,operationType:m})})()}static _forOperation(h,m,w){return(0,o.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const x=Ny(w);return new io({user:h,providerId:x,_tokenResponse:w,operationType:m})})()}}function Ny(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function rl(){return(rl=(0,o.Z)(function*(y){var h;const m=zn(y);if(yield m._initializationPromise,null===(h=m.currentUser)||void 0===h?void 0:h.isAnonymous)return new io({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield ql(m,{returnSecureToken:!0}),x=yield io._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class $l extends Mn{constructor(h,m,w,x){var R;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,$l.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,m,w,x){return new $l(h,m,w,x)}}function Th(y,h,m,w){return("reauthenticate"===h?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?$l._fromErrorAndOperation(y,R,h,w):R})}function dg(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function sl(){return(sl=(0,o.Z)(function*(y,h){const m=Bt(y);yield fp(!0,m,h);const{providerUserInfo:w}=yield fh(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),x=dg(w||[]);return m.providerData=m.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function $c(y,h){return ro.apply(this,arguments)}function ro(){return(ro=(0,o.Z)(function*(y,h,m=!1){const w=yield ur(y,h._linkToIdToken(y.auth,yield y.getIdToken()),m);return io._forOperation(y,"link",w)})).apply(this,arguments)}function fp(y,h,m){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,o.Z)(function*(y,h,m){yield dr(h);const x=!1===y?"provider-already-linked":"no-such-provider";He(dg(h.providerData).has(m)===y,h.auth,x)})).apply(this,arguments)}function ud(y,h){return qn.apply(this,arguments)}function qn(){return(qn=(0,o.Z)(function*(y,h,m=!1){const{auth:w}=y,x="reauthenticate";try{const R=yield ur(y,Th(w,x,h,y),m);He(R.idToken,w,"internal-error");const j=Ju(R.idToken);He(j,w,"internal-error");const{sub:K}=j;return He(y.uid===K,w,"user-mismatch"),io._forOperation(y,x,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&mi(w,"user-mismatch"),R}})).apply(this,arguments)}function fg(y,h){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,o.Z)(function*(y,h,m=!1){const w="signIn",x=yield Th(y,w,h),R=yield io._fromIdTokenResponse(y,w,x);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function si(y,h){return Li.apply(this,arguments)}function Li(){return(Li=(0,o.Z)(function*(y,h){return fg(zn(y),h)})).apply(this,arguments)}function Zl(y,h){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.Z)(function*(y,h){const m=Bt(y);return yield fp(!1,m,h.providerId),$c(m,h)})).apply(this,arguments)}function Wl(y,h){return dd.apply(this,arguments)}function dd(){return(dd=(0,o.Z)(function*(y,h){return ud(Bt(y),h)})).apply(this,arguments)}function Zc(y,h){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,o.Z)(function*(y,h){return Xn(y,"POST","/v1/accounts:signInWithCustomToken",Jt(y,h))})).apply(this,arguments)}function Yc(){return(Yc=(0,o.Z)(function*(y,h){const m=zn(y),w=yield Zc(m,{token:h,returnSecureToken:!0}),x=yield io._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class hd{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?jr._fromServerResponse(h,m):"totpInfo"in m?fd._fromServerResponse(h,m):mi(h,"internal-error")}}class jr extends hd{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new jr(m)}}class fd extends hd{constructor(h){super("totp",h)}static _fromServerResponse(h,m){return new fd(m)}}function yi(y,h,m){var w;He((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),He(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(He(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(He(m.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function Kc(){return Kc=(0,o.Z)(function*(y,h,m){var w;const x=zn(y),R={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null===(w=x._getRecaptchaConfig())||void 0===w?void 0:w.emailPasswordEnabled){const j=yield eo(x,R,"getOobCode",!0);m&&yi(x,j,m),yield To(x,j)}else m&&yi(x,R,m),yield To(x,R).catch(function(){var j=(0,o.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const de=yield eo(x,R,"getOobCode",!0);m&&yi(x,de,m),yield To(x,de)}});return function(K){return j.apply(this,arguments)}}())}),Kc.apply(this,arguments)}function pp(){return(pp=(0,o.Z)(function*(y,h,m){yield ug(Bt(y),{oobCode:h,newPassword:m})})).apply(this,arguments)}function Qc(){return(Qc=(0,o.Z)(function*(y,h){yield Hc(Bt(y),{oobCode:h})})).apply(this,arguments)}function md(y,h){return gd.apply(this,arguments)}function gd(){return(gd=(0,o.Z)(function*(y,h){const m=Bt(y),w=yield ug(m,{oobCode:h}),x=w.requestType;switch(He(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":He(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":He(w.mfaInfo,m,"internal-error");default:He(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=hd._fromServerResponse(zn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function Jc(){return(Jc=(0,o.Z)(function*(y,h){const{data:m}=yield md(Bt(y),h);return m.email})).apply(this,arguments)}function al(){return al=(0,o.Z)(function*(y,h,m){var w;const x=zn(y),R={returnSecureToken:!0,email:h,password:m,clientType:"CLIENT_TYPE_WEB"};let j;if(null===(w=x._getRecaptchaConfig())||void 0===w?void 0:w.emailPasswordEnabled){const ue=yield eo(x,R,"signUpPassword");j=ql(x,ue)}else j=ql(x,R).catch(function(){var ue=(0,o.Z)(function*(Be){if("auth/missing-recaptcha-token"===Be.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const me=yield eo(x,R,"signUpPassword");return ql(x,me)}return Promise.reject(Be)});return function(Be){return ue.apply(this,arguments)}}());const K=yield j.catch(ue=>Promise.reject(ue)),de=yield io._fromIdTokenResponse(x,"signIn",K);return yield x._updateCurrentUser(de.user),de}),al.apply(this,arguments)}function mp(){return mp=(0,o.Z)(function*(y,h,m){var w;const x=zn(y),R={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function j(K,de){He(de.handleCodeInApp,x,"argument-error"),de&&yi(x,K,de)}if(null===(w=x._getRecaptchaConfig())||void 0===w?void 0:w.emailPasswordEnabled){const K=yield eo(x,R,"getOobCode",!0);j(K,m),yield Br(x,K)}else j(R,m),yield Br(x,R).catch(function(){var K=(0,o.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ue=yield eo(x,R,"getOobCode",!0);j(ue,m),yield Br(x,ue)}});return function(de){return K.apply(this,arguments)}}())}),mp.apply(this,arguments)}function Yl(){return(Yl=(0,o.Z)(function*(y,h,m){const w=Bt(y),x=la.credentialWithLink(h,m||Nl());return He(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),si(w,x)})).apply(this,arguments)}function Uy(y,h){return us.apply(this,arguments)}function us(){return(us=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:createAuthUri",Jt(y,h))})).apply(this,arguments)}function Kl(){return(Kl=(0,o.Z)(function*(y,h){const w={identifier:h,continueUri:Pc()?Nl():"http://localhost"},{signinMethods:x}=yield Uy(Bt(y),w);return x||[]})).apply(this,arguments)}function eu(){return(eu=(0,o.Z)(function*(y,h){const m=Bt(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&yi(m.auth,x,h);const{email:R}=yield cp(m.auth,x);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function _d(){return(_d=(0,o.Z)(function*(y,h,m){const w=Bt(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};m&&yi(w.auth,R,m);const{email:j}=yield xn(w.auth,R);j!==y.email&&(yield y.reload())})).apply(this,arguments)}function yd(y,h){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,o.Z)(function*(y,h){return Yn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Oh(){return(Oh=(0,o.Z)(function*(y,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const w=Bt(y),R={idToken:yield w.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},j=yield ur(w,yd(w.auth,R));w.displayName=j.displayName||null,w.photoURL=j.photoUrl||null;const K=w.providerData.find(({providerId:de})=>"password"===de);K&&(K.displayName=w.displayName,K.photoURL=w.photoURL),yield w._updateTokensIfNecessary(j)})).apply(this,arguments)}function Ql(y,h,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,o.Z)(function*(y,h,m){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(R.email=h),m&&(R.password=m);const j=yield ur(y,na(w,R));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class cl{constructor(h,m,w={}){this.isNewUser=h,this.providerId=m,this.profile=w}}class vp extends cl{constructor(h,m,w,x){super(h,m,w),this.username=x}}class tu extends cl{constructor(h,m){super(h,"facebook.com",m)}}class Hy extends vp{constructor(h,m){super(h,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class zy extends cl{constructor(h,m){super(h,"google.com",m)}}class Gy extends vp{constructor(h,m,w){super(h,"twitter.com",m,w)}}function ua(y){const{user:h,_tokenResponse:m}=y;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(y){var h,m;if(!y)return null;const{providerId:w}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const j=null===(m=null===(h=Ju(y.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(j)return new cl(R,"anonymous"!==j&&"custom"!==j?j:null)}if(!w)return null;switch(w){case"facebook.com":return new tu(R,x);case"github.com":return new Hy(R,x);case"google.com":return new zy(R,x);case"twitter.com":return new Gy(R,x,y.screenName||null);case"custom":case"anonymous":return new cl(R,null);default:return new cl(R,w,x)}}(m)}class ul{constructor(h,m,w){this.type=h,this.credential=m,this.auth=w}static _fromIdtoken(h,m){return new ul("enroll",h,m)}static _fromMfaPendingCredential(h){return new ul("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,w;if(null==h?void 0:h.multiFactorSession){if(null===(m=h.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ul._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(w=h.multiFactorSession)||void 0===w?void 0:w.idToken)return ul._fromIdtoken(h.multiFactorSession.idToken)}return null}}class dl{constructor(h,m,w){this.session=h,this.hints=m,this.signInResolver=w}static _fromError(h,m){const w=zn(h),x=m.customData._serverResponse,R=(x.mfaInfo||[]).map(K=>hd._fromServerResponse(w,K));He(x.mfaPendingCredential,w,"internal-error");const j=ul._fromMfaPendingCredential(x.mfaPendingCredential);return new dl(j,R,function(){var K=(0,o.Z)(function*(de){const ue=yield de._process(w,j);delete x.mfaInfo,delete x.mfaPendingCredential;const Be=Object.assign(Object.assign({},x),{idToken:ue.idToken,refreshToken:ue.refreshToken});switch(m.operationType){case"signIn":const me=yield io._fromIdTokenResponse(w,m.operationType,Be);return yield w._updateCurrentUser(me.user),me;case"reauthenticate":return He(m.user,w,"internal-error"),io._forOperation(m.user,m.operationType,Be);default:mi(w,"internal-error")}});return function(de){return K.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,o.Z)(function*(){return m.signInResolver(h)})()}}function mg(y,h){return Yn(y,"POST","/v2/accounts/mfaEnrollment:start",Jt(y,h))}class wd{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>hd._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new wd(h)}getSession(){var h=this;return(0,o.Z)(function*(){return ul._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,m){var w=this;return(0,o.Z)(function*(){const x=h,R=yield w.getSession(),j=yield ur(w.user,x._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(j),w.user.reload()})()}unenroll(h){var m=this;return(0,o.Z)(function*(){const w="string"==typeof h?h:h.uid,x=yield m.user.getIdToken();try{const R=yield ur(m.user,function(y,h){return Yn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(y,h))}(m.user.auth,{idToken:x,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:j})=>j!==w),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const Ph=new WeakMap,hl="__sak";class Jl{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(hl,"1"),this.storage.removeItem(hl),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ds=(()=>{class y extends Jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=le();return Ki(y)||Dr(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ep(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),R=this.localCache[w];x!==R&&m(w,R,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((K,de,ue)=>{this.notifyListeners(K,ue)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(x);if(m.newValue!==K)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const R=()=>{const K=this.storage.getItem(x);!w&&this.localCache[x]===K||this.notifyListeners(x,K)},j=this.storage.getItem(x);!function(){const y=le();return y.indexOf("MSIE ")>=0||y.indexOf("Trident/")>=0}()||10!==document.documentMode||j===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const R of Array.from(x))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,R=this;return(0,o.Z)(function*(){yield x().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,o.Z)(function*(){const R=yield w().call(x,m);return x.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,x=this;return(0,o.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return y.type="LOCAL",y})(),Po=(()=>{class y extends Jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let Yy=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const x=new y(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,o.Z)(function*(){const x=m,{eventId:R,eventType:j,data:K}=x.data,de=w.handlersMap[j];if(!(null==de?void 0:de.size))return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:j});const ue=Array.from(de).map(function(){var me=(0,o.Z)(function*(ut){return ut(x.origin,K)});return function(ut){return me.apply(this,arguments)}}()),Be=yield function(y){return Promise.all(y.map(function(){var h=(0,o.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return h.apply(this,arguments)}}()))}(ue);x.ports[0].postMessage({status:"done",eventId:R,eventType:j,response:Be})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Cd(y="",h=10){let m="";for(let w=0;w<h;w++)m+=Math.floor(10*Math.random());return y+m}class Ky{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,w=50){var x=this;return(0,o.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let j,K;return new Promise((de,ue)=>{const Be=Cd("",20);R.port1.start();const me=setTimeout(()=>{ue(new Error("unsupported_event"))},w);K={messageChannel:R,onMessage(ut){const Vn=ut;if(Vn.data.eventId===Be)switch(Vn.data.status){case"ack":clearTimeout(me),j=setTimeout(()=>{ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),de(Vn.data.response);break;default:clearTimeout(me),clearTimeout(j),ue(new Error("invalid_response"))}}},x.handlers.add(K),R.port1.addEventListener("message",K.onMessage),x.target.postMessage({eventType:h,eventId:Be,data:m},[R.port2])}).finally(()=>{K&&x.removeMessageHandler(K)})})()}}function wn(){return window}function Cp(){return void 0!==wn().WorkerGlobalScope&&"function"==typeof wn().importScripts}function Ep(){return(Ep=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const fl="firebaseLocalStorageDb",Ss="firebaseLocalStorage",pl="fbase_key";class xd{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Dd(y,h){return y.transaction([Ss],h?"readwrite":"readonly").objectStore(Ss)}function Cg(){const y=indexedDB.open(fl,1);return new Promise((h,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ss,{keyPath:pl})}catch(x){m(x)}}),y.addEventListener("success",(0,o.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ss)?h(w):(w.close(),yield function(){const y=indexedDB.deleteDatabase(fl);return new xd(y).toPromise()}(),h(yield Cg()))}))})}function xp(y,h,m){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,o.Z)(function*(y,h,m){const w=Dd(y,!0).put({[pl]:h,value:m});return new xd(w).toPromise()})).apply(this,arguments)}function Nh(){return(Nh=(0,o.Z)(function*(y,h){const m=Dd(y,!1).get(h),w=yield new xd(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Sp(y,h){const m=Dd(y,!0).delete(h);return new xd(m).toPromise()}const ha=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,o.Z)(function*(){return m.db||(m.db=yield Cg()),m.db})()}_withRetries(m){var w=this;return(0,o.Z)(function*(){let x=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(x++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,o.Z)(function*(){return Cp()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,o.Z)(function*(){m.receiver=Yy._getInstance(Cp()?self:null),m.receiver._subscribe("keyChanged",function(){var w=(0,o.Z)(function*(x,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(x,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,o.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,o.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function(){return Ep.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ky(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,o.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Cg();return yield xp(m,hl,"1"),yield Sp(m,hl),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,o.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,o.Z)(function*(){return x._withPendingWrite((0,o.Z)(function*(){return yield x._withRetries(R=>xp(R,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,o.Z)(function*(){const x=yield w._withRetries(R=>function(y,h){return Nh.apply(this,arguments)}(R,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,o.Z)(function*(){return w._withPendingWrite((0,o.Z)(function*(){return yield w._withRetries(x=>Sp(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,o.Z)(function*(){const w=yield m._withRetries(j=>{const K=Dd(j,!1).getAll();return new xd(K).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:j,value:K}of w)R.add(j),JSON.stringify(m.localCache[j])!==JSON.stringify(K)&&(m.notifyListeners(j,K),x.push(j));for(const j of Object.keys(m.localCache))m.localCache[j]&&!R.has(j)&&(m.notifyListeners(j,null),x.push(j));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const R of Array.from(x))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ap(y,h){return Yn(y,"POST","/v2/accounts/mfaSignIn:start",Jt(y,h))}const Fh=1e12;class Lh{constructor(h){this.auth=h,this.counter=Fh,this._widgets=new Map}render(h,m){const w=this.counter;return this._widgets.set(w,new ml(h,this.auth.name,m||{})),this.counter++,w}reset(h){var m;const w=h||Fh;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(h){var m;return(null===(m=this._widgets.get(h||Fh))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,o.Z)(function*(){var w;return null===(w=m._widgets.get(h||Fh))||void 0===w||w.execute(),""})()}}class ml{constructor(h,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof h?document.getElementById(h):h;He(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}();const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ip=sd("rcb"),nv=new ws(3e4,6e4);class Tp{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(h=wn().grecaptcha)||void 0===h?void 0:h.render)}load(h,m=""){return He((y=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),h,"argument-error"),this.shouldResolveImmediately(m)&&id(wn().grecaptcha)?Promise.resolve(wn().grecaptcha):new Promise((w,x)=>{const R=wn().setTimeout(()=>{x(Fi(h,"network-request-failed"))},nv.get());wn()[Ip]=()=>{wn().clearTimeout(R),delete wn()[Ip];const K=wn().grecaptcha;if(!K||!id(K))return void x(Fi(h,"internal-error"));const de=K.render;K.render=(ue,Be)=>{const me=de(ue,Be);return this.counter++,me},this.hostLanguage=m,w(K)},bh(`https://www.google.com/recaptcha/api.js??${wr({onload:Ip,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),x(Fi(h,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!!(null===(m=wn().grecaptcha)||void 0===m?void 0:m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mp{load(h){return(0,o.Z)(function*(){return new Lh(h)})()}clearedOneInstance(){}}const Dg="recaptcha",rv={theme:"light",type:"image"};class kp{constructor(h,m=Object.assign({},rv),w){this.parameters=m,this.type=Dg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(w),this.isInvisible="invisible"===this.parameters.size,He("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof h?document.getElementById(h):h;He(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mp:new Tp,this.validateStartingState()}verify(){var h=this;return(0,o.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const j=K=>{!K||(h.tokenChangeListeners.delete(j),R(K))};h.tokenChangeListeners.add(j),h.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof h)h(m);else if("string"==typeof h){const w=wn()[h];"function"==typeof w&&w(m)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,o.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,o.Z)(function*(){He(Pc()&&!Cp(),h.auth,"internal-error"),yield function(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function(y){return nd.apply(this,arguments)}(h.auth);He(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rp{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=no._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function Ti(){return(Ti=(0,o.Z)(function*(y,h,m){const w=zn(y),x=yield gl(w,h,Bt(m));return new Rp(x,R=>si(w,R))})).apply(this,arguments)}function Id(){return(Id=(0,o.Z)(function*(y,h,m){const w=Bt(y);yield fp(!1,w,"phone");const x=yield gl(w.auth,h,Bt(m));return new Rp(x,R=>Zl(w,R))})).apply(this,arguments)}function Bi(){return(Bi=(0,o.Z)(function*(y,h,m){const w=Bt(y),x=yield gl(w.auth,h,Bt(m));return new Rp(x,R=>Wl(w,R))})).apply(this,arguments)}function gl(y,h,m){return Td.apply(this,arguments)}function Td(){return(Td=(0,o.Z)(function*(y,h,m){var w;const x=yield m.verify();try{let R;if(He("string"==typeof x,y,"argument-error"),He(m.type===Dg,y,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const j=R.session;if("phoneNumber"in R)return He("enroll"===j.type,y,"internal-error"),(yield mg(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{He("signin"===j.type,y,"internal-error");const K=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return He(K,y,"missing-multi-factor-info"),(yield Ap(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield Py(y,{phoneNumber:R.phoneNumber,recaptchaToken:x});return j}}finally{m._reset()}})).apply(this,arguments)}function Md(){return(Md=(0,o.Z)(function*(y,h){yield $c(Bt(y),h)})).apply(this,arguments)}let ec=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=zn(m)}verifyPhoneNumber(m,w){return gl(this.auth,m,Bt(w))}static credential(m,w){return no._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?no._fromTokenResponse(w,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function pa(y,h){return h?xe(h):(He(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Vh extends Ja{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return sa(h,this._buildIdpRequest())}_linkToIdToken(h,m){return sa(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return sa(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function so(y){return fg(y.auth,new Vh(y),y.bypassAuthState)}function kd(y){const{auth:h,user:m}=y;return He(m,h,"internal-error"),ud(m,new Vh(y),y.bypassAuthState)}function Op(y){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,o.Z)(function*(y){const{auth:h,user:m}=y;return He(m,h,"internal-error"),$c(m,new Vh(y),y.bypassAuthState)})).apply(this,arguments)}class Ag{constructor(h,m,w,x,R=!1){this.auth=h,this.resolver=w,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,o.Z)(function*(w,x){h.pendingPromise={resolve:w,reject:x};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,o.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:R,tenantId:j,error:K,type:de}=h;if(K)return void m.reject(K);const ue={auth:m.auth,requestUri:w,sessionId:x,tenantId:j||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(de)(ue))}catch(Be){m.reject(Be)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return so;case"linkViaPopup":case"linkViaRedirect":return Op;case"reauthViaPopup":case"reauthViaRedirect":return kd;default:mi(this.auth,"internal-error")}}resolve(h){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Np=new ws(2e3,1e4);function No(){return(No=(0,o.Z)(function*(y,h,m){const w=zn(y);ea(y,h,Mo);const x=pa(w,m);return new As(w,"signInViaPopup",h,x).executeNotNull()})).apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(y,h,m){const w=Bt(y);ea(w.auth,h,Mo);const x=pa(w.auth,m);return new As(w.auth,"reauthViaPopup",h,x,w).executeNotNull()})).apply(this,arguments)}function oi(){return(oi=(0,o.Z)(function*(y,h,m){const w=Bt(y);ea(w.auth,h,Mo);const x=pa(w.auth,m);return new As(w.auth,"linkViaPopup",h,x,w).executeNotNull()})).apply(this,arguments)}let As=(()=>{class y extends Ag{constructor(m,w,x,R,j){super(m,w,R,j),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,o.Z)(function*(){const w=yield m.execute();return He(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,o.Z)(function*(){Qs(1===m.filter.length,"Popup operations only handle one event");const w=Cd();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Fi(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Np.get())};m()}}return y.currentPopupAction=null,y})();const Rd=new Map;class Fp extends Ag{constructor(h,m,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,o.Z)(function*(){let w=Rd.get(m.auth._key());if(!w){try{const R=(yield function(y,h){return Uh.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;w=()=>Promise.resolve(R)}catch(x){w=()=>Promise.reject(x)}Rd.set(m.auth._key(),w)}return m.bypassAuthState||Rd.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,w=this;return(0,o.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(w,h);if("unknown"!==h.type){if(h.eventId){const x=yield w.auth._redirectUserForId(h.eventId);if(x)return w.user=x,m().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Uh(){return(Uh=(0,o.Z)(function*(y,h){const m=Fo(h),w=jh(y);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function ga(y,h){return rt.apply(this,arguments)}function rt(){return(rt=(0,o.Z)(function*(y,h){return jh(y)._set(Fo(h),"true")})).apply(this,arguments)}function Lp(y,h){Rd.set(y._key(),h)}function jh(y){return xe(y._redirectPersistence)}function Fo(y){return vn("pendingRedirect",y.config.apiKey,y.name)}function _l(){return(_l=(0,o.Z)(function*(y,h,m){const w=zn(y);ea(y,h,Mo),yield w._initializationPromise;const x=pa(w,m);return yield ga(x,w),x._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function Hh(){return(Hh=(0,o.Z)(function*(y,h,m){const w=Bt(y);ea(w.auth,h,Mo),yield w.auth._initializationPromise;const x=pa(w.auth,m);yield ga(x,w.auth);const R=yield Ln(w);return x._openRedirect(w.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function zh(){return(zh=(0,o.Z)(function*(y,h,m){const w=Bt(y);ea(w.auth,h,Mo),yield w.auth._initializationPromise;const x=pa(w.auth,m);yield fp(!1,w,h.providerId),yield ga(x,w.auth);const R=yield Ln(w);return x._openRedirect(w.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function Fn(){return(Fn=(0,o.Z)(function*(y,h){return yield zn(y)._initializationPromise,_a(y,h,!1)})).apply(this,arguments)}function _a(y,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,o.Z)(function*(y,h,m=!1){const w=zn(y),x=pa(w,h),j=yield new Fp(w,x,m).execute();return j&&!m&&(delete j.user._redirectEventId,yield w._persistUserIfCurrent(j.user),yield w._setRedirectUser(null,h)),j})).apply(this,arguments)}function Ln(y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,o.Z)(function*(y){const h=Cd(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Od{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(m=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dn(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var w;if(h.error&&!Dn(h)){const x=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Fi(this.auth,x))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const w=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($n(h))}saveEventToCache(h){this.cachedEventUids.add($n(h)),this.lastProcessedEventTime=Date.now()}}function $n(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Dn({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Tg(y){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.Z)(function*(y,h={}){return Yn(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Sn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Is=/^https?/;function Xi(){return(Xi=(0,o.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Tg(y);for(const m of h)try{if(iu(m))return}catch(w){}mi(y,"unauthorized-domain")})).apply(this,arguments)}function iu(y){const h=Nl(),{protocol:m,hostname:w}=new URL(h);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&j.hostname===w}if(!Is.test(m))return!1;if(Sn.test(y))return w===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Pd=new ws(3e4,6e4);function qh(){const y=wn().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Nd=null;function jp(y){return Nd=Nd||function(y){return new Promise((h,m)=>{var w,x,R;function j(){qh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{qh(),m(Fi(y,"network-request-failed"))},timeout:Pd.get()})}if(null===(x=null===(w=wn().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)h(gapi.iframes.getContext());else{if(!(null===(R=wn().gapi)||void 0===R?void 0:R.load)){const K=sd("iframefcb");return wn()[K]=()=>{gapi.load?j():m(Fi(y,"network-request-failed"))},bh(`https://apis.google.com/js/api.js?onload=${K}`).catch(de=>m(de))}j()}}).catch(h=>{throw Nd=null,h})}(y),Nd}const vl=new ws(5e3,15e3),ao={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ld(y){const h=y.config;He(h.authDomain,y,"auth-domain-config-required");const m=h.emulator?cs(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:h.apiKey,appName:y.name,v:Ci.SDK_VERSION},x=Hp.get(y.config.apiHost);x&&(w.eid=x);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${wr(w).slice(1)}`}function Zh(){return Zh=(0,o.Z)(function*(y){const h=yield jp(y),m=wn().gapi;return He(m,y,"internal-error"),h.open({where:document.body,url:Ld(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ao,dontclear:!0},w=>new Promise(function(){var x=(0,o.Z)(function*(R,j){yield w.restyle({setHideOnLeave:!1});const K=Fi(y,"network-request-failed"),de=wn().setTimeout(()=>{j(K)},vl.get());function ue(){wn().clearTimeout(de),R(w)}w.ping(ue).then(ue,()=>{j(K)})});return function(R,j){return x.apply(this,arguments)}}()))}),Zh.apply(this,arguments)}const ya={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}const kg=encodeURIComponent("fac");function va(y,h,m,w,x,R){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,o.Z)(function*(y,h,m,w,x,R){He(y.config.authDomain,y,"auth-domain-config-required"),He(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:Ci.SDK_VERSION,eventId:x};if(h instanceof Mo){h.setDefaultLanguage(y.languageCode),j.providerId=h.providerId||"",br(h.getCustomParameters())||(j.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Be,me]of Object.entries(R||{}))j[Be]=me}if(h instanceof qc){const Be=h.getScopes().filter(me=>""!==me);Be.length>0&&(j.scopes=Be.join(","))}y.tenantId&&(j.tid=y.tenantId);const K=j;for(const Be of Object.keys(K))void 0===K[Be]&&delete K[Be];const de=yield y._getAppCheckToken(),ue=de?`#${kg}=${encodeURIComponent(de)}`:"";return`${Rg(y)}?${wr(K).slice(1)}${ue}`})).apply(this,arguments)}function Rg({config:y}){return y.emulator?cs(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const Ts="webStorageSupport";class Zp extends class{constructor(h){this.factorId=h}_process(h,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,w);case"signin":return this._finalizeSignIn(h,m.credential);default:return Jr("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Zp(h)}_finalizeEnroll(h,m,w){return function(y,h){return Yn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(y,h))}(h,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function(y,h){return Yn(y,"POST","/v2/accounts/mfaSignIn:finalize",Jt(y,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Og=(()=>{class y{constructor(){}static assertion(m){return Zp._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Pg="@firebase/auth";class Bo{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,o.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(w=>{h((null==w?void 0:w.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);!m||(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bl(){return window}function wl(){return wl=(0,o.Z)(function*(y,h,m){var w;const{BuildInfo:x}=bl();Qs(h.sessionId,"AuthEvent did not contain a session ID");const R=yield ef(h.sessionId),j={};return Dr()?j.ibi=x.packageName:Vl()?j.apn=x.packageName:mi(y,"operation-not-supported-in-this-environment"),x.displayName&&(j.appDisplayName=x.displayName),j.sessionId=R,va(y,m,h.type,void 0,null!==(w=h.eventId)&&void 0!==w?w:void 0,j)}),wl.apply(this,arguments)}function wa(){return wa=(0,o.Z)(function*(y){const{BuildInfo:h}=bl(),m={};Dr()?m.iosBundleId=h.packageName:Vl()?m.androidPackageName=h.packageName:mi(y,"operation-not-supported-in-this-environment"),yield Tg(y,m)}),wa.apply(this,arguments)}function Ot(){return Ot=(0,o.Z)(function*(y,h,m){const{cordova:w}=bl();let x=()=>{};try{yield new Promise((R,j)=>{let K=null;function de(){var me;R();const ut=null===(me=w.plugins.browsertab)||void 0===me?void 0:me.close;"function"==typeof ut&&ut(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function ue(){K||(K=window.setTimeout(()=>{j(Fi(y,"redirect-cancelled-by-user"))},2e3))}function Be(){"visible"===(null==document?void 0:document.visibilityState)&&ue()}h.addPassiveListener(de),document.addEventListener("resume",ue,!1),Vl()&&document.addEventListener("visibilitychange",Be,!1),x=()=>{h.removePassiveListener(de),document.removeEventListener("resume",ue,!1),document.removeEventListener("visibilitychange",Be,!1),K&&window.clearTimeout(K)}})}finally{x()}}),Ot.apply(this,arguments)}function ef(y){return tf.apply(this,arguments)}function tf(){return tf=(0,o.Z)(function*(y){const h=rc(y),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")}),tf.apply(this,arguments)}function rc(y){if(Qs(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),m=new Uint8Array(h);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(()=>{try{(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const y=process.env.__FIREBASE_DEFAULTS__;return y?JSON.parse(y):void 0})()||(()=>{if("undefined"==typeof document)return;let y;try{y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(m){return}const h=y&&Me(y[1]);h&&JSON.parse(h)})()}catch(y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${y}`)}})(),function(y){(0,Ci._registerComponent)(new Et("auth",(h,{options:m})=>{const w=h.getProvider("app").getImmediate(),x=h.getProvider("heartbeat"),R=h.getProvider("app-check-internal"),{apiKey:j,authDomain:K}=w.options;He(j&&!j.includes(":"),"invalid-api-key",{appName:w.name});const de={apiKey:j,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:np(y)},ue=new _i(w,x,R,de);return function(y,h){const m=(null==h?void 0:h.persistence)||[],w=(Array.isArray(m)?m:[m]).map(xe);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(w,null==h?void 0:h.popupRedirectResolver)}(ue,m),ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,w)=>{h.getProvider("auth-internal").initialize()})),(0,Ci._registerComponent)(new Et("auth-internal",h=>{const m=zn(h.getProvider("auth").getImmediate());return new Bo(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ci.registerVersion)(Pg,"0.23.2",void 0),(0,Ci.registerVersion)(Pg,"0.23.2","esm2017")}("Browser");class jd extends Od{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,o.Z)(function*(){yield h.initPromise})()}}function Ms(y){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,o.Z)(function*(y){const h=yield Fg()._get(sc(y));return h&&(yield Fg()._remove(sc(y))),h}),Cl.apply(this,arguments)}function rf(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*h.length);y.push(h.charAt(w))}return y.join("")}function Fg(){return xe(Ds)}function sc(y){return vn("authEvent",y.config.apiKey,y.name)}function ou(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...m]=y.split("?");return wi(m.join("?"))}function sf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Fi("no-auth-event")}}const Ug={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(y,h){if(!Array.isArray(y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const m=h?this.byteToCharMapWebSafe_:this.byteToCharMap_,w=[];for(let x=0;x<y.length;x+=3){const R=y[x],j=x+1<y.length,K=j?y[x+1]:0,de=x+2<y.length,ue=de?y[x+2]:0;let ut=(15&K)<<2|ue>>6,Vn=63&ue;de||(Vn=64,j||(ut=64)),w.push(m[R>>2],m[(3&R)<<4|K>>4],m[ut],m[Vn])}return w.join("")},encodeString(y,h){return this.HAS_NATIVE_SUPPORT&&!h?btoa(y):this.encodeByteArray(function(y){const h=[];let m=0;for(let w=0;w<y.length;w++){let x=y.charCodeAt(w);x<128?h[m++]=x:x<2048?(h[m++]=x>>6|192,h[m++]=63&x|128):55296==(64512&x)&&w+1<y.length&&56320==(64512&y.charCodeAt(w+1))?(x=65536+((1023&x)<<10)+(1023&y.charCodeAt(++w)),h[m++]=x>>18|240,h[m++]=x>>12&63|128,h[m++]=x>>6&63|128,h[m++]=63&x|128):(h[m++]=x>>12|224,h[m++]=x>>6&63|128,h[m++]=63&x|128)}return h}(y),h)},decodeString(y,h){return this.HAS_NATIVE_SUPPORT&&!h?atob(y):function(y){const h=[];let m=0,w=0;for(;m<y.length;){const x=y[m++];if(x<128)h[w++]=String.fromCharCode(x);else if(x>191&&x<224){const R=y[m++];h[w++]=String.fromCharCode((31&x)<<6|63&R)}else if(x>239&&x<365){const de=((7&x)<<18|(63&y[m++])<<12|(63&y[m++])<<6|63&y[m++])-65536;h[w++]=String.fromCharCode(55296+(de>>10)),h[w++]=String.fromCharCode(56320+(1023&de))}else{const R=y[m++],j=y[m++];h[w++]=String.fromCharCode((15&x)<<12|(63&R)<<6|63&j)}}return h.join("")}(this.decodeStringToByteArray(y,h))},decodeStringToByteArray(y,h){this.init_();const m=h?this.charToByteMapWebSafe_:this.charToByteMap_,w=[];for(let x=0;x<y.length;){const R=m[y.charAt(x++)],K=x<y.length?m[y.charAt(x)]:0;++x;const ue=x<y.length?m[y.charAt(x)]:64;++x;const me=x<y.length?m[y.charAt(x)]:64;if(++x,null==R||null==K||null==ue||null==me)throw new eE;w.push(R<<2|K>>4),64!==ue&&(w.push(K<<4&240|ue>>2),64!==me&&w.push(ue<<6&192|me))}return w},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let y=0;y<this.ENCODED_VALS.length;y++)this.byteToCharMap_[y]=this.ENCODED_VALS.charAt(y),this.charToByteMap_[this.byteToCharMap_[y]]=y,this.byteToCharMapWebSafe_[y]=this.ENCODED_VALS_WEBSAFE.charAt(y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[y]]=y,y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(y)]=y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(y)]=y)}}};class eE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const El=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const y=process.env.__FIREBASE_DEFAULTS__;return y?JSON.parse(y):void 0})()||(()=>{if("undefined"==typeof document)return;let y;try{y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(m){return}const h=y&&function(y){try{return Ug.decodeString(y,!0)}catch(h){console.error("base64Decode failed: ",h)}return null}(y[1]);return h&&JSON.parse(h)})()}catch(y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${y}`)}};function xl(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function im(){var y;const h=null===(y=El())||void 0===y?void 0:y.forceEnvironment;if("node"===h)return!0;if("browser"===h)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(m){return!1}}function Uo(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $g(){try{return"object"==typeof indexedDB}catch(y){return!1}}class ks extends Error{constructor(h,m,w){super(m),this.code=h,this.customData=w,this.name="FirebaseError",Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(h,m,w){this.service=h,this.serviceName=m,this.errors=w}create(h,...m){const w=m[0]||{},x=`${this.service}/${h}`,R=this.errors[h],j=R?function(y,h){return y.replace(Rs,(m,w)=>{const x=h[w];return null!=x?String(x):`<${w}?>`})}(R,w):"Error";return new ks(x,`${this.serviceName}: ${j} (${x}).`,w)}}const Rs=/\{\$([^}]+)}/g;class xv{constructor(h,m,w){this.name=h,this.instanceFactory=m,this.type=w,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(h){return this.instantiationMode=h,this}setMultipleInstances(h){return this.multipleInstances=h,this}setServiceProps(h){return this.serviceProps=h,this}setInstanceCreatedCallback(h){return this.onInstanceCreated=h,this}}function uc(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function fu(y=xl()){return!("file:"!==uc()&&"ionic:"!==uc()&&"capacitor:"!==uc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function _f(y=xl()){return function(){const y=xl();return y.indexOf("MSIE ")>=0||y.indexOf("Trident/")>=0}()&&11===(null==document?void 0:document.documentMode)||function(y=xl()){return/Edge\/\d+/.test(y)}(y)}function t_(){try{const y=self.localStorage,h=Cd();if(y)return y.setItem(h,"1"),y.removeItem(h),!_f()||$g()}catch(y){return $d()&&$g()}return!1}function $d(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zd(){return("http:"===uc()||"https:"===uc()||function(){const y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof y&&void 0!==y.id}()||fu())&&!(Uo()||im())&&t_()&&!$d()}function hm(){return fu()&&"undefined"!=typeof document}function pu(){return pu=(0,o.Z)(function*(){return!!hm()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})}),pu.apply(this,arguments)}const Ir={LOCAL:"local",NONE:"none",SESSION:"session"},mu=He,Wd="persistence";function dc(y){return gu.apply(this,arguments)}function gu(){return gu=(0,o.Z)(function*(y){yield y._initializationPromise;const h=pm(),m=vn(Wd,y.config.apiKey,y.name);h&&h.setItem(m,y._getPersistence())}),gu.apply(this,arguments)}function pm(){var y;try{return(null===(y="undefined"!=typeof window?window:null)||void 0===y?void 0:y.sessionStorage)||null}catch(h){return null}}const yf=He;class co{constructor(){this.browserResolver=xe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Po,this._completeRedirectFn=_a,this._overrideRedirectResult=Lp}_openPopup(h,m,w,x){var R=this;return(0,o.Z)(function*(){var j;Qs(null===(j=R.eventManagers[h._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const K=yield va(h,m,w,Nl(),x);return function(y,h,m,w=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),j=Math.max((window.screen.availWidth-w)/2,0).toString();let K="";const de=Object.assign(Object.assign({},ya),{width:w.toString(),height:x.toString(),top:R,left:j}),ue=le().toLowerCase();m&&(K=td(ue)?"_blank":m),Xr(ue)&&(h=h||"http://localhost",de.scrollbars="yes");const Be=Object.entries(de).reduce((ut,[Vn,hs])=>`${ut}${Vn}=${hs},`,"");if(function(y=le()){var h;return Dr(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(ue)&&"_self"!==K)return function(y,h){const m=document.createElement("a");m.href=y,m.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(h||"",K),new Bd(null);const me=window.open(h||"",K,Be);He(me,y,"popup-blocked");try{me.focus()}catch(ut){}return new Bd(me)}(h,K,Cd())})()}_openRedirect(h,m,w,x){var R=this;return(0,o.Z)(function*(){return yield R._originValidation(h),y=yield va(h,m,w,Nl(),x),wn().location.href=y,new Promise(()=>{});var y})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:x,promise:R}=this.eventManagers[m];return x?Promise.resolve(x):(Qs(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(h);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(h){var m=this;return(0,o.Z)(function*(){const w=yield function(y){return Zh.apply(this,arguments)}(h),x=new Od(h);return w.register("authEvent",R=>(He(null==R?void 0:R.authEvent,h,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:x},m.iframes[h._key()]=w,x})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(Ts,{type:Ts},x=>{var R;const j=null===(R=null==x?void 0:x[0])||void 0===R?void 0:R[Ts];void 0!==j&&m(!!j),mi(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(y){return Xi.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return ep()||Ki()||Dr()}}),this.cordovaResolver=xe(class{constructor(){this._redirectPersistence=Po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_a,this._overrideRedirectResult=Lp}_initialize(h){var m=this;return(0,o.Z)(function*(){const w=h._key();let x=m.eventManagers.get(w);return x||(x=new jd(h),m.eventManagers.set(w,x),m.attachCallbackListeners(h,x)),x})()}_openPopup(h){mi(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,w,x){var R=this;return(0,o.Z)(function*(){!function(y){var h,m,w,x,R,j,K,de,ue,Be;const me=bl();He("function"==typeof(null===(h=null==me?void 0:me.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),He(void 0!==(null===(m=null==me?void 0:me.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),He("function"==typeof(null===(R=null===(x=null===(w=null==me?void 0:me.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),He("function"==typeof(null===(de=null===(K=null===(j=null==me?void 0:me.cordova)||void 0===j?void 0:j.plugins)||void 0===K?void 0:K.browsertab)||void 0===de?void 0:de.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),He("function"==typeof(null===(Be=null===(ue=null==me?void 0:me.cordova)||void 0===ue?void 0:ue.InAppBrowser)||void 0===Be?void 0:Be.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const j=yield R._initialize(h);yield j.initialized(),j.resetRedirect(),Rd.clear(),yield R._originValidation(h);const K=function(y,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:rf(),postBody:null,tenantId:y.tenantId,error:Fi(y,"no-auth-event")}}(h,w,x);yield function(y,h){return Fg()._set(sc(y),h)}(h,K);const de=yield function(y,h,m){return wl.apply(this,arguments)}(h,K,m),ue=yield function(y){const{cordova:h}=bl();return new Promise(m=>{h.plugins.browsertab.isAvailable(w=>{let x=null;w?h.plugins.browsertab.openUrl(y):x=h.InAppBrowser.open(y,function(y=le()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(x)})})}(de);return function(y,h,m){return Ot.apply(this,arguments)}(h,j,ue)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(y){return wa.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:w,handleOpenURL:x,BuildInfo:R}=bl(),j=setTimeout((0,o.Z)(function*(){yield Ms(h),m.onEvent(sf())}),500),K=function(){var Be=(0,o.Z)(function*(me){clearTimeout(j);const ut=yield Ms(h);let Vn=null;ut&&(null==me?void 0:me.url)&&(Vn=function(y,h){var m,w;const x=function(y){const h=ou(y),m=h.link?decodeURIComponent(h.link):void 0,w=ou(m).link,x=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ou(x).link||x||w||m||y}(h);if(x.includes("/__/auth/callback")){const R=ou(x),j=R.firebaseError?function(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(R.firebaseError)):null,K=null===(w=null===(m=null==j?void 0:j.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],de=K?Fi(K):null;return de?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:de,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(ut,me.url)),m.onEvent(Vn||sf())});return function(ut){return Be.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,K);const de=x,ue=`${R.packageName.toLowerCase()}://`;bl().handleOpenURL=function(){var Be=(0,o.Z)(function*(me){if(me.toLowerCase().startsWith(ue)&&K({url:me}),"function"==typeof de)try{de(me)}catch(ut){console.error(ut)}});return function(me){return Be.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Po,this._completeRedirectFn=_a,this._overrideRedirectResult=Lp}_initialize(h){var m=this;return(0,o.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,w,x){var R=this;return(0,o.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(h,m,w,x)})()}_openRedirect(h,m,w,x){var R=this;return(0,o.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(h,m,w,x)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return hm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,o.Z)(function*(){if(h.underlyingResolver)return;const m=yield function(){return pu.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function vf(y){return y.unwrap()}function Iv(y){return _u(y)}function _u(y){const{_tokenResponse:h}=y instanceof ks?y.customData:y;if(!h)return null;if(!(y instanceof ks)&&"temporaryProof"in h&&"phoneNumber"in h)return ec.credentialFromResult(y);const m=h.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Ah;break;case"facebook.com":w=Vr;break;case"github.com":w=nl;break;case"twitter.com":w=Ih;break;default:const{oauthIdToken:x,oauthAccessToken:R,oauthTokenSecret:j,pendingToken:K,nonce:de}=h;return R||j||x||K?K?m.startsWith("saml.")?Ur._create(m,K):Es._fromParams({providerId:m,signInMethod:m,pendingToken:K,idToken:x,accessToken:R}):new Gl(m).credential({idToken:x,accessToken:R,rawNonce:de}):null}return y instanceof ks?w.credentialFromError(y):w.credentialFromResult(y)}function Tr(y,h){return h.catch(m=>{throw m instanceof ks&&function(y,h){var m;const w=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new yu(y,function(y,h){var m;const w=Bt(y),x=h;return He(h.customData.operationType,w,"argument-error"),He(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),dl._fromError(w,x)}(y,h));else if(w){const x=_u(h),R=h;x&&(R.credential=x,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:Iv(m),additionalUserInfo:ua(m),user:Ui.getOrCreate(x)}})}function fc(y,h){return bf.apply(this,arguments)}function bf(){return bf=(0,o.Z)(function*(y,h){const m=yield h;return{verificationId:m.verificationId,confirm:w=>Tr(y,m.confirm(w))}}),bf.apply(this,arguments)}class yu{constructor(h,m){this.resolver=m,this.auth=function(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Tr(vf(this.auth),this.resolver.resolveSignIn(h))}}class Ui{constructor(h){this._delegate=h,this.multiFactor=function(y){const h=Bt(y);return Ph.has(h)||Ph.set(h,wd._fromUser(h)),Ph.get(h)}(h)}static getOrCreate(h){return Ui.USER_MAP.has(h)||Ui.USER_MAP.set(h,new Ui(h)),Ui.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,o.Z)(function*(){return Tr(m.auth,Zl(m._delegate,h))})()}linkWithPhoneNumber(h,m){var w=this;return(0,o.Z)(function*(){return fc(w.auth,function(y,h,m){return Id.apply(this,arguments)}(w._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,o.Z)(function*(){return Tr(m.auth,function(y,h,m){return oi.apply(this,arguments)}(m._delegate,h,co))})()}linkWithRedirect(h){var m=this;return(0,o.Z)(function*(){return yield dc(zn(m.auth)),function(y,h,m){return function(y,h,m){return zh.apply(this,arguments)}(y,h,m)}(m._delegate,h,co)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,o.Z)(function*(){return Tr(m.auth,Wl(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return fc(this.auth,function(y,h,m){return Bi.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return Tr(this.auth,function(y,h,m){return dt.apply(this,arguments)}(this._delegate,h,co))}reauthenticateWithRedirect(h){var m=this;return(0,o.Z)(function*(){return yield dc(zn(m.auth)),function(y,h,m){return function(y,h,m){return Hh.apply(this,arguments)}(y,h,m)}(m._delegate,h,co)})()}sendEmailVerification(h){return function(y,h){return eu.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,o.Z)(function*(){return yield function(y,h){return sl.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function(y,h){return Ql(Bt(y),h,null)}(this._delegate,h)}updatePassword(h){return function(y,h){return Ql(Bt(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(y,h){return Md.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(y,h){return Oh.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function(y,h,m){return _d.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ui.USER_MAP=new WeakMap;const pc=He;let r_=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;pc(x,"invalid-api-key",{appName:m.name}),pc(x,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?co:void 0;this._delegate=w.initialize({options:{persistence:s_(x,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(sg),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ui.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function(y,h,m){const w=zn(y);He(w._canInitEmulator,w,"emulator-config-failed"),He(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const x=!!(null==m?void 0:m.disableWarnings),R=cg(h),{host:j,port:K}=function(y){const h=cg(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const R=x[1];return{host:R,port:Io(w.substr(R.length+1))}}{const[R,j]=w.split(":");return{host:R,port:Io(j)}}}(h);w.config.emulator={url:`${R}//${j}${null===K?"":`:${K}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:j,port:K,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function(){function y(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function(y,h){return Qc.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return md(this._delegate,m)}confirmPasswordReset(m,w){return function(y,h,m){return pp.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var x=this;return(0,o.Z)(function*(){return Tr(x._delegate,function(y,h,m){return al.apply(this,arguments)}(x._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(y,h){return Kl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(y,h){const m=Qi.parseLink(h);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,o.Z)(function*(){pc(Zd(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function(y,h){return Fn.apply(this,arguments)}(m._delegate,co);return w?Tr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(y,h){zn(y)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,w,x){const{next:R,error:j,complete:K}=mc(m,w,x);return this._delegate.onAuthStateChanged(R,j,K)}onIdTokenChanged(m,w,x){const{next:R,error:j,complete:K}=mc(m,w,x);return this._delegate.onIdTokenChanged(R,j,K)}sendSignInLinkToEmail(m,w){return function(y,h,m){return mp.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function(y,h,m){return Kc.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,o.Z)(function*(){let x;switch(function(y,h){mu(Object.values(Ir).includes(h),y,"invalid-persistence-type"),Uo()?mu(h!==Ir.SESSION,y,"unsupported-persistence-type"):im()?mu(h===Ir.NONE,y,"unsupported-persistence-type"):$d()?mu(h===Ir.NONE||h===Ir.LOCAL&&$g(),y,"unsupported-persistence-type"):mu(h===Ir.NONE||t_(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Ir.SESSION:x=Po;break;case Ir.LOCAL:x=(yield xe(ha)._isAvailable())?ha:Ds;break;case Ir.NONE:x=lt;break;default:return mi("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Tr(this._delegate,function(y){return rl.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Tr(this._delegate,si(this._delegate,m))}signInWithCustomToken(m){return Tr(this._delegate,function(y,h){return Yc.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Tr(this._delegate,function(y,h,m){return si(Bt(y),la.credential(h,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Tr(this._delegate,function(y,h,m){return Yl.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return fc(this._delegate,function(y,h,m){return Ti.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,o.Z)(function*(){return pc(Zd(),w._delegate,"operation-not-supported-in-this-environment"),Tr(w._delegate,function(y,h,m){return No.apply(this,arguments)}(w._delegate,m,co))})()}signInWithRedirect(m){var w=this;return(0,o.Z)(function*(){return pc(Zd(),w._delegate,"operation-not-supported-in-this-environment"),yield dc(w._delegate),function(y,h,m){return function(y,h,m){return _l.apply(this,arguments)}(y,h,m)}(w._delegate,m,co)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(y,h){return Jc.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ir,y})();function mc(y,h,m){let w=y;"function"!=typeof y&&({next:w,error:h,complete:m}=y);const x=w;return{next:j=>x(j&&Ui.getOrCreate(j)),error:h,complete:m}}function s_(y,h){const m=function(y,h){const m=pm();if(!m)return[];const w=vn(Wd,y,h);switch(m.getItem(w)){case Ir.NONE:return[lt];case Ir.LOCAL:return[ha,Po];case Ir.SESSION:return[Po];default:return[]}}(y,h);if("undefined"!=typeof self&&!m.includes(ha)&&m.push(ha),"undefined"!=typeof window)for(const w of[Ds,Po])m.includes(w)||m.push(w);return m.includes(lt)||m.push(lt),m}class mm{constructor(){this.providerId="phone",this._delegate=new ec(vf(ge.Z.auth()))}static credential(h,m){return ec.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}mm.PHONE_SIGN_IN_METHOD=ec.PHONE_SIGN_IN_METHOD,mm.PROVIDER_ID=ec.PROVIDER_ID;const Tv=He;class vu{constructor(h,m,w=ge.Z.app()){var x;Tv(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new kp(h,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new xv("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),w=h.getProvider("auth");return new r_(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:la,FacebookAuthProvider:Vr,GithubAuthProvider:nl,GoogleAuthProvider:Ah,OAuthProvider:Gl,SAMLAuthProvider:xs,PhoneAuthProvider:mm,PhoneMultiFactorGenerator:Og,RecaptchaVerifier:vu,TwitterAuthProvider:Ih,Auth:r_,AuthCredential:Ja,Error:ks}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(ge.Z)},5861:(ht,Ie,Z)=>{function o(oe,Te,Oe,ke,ce,be,Re){try{var Ee=oe[be](Re),ye=Ee.value}catch(Me){return void Oe(Me)}Ee.done?Te(ye):Promise.resolve(ye).then(ke,ce)}function ge(oe){return function(){var Te=this,Oe=arguments;return new Promise(function(ke,ce){var be=oe.apply(Te,Oe);function Re(ye){o(be,ke,ce,Re,Ee,"next",ye)}function Ee(ye){o(be,ke,ce,Re,Ee,"throw",ye)}Re(void 0)})}}Z.d(Ie,{Z:()=>ge})}},ht=>{ht(ht.s=4961)}]);